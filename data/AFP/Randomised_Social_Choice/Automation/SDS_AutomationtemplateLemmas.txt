   [("SDS_Automation.disj_False_right", "(?P | False) = ?P",
     template_equation
      (template_app
        (template_app (template_hole 1, template_var 0), template_hole 0),
       template_var 0)),
    ("SDS_Automation.multiset_add_ac", "?a + ?b = ?b + ?a",
     template_equation
      (template_app
        (template_app (template_hole 0, template_var 1), template_var 0),
       template_app
        (template_app (template_hole 0, template_var 0), template_var 1))),
    ("SDS_Automation.less_or_eq_real", "(?x < ?y | ?x = ?y) = (?x <= ?y)",
     template_equation
      (template_app
        (template_app
          (template_hole 3,
           template_app
            (template_app (template_hole 2, template_var 1),
             template_var 0)),
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app
        (template_app (template_hole 0, template_var 1), template_var 0))),
    ("SDS_Automation.less_or_eq_real", "(?x < ?y | ?y = ?x) = (?x <= ?y)",
     template_equation
      (template_app
        (template_app
          (template_hole 3,
           template_app
            (template_app (template_hole 2, template_var 1),
             template_var 0)),
         template_app
          (template_app (template_hole 1, template_var 0), template_var 1)),
       template_app
        (template_app (template_hole 0, template_var 1), template_var 0))),
    ("SDS_Automation.multiset_add_ac", "?b + (?a + ?c) = ?a + (?b + ?c)",
     template_equation
      (template_app
        (template_app (template_hole 0, template_var 2),
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app
        (template_app (template_hole 0, template_var 1),
         template_app
          (template_app (template_hole 0, template_var 2),
           template_var 0)))),
    ("SDS_Automation.multiset_add_ac", "?a + ?b + ?c = ?a + (?b + ?c)",
     template_equation
      (template_app
        (template_app
          (template_hole 0,
           template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1)),
         template_var 0),
       template_app
        (template_app (template_hole 0, template_var 2),
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("SDS_Automation.pref_classes_of_weak_ranking_aux",
     "is_weak_ranking ?xss ==>
      of_weak_ranking_Collect_ge ?xss ` \<Union> (set ?xss) =
      pref_classes_lists ?xss",
     template_implication
      ([template_predicate
         (template_app (template_hole 6, template_var 0))],
       template_equation
        (template_app
          (template_app
            (template_hole 4,
             template_app (template_hole 3, template_var 0)),
           template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 0))),
         template_app (template_hole 0, template_var 0)))),
    ("SDS_Automation.pref_classes_lists_append",
     "pref_classes_lists (?xs @ ?ys) =
      (Un) (\<Union> (set ?ys)) ` pref_classes_lists ?xs Un
      pref_classes_lists ?ys",
     template_equation
      (template_app
        (template_hole 6,
         template_app
          (template_app (template_hole 5, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 4,
           template_app
            (template_app
              (template_hole 3,
               template_app
                (template_hole 2,
                 template_app
                  (template_hole 1,
                   template_app (template_hole 0, template_var 0)))),
             template_app (template_hole 6, template_var 1))),
         template_app (template_hole 6, template_var 0)))),
    ("SDS_Automation.multiset_Diff_single_normalize",
     "?a ~= ?c ==> {#?a#} + ?B - {#?c#} = {#?a#} + (?B - {#?c#})",
     template_implication
      ([template_negation
         (template_equation (template_var 2, template_var 1))],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app
                (template_hole 2,
                 template_app
                  (template_app (template_hole 1, template_var 2),
                   template_hole 0)),
               template_var 0)),
           template_app
            (template_app (template_hole 1, template_var 1),
             template_hole 0)),
         template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_var 2),
               template_hole 0)),
           template_app
            (template_app (template_hole 3, template_var 0),
             template_app
              (template_app (template_hole 1, template_var 1),
               template_hole 0)))))),
    ("SDS_Automation.pref_classes_list_aux_hd_tl",
     "[| is_weak_ranking ?xss; ?xss ~= [] |]
      ==> pref_classes_lists_aux (hd ?xss) (tl ?xss) =
          pref_classes_lists (rev ?xss) - {\<Union> (set ?xss)}",
     template_implication
      ([template_predicate
         (template_app (template_hole 14, template_var 0)),
        template_negation
         (template_equation (template_var 0, template_hole 11))],
       template_equation
        (template_app
          (template_app
            (template_hole 9,
             template_app (template_hole 8, template_var 0)),
           template_app (template_hole 7, template_var 0)),
         template_app
          (template_app
            (template_hole 6,
             template_app
              (template_hole 5,
               template_app (template_hole 4, template_var 0))),
           template_app
            (template_app
              (template_hole 3,
               template_app
                (template_hole 2,
                 template_app (template_hole 1, template_var 0))),
             template_hole 0))))),
    ("SDS_Automation.pref_classes_lists_aux_finite",
     "[| ?A : pref_classes_lists_aux ?acc ?xss; finite ?acc;
         !!A. A : set ?xss ==> finite A |]
      ==> finite ?A",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 2),
              template_app
               (template_app (template_hole 3, template_var 1),
                template_var 0))
            ),
        template_predicate (template_app (template_hole 2, template_var 1)),
        template_predicate (template_app (template_hole 1, t_empty))],
       template_predicate
        (template_app (template_hole 2, template_var 2)))),
    ("SDS_Automation.eval_pref_classes_of_weak_ranking",
     "[| \<Union> (set ?xss) = ?alts; is_weak_ranking ?xss; ?alts ~= {} |]
      ==> pref_classes ?alts (of_weak_ranking ?xss) =
          pref_classes_lists_aux (hd ?xss) (tl ?xss)",
     template_implication
      ([template_equation
         (template_app
           (template_hole 10,
            template_app (template_hole 9, template_var 1)),
          template_var 0),
        template_predicate (template_app (template_hole 8, template_var 1)),
        template_negation
         (template_equation (template_var 0, template_hole 6))],
       template_equation
        (template_app
          (template_app (template_hole 4, template_var 0),
           template_app (template_hole 3, template_var 1)),
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_app (template_hole 0, template_var 1))))),
    ("SDS_Automation.pref_classes_lists_aux",
     "[| is_weak_ranking ?xss; ?acc Int \<Union> (set ?xss) = {} |]
      ==> pref_classes_lists_aux ?acc ?xss =
          insert ?acc ((%A. A Un ?acc) ` pref_classes_lists (rev ?xss)) -
          {?acc Un \<Union> (set ?xss)}",
     template_implication
      ([template_predicate
         (template_app (template_hole 14, template_var 1)),
        template_equation
         (template_app
           (template_app (template_hole 12, template_var 0),
            template_app
             (template_hole 11,
              template_app (template_hole 10, template_var 1))),
          template_hole 9)],
       template_equation
        (template_app
          (template_app (template_hole 7, template_var 0), template_var 1),
         template_app
          (template_app
            (template_hole 6,
             template_app
              (template_app (template_hole 5, template_var 0),
               template_app
                (template_app (template_hole 4, t_empty),
                 template_app
                  (template_hole 2,
                   template_app (template_hole 1, template_var 1))))),
           template_app
            (template_app
              (template_hole 5,
               template_app
                (template_app (template_hole 3, template_var 0),
                 template_app
                  (template_hole 11,
                   template_app (template_hole 10, template_var 1)))),
             template_hole 0))))),
    ("SDS_Automation.strategyproof_aux",
     "[| prefs_from_table_wf ?agents ?alts ?xss1.0;
         ?R1.0 = prefs_from_table ?xss1.0;
         prefs_from_table_wf ?agents ?alts ?xss2.0;
         ?R2.0 = prefs_from_table ?xss2.0;
         strategyproof_an_sds ?agents ?alts ?sds; ?i : ?agents;
         ?j : ?agents; ?R1.0(?i := ?R2.0 ?j) = ?R2.0;
         the (map_of ?xss1.0 ?i) = ?xs;
         pref_classes_lists_aux (hd ?xs) (tl ?xs) = ?ps |]
      ==> (EX A:?ps. sum (pmf (?sds ?R2.0)) A < sum (pmf (?sds ?R1.0)) A) |
          (ALL A:?ps. sum (pmf (?sds ?R2.0)) A = sum (pmf (?sds ?R1.0)) A)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 19, template_var 10),
                template_var 9),
              template_var 8)
            ),
        template_equation
         (template_var 7, template_app (template_hole 17, template_var 8)),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 19, template_var 10),
                template_var 9),
              template_var 6)
            ),
        template_equation
         (template_var 5, template_app (template_hole 17, template_var 6)),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 16, template_var 10),
                template_var 9),
              template_var 4)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 15, template_var 3),
              template_var 10)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 15, template_var 2),
              template_var 10)
            ),
        template_equation
         (template_app
           (template_app
             (template_app (template_hole 14, template_var 7),
              template_var 3),
            template_app (template_var 5, template_var 2)),
          template_var 5),
        template_equation
         (template_app
           (template_hole 12,
            template_app
             (template_app (template_hole 11, template_var 8),
              template_var 3)),
          template_var 1),
        template_equation
         (template_app
           (template_app
             (template_hole 9,
              template_app (template_hole 8, template_var 1)),
            template_app (template_hole 7, template_var 1)),
          template_var 0)],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 6,
               template_app
                (template_app (template_hole 5, template_var 0), t_empty)),
             template_app
              (template_app (template_hole 1, template_var 0), t_empty))
           )))]
