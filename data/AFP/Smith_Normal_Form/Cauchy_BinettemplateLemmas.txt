   [("Cauchy_Binet.strict_strict_from_inj",
     "inj_on ?f {0..<?n} ==>
      strict_mono_on (strict_from_inj ?n ?f) {0..<?n}",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 1),
              template_app
               (template_app (template_hole 3, template_hole 2),
                template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 0),
                 template_var 1)),
             template_app
              (template_app (template_hole 3, template_hole 2),
               template_var 0))
           ))),
    ("Cauchy_Binet.finite_F_inj",
     "[| ?A : carrier_mat ?n ?m; ?B : carrier_mat ?m ?n |]
      ==> finite (??.Cauchy_Binet.F_inj ?n ?m)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 3),
              template_app
               (template_app (template_hole 2, template_var 2),
                template_var 1))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 0),
              template_app
               (template_app (template_hole 2, template_var 1),
                template_var 2))
            )],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 2),
               template_var 1))
           ))),
    ("Cauchy_Binet.finite_F_strict",
     "[| ?A : carrier_mat ?n ?m; ?B : carrier_mat ?m ?n |]
      ==> finite (??.Cauchy_Binet.F_strict ?n ?m)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 3),
              template_app
               (template_app (template_hole 2, template_var 2),
                template_var 1))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 0),
              template_app
               (template_app (template_hole 2, template_var 1),
                template_var 2))
            )],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 2),
               template_var 1))
           ))),
    ("Cauchy_Binet.finite_Znm",
     "[| ?A : carrier_mat ?n ?m; ?B : carrier_mat ?m ?n |]
      ==> finite (Z ?n ?m)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 3),
              template_app
               (template_app (template_hole 2, template_var 2),
                template_var 1))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 0),
              template_app
               (template_app (template_hole 2, template_var 1),
                template_var 2))
            )],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 2),
               template_var 1))
           ))),
    ("Cauchy_Binet.finite_Z_not_strict",
     "[| ?A : carrier_mat ?n ?m; ?B : carrier_mat ?m ?n |]
      ==> finite (??.Cauchy_Binet.Z_not_strict ?n ?m)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 3),
              template_app
               (template_app (template_hole 2, template_var 2),
                template_var 1))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 0),
              template_app
               (template_app (template_hole 2, template_var 1),
                template_var 2))
            )],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 2),
               template_var 1))
           ))),
    ("Cauchy_Binet.finite_Z_strict",
     "[| ?A : carrier_mat ?n ?m; ?B : carrier_mat ?m ?n |]
      ==> finite (??.Cauchy_Binet.Z_strict ?n ?m)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 3),
              template_app
               (template_app (template_hole 2, template_var 2),
                template_var 1))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 0),
              template_app
               (template_app (template_hole 2, template_var 1),
                template_var 2))
            )],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 2),
               template_var 1))
           ))),
    ("Cauchy_Binet.strict_from_inj_image'",
     "inj_on ?f {0..<?n} ==>
      strict_from_inj ?n ?f ` {0..<?n} = ?f ` {0..<?n}",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 1),
              template_app
               (template_app (template_hole 4, template_hole 3),
                template_var 0))
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 0),
               template_var 1)),
           template_app
            (template_app (template_hole 4, template_hole 3),
             template_var 0)),
         template_app
          (template_app (template_hole 1, template_var 1),
           template_app
            (template_app (template_hole 4, template_hole 3),
             template_var 0))))),
    ("Cauchy_Binet.F_strict_imp_F_inj",
     "[| ?A : carrier_mat ?n ?m; ?B : carrier_mat ?m ?n;
         ?f : ??.Cauchy_Binet.F_strict ?n ?m |]
      ==> ?f : ??.Cauchy_Binet.F_inj ?n ?m",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 4),
              template_app
               (template_app (template_hole 3, template_var 3),
                template_var 2))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 1),
              template_app
               (template_app (template_hole 3, template_var 2),
                template_var 3))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 0),
              template_app
               (template_app (template_hole 1, template_var 3),
                template_var 2))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 2, template_var 0),
             template_app
              (template_app (template_hole 0, template_var 3),
               template_var 2))
           ))),
    ("Cauchy_Binet.strict_from_inj_preserves_F",
     "[| ?A : carrier_mat ?n ?m; ?B : carrier_mat ?m ?n;
         ?f : ??.Cauchy_Binet.F_inj ?n ?m |]
      ==> strict_from_inj ?n ?f : ??.Cauchy_Binet.F ?n ?m",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 4),
              template_app
               (template_app (template_hole 4, template_var 3),
                template_var 2))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 1),
              template_app
               (template_app (template_hole 4, template_var 2),
                template_var 3))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 0),
              template_app
               (template_app (template_hole 2, template_var 3),
                template_var 2))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 3,
               template_app
                (template_app (template_hole 1, template_var 3),
                 template_var 0)),
             template_app
              (template_app (template_hole 0, template_var 3),
               template_var 2))
           ))),
    ("Cauchy_Binet.strict_from_inj_F_strict",
     "[| ?A : carrier_mat ?n ?m; ?B : carrier_mat ?m ?n;
         ?xa : ??.Cauchy_Binet.F_inj ?n ?m |]
      ==> strict_from_inj ?n ?xa : ??.Cauchy_Binet.F_strict ?n ?m",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 4),
              template_app
               (template_app (template_hole 4, template_var 3),
                template_var 2))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 1),
              template_app
               (template_app (template_hole 4, template_var 2),
                template_var 3))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 0),
              template_app
               (template_app (template_hole 2, template_var 3),
                template_var 2))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 3,
               template_app
                (template_app (template_hole 1, template_var 3),
                 template_var 0)),
             template_app
              (template_app (template_hole 0, template_var 3),
               template_var 2))
           ))),
    ("Cauchy_Binet.weight_0",
     "[| ?A : carrier_mat ?n ?m; ?B : carrier_mat ?m ?n |]
      ==> (SUM (f, \<pi>):??.Cauchy_Binet.Z_not_inj ?n ?m.
              ??.Cauchy_Binet.weight ?n ?A ?B f \<pi>) =
          (0::?'a)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 3),
              template_app
               (template_app (template_hole 6, template_var 2),
                template_var 1))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 0),
              template_app
               (template_app (template_hole 6, template_var 1),
                template_var 2))
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 4, template_app (template_hole 3, t_empty)),
           template_app
            (template_app (template_hole 1, template_var 2),
             template_var 1)),
         template_hole 0))),
    ("Cauchy_Binet.strict_from_inj_image",
     "[| ?A : carrier_mat ?n ?m; ?B : carrier_mat ?m ?n;
         ?f : ??.Cauchy_Binet.F_inj ?n ?m |]
      ==> strict_from_inj ?n ?f ` {0..<?n} = ?f ` {0..<?n}",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 4),
              template_app
               (template_app (template_hole 7, template_var 3),
                template_var 2))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 1),
              template_app
               (template_app (template_hole 7, template_var 2),
                template_var 3))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 0),
              template_app
               (template_app (template_hole 5, template_var 3),
                template_var 2))
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app (template_hole 2, template_var 3),
               template_var 0)),
           template_app
            (template_app (template_hole 1, template_hole 0),
             template_var 3)),
         template_app
          (template_app (template_hole 3, template_var 0),
           template_app
            (template_app (template_hole 1, template_hole 0),
             template_var 3))))),
    ("Cauchy_Binet.nth_strict_mono",
     "[| ?A : carrier_mat ?n ?m; ?B : carrier_mat ?m ?n; strict_mono ?f;
         ?i < ?n |]
      ==> ?f ?i = sorted_list_of_set (?f ` {0..<?n}) ! ?i",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 9, template_var 5),
              template_app
               (template_app (template_hole 8, template_var 4),
                template_var 3))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 9, template_var 2),
              template_app
               (template_app (template_hole 8, template_var 3),
                template_var 4))
            ),
        template_predicate (template_app (template_hole 7, template_var 1)),
        template_inequation (less_than, template_var 0, template_var 4)],
       template_equation
        (template_app (template_var 1, template_var 0),
         template_app
          (template_app
            (template_hole 4,
             template_app
              (template_hole 3,
               template_app
                (template_app (template_hole 2, template_var 1),
                 template_app
                  (template_app (template_hole 1, template_hole 0),
                   template_var 4)))),
           template_var 0)))),
    ("Cauchy_Binet.F_inj_composition_permutation",
     "[| ?A : carrier_mat ?n ?m; ?B : carrier_mat ?m ?n;
         ?\<phi> permutes {0..<?n}; ?g : ??.Cauchy_Binet.F_inj ?n ?m |]
      ==> ?g o ?\<phi> : ??.Cauchy_Binet.F_inj ?n ?m",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 5),
              template_app
               (template_app (template_hole 6, template_var 4),
                template_var 3))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 2),
              template_app
               (template_app (template_hole 6, template_var 3),
                template_var 4))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 1),
              template_app
               (template_app (template_hole 4, template_hole 3),
                template_var 4))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 0),
              template_app
               (template_app (template_hole 1, template_var 4),
                template_var 3))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 0, template_var 0),
                 template_var 1)),
             template_app
              (template_app (template_hole 1, template_var 4),
               template_var 3))
           ))),
    ("Cauchy_Binet.nth_strict_mono_on",
     "[| ?A : carrier_mat ?n ?m; ?B : carrier_mat ?m ?n;
         strict_mono_on ?f {0..<?n}; ?i < ?n |]
      ==> ?f ?i = sorted_list_of_set (?f ` {0..<?n}) ! ?i",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 9, template_var 5),
              template_app
               (template_app (template_hole 8, template_var 4),
                template_var 3))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 9, template_var 2),
              template_app
               (template_app (template_hole 8, template_var 3),
                template_var 4))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 1),
              template_app
               (template_app (template_hole 6, template_hole 5),
                template_var 4))
            ),
        template_inequation (less_than, template_var 0, template_var 4)],
       template_equation
        (template_app (template_var 1, template_var 0),
         template_app
          (template_app
            (template_hole 2,
             template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 1),
                 template_app
                  (template_app (template_hole 6, template_hole 5),
                   template_var 4)))),
           template_var 0)))),
    ("Cauchy_Binet.det_mul_finsum_alt",
     "[| ?A : carrier_mat ?n ?m; ?B : carrier_mat ?m ?n |]
      ==> Determinant.det (?A * ?B) =
          Determinant.det
           (mat\<^sub>r ?n ?n
             (%i. finsum_vec TYPE(?'a) ?n
                   (%k. ?B $$ (k, i) \<cdot>\<^sub>v col ?A k) {0..<?m}))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 13, template_var 3),
              template_app
               (template_app (template_hole 12, template_var 2),
                template_var 1))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 13, template_var 0),
              template_app
               (template_app (template_hole 12, template_var 1),
                template_var 2))
            )],
       template_equation
        (template_app
          (template_hole 10,
           template_app
            (template_app (template_hole 9, template_var 3),
             template_var 0)),
         template_app
          (template_hole 10,
           template_app
            (template_app
              (template_app (template_hole 8, template_var 2),
               template_var 2),
             t_empty))))),
    ("Cauchy_Binet.Cauchy_Binet1",
     "[| ?A : carrier_mat ?n ?m; ?B : carrier_mat ?m ?n |]
      ==> Determinant.det (?A * ?B) =
          (SUM f:??.Cauchy_Binet.F_strict ?n ?m.
              Determinant.det (submatrix ?A UNIV (f ` {0..<?n})) *
              Determinant.det (submatrix ?B (f ` {0..<?n}) UNIV))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 12, template_var 3),
              template_app
               (template_app (template_hole 11, template_var 2),
                template_var 1))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 12, template_var 0),
              template_app
               (template_app (template_hole 11, template_var 1),
                template_var 2))
            )],
       template_equation
        (template_app
          (template_hole 9,
           template_app
            (template_app (template_hole 8, template_var 3),
             template_var 0)),
         template_app
          (template_app (template_hole 7, t_empty),
           template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1))))),
    ("Cauchy_Binet.pick_insert",
     "[| ?a ~: ?I; ?i < card ?I; pick (insert ?a ?I) ?a' = ?a; ?i < ?a';
         ?a' < card ?I + 1 |]
      ==> pick (insert ?a ?I) ?i = pick ?I ?i",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 7, template_var 3),
                  template_var 2)
                )
            ),
        template_inequation
         (less_than, template_var 1,
          template_app (template_hole 5, template_var 2)),
        template_equation
         (template_app
           (template_app
             (template_hole 3,
              template_app
               (template_app (template_hole 2, template_var 3),
                template_var 2)),
            template_var 0),
          template_var 3),
        template_inequation (less_than, template_var 1, template_var 0),
        template_inequation
         (less_than, template_var 0,
          template_app
           (template_app
             (template_hole 1,
              template_app (template_hole 5, template_var 2)),
            template_hole 0))],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app (template_hole 2, template_var 3),
               template_var 2)),
           template_var 1),
         template_app
          (template_app (template_hole 3, template_var 2),
           template_var 1)))),
    ("Cauchy_Binet.pick_insert2",
     "[| ?a ~: ?I; ?i < card ?I; pick (insert ?a ?I) ?a' = ?a; ?a' <= ?i;
         ?a' < card ?I + 1 |]
      ==> pick (insert ?a ?I) ?i < pick ?I ?i",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 8, template_var 3),
                  template_var 2)
                )
            ),
        template_inequation
         (less_than, template_var 1,
          template_app (template_hole 6, template_var 2)),
        template_equation
         (template_app
           (template_app
             (template_hole 4,
              template_app
               (template_app (template_hole 3, template_var 3),
                template_var 2)),
            template_var 0),
          template_var 3),
        template_inequation (less_equals, template_var 0, template_var 1),
        template_inequation
         (less_than, template_var 0,
          template_app
           (template_app
             (template_hole 1,
              template_app (template_hole 6, template_var 2)),
            template_hole 0))],
       template_inequation
        (less_than,
         template_app
          (template_app
            (template_hole 4,
             template_app
              (template_app (template_hole 3, template_var 3),
               template_var 2)),
           template_var 1),
         template_app
          (template_app (template_hole 4, template_var 2),
           template_var 1)))),
    ("Cauchy_Binet.Cauchy_Binet",
     "[| ?A : carrier_mat ?n ?m; ?B : carrier_mat ?m ?n |]
      ==> Determinant.det (?A * ?B) =
          (SUM I | I <= {0..<?m} & card I = ?n.
              Determinant.det (submatrix ?A UNIV I) *
              Determinant.det (submatrix ?B I UNIV))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 15, template_var 3),
              template_app
               (template_app (template_hole 14, template_var 2),
                template_var 1))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 15, template_var 0),
              template_app
               (template_app (template_hole 14, template_var 1),
                template_var 2))
            )],
       template_equation
        (template_app
          (template_hole 12,
           template_app
            (template_app (template_hole 11, template_var 3),
             template_var 0)),
         template_app
          (template_app (template_hole 10, t_empty),
           template_app (template_hole 6, t_empty))))),
    ("Cauchy_Binet.pick_insert3",
     "[| ?a ~: ?I; ?i < card ?I; pick (insert ?a ?I) ?a' = ?a; ?a' <= ?i;
         ?a' < card ?I + 1 |]
      ==> pick (insert ?a ?I) (Suc ?i) = pick ?I ?i",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 9, template_var 3),
                  template_var 2)
                )
            ),
        template_inequation
         (less_than, template_var 1,
          template_app (template_hole 7, template_var 2)),
        template_equation
         (template_app
           (template_app
             (template_hole 5,
              template_app
               (template_app (template_hole 4, template_var 3),
                template_var 2)),
            template_var 0),
          template_var 3),
        template_inequation (less_equals, template_var 0, template_var 1),
        template_inequation
         (less_than, template_var 0,
          template_app
           (template_app
             (template_hole 2,
              template_app (template_hole 7, template_var 2)),
            template_hole 1))],
       template_equation
        (template_app
          (template_app
            (template_hole 5,
             template_app
              (template_app (template_hole 4, template_var 3),
               template_var 2)),
           template_app (template_hole 0, template_var 1)),
         template_app
          (template_app (template_hole 5, template_var 2),
           template_var 1)))),
    ("Cauchy_Binet.strict_fun_eq",
     "[| ?A : carrier_mat ?n ?m; ?B : carrier_mat ?m ?n;
         ?f : ??.Cauchy_Binet.F_strict ?n ?m;
         ?g : ??.Cauchy_Binet.F_strict ?n ?m;
         ?f ` {0..<?n} = ?g ` {0..<?n} |]
      ==> ?f = ?g",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 5),
              template_app
               (template_app (template_hole 7, template_var 4),
                template_var 3))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 2),
              template_app
               (template_app (template_hole 7, template_var 3),
                template_var 4))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 1),
              template_app
               (template_app (template_hole 5, template_var 4),
                template_var 3))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 0),
              template_app
               (template_app (template_hole 5, template_var 4),
                template_var 3))
            ),
        template_equation
         (template_app
           (template_app (template_hole 3, template_var 1),
            template_app
             (template_app (template_hole 2, template_hole 1),
              template_var 4)),
          template_app
           (template_app (template_hole 3, template_var 0),
            template_app
             (template_app (template_hole 2, template_hole 1),
              template_var 4)))],
       template_equation (template_var 1, template_var 0))),
    ("Cauchy_Binet.pick_insert_index",
     "[| card ?I = ?k; ?a ~: ?I; ?i < ?k; pick (insert ?a ?I) ?a' = ?a;
         ?a' < card ?I + 1 |]
      ==> pick (insert ?a ?I) (insert_index ?a' ?i) = pick ?I ?i",
     template_implication
      ([template_equation
         (template_app (template_hole 8, template_var 4), template_var 3),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 6, template_var 2),
                  template_var 4)
                )
            ),
        template_inequation (less_than, template_var 1, template_var 3),
        template_equation
         (template_app
           (template_app
             (template_hole 4,
              template_app
               (template_app (template_hole 3, template_var 2),
                template_var 4)),
            template_var 0),
          template_var 2),
        template_inequation
         (less_than, template_var 0,
          template_app
           (template_app
             (template_hole 2,
              template_app (template_hole 8, template_var 4)),
            template_hole 1))],
       template_equation
        (template_app
          (template_app
            (template_hole 4,
             template_app
              (template_app (template_hole 3, template_var 2),
               template_var 4)),
           template_app
            (template_app (template_hole 0, template_var 0),
             template_var 1)),
         template_app
          (template_app (template_hole 4, template_var 4),
           template_var 1)))),
    ("Cauchy_Binet.Z_good_alt",
     "[| ?A : carrier_mat ?n ?m; ?B : carrier_mat ?m ?n;
         ?g : ??.Cauchy_Binet.F_strict ?n ?m |]
      ==> ??.Cauchy_Binet.Z_good ?n ?m ?g =
          {x: ??.Cauchy_Binet.F_inj ?n ?m.
           strict_from_inj ?n x = ?g} \<times>
          {\<pi>. \<pi> permutes {0..<?n}}",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 14, template_var 4),
              template_app
               (template_app (template_hole 13, template_var 3),
                template_var 2))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 14, template_var 1),
              template_app
               (template_app (template_hole 13, template_var 2),
                template_var 3))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 12, template_var 0),
              template_app
               (template_app (template_hole 11, template_var 3),
                template_var 2))
            )],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 9, template_var 3),
             template_var 2),
           template_var 0),
         template_app
          (template_app
            (template_hole 8, template_app (template_hole 7, t_empty)),
           t_empty)))),
    ("Cauchy_Binet.detAB_Znm",
     "[| ?A : carrier_mat ?n ?m; ?B : carrier_mat ?m ?n |]
      ==> Determinant.det (?A * ?B) =
          (SUM (f, \<pi>):Z ?n ?m.
              of_int (sign \<pi>) *
              (PROD i = 0..<?n. ?A $$ (i, f i) * ?B $$ (f i, \<pi> i)))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 15, template_var 3),
              template_app
               (template_app (template_hole 14, template_var 2),
                template_var 1))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 15, template_var 0),
              template_app
               (template_app (template_hole 14, template_var 1),
                template_var 2))
            )],
       template_equation
        (template_app
          (template_hole 12,
           template_app
            (template_app (template_hole 11, template_var 3),
             template_var 0)),
         template_app
          (template_app
            (template_hole 10, template_app (template_hole 9, t_empty)),
           template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1))))),
    ("Cauchy_Binet.F_injI",
     "[| ?A : carrier_mat ?n ?m; ?B : carrier_mat ?m ?n;
         ?f : {0..<?n} \<rightarrow> {0..<?m};
         ALL i. i ~: {0..<?n} --> ?f i = i; inj_on ?f {0..<?n} |]
      ==> ?f : ??.Cauchy_Binet.F_inj ?n ?m",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 12, template_var 4),
              template_app
               (template_app (template_hole 11, template_var 3),
                template_var 2))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 12, template_var 1),
              template_app
               (template_app (template_hole 11, template_var 2),
                template_var 3))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 10, template_var 0),
              template_app
               (template_app
                 (template_hole 9,
                  template_app
                   (template_app (template_hole 8, template_hole 7),
                    template_var 3)),
                t_empty))
            ),
        template_predicate (template_app (template_hole 6, t_empty)),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 0),
              template_app
               (template_app (template_hole 8, template_hole 7),
                template_var 3))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 10, template_var 0),
             template_app
              (template_app (template_hole 0, template_var 3),
               template_var 2))
           ))),
    ("Cauchy_Binet.one_step",
     "[| ?A : carrier_mat ?n ?m; ?B : carrier_mat ?m ?n;
         ?g : ??.Cauchy_Binet.F_strict ?n ?m |]
      ==> Determinant.det (submatrix ?A UNIV (?g ` {0..<?n})) *
          Determinant.det (submatrix ?B (?g ` {0..<?n}) UNIV) =
          (SUM (x, y):??.Cauchy_Binet.Z_good ?n ?m ?g.
              ??.Cauchy_Binet.weight ?n ?A ?B x y)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 15, template_var 4),
              template_app
               (template_app (template_hole 14, template_var 3),
                template_var 2))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 15, template_var 1),
              template_app
               (template_app (template_hole 14, template_var 2),
                template_var 3))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 13, template_var 0),
              template_app
               (template_app (template_hole 12, template_var 3),
                template_var 2))
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 10,
             template_app
              (template_hole 9,
               template_app
                (template_app
                  (template_app (template_hole 8, template_var 4),
                   template_hole 7),
                 template_app
                  (template_app (template_hole 6, template_var 0),
                   template_app
                    (template_app (template_hole 5, template_hole 4),
                     template_var 3))))),
           template_app
            (template_hole 9,
             template_app
              (template_app
                (template_app (template_hole 8, template_var 1),
                 template_app
                  (template_app (template_hole 6, template_var 0),
                   template_app
                    (template_app (template_hole 5, template_hole 4),
                     template_var 3))),
               template_hole 7))),
         template_app
          (template_app
            (template_hole 3, template_app (template_hole 2, t_empty)),
           template_app
            (template_app
              (template_app (template_hole 0, template_var 3),
               template_var 2),
             template_var 0))))),
    ("Cauchy_Binet.gather_by_strictness",
     "[| ?A : carrier_mat ?n ?m; ?B : carrier_mat ?m ?n |]
      ==> (SUM g:??.Cauchy_Binet.F_strict ?n ?m.
              SUM (f, \<pi>):??.Cauchy_Binet.Z_good ?n ?m g.
                 ??.Cauchy_Binet.weight ?n ?A ?B f \<pi>) =
          (SUM g:??.Cauchy_Binet.F_strict ?n ?m.
              Determinant.det (submatrix ?A UNIV (g ` {0..<?n})) *
              Determinant.det (submatrix ?B (g ` {0..<?n}) UNIV))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 15, template_var 3),
              template_app
               (template_app (template_hole 14, template_var 2),
                template_var 1))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 15, template_var 0),
              template_app
               (template_app (template_hole 14, template_var 1),
                template_var 2))
            )],
       template_equation
        (template_app
          (template_app (template_hole 12, t_empty),
           template_app
            (template_app (template_hole 7, template_var 2),
             template_var 1)),
         template_app
          (template_app (template_hole 12, t_empty),
           template_app
            (template_app (template_hole 7, template_var 2),
             template_var 1))))),
    ("Cauchy_Binet.det_cols_mul'",
     "[| ?A : carrier_mat ?n ?m; ?B : carrier_mat ?m ?n |]
      ==> Determinant.det (?A * ?B) =
          (SUM f |
              (ALL i:{0..<?n}. f i : {0..<?m}) &
              (ALL i. i ~: {0..<?n} --> f i = i).
              (PROD i = 0..<?n. ?A $$ (i, f i)) *
              Determinant.det
               (mat\<^sub>r ?n ?n (%i. Matrix.row ?B (f i))))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 21, template_var 3),
              template_app
               (template_app (template_hole 20, template_var 2),
                template_var 1))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 21, template_var 0),
              template_app
               (template_app (template_hole 20, template_var 1),
                template_var 2))
            )],
       template_equation
        (template_app
          (template_hole 18,
           template_app
            (template_app (template_hole 17, template_var 3),
             template_var 0)),
         template_app
          (template_app (template_hole 16, t_empty),
           template_app (template_hole 7, t_empty))))),
    ("Cauchy_Binet.det_cols_mul",
     "[| ?A : carrier_mat ?n ?m; ?B : carrier_mat ?m ?n |]
      ==> Determinant.det (?A * ?B) =
          (SUM f |
              (ALL i:{0..<?n}. f i : {0..<?m}) &
              (ALL i. i ~: {0..<?n} --> f i = i).
              (PROD i = 0..<?n. ?B $$ (f i, i)) *
              Determinant.det (mat\<^sub>r ?n ?n (%i. col ?A (f i))))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 21, template_var 3),
              template_app
               (template_app (template_hole 20, template_var 2),
                template_var 1))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 21, template_var 0),
              template_app
               (template_app (template_hole 20, template_var 1),
                template_var 2))
            )],
       template_equation
        (template_app
          (template_hole 18,
           template_app
            (template_app (template_hole 17, template_var 3),
             template_var 0)),
         template_app
          (template_app (template_hole 16, t_empty),
           template_app (template_hole 7, t_empty))))),
    ("Cauchy_Binet.Z_good_fun_alt_sum",
     "[| ?A : carrier_mat ?n ?m; ?B : carrier_mat ?m ?n;
         ?g : ??.Cauchy_Binet.F_inj ?n ?m |]
      ==> (SUM f |
              f : {0..<?n} \<rightarrow> {0..<?m} &
              (ALL i. i ~: {0..<?n} --> f i = i) &
              inj_on f {0..<?n} & f ` {0..<?n} = ?g ` {0..<?n}.
              ?P f) =
          (SUM \<pi> | \<pi> permutes {0..<?n}. ?P (?g o \<pi>))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 20, template_var 5),
              template_app
               (template_app (template_hole 19, template_var 4),
                template_var 3))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 20, template_var 2),
              template_app
               (template_app (template_hole 19, template_var 3),
                template_var 4))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 18, template_var 1),
              template_app
               (template_app (template_hole 17, template_var 4),
                template_var 3))
            )],
       template_equation
        (template_app
          (template_app (template_hole 15, t_empty),
           template_app (template_hole 14, t_empty)),
         template_app
          (template_app (template_hole 15, t_empty),
           template_app (template_hole 14, t_empty))))),
    ("Cauchy_Binet.step_weight",
     "[| ?A : carrier_mat ?n ?m; ?B : carrier_mat ?m ?n;
         ?f : ??.Cauchy_Binet.F_inj ?n ?m; ?g : ??.Cauchy_Binet.F ?n ?m;
         ?\<pi> permutes {0..<?n}; ?\<phi> permutes {0..<?n};
         ALL x:{0..<?n}. ?f x = ?g (?\<phi> x) |]
      ==> ??.Cauchy_Binet.weight ?n ?A ?B ?f ?\<pi> =
          of_int (sign ?\<phi>) *
          (PROD i = 0..<?n. ?A $$ (i, ?g (?\<phi> i))) *
          of_int (sign (?\<pi> o inv ?\<phi>)) *
          (PROD i = 0..<?n. ?B $$ (?g i, (?\<pi> o inv ?\<phi>) i))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 20, template_var 7),
              template_app
               (template_app (template_hole 19, template_var 6),
                template_var 5))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 20, template_var 4),
              template_app
               (template_app (template_hole 19, template_var 5),
                template_var 6))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 18, template_var 3),
              template_app
               (template_app (template_hole 17, template_var 6),
                template_var 5))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 18, template_var 2),
              template_app
               (template_app (template_hole 16, template_var 6),
                template_var 5))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 15, template_var 1),
              template_app
               (template_app (template_hole 14, template_hole 13),
                template_var 6))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 15, template_var 0),
              template_app
               (template_app (template_hole 14, template_hole 13),
                template_var 6))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 12,
                template_app
                 (template_app (template_hole 14, template_hole 13),
                  template_var 6)),
              t_empty)
            )],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app
                (template_app (template_hole 9, template_var 6),
                 template_var 7),
               template_var 4),
             template_var 3),
           template_var 1),
         template_app
          (template_app
            (template_hole 8,
             template_app
              (template_app
                (template_hole 8,
                 template_app
                  (template_app
                    (template_hole 8,
                     template_app
                      (template_hole 7,
                       template_app (template_hole 6, template_var 0))),
                   template_app
                    (template_app (template_hole 5, t_empty),
                     template_app
                      (template_app (template_hole 14, template_hole 13),
                       template_var 6)))),
               template_app
                (template_hole 7,
                 template_app
                  (template_hole 6,
                   template_app
                    (template_app (template_hole 2, template_var 1),
                     template_app
                      (template_app (template_hole 1, template_hole 0),
                       template_var 0)))))),
           template_app
            (template_app (template_hole 5, t_empty),
             template_app
              (template_app (template_hole 14, template_hole 13),
               template_var 6)))))),
    ("Cauchy_Binet.detAB_Znm_aux",
     "?F =
      {f: {0..<?n} \<rightarrow> {0..<?m}.
       ALL i. i ~: {0..<?n} --> f i = i} ==>
      (SUM \<pi> | \<pi> permutes {0..<?n}.
          SUM f:?F.
             (PROD i = 0..<?n. ?B $$ (f i, i)) *
             (of_int (sign \<pi>) *
              (PROD i = 0..<?n. ?A $$ (\<pi> i, f i)))) =
      (SUM \<pi> | \<pi> permutes {0..<?n}.
          SUM f:?F.
             (PROD i = 0..<?n. ?B $$ (f i, \<pi> i)) *
             (of_int (sign \<pi>) * (PROD i = 0..<?n. ?A $$ (i, f i))))",
     template_implication
      ([template_equation
         (template_var 4, template_app (template_hole 19, t_empty))],
       template_equation
        (template_app
          (template_app (template_hole 7, t_empty),
           template_app (template_hole 19, t_empty)),
         template_app
          (template_app (template_hole 7, t_empty),
           template_app (template_hole 19, t_empty)))))]
