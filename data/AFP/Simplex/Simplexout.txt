Loading theory "Draft.Simplex_Auxiliary" (required by "Draft.SimplexTemplates" via "Draft.Simplex" via "Draft.Rel_Chain")
Loading theory "Draft.Simplex_Algebra" (required by "Draft.SimplexTemplates" via "Draft.Simplex" via "Draft.Linear_Poly_Maps" via "Draft.Abstract_Linear_Poly")
Loading theory "Draft.Templates" (required by "Draft.SimplexTemplates" via "Draft.ExtrEqs")
datatype template_term
=
     t_empty
   | template_app of template_term * template_term
   | template_hole of int
   | template_var of int
datatype sign
= equals | greater_equals | greater_than | less_equals | less_than
datatype template
=
     template_bimplication of template * template
   | template_dunno
   | template_equation of template_term * template_term
   | template_implication of template list * template
   | template_inequation of sign * template_term * template_term
   | template_negation of template
   | template_predicate of template_term
constructor t_empty: template_term
constructor template_app: template_term * template_term -> template_term
constructor template_hole: int -> template_term
constructor template_var: int -> template_term
constructor equals: sign
constructor greater_equals: sign
constructor greater_than: sign
constructor less_equals: sign
constructor less_than: sign
constructor template_bimplication: template * template -> template
constructor template_dunno: template
constructor template_equation: template_term * template_term -> template
constructor template_implication: template list * template -> template
constructor template_inequation:
   sign * template_term * template_term -> template
constructor template_negation: template -> template
constructor template_predicate: template_term -> template
val vfs = fn: term -> (indexname * typ) list * (string * typ) list
val indexOf = fn: ''a list -> ''a -> int -> int
val has_eq = fn: term -> bool
val term2template = fn:
   (indexname * typ) list -> (string * typ) list -> term -> template_term
val lemma2predicate = fn: term -> term -> template
val makeTemplatewithContext = fn: term -> term -> template
val lemma2template = fn: term -> template
val thm2template = fn: thm -> template
val tterm2string = fn: template_term -> string
val template2string = fn: template -> string
val t = "height ?t <= size ?t": thm
val th =
   Const ("HOL.Trueprop", "bool => prop") $
     (Const ("Orderings.ord_class.less_eq", "nat => nat => bool") $
       (Const ("Tree.height_class.height", "?'a tree => nat") $
         Var (("t", 0), "?'a tree")) $
       (Const ("Nat.size_class.size", "?'a tree => nat") $
         Var (("t", 0), "?'a tree"))):
   term
### theory "Draft.Templates"
### 0.085s elapsed time, 0.291s cpu time, 0.000s GC time
Loading theory "Draft.ExtrEqs" (required by "Draft.SimplexTemplates")
### theory "Draft.Simplex_Auxiliary"
### 0.085s elapsed time, 0.292s cpu time, 0.000s GC time
Loading theory "Draft.Rel_Chain" (required by "Draft.SimplexTemplates" via "Draft.Simplex")
class scaleRat = type +
  fixes scaleRat :: "rat => 'a => 'a"
### theory "Draft.Rel_Chain"
### 0.077s elapsed time, 0.220s cpu time, 0.032s GC time
class rational_vector = ab_group_add + scaleRat +
  assumes
    "scaleRat_right_distrib": "!!a x y. a *R (x + y) = a *R x + a *R y"
    and "scaleRat_left_distrib": "!!a b x. (a + b) *R x = a *R x + b *R x"
    and "scaleRat_scaleRat": "!!a b x. a *R b *R x = (a * b) *R x"
    and "scaleRat_one": "!!x. 1 *R x = x"
val eqpattern =
   Pattern
    (
       Const ("HOL.Trueprop", "bool => prop") $
         (Const ("HOL.eq", "?'a => ?'a => bool") $
           Var (("_dummy_", 1), "?'a") $ Var (("_dummy_", 2), "?'a"))
       ):
   term Find_Theorems.criterion
val badeqpattern = Pattern (Const ("Pure.eq", "?'a => ?'a => prop")):
   term Find_Theorems.criterion
val undefpattern =
   Pattern
    (
       Const ("HOL.Trueprop", "bool => prop") $
         (Const ("HOL.eq", "?'a => ?'a => bool") $
           Var (("_dummy_", 1), "?'a") $ Const ("HOL.undefined", "?'a"))
       ):
   term Find_Theorems.criterion
val thmpattern =
   Pattern
    (Const ("HOL.Trueprop", "bool => prop") $ Var (("_dummy_", 1), "bool")):
   term Find_Theorems.criterion
val badnames =
   ["*nitpick*", "*Nitpick*", "*full_exhaustive*", "*_def*", "Enum.finite*",
    "*Quickcheck*", "ATP*", "*Nunchaku*", "*Code*", "*BNF*", "*SMT*",
    "*.*.*"]:
   string list
val unwanted_names =
   [(false, Name "*nitpick*"), (false, Name "*Nitpick*"),
    (false, Name "*full_exhaustive*"), (false, Name "*_def*"),
    (false, Name "Enum.finite*"), (false, Name "*Quickcheck*"),
    (false, Name "ATP*"), (false, Name "*Nunchaku*"),
    (false, Name "*Code*"), (false, Name "*BNF*"), (false, Name "*SMT*"),
    (false, Name "*.*.*")]:
   (bool * term Find_Theorems.criterion) list
val has_vars = fn: term -> bool
val get_all_eqs = fn: string -> Proof.context -> (string * thm) list
val get_all_thms = fn: string -> Proof.context -> (string * thm) list
val get_noneq_thms = fn: string -> Proof.context -> (string * thm) list
val template_eqs = fn:
   string -> Proof.context -> (string * thm * template) list
val template_thms = fn:
   string -> Proof.context -> (string * thm * template) list
### theory "Draft.ExtrEqs"
### 0.528s elapsed time, 1.159s cpu time, 0.092s GC time
class linordered_rational_vector = linorder + ordered_rational_vector +
  assumes "plus_less": "!!a b c. a < b ==> a + c < b + c"
    and "scaleRat_less1": "!!a b k. [| a < b; 0 < k |] ==> k *R a < k *R b"
    and "scaleRat_less2": "!!a b k. [| a < b; k < 0 |] ==> k *R b < k *R a"
class lrv = one + linordered_rational_vector +
  assumes "zero_neq_one": "(0::'a) ~= (1::'a)"
instantiation
  rat :: rational_vector
  scaleRat_rat == scaleRat :: rat => rat => rat
instantiation
  rat :: ordered_rational_vector
instantiation
  rat :: linordered_rational_vector
instantiation
  rat :: lrv
### theory "Draft.Simplex_Algebra"
### 1.677s elapsed time, 2.540s cpu time, 0.136s GC time
Loading theory "Draft.Abstract_Linear_Poly" (required by "Draft.SimplexTemplates" via "Draft.Simplex" via "Draft.Linear_Poly_Maps")
instantiation
  linear_poly :: rational_vector
  uminus_linear_poly == uminus :: linear_poly => linear_poly
  zero_linear_poly == zero_class.zero :: linear_poly
  minus_linear_poly == minus :: linear_poly => linear_poly => linear_poly
  plus_linear_poly == plus :: linear_poly => linear_poly => linear_poly
  scaleRat_linear_poly == scaleRat :: rat => linear_poly => linear_poly
### theory "Draft.Abstract_Linear_Poly"
### 0.333s elapsed time, 0.382s cpu time, 0.030s GC time
Loading theory "Draft.Linear_Poly_Maps" (required by "Draft.SimplexTemplates" via "Draft.Simplex")
Loading theory "Draft.QDelta" (required by "Draft.SimplexTemplates" via "Draft.Simplex")
consts
  qdfst :: "QDelta => rat"
consts
  qdsnd :: "QDelta => rat"
instantiation
  QDelta :: rational_vector
  uminus_QDelta == uminus :: QDelta => QDelta
  zero_QDelta == zero_class.zero :: QDelta
  minus_QDelta == minus :: QDelta => QDelta => QDelta
  plus_QDelta == plus :: QDelta => QDelta => QDelta
  scaleRat_QDelta == scaleRat :: rat => QDelta => QDelta
instantiation
  QDelta :: linorder
  less_eq_QDelta == less_eq :: QDelta => QDelta => bool
  less_QDelta == less :: QDelta => QDelta => bool
instantiation
  QDelta :: linordered_rational_vector
instantiation
  QDelta :: lrv
  one_QDelta == one_class.one :: QDelta
consts
  \<delta>_min :: "(QDelta * QDelta) list => rat"
### theory "Draft.QDelta"
### 0.418s elapsed time, 0.861s cpu time, 0.067s GC time
instantiation
  linear_poly :: equal
  equal_linear_poly == equal_class.equal ::
    linear_poly => linear_poly => bool
### theory "Draft.Linear_Poly_Maps"
### 0.674s elapsed time, 1.360s cpu time, 0.418s GC time
Loading theory "Draft.Simplex" (required by "Draft.SimplexTemplates")
consts
  satisfies_constraint :: "(nat => 'a) => constraint => bool"
Found termination order: "{}"
locale Solve
  fixes solve :: "('i * constraint) list => 'i list + (nat => rat)"
  assumes "Solve solve"
### Ignoring duplicate rewrite rule:
### Mapping.lookup Mapping.empty ?k1 == None
locale SolveExec
  fixes
    solve_exec :: "('i * constraint) list => 'i list + (nat, rat) mapping"
  assumes "SolveExec solve_exec"
### Ambiguous input (line 177 of "$AFP/Simplex/Simplex.thy") produces 5 parse trees:
### ("\<^const>HOL.Trueprop"
###   ("\<^const>Orderings.ord_class.less_eq"
###     ("\<^fixed>satisfiable_ns_constraint" ("_position" v)
###       ("_applC" ("_position" LEQ_ns)
###         ("_cargs" ("_position" l)
###           ("_valuate" ("\<^const>HOL.iff" ("_position" r) ("_position" l))
###             ("_position" v)))))
###     ("_position" r)))
### ("\<^const>HOL.Trueprop"
###   ("\<^const>Orderings.ord_class.less_eq"
###     ("\<^fixed>satisfiable_ns_constraint" ("_position" v)
###       ("_applC" ("_position" LEQ_ns)
###         ("_valuate"
###           ("\<^const>HOL.iff" ("_applC" ("_position" l) ("_position" r))
###             ("_position" l))
###           ("_position" v))))
###     ("_position" r)))
### ("\<^const>HOL.Trueprop"
###   ("\<^const>Orderings.ord_class.less_eq"
###     ("\<^fixed>satisfiable_ns_constraint" ("_position" v)
###       ("_valuate"
###         ("\<^const>HOL.iff"
###           ("_applC" ("_position" LEQ_ns)
###             ("_cargs" ("_position" l) ("_position" r)))
###           ("_position" l))
###         ("_position" v)))
###     ("_position" r)))
### ("\<^const>HOL.Trueprop"
###   ("\<^const>HOL.iff"
###     ("\<^fixed>satisfiable_ns_constraint" ("_position" v)
###       ("_applC" ("_position" LEQ_ns)
###         ("_cargs" ("_position" l) ("_position" r))))
###     ("\<^const>Orderings.ord_class.less_eq"
###       ("_valuate" ("_position" l) ("_position" v)) ("_position" r))))
### ("\<^const>HOL.Trueprop"
###   ("\<^const>Orderings.ord_class.less_eq"
###     ("_valuate"
###       ("\<^const>HOL.iff"
###         ("\<^fixed>satisfiable_ns_constraint" ("_position" v)
###           ("_applC" ("_position" LEQ_ns)
###             ("_cargs" ("_position" l) ("_position" r))))
###         ("_position" l))
###       ("_position" v))
###     ("_position" r)))
### Fortunately, only one parse tree is well-formed and type-correct,
### but you may still want to disambiguate your grammar or your input.
### Ambiguous input (line 178 of "$AFP/Simplex/Simplex.thy") produces 5 parse trees:
### ("\<^const>HOL.Trueprop"
###   ("\<^const>Orderings.ord_class.greater_eq"
###     ("\<^fixed>satisfiable_ns_constraint" ("_position" v)
###       ("_applC" ("_position" GEQ_ns)
###         ("_cargs" ("_position" l)
###           ("_valuate" ("\<^const>HOL.iff" ("_position" r) ("_position" l))
###             ("_position" v)))))
###     ("_position" r)))
### ("\<^const>HOL.Trueprop"
###   ("\<^const>Orderings.ord_class.greater_eq"
###     ("\<^fixed>satisfiable_ns_constraint" ("_position" v)
###       ("_applC" ("_position" GEQ_ns)
###         ("_valuate"
###           ("\<^const>HOL.iff" ("_applC" ("_position" l) ("_position" r))
###             ("_position" l))
###           ("_position" v))))
###     ("_position" r)))
### ("\<^const>HOL.Trueprop"
###   ("\<^const>Orderings.ord_class.greater_eq"
###     ("\<^fixed>satisfiable_ns_constraint" ("_position" v)
###       ("_valuate"
###         ("\<^const>HOL.iff"
###           ("_applC" ("_position" GEQ_ns)
###             ("_cargs" ("_position" l) ("_position" r)))
###           ("_position" l))
###         ("_position" v)))
###     ("_position" r)))
### ("\<^const>HOL.Trueprop"
###   ("\<^const>HOL.iff"
###     ("\<^fixed>satisfiable_ns_constraint" ("_position" v)
###       ("_applC" ("_position" GEQ_ns)
###         ("_cargs" ("_position" l) ("_position" r))))
###     ("\<^const>Orderings.ord_class.greater_eq"
###       ("_valuate" ("_position" l) ("_position" v)) ("_position" r))))
### ("\<^const>HOL.Trueprop"
###   ("\<^const>Orderings.ord_class.greater_eq"
###     ("_valuate"
###       ("\<^const>HOL.iff"
###         ("\<^fixed>satisfiable_ns_constraint" ("_position" v)
###           ("_applC" ("_position" GEQ_ns)
###             ("_cargs" ("_position" l) ("_position" r))))
###         ("_position" l))
###       ("_position" v))
###     ("_position" r)))
### Fortunately, only one parse tree is well-formed and type-correct,
### but you may still want to disambiguate your grammar or your input.
consts
  satisfiable_ns_constraint :: "(nat => 'a) => 'a ns_constraint => bool"
Found termination order: "{}"
consts
  poly :: "'a ns_constraint => linear_poly"
consts
  ns_constraint_const :: "'a ns_constraint => 'a"
locale To_ns
  fixes to_ns :: "('i * constraint) list => ('i * 'a ns_constraint) list"
    and
    from_ns ::
      "(nat, 'a) mapping => 'a ns_constraint list => (nat, rat) mapping"
  assumes "To_ns to_ns from_ns"
locale Solve_exec_ns
  fixes
    solve_exec_ns ::
      "('i * 'a ns_constraint) list => 'i list + (nat, 'a) mapping"
  assumes "Solve_exec_ns solve_exec_ns"
locale SolveExec'
  fixes to_ns :: "('i * constraint) list => ('i * 'a ns_constraint) list"
    and
    from_ns ::
      "(nat, 'a) mapping => 'a ns_constraint list => (nat, rat) mapping"
    and
    solve_exec_ns ::
      "('i * 'a ns_constraint) list => 'i list + (nat, 'a) mapping"
  assumes "SolveExec' to_ns from_ns solve_exec_ns"
consts
  lhs :: "nat * linear_poly => nat"
consts
  rhs :: "nat * linear_poly => linear_poly"
### Ambiguous input (line 281 of "$AFP/Simplex/Simplex.thy") produces 3 parse trees:
### ("\<^const>Pure.eq"
###   ("\<^fixed>satisfies_eq" ("_position" v) ("_position" eq))
###   ("\<^const>HOL.eq"
###     ("_applC" ("_position" v) ("_applC" ("_position" lhs) ("_position" eq)))
###     ("_valuate" ("_applC" ("_position" rhs) ("_position" eq))
###       ("_position" v))))
### ("\<^const>Pure.eq"
###   ("\<^fixed>satisfies_eq" ("_position" v) ("_position" eq))
###   ("_applC" ("_position" v)
###     ("_valuate"
###       ("\<^const>HOL.eq" ("_applC" ("_position" lhs) ("_position" eq))
###         ("_applC" ("_position" rhs) ("_position" eq)))
###       ("_position" v))))
### ("\<^const>Pure.eq"
###   ("\<^fixed>satisfies_eq" ("_position" v) ("_position" eq))
###   ("_valuate"
###     ("\<^const>HOL.eq"
###       ("_applC" ("_position" v)
###         ("_applC" ("_position" lhs) ("_position" eq)))
###       ("_applC" ("_position" rhs) ("_position" eq)))
###     ("_position" v)))
### Fortunately, only one parse tree is well-formed and type-correct,
### but you may still want to disambiguate your grammar or your input.
### Ambiguous input (line 283 of "$AFP/Simplex/Simplex.thy") produces 3 parse trees:
### ("\<^const>Pure.eq"
###   ("\<^const>Simplex.satisfies_eq" ("_position" v)
###     ("_tuple" ("_position" x) ("_tuple_arg" ("_position" p))))
###   ("\<^const>HOL.eq" ("_applC" ("_position" v) ("_position" x))
###     ("_valuate" ("_position" p) ("_position" v))))
### ("\<^const>Pure.eq"
###   ("\<^const>Simplex.satisfies_eq" ("_position" v)
###     ("_tuple" ("_position" x) ("_tuple_arg" ("_position" p))))
###   ("_applC" ("_position" v)
###     ("_valuate" ("\<^const>HOL.eq" ("_position" x) ("_position" p))
###       ("_position" v))))
### ("\<^const>Pure.eq"
###   ("\<^const>Simplex.satisfies_eq" ("_position" v)
###     ("_tuple" ("_position" x) ("_tuple_arg" ("_position" p))))
###   ("_valuate"
###     ("\<^const>HOL.eq" ("_applC" ("_position" v) ("_position" x))
###       ("_position" p))
###     ("_position" v)))
### Fortunately, only one parse tree is well-formed and type-correct,
### but you may still want to disambiguate your grammar or your input.
consts
  atom_var :: "'a atom => nat"
consts
  atom_const :: "'a atom => 'a"
consts
  satisfies_atom :: "(nat => 'a) => 'a atom => bool"
Found termination order: "{}"
Found termination order: "{}"
locale Preprocess
  fixes
    preprocess ::
      "('i * 'a ns_constraint) list
       => (nat * linear_poly) list *
          ('i * 'a atom) list *
          ((nat, 'a) mapping => (nat, 'a) mapping) * 'i list"
  assumes "Preprocess preprocess"
locale AssertAll
  fixes
    assert_all ::
      "(nat * linear_poly) list
       => ('i * 'a atom) list => 'i list + (nat, 'a) mapping"
  assumes "AssertAll assert_all"
locale Solve_exec_ns'
  fixes
    preprocess ::
      "('i * 'a ns_constraint) list
       => (nat * linear_poly) list *
          ('i * 'a atom) list *
          ((nat, 'a) mapping => (nat, 'a) mapping) * 'i list"
    and
    assert_all ::
      "(nat * linear_poly) list
       => ('i * 'a atom) list => 'i list + (nat, 'a) mapping"
  assumes "Solve_exec_ns' preprocess assert_all"
locale Preprocess
  fixes
    preprocess ::
      "('i * 'a ns_constraint) list
       => (nat * linear_poly) list *
          ('i * 'a atom) list *
          ((nat, 'a) mapping => (nat, 'a) mapping) * 'i list"
  assumes "Preprocess preprocess"
Found termination order: "{}"
Found termination order: "{}"
Found termination order: "{}"
Found termination order: "{}"
Found termination order: "{}"
Found termination order: "{}"
Found termination order: "{}"
Found termination order: "{}"
Found termination order: "{}"
Found termination order: "{}"
Found termination order: "{}"
Found termination order: "{}"
Found termination order: "{}"
locale AssertAllState
  fixes
    assert_all_state ::
      "(nat * linear_poly) list => ('i * 'a atom) list => ('i, 'a) state"
  assumes "AssertAllState assert_all_state"
locale Init'
  fixes init :: "(nat * linear_poly) list => ('i, 'a) state"
  assumes "Init' init"
locale Init
  fixes init :: "(nat * linear_poly) list => ('i, 'a) state"
  assumes "Init init"
locale Assert
  fixes assert :: "'i * 'a atom => ('i, 'a) state => ('i, 'a) state"
  assumes "Assert assert"
locale AssertAllState'
  fixes init :: "(nat * linear_poly) list => ('i, 'a) state"
    and assert :: "'i * 'a atom => ('i, 'a) state => ('i, 'a) state"
  assumes "AssertAllState' init assert"
Found termination order: "{}"
locale AssertBound
  fixes assert_bound :: "'i * 'a atom => ('i, 'a) state => ('i, 'a) state"
  assumes "AssertBound assert_bound"
locale AssertBoundNoLhs
  fixes assert_bound :: "'i * 'a atom => ('i, 'a) state => ('i, 'a) state"
  assumes "AssertBoundNoLhs assert_bound"
locale Check
  fixes check :: "('i, 'a) state => ('i, 'a) state"
  assumes "Check check"
locale Assert'
  fixes assert_bound :: "'i * 'a atom => ('i, 'a) state => ('i, 'a) state"
    and check :: "('i, 'a) state => ('i, 'a) state"
  assumes "Assert' assert_bound check"
locale AssertAllState''
  fixes init :: "(nat * linear_poly) list => ('i, 'a) state"
    and assert_bound :: "'i * 'a atom => ('i, 'a) state => ('i, 'a) state"
    and check :: "('i, 'a) state => ('i, 'a) state"
  assumes "AssertAllState'' init assert_bound check"
locale Update
  fixes update :: "nat => 'a => ('i, 'a) state => ('i, 'a) state"
  assumes "Update update"
Found termination order: "{}"
locale EqForLVar
  fixes eq_idx_for_lvar :: "(nat * linear_poly) list => nat => nat"
  assumes "EqForLVar eq_idx_for_lvar"
### Ambiguous input (line 2350 of "$AFP/Simplex/Simplex.thy") produces 7 parse trees:
### ("\<^const>Pure.imp"
###   ("\<^const>HOL.Trueprop"
###     ("\<^const>Simplex.satisfies_eq" ("_map2fun" ("_position" v))
###       ("_position" e)))
###   ("\<^const>HOL.Trueprop"
###     ("\<^const>HOL.eq"
###       ("_applC" ("_position" rhs_eq_val)
###         ("_cargs" ("_position" v)
###           ("_cargs" ("_position" x)
###             ("_cargs" ("_position" c) ("_position" e)))))
###       ("_applC" ("_position" rhs)
###         ("_valuate" ("_position" e)
###           ("_Update" ("_map2fun" ("_position" v))
###             ("_updbind" ("_position" x) ("_position" c))))))))
### ("\<^const>Pure.imp"
###   ("\<^const>HOL.Trueprop"
###     ("\<^const>Simplex.satisfies_eq" ("_map2fun" ("_position" v))
###       ("_position" e)))
###   ("\<^const>HOL.Trueprop"
###     ("_applC" ("_position" rhs_eq_val)
###       ("_cargs" ("_position" v)
###         ("_cargs" ("_position" x)
###           ("_cargs" ("_position" c)
###             ("_valuate"
###               ("\<^const>HOL.eq" ("_position" e)
###                 ("_applC" ("_position" rhs) ("_position" e)))
###               ("_Update" ("_map2fun" ("_position" v))
###                 ("_updbind" ("_position" x) ("_position" c))))))))))
### ("\<^const>Pure.imp"
###   ("\<^const>HOL.Trueprop"
###     ("\<^const>Simplex.satisfies_eq" ("_map2fun" ("_position" v))
###       ("_position" e)))
###   ("\<^const>HOL.Trueprop"
###     ("_applC" ("_position" rhs_eq_val)
###       ("_cargs" ("_position" v)
###         ("_cargs" ("_position" x)
###           ("_valuate"
###             ("\<^const>HOL.eq" ("_applC" ("_position" c) ("_position" e))
###               ("_applC" ("_position" rhs) ("_position" e)))
###             ("_Update" ("_map2fun" ("_position" v))
###               ("_updbind" ("_position" x) ("_position" c)))))))))
### ("\<^const>Pure.imp"
###   ("\<^const>HOL.Trueprop"
###     ("\<^const>Simplex.satisfies_eq" ("_map2fun" ("_position" v))
###       ("_position" e)))
###   ("\<^const>HOL.Trueprop"
###     ("_applC" ("_position" rhs_eq_val)
###       ("_cargs" ("_position" v)
###         ("_valuate"
###           ("\<^const>HOL.eq"
###             ("_applC" ("_position" x)
###               ("_cargs" ("_position" c) ("_position" e)))
###             ("_applC" ("_position" rhs) ("_position" e)))
###           ("_Update" ("_map2fun" ("_position" v))
###             ("_updbind" ("_position" x) ("_position" c))))))))
### ("\<^const>Pure.imp"
###   ("\<^const>HOL.Trueprop"
###     ("\<^const>Simplex.satisfies_eq" ("_map2fun" ("_position" v))
###       ("_position" e)))
###   ("\<^const>HOL.Trueprop"
###     ("_applC" ("_position" rhs_eq_val)
###       ("_valuate"
###         ("\<^const>HOL.eq"
###           ("_applC" ("_position" v)
###             ("_cargs" ("_position" x)
###               ("_cargs" ("_position" c) ("_position" e))))
###           ("_applC" ("_position" rhs) ("_position" e)))
###         ("_Update" ("_map2fun" ("_position" v))
###           ("_updbind" ("_position" x) ("_position" c)))))))
### ("\<^const>Pure.imp"
###   ("\<^const>HOL.Trueprop"
###     ("\<^const>Simplex.satisfies_eq" ("_map2fun" ("_position" v))
###       ("_position" e)))
###   ("\<^const>HOL.Trueprop"
###     ("_valuate"
###       ("\<^const>HOL.eq"
###         ("_applC" ("_position" rhs_eq_val)
###           ("_cargs" ("_position" v)
###             ("_cargs" ("_position" x)
###               ("_cargs" ("_position" c) ("_position" e)))))
###         ("_applC" ("_position" rhs) ("_position" e)))
###       ("_Update" ("_map2fun" ("_position" v))
###         ("_updbind" ("_position" x) ("_position" c))))))
### ("\<^const>Pure.imp"
###   ("\<^const>HOL.Trueprop"
###     ("\<^const>Simplex.satisfies_eq" ("_map2fun" ("_position" v))
###       ("_position" e)))
###   ("\<^const>HOL.Trueprop"
###     ("\<^const>HOL.eq"
###       ("_applC" ("_position" rhs_eq_val)
###         ("_cargs" ("_position" v)
###           ("_cargs" ("_position" x)
###             ("_cargs" ("_position" c) ("_position" e)))))
###       ("_valuate" ("_applC" ("_position" rhs) ("_position" e))
###         ("_Update" ("_map2fun" ("_position" v))
###           ("_updbind" ("_position" x) ("_position" c)))))))
### Fortunately, only one parse tree is well-formed and type-correct,
### but you may still want to disambiguate your grammar or your input.
locale RhsEqVal
  fixes
    rhs_eq_val ::
      "(nat, 'a) mapping => nat => 'a => nat * linear_poly => 'a"
  assumes "RhsEqVal rhs_eq_val"
### Ambiguous input (line 2383 of "$AFP/Simplex/Simplex.thy") produces 7 parse trees:
### ("\<^const>HOL.Trueprop"
###   ("\<^const>HOL.eq"
###     ("_applC" ("_position" rhs)
###       ("_valuate" ("_position" e)
###         ("_map2fun"
###           ("_applC" ("_position" \<V>)
###             ("_applC" ("_position" update)
###               ("_cargs" ("_position" x)
###                 ("_cargs" ("_position" c) ("_position" s))))))))
###     ("_applC" ("_position" rhs)
###       ("_valuate" ("_position" e)
###         ("_Update"
###           ("_map2fun" ("_applC" ("_position" \<V>) ("_position" s)))
###           ("_updbind" ("_position" x) ("_position" c)))))))
### ("\<^const>HOL.Trueprop"
###   ("\<^const>HOL.eq"
###     ("_valuate" ("_applC" ("_position" rhs) ("_position" e))
###       ("_map2fun"
###         ("_applC" ("_position" \<V>)
###           ("_applC" ("_position" update)
###             ("_cargs" ("_position" x)
###               ("_cargs" ("_position" c) ("_position" s)))))))
###     ("_applC" ("_position" rhs)
###       ("_valuate" ("_position" e)
###         ("_Update"
###           ("_map2fun" ("_applC" ("_position" \<V>) ("_position" s)))
###           ("_updbind" ("_position" x) ("_position" c)))))))
### ("\<^const>HOL.Trueprop"
###   ("_valuate"
###     ("\<^const>HOL.eq"
###       ("_valuate" ("_applC" ("_position" rhs) ("_position" e))
###         ("_map2fun"
###           ("_applC" ("_position" \<V>)
###             ("_applC" ("_position" update)
###               ("_cargs" ("_position" x)
###                 ("_cargs" ("_position" c) ("_position" s)))))))
###       ("_applC" ("_position" rhs) ("_position" e)))
###     ("_Update" ("_map2fun" ("_applC" ("_position" \<V>) ("_position" s)))
###       ("_updbind" ("_position" x) ("_position" c)))))
### ("\<^const>HOL.Trueprop"
###   ("_applC" ("_position" rhs)
###     ("_valuate"
###       ("\<^const>HOL.eq"
###         ("_valuate" ("_position" e)
###           ("_map2fun"
###             ("_applC" ("_position" \<V>)
###               ("_applC" ("_position" update)
###                 ("_cargs" ("_position" x)
###                   ("_cargs" ("_position" c) ("_position" s)))))))
###         ("_applC" ("_position" rhs) ("_position" e)))
###       ("_Update" ("_map2fun" ("_applC" ("_position" \<V>) ("_position" s)))
###         ("_updbind" ("_position" x) ("_position" c))))))
### ("\<^const>HOL.Trueprop"
###   ("_valuate"
###     ("\<^const>HOL.eq"
###       ("_applC" ("_position" rhs)
###         ("_valuate" ("_position" e)
###           ("_map2fun"
###             ("_applC" ("_position" \<V>)
###               ("_applC" ("_position" update)
###                 ("_cargs" ("_position" x)
###                   ("_cargs" ("_position" c) ("_position" s))))))))
###       ("_applC" ("_position" rhs) ("_position" e)))
###     ("_Update" ("_map2fun" ("_applC" ("_position" \<V>) ("_position" s)))
###       ("_updbind" ("_position" x) ("_position" c)))))
### ("\<^const>HOL.Trueprop"
###   ("\<^const>HOL.eq"
###     ("_applC" ("_position" rhs)
###       ("_valuate" ("_position" e)
###         ("_map2fun"
###           ("_applC" ("_position" \<V>)
###             ("_applC" ("_position" update)
###               ("_cargs" ("_position" x)
###                 ("_cargs" ("_position" c) ("_position" s))))))))
###     ("_valuate" ("_applC" ("_position" rhs) ("_position" e))
###       ("_Update" ("_map2fun" ("_applC" ("_position" \<V>) ("_position" s)))
###         ("_updbind" ("_position" x) ("_position" c))))))
### ("\<^const>HOL.Trueprop"
###   ("\<^const>HOL.eq"
###     ("_valuate" ("_applC" ("_position" rhs) ("_position" e))
###       ("_map2fun"
###         ("_applC" ("_position" \<V>)
###           ("_applC" ("_position" update)
###             ("_cargs" ("_position" x)
###               ("_cargs" ("_position" c) ("_position" s)))))))
###     ("_valuate" ("_applC" ("_position" rhs) ("_position" e))
###       ("_Update" ("_map2fun" ("_applC" ("_position" \<V>) ("_position" s)))
###         ("_updbind" ("_position" x) ("_position" c))))))
### Fortunately, only one parse tree is well-formed and type-correct,
### but you may still want to disambiguate your grammar or your input.
locale Pivot
  fixes eq_idx_for_lvar :: "(nat * linear_poly) list => nat => nat"
    and pivot :: "nat => nat => ('i, 'a) state => ('i, 'a) state"
  assumes "Pivot eq_idx_for_lvar pivot"
locale PivotAndUpdate
  fixes eq_idx_for_lvar :: "(nat * linear_poly) list => nat => nat"
    and
    pivot_and_update ::
      "nat => nat => 'a => ('i, 'a) state => ('i, 'a) state"
  assumes "PivotAndUpdate eq_idx_for_lvar pivot_and_update"
locale PivotUpdate
  fixes eq_idx_for_lvar :: "(nat * linear_poly) list => nat => nat"
    and pivot :: "nat => nat => ('i, 'a) state => ('i, 'a) state"
    and update :: "nat => 'a => ('i, 'a) state => ('i, 'a) state"
  assumes "PivotUpdate eq_idx_for_lvar pivot update"
### Additional type variable(s) in locale specification "PivotEq": 'a
locale PivotEq
  fixes pivot_eq :: "nat * linear_poly => nat => nat * linear_poly"
  assumes "PivotEq TYPE('a) pivot_eq"
### Ambiguous input (line 3332 of "$AFP/Simplex/Simplex.thy") produces 28 parse trees (10 displayed):
### ("\<^const>HOL.Trueprop"
###   ("\<^const>HOL.eq"
###     ("_valuate"
###       ("\<^const>HOL.implies"
###         ("_valuate"
###           ("\<^const>HOL.eq"
###             ("_applC"
###               ("_constrain" ("_position" v)
###                 ("_tapp"
###                   ("_ofsort" ("_position_sort" 'a) ("_class_name" lrv))
###                   ("_type_name" valuation)))
###               ("_position" x\<^sub>j))
###             ("_position" lp'))
###           ("_position" v))
###         ("_position" lp))
###       ("_position" v))
###     ("_valuate"
###       ("_applC" ("_position" subst_var)
###         ("_cargs" ("_position" x\<^sub>j)
###           ("_cargs" ("_position" lp') ("_position" lp))))
###       ("_position" v))))
### ("\<^const>HOL.Trueprop"
###   ("\<^const>HOL.eq"
###     ("_applC"
###       ("_constrain" ("_position" v)
###         ("_tapp" ("_ofsort" ("_position_sort" 'a) ("_class_name" lrv))
###           ("_type_name" valuation)))
###       ("_valuate"
###         ("\<^const>HOL.implies"
###           ("_valuate"
###             ("\<^const>HOL.eq" ("_position" x\<^sub>j) ("_position" lp'))
###             ("_position" v))
###           ("_position" lp))
###         ("_position" v)))
###     ("_valuate"
###       ("_applC" ("_position" subst_var)
###         ("_cargs" ("_position" x\<^sub>j)
###           ("_cargs" ("_position" lp') ("_position" lp))))
###       ("_position" v))))
### ("\<^const>HOL.Trueprop"
###   ("\<^const>HOL.eq"
###     ("_valuate"
###       ("\<^const>HOL.implies"
###         ("_applC"
###           ("_constrain" ("_position" v)
###             ("_tapp" ("_ofsort" ("_position_sort" 'a) ("_class_name" lrv))
###               ("_type_name" valuation)))
###           ("_valuate"
###             ("\<^const>HOL.eq" ("_position" x\<^sub>j) ("_position" lp'))
###             ("_position" v)))
###         ("_position" lp))
###       ("_position" v))
###     ("_valuate"
###       ("_applC" ("_position" subst_var)
###         ("_cargs" ("_position" x\<^sub>j)
###           ("_cargs" ("_position" lp') ("_position" lp))))
###       ("_position" v))))
### ("\<^const>HOL.Trueprop"
###   ("\<^const>HOL.eq"
###     ("\<^const>HOL.eq"
###       ("_applC"
###         ("_constrain" ("_position" v)
###           ("_tapp" ("_ofsort" ("_position_sort" 'a) ("_class_name" lrv))
###             ("_type_name" valuation)))
###         ("_position" x\<^sub>j))
###       ("_valuate"
###         ("\<^const>HOL.implies"
###           ("_valuate" ("_position" lp') ("_position" v)) ("_position" lp))
###         ("_position" v)))
###     ("_valuate"
###       ("_applC" ("_position" subst_var)
###         ("_cargs" ("_position" x\<^sub>j)
###           ("_cargs" ("_position" lp') ("_position" lp))))
###       ("_position" v))))
### ("\<^const>HOL.Trueprop"
###   ("\<^const>HOL.eq"
###     ("_applC"
###       ("_constrain" ("_position" v)
###         ("_tapp" ("_ofsort" ("_position_sort" 'a) ("_class_name" lrv))
###           ("_type_name" valuation)))
###       ("_valuate"
###         ("\<^const>HOL.implies"
###           ("\<^const>HOL.eq" ("_position" x\<^sub>j)
###             ("_valuate" ("_position" lp') ("_position" v)))
###           ("_position" lp))
###         ("_position" v)))
###     ("_valuate"
###       ("_applC" ("_position" subst_var)
###         ("_cargs" ("_position" x\<^sub>j)
###           ("_cargs" ("_position" lp') ("_position" lp))))
###       ("_position" v))))
### ("\<^const>HOL.Trueprop"
###   ("\<^const>HOL.implies"
###     ("\<^const>HOL.eq"
###       ("_applC"
###         ("_constrain" ("_position" v)
###           ("_tapp" ("_ofsort" ("_position_sort" 'a) ("_class_name" lrv))
###             ("_type_name" valuation)))
###         ("_position" x\<^sub>j))
###       ("_valuate" ("_position" lp') ("_position" v)))
###     ("\<^const>HOL.eq" ("_valuate" ("_position" lp) ("_position" v))
###       ("_valuate"
###         ("_applC" ("_position" subst_var)
###           ("_cargs" ("_position" x\<^sub>j)
###             ("_cargs" ("_position" lp') ("_position" lp))))
###         ("_position" v)))))
### ("\<^const>HOL.Trueprop"
###   ("\<^const>HOL.implies"
###     ("_applC"
###       ("_constrain" ("_position" v)
###         ("_tapp" ("_ofsort" ("_position_sort" 'a) ("_class_name" lrv))
###           ("_type_name" valuation)))
###       ("_valuate"
###         ("\<^const>HOL.eq" ("_position" x\<^sub>j) ("_position" lp'))
###         ("_position" v)))
###     ("\<^const>HOL.eq" ("_valuate" ("_position" lp) ("_position" v))
###       ("_valuate"
###         ("_applC" ("_position" subst_var)
###           ("_cargs" ("_position" x\<^sub>j)
###             ("_cargs" ("_position" lp') ("_position" lp))))
###         ("_position" v)))))
### ("\<^const>HOL.Trueprop"
###   ("\<^const>HOL.implies"
###     ("_valuate"
###       ("\<^const>HOL.eq"
###         ("_applC"
###           ("_constrain" ("_position" v)
###             ("_tapp" ("_ofsort" ("_position_sort" 'a) ("_class_name" lrv))
###               ("_type_name" valuation)))
###           ("_position" x\<^sub>j))
###         ("_position" lp'))
###       ("_position" v))
###     ("\<^const>HOL.eq" ("_valuate" ("_position" lp) ("_position" v))
###       ("_valuate"
###         ("_applC" ("_position" subst_var)
###           ("_cargs" ("_position" x\<^sub>j)
###             ("_cargs" ("_position" lp') ("_position" lp))))
###         ("_position" v)))))
### ("\<^const>HOL.Trueprop"
###   ("\<^const>HOL.eq"
###     ("_valuate"
###       ("\<^const>HOL.implies"
###         ("\<^const>HOL.eq"
###           ("_applC"
###             ("_constrain" ("_position" v)
###               ("_tapp" ("_ofsort" ("_position_sort" 'a) ("_class_name" lrv))
###                 ("_type_name" valuation)))
###             ("_position" x\<^sub>j))
###           ("_valuate" ("_position" lp') ("_position" v)))
###         ("_position" lp))
###       ("_position" v))
###     ("_valuate"
###       ("_applC" ("_position" subst_var)
###         ("_cargs" ("_position" x\<^sub>j)
###           ("_cargs" ("_position" lp') ("_position" lp))))
###       ("_position" v))))
### ("\<^const>HOL.Trueprop"
###   ("_valuate"
###     ("\<^const>HOL.eq"
###       ("_valuate"
###         ("\<^const>HOL.implies"
###           ("\<^const>HOL.eq"
###             ("_applC"
###               ("_constrain" ("_position" v)
###                 ("_tapp"
###                   ("_ofsort" ("_position_sort" 'a) ("_class_name" lrv))
###                   ("_type_name" valuation)))
###               ("_position" x\<^sub>j))
###             ("_valuate" ("_position" lp') ("_position" v)))
###           ("_position" lp))
###         ("_position" v))
###       ("_applC" ("_position" subst_var)
###         ("_cargs" ("_position" x\<^sub>j)
###           ("_cargs" ("_position" lp') ("_position" lp)))))
###     ("_position" v)))
### Fortunately, only one parse tree is well-formed and type-correct,
### but you may still want to disambiguate your grammar or your input.
### Additional type variable(s) in locale specification "SubstVar": 'a
locale SubstVar
  fixes subst_var :: "nat => linear_poly => linear_poly => linear_poly"
  assumes "SubstVar TYPE('a) subst_var"
locale Pivot'
  fixes eq_idx_for_lvar :: "(nat * linear_poly) list => nat => nat"
    and pivot_eq :: "nat * linear_poly => nat => nat * linear_poly"
    and subst_var :: "nat => linear_poly => linear_poly => linear_poly"
  assumes "Pivot' TYPE('a) eq_idx_for_lvar pivot_eq subst_var"
locale MinLVarNotInBounds
  fixes min_lvar_not_in_bounds :: "('i, 'a) state => nat option"
  assumes "MinLVarNotInBounds min_lvar_not_in_bounds"
### Ambiguous input (line 3762 of "$AFP/Simplex/Simplex.thy") produces 2 parse trees:
### ("\<^const>HOL.Trueprop"
###   ("\<^const>HOL.implies"
###     ("\<^const>HOL.eq"
###       ("_applC" ("_position" min_lvar_not_in_bounds) ("_position" s))
###       ("_position" None))
###     ("_applC"
###       ("_satisfies_bounds_set"
###         ("_map2fun" ("_applC" ("_position" \<V>) ("_position" s)))
###         ("_applC" ("\<^const>Simplex.Bounds") ("_position" s))
###         ("_position" lvars))
###       ("_applC" ("_position" \<T>) ("_position" s)))))
### ("\<^const>HOL.Trueprop"
###   ("\<^const>HOL.implies"
###     ("\<^const>HOL.eq"
###       ("_applC" ("_position" min_lvar_not_in_bounds) ("_position" s))
###       ("_position" None))
###     ("_satisfies_bounds_set"
###       ("_map2fun" ("_applC" ("_position" \<V>) ("_position" s)))
###       ("_applC" ("\<^const>Simplex.Bounds") ("_position" s))
###       ("_applC" ("_position" lvars)
###         ("_applC" ("_position" \<T>) ("_position" s))))))
### Fortunately, only one parse tree is well-formed and type-correct,
### but you may still want to disambiguate your grammar or your input.
locale MinRVarsEq
  fixes
    min_rvar_incdec_eq ::
      "('i, 'a) Direction
       => ('i, 'a) state => nat * linear_poly => 'i list + nat"
  assumes "MinRVarsEq min_rvar_incdec_eq"
locale MinRVars
  fixes eq_idx_for_lvar :: "(nat * linear_poly) list => nat => nat"
    and
    min_rvar_incdec_eq ::
      "('i, 'a) Direction
       => ('i, 'a) state => nat * linear_poly => 'i list + nat"
  assumes "MinRVars eq_idx_for_lvar min_rvar_incdec_eq"
locale MinVars
  fixes min_lvar_not_in_bounds :: "('i, 'a) state => nat option"
    and eq_idx_for_lvar :: "(nat * linear_poly) list => nat => nat"
    and
    min_rvar_incdec_eq ::
      "('i, 'a) Direction
       => ('i, 'a) state => nat * linear_poly => 'i list + nat"
  assumes
    "MinVars min_lvar_not_in_bounds eq_idx_for_lvar min_rvar_incdec_eq"
locale PivotUpdateMinVars
  fixes eq_idx_for_lvar :: "(nat * linear_poly) list => nat => nat"
    and min_lvar_not_in_bounds :: "('i, 'a) state => nat option"
    and
    min_rvar_incdec_eq ::
      "('i, 'a) Direction
       => ('i, 'a) state => nat * linear_poly => 'i list + nat"
    and
    pivot_and_update ::
      "nat => nat => 'a => ('i, 'a) state => ('i, 'a) state"
  assumes
    "PivotUpdateMinVars eq_idx_for_lvar min_lvar_not_in_bounds
      min_rvar_incdec_eq pivot_and_update"
Proofs for inductive predicate(s) "check_dom"
  Proving monotonicity ...
locale PivotUpdateMinVars
  fixes eq_idx_for_lvar :: "(nat * linear_poly) list => nat => nat"
    and min_lvar_not_in_bounds :: "('i, 'a) state => nat option"
    and
    min_rvar_incdec_eq ::
      "('i, 'a) Direction
       => ('i, 'a) state => nat * linear_poly => 'i list + nat"
    and
    pivot_and_update ::
      "nat => nat => 'a => ('i, 'a) state => ('i, 'a) state"
  assumes
    "PivotUpdateMinVars eq_idx_for_lvar min_lvar_not_in_bounds
      min_rvar_incdec_eq pivot_and_update"
consts
  eq_idx_for_lvar_aux :: "(nat * linear_poly) list => nat => nat => nat"
### Cannot skip proof of schematic goal statement
### Introduced fixed type variable(s): 'b in "v__"
### Ambiguous input (line 6932 of "$AFP/Simplex/Simplex.thy") produces 7 parse trees:
### ("\<^const>HOL.Trueprop"
###   ("\<^const>HOL.eq"
###     ("_applC" ("_position" rhs_eq_val)
###       ("_cargs" ("_position" v)
###         ("_cargs" ("_position" x)
###           ("_cargs" ("_position" c) ("_position" e)))))
###     ("_applC" ("_position" rhs)
###       ("_valuate" ("_position" e)
###         ("_Update" ("_map2fun" ("_position" v))
###           ("_updbind" ("_position" x) ("_position" c)))))))
### ("\<^const>HOL.Trueprop"
###   ("_applC" ("_position" rhs_eq_val)
###     ("_cargs" ("_position" v)
###       ("_cargs" ("_position" x)
###         ("_cargs" ("_position" c)
###           ("_valuate"
###             ("\<^const>HOL.eq" ("_position" e)
###               ("_applC" ("_position" rhs) ("_position" e)))
###             ("_Update" ("_map2fun" ("_position" v))
###               ("_updbind" ("_position" x) ("_position" c)))))))))
### ("\<^const>HOL.Trueprop"
###   ("_applC" ("_position" rhs_eq_val)
###     ("_cargs" ("_position" v)
###       ("_cargs" ("_position" x)
###         ("_valuate"
###           ("\<^const>HOL.eq" ("_applC" ("_position" c) ("_position" e))
###             ("_applC" ("_position" rhs) ("_position" e)))
###           ("_Update" ("_map2fun" ("_position" v))
###             ("_updbind" ("_position" x) ("_position" c))))))))
### ("\<^const>HOL.Trueprop"
###   ("_applC" ("_position" rhs_eq_val)
###     ("_cargs" ("_position" v)
###       ("_valuate"
###         ("\<^const>HOL.eq"
###           ("_applC" ("_position" x)
###             ("_cargs" ("_position" c) ("_position" e)))
###           ("_applC" ("_position" rhs) ("_position" e)))
###         ("_Update" ("_map2fun" ("_position" v))
###           ("_updbind" ("_position" x) ("_position" c)))))))
### ("\<^const>HOL.Trueprop"
###   ("_applC" ("_position" rhs_eq_val)
###     ("_valuate"
###       ("\<^const>HOL.eq"
###         ("_applC" ("_position" v)
###           ("_cargs" ("_position" x)
###             ("_cargs" ("_position" c) ("_position" e))))
###         ("_applC" ("_position" rhs) ("_position" e)))
###       ("_Update" ("_map2fun" ("_position" v))
###         ("_updbind" ("_position" x) ("_position" c))))))
### ("\<^const>HOL.Trueprop"
###   ("_valuate"
###     ("\<^const>HOL.eq"
###       ("_applC" ("_position" rhs_eq_val)
###         ("_cargs" ("_position" v)
###           ("_cargs" ("_position" x)
###             ("_cargs" ("_position" c) ("_position" e)))))
###       ("_applC" ("_position" rhs) ("_position" e)))
###     ("_Update" ("_map2fun" ("_position" v))
###       ("_updbind" ("_position" x) ("_position" c)))))
### ("\<^const>HOL.Trueprop"
###   ("\<^const>HOL.eq"
###     ("_applC" ("_position" rhs_eq_val)
###       ("_cargs" ("_position" v)
###         ("_cargs" ("_position" x)
###           ("_cargs" ("_position" c) ("_position" e)))))
###     ("_valuate" ("_applC" ("_position" rhs) ("_position" e))
###       ("_Update" ("_map2fun" ("_position" v))
###         ("_updbind" ("_position" x) ("_position" c))))))
### Fortunately, only one parse tree is well-formed and type-correct,
### but you may still want to disambiguate your grammar or your input.
### Cannot skip proof of schematic goal statement
### Cannot skip proof of schematic goal statement
### Cannot skip proof of schematic goal statement
### Cannot skip proof of schematic goal statement
### Cannot skip proof of schematic goal statement
consts
  monom_to_atom :: "QDelta ns_constraint => QDelta atom"
consts
  qdelta_constraint_to_atom :: "QDelta ns_constraint => nat => QDelta atom"
consts
  qdelta_constraint_to_atom' :: "QDelta ns_constraint => nat => QDelta atom"
Found termination order: "{}"
consts
  zero_satisfies :: "'a ns_constraint => bool"
Found termination order:
  "(%p. size_list (%p. size (snd p)) (fst p)) <*mlex*> {}"
Found termination order: "{}"
Found termination order: "size_list (%p. size (snd p)) <*mlex*> {}"
consts
  constraint_to_qdelta_constraint ::
    "constraint => QDelta ns_constraint list"
consts
  i_constraint_to_qdelta_constraint ::
    "'i * constraint => ('i * QDelta ns_constraint) list"
### Ambiguous input (line 7794 of "$AFP/Simplex/Simplex.thy") produces 5 parse trees:
### ("\<^const>HOL.Trueprop"
###   ("\<^const>HOL.eq"
###     ("_applC" ("_position" \<delta>0_val)
###       ("_cargs"
###         ("_applC" ("_position" LEQ_ns)
###           ("_cargs" ("_position" lll) ("_position" rrr)))
###         ("_position" vl)))
###     ("_applC"
###       ("_valuate" ("_applC" ("_position" \<delta>0) ("_position" lll))
###         ("_position" vl))
###       ("_position" rrr))))
### ("\<^const>HOL.Trueprop"
###   ("_applC"
###     ("_valuate"
###       ("\<^const>HOL.eq"
###         ("_applC" ("_position" \<delta>0_val)
###           ("_cargs"
###             ("_applC" ("_position" LEQ_ns)
###               ("_cargs" ("_position" lll) ("_position" rrr)))
###             ("_position" vl)))
###         ("_applC" ("_position" \<delta>0) ("_position" lll)))
###       ("_position" vl))
###     ("_position" rrr)))
### ("\<^const>HOL.Trueprop"
###   ("_applC" ("_position" \<delta>0_val)
###     ("_cargs"
###       ("_valuate"
###         ("\<^const>HOL.eq"
###           ("_applC"
###             ("_applC" ("_position" LEQ_ns)
###               ("_cargs" ("_position" lll) ("_position" rrr)))
###             ("_position" vl))
###           ("_applC" ("_position" \<delta>0) ("_position" lll)))
###         ("_position" vl))
###       ("_position" rrr))))
### ("\<^const>HOL.Trueprop"
###   ("_applC" ("_position" \<delta>0_val)
###     ("_cargs"
###       ("_applC" ("_position" LEQ_ns)
###         ("_cargs" ("_position" lll) ("_position" rrr)))
###       ("_cargs"
###         ("_valuate"
###           ("\<^const>HOL.eq" ("_position" vl)
###             ("_applC" ("_position" \<delta>0) ("_position" lll)))
###           ("_position" vl))
###         ("_position" rrr)))))
### ("\<^const>HOL.Trueprop"
###   ("\<^const>HOL.eq"
###     ("_applC" ("_position" \<delta>0_val)
###       ("_cargs"
###         ("_applC" ("_position" LEQ_ns)
###           ("_cargs" ("_position" lll) ("_position" rrr)))
###         ("_position" vl)))
###     ("_applC" ("_position" \<delta>0)
###       ("_cargs" ("_valuate" ("_position" lll) ("_position" vl))
###         ("_position" rrr)))))
### Fortunately, only one parse tree is well-formed and type-correct,
### but you may still want to disambiguate your grammar or your input.
### Ambiguous input (line 7795 of "$AFP/Simplex/Simplex.thy") produces 6 parse trees:
### ("\<^const>HOL.Trueprop"
###   ("\<^const>HOL.eq"
###     ("_applC" ("_position" \<delta>0_val)
###       ("_cargs"
###         ("_applC" ("_position" GEQ_ns)
###           ("_cargs" ("_position" lll) ("_position" rrr)))
###         ("_position" vl)))
###     ("_applC" ("_position" \<delta>0)
###       ("_cargs" ("_position" rrr)
###         ("_valuate" ("_position" lll) ("_position" vl))))))
### ("\<^const>HOL.Trueprop"
###   ("\<^const>HOL.eq"
###     ("_applC" ("_position" \<delta>0_val)
###       ("_cargs"
###         ("_applC" ("_position" GEQ_ns)
###           ("_cargs" ("_position" lll) ("_position" rrr)))
###         ("_position" vl)))
###     ("_applC" ("_position" \<delta>0)
###       ("_valuate" ("_applC" ("_position" rrr) ("_position" lll))
###         ("_position" vl)))))
### ("\<^const>HOL.Trueprop"
###   ("_applC" ("_position" \<delta>0_val)
###     ("_cargs"
###       ("_applC" ("_position" GEQ_ns)
###         ("_cargs" ("_position" lll) ("_position" rrr)))
###       ("_valuate"
###         ("\<^const>HOL.eq" ("_position" vl)
###           ("_applC" ("_position" \<delta>0)
###             ("_cargs" ("_position" rrr) ("_position" lll))))
###         ("_position" vl)))))
### ("\<^const>HOL.Trueprop"
###   ("_applC" ("_position" \<delta>0_val)
###     ("_valuate"
###       ("\<^const>HOL.eq"
###         ("_applC"
###           ("_applC" ("_position" GEQ_ns)
###             ("_cargs" ("_position" lll) ("_position" rrr)))
###           ("_position" vl))
###         ("_applC" ("_position" \<delta>0)
###           ("_cargs" ("_position" rrr) ("_position" lll))))
###       ("_position" vl))))
### ("\<^const>HOL.Trueprop"
###   ("_valuate"
###     ("\<^const>HOL.eq"
###       ("_applC" ("_position" \<delta>0_val)
###         ("_cargs"
###           ("_applC" ("_position" GEQ_ns)
###             ("_cargs" ("_position" lll) ("_position" rrr)))
###           ("_position" vl)))
###       ("_applC" ("_position" \<delta>0)
###         ("_cargs" ("_position" rrr) ("_position" lll))))
###     ("_position" vl)))
### ("\<^const>HOL.Trueprop"
###   ("\<^const>HOL.eq"
###     ("_applC" ("_position" \<delta>0_val)
###       ("_cargs"
###         ("_applC" ("_position" GEQ_ns)
###           ("_cargs" ("_position" lll) ("_position" rrr)))
###         ("_position" vl)))
###     ("_valuate"
###       ("_applC" ("_position" \<delta>0)
###         ("_cargs" ("_position" rrr) ("_position" lll)))
###       ("_position" vl))))
### Fortunately, only one parse tree is well-formed and type-correct,
### but you may still want to disambiguate your grammar or your input.
consts
  \<delta>0_val :: "QDelta ns_constraint => (nat => QDelta) => rat"
consts
  \<delta>0_val_min :: "QDelta ns_constraint list => (nat => QDelta) => rat"
### theory "Draft.Simplex"
### 10.417s elapsed time, 12.248s cpu time, 2.504s GC time
Loading theory "Draft.SimplexTemplates"
val templateLemmas =
   [("Simplex.init_satisfies", "\<Turnstile> (init_state ?t)",
     template_predicate
      (
         template_app
          (template_hole 1, template_app (template_hole 0, template_var 0))
         )),
    ("Simplex.init_tableau_valuated", "\<nabla> (init_state ?t)",
     template_predicate
      (
         template_app
          (template_hole 1, template_app (template_hole 0, template_var 0))
         )),
    ("Simplex.init_unsat_flag", "~ \<U> (init_state ?t)",
     template_negation
      (
         template_predicate
          (
             template_app
              (template_hole 1,
               template_app (template_hole 0, template_var 0))
             )
         )),
    ("Simplex.init_index_valid", "index_valid ?as (init_state ?t)",
     template_predicate
      (
         template_app
          (template_app (template_hole 1, template_var 1),
           template_app (template_hole 0, template_var 0))
         )),
    ("Simplex.init_indices", "indices_state (init_state ?t) = {}",
     template_equation
      (template_app
        (template_hole 2, template_app (template_hole 1, template_var 0)),
       template_hole 0)),
    ("Simplex.init_tableau_id", "\<T> (init_state ?t) = ?t",
     template_equation
      (template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)),
       template_var 0)),
    ("Simplex.look_upd_simps", "Mapping.lookup Mapping.empty ?k = None",
     template_equation
      (template_app
        (template_app (template_hole 2, template_hole 1), template_var 0),
       template_hole 0)),
    ("Simplex.init_bounds",
     "\<B>\<^sub>i\<^sub>l (init_state ?t) = Mapping.empty",
     template_equation
      (template_app
        (template_hole 2, template_app (template_hole 1, template_var 0)),
       template_hole 0)),
    ("Simplex.init_bounds",
     "\<B>\<^sub>i\<^sub>u (init_state ?t) = Mapping.empty",
     template_equation
      (template_app
        (template_hole 2, template_app (template_hole 1, template_var 0)),
       template_hole 0)),
    ("Simplex.satisfies_consistent", "\<Turnstile> ?s --> \<diamond> ?s",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 0)),
           template_app (template_hole 0, template_var 0))
         )),
    ("Simplex.lhs_linear_poly_to_eq", "lhs (linear_poly_to_eq ?h ?v) = ?v",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_var 0)),
    ("Simplex.set_unsat_simps", "\<U> (set_unsat ?I ?s) = True",
     template_equation
      (template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_hole 0)),
    ("Simplex.update_simps", "\<T> (\<T>_update ?T ?s) = ?T",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_var 1)),
    ("Simplex.update_simps", "\<V> (\<V>_update ?V ?s) = ?V",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_var 1)),
    ("Simplex.fresh_var_monoinc",
     "?start <= FirstFreshVariable (preprocess' ?cs ?start)",
     template_inequation
      (less_equals, template_var 1,
       template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("Simplex.normalized_tableau_preprocess'",
     "\<triangle> (Tableau (preprocess' ?cs (start_fresh_variable ?cs)))",
     template_predicate
      (
         template_app
          (template_hole 3,
           template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_var 0),
               template_app (template_hole 0, template_var 0))))
         )),
    ("Simplex.init_satisfies_tableau",
     "\<langle>\<V> (init_state ?t)\<rangle> \<Turnstile>\<^sub>t ?t",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 3,
             template_app
              (template_hole 2,
               template_app
                (template_hole 1,
                 template_app (template_hole 0, template_var 0)))),
           template_var 0)
         )),
    ("Simplex.satisfies_satisfies_no_lhs",
     "\<Turnstile> ?s ==>
      \<Turnstile>\<^sub>n\<^sub>o\<^sub>l\<^sub>h\<^sub>s ?s",
     template_implication
      ([template_predicate
         (template_app (template_hole 1, template_var 0))],
       template_predicate
        (template_app (template_hole 0, template_var 0)))),
    ("Simplex.bounds_updates",
     "\<B>\<^sub>l (\<B>\<^sub>i\<^sub>u_update ?u ?s) = \<B>\<^sub>l ?s",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Simplex.bounds_updates",
     "\<B>\<^sub>u (\<B>\<^sub>i\<^sub>l_update ?u ?s) = \<B>\<^sub>u ?s",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Simplex.indices_state_set_unsat",
     "indices_state (set_unsat ?I ?s) = indices_state ?s",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Simplex.update_simps",
     "\<U> (\<B>\<^sub>i\<^sub>l_update ?up ?s) = \<U> ?s",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Simplex.update_simps",
     "\<U> (\<B>\<^sub>i\<^sub>u_update ?up ?s) = \<U> ?s",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Simplex.update_simps", "\<U> (\<T>_update ?T ?s) = \<U> ?s",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Simplex.update_simps", "\<U> (\<V>_update ?V ?s) = \<U> ?s",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Simplex.update_simps",
     "\<T> (\<B>\<^sub>i\<^sub>l_update ?up ?s) = \<T> ?s",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Simplex.update_simps",
     "\<T> (\<B>\<^sub>i\<^sub>u_update ?up ?s) = \<T> ?s",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Simplex.update_simps", "\<T> (\<V>_update ?V ?s) = \<T> ?s",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Simplex.set_unsat_simps", "\<T> (set_unsat ?I ?s) = \<T> ?s",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Simplex.update_simps",
     "\<U>\<^sub>c (\<B>\<^sub>i\<^sub>l_update ?up ?s) = \<U>\<^sub>c ?s",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Simplex.update_simps",
     "\<U>\<^sub>c (\<B>\<^sub>i\<^sub>u_update ?up ?s) = \<U>\<^sub>c ?s",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Simplex.update_simps",
     "\<U>\<^sub>c (\<T>_update ?T ?s) = \<U>\<^sub>c ?s",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Simplex.update_simps",
     "\<U>\<^sub>c (\<V>_update ?V ?s) = \<U>\<^sub>c ?s",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Simplex.update_simps",
     "\<V> (\<B>\<^sub>i\<^sub>l_update ?up ?s) = \<V> ?s",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Simplex.update_simps",
     "\<V> (\<B>\<^sub>i\<^sub>u_update ?up ?s) = \<V> ?s",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Simplex.update_simps", "\<V> (\<T>_update ?T ?s) = \<V> ?s",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Simplex.set_unsat_simps", "\<V> (set_unsat ?I ?s) = \<V> ?s",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Simplex.update_simps",
     "\<B>\<^sub>i\<^sub>l (\<B>\<^sub>i\<^sub>u_update ?up ?s) =
      \<B>\<^sub>i\<^sub>l ?s",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Simplex.update_simps",
     "\<B>\<^sub>i\<^sub>l (\<T>_update ?T ?s) = \<B>\<^sub>i\<^sub>l ?s",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Simplex.update_simps",
     "\<B>\<^sub>i\<^sub>l (\<V>_update ?V ?s) = \<B>\<^sub>i\<^sub>l ?s",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Simplex.set_unsat_simps",
     "\<B>\<^sub>i\<^sub>l (set_unsat ?I ?s) = \<B>\<^sub>i\<^sub>l ?s",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Simplex.update_simps",
     "\<B>\<^sub>i\<^sub>u (\<B>\<^sub>i\<^sub>l_update ?up ?s) =
      \<B>\<^sub>i\<^sub>u ?s",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Simplex.update_simps",
     "\<B>\<^sub>i\<^sub>u (\<T>_update ?T ?s) = \<B>\<^sub>i\<^sub>u ?s",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Simplex.update_simps",
     "\<B>\<^sub>i\<^sub>u (\<V>_update ?V ?s) = \<B>\<^sub>i\<^sub>u ?s",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Simplex.set_unsat_simps",
     "\<B>\<^sub>i\<^sub>u (set_unsat ?I ?s) = \<B>\<^sub>i\<^sub>u ?s",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Simplex.lvars_distinct",
     "distinct (map lhs (Tableau (preprocess' ?cs ?start)))",
     template_predicate
      (
         template_app
          (template_hole 4,
           template_app
            (template_app (template_hole 3, template_hole 2),
             template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 0))))
         )),
    ("Simplex.rvars_eq_linear_poly_to_eq",
     "rvars_eq (linear_poly_to_eq ?h ?v) = vars ?h",
     template_equation
      (template_app
        (template_hole 2,
         template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 0))),
       template_app (template_hole 2, template_var 1))),
    ("Simplex.bounds_compare_Some",
     "?x \<ge>\<^sub>l\<^sub>b Some ?c = (?c <= ?x)",
     template_equation
      (template_app
        (template_app (template_hole 2, template_var 1),
         template_app (template_hole 1, template_var 0)),
       template_app
        (template_app (template_hole 0, template_var 0), template_var 1))),
    ("Simplex.bounds_compare_Some",
     "?x \<ge>\<^sub>u\<^sub>b Some ?c = (?c <= ?x)",
     template_equation
      (template_app
        (template_app (template_hole 2, template_var 1),
         template_app (template_hole 1, template_var 0)),
       template_app
        (template_app (template_hole 0, template_var 0), template_var 1))),
    ("Simplex.bounds_compare_Some",
     "?x >\<^sub>l\<^sub>b Some ?c = (?c < ?x)",
     template_equation
      (template_app
        (template_app (template_hole 2, template_var 1),
         template_app (template_hole 1, template_var 0)),
       template_app
        (template_app (template_hole 0, template_var 0), template_var 1))),
    ("Simplex.bounds_compare_Some",
     "?x >\<^sub>u\<^sub>b Some ?c = (?c < ?x)",
     template_equation
      (template_app
        (template_app (template_hole 2, template_var 1),
         template_app (template_hole 1, template_var 0)),
       template_app
        (template_app (template_hole 0, template_var 0), template_var 1))),
    ("Simplex.bounds_compare_Some",
     "?x \<le>\<^sub>l\<^sub>b Some ?c = (?x <= ?c)",
     template_equation
      (template_app
        (template_app (template_hole 2, template_var 1),
         template_app (template_hole 1, template_var 0)),
       template_app
        (template_app (template_hole 0, template_var 1), template_var 0))),
    ("Simplex.bounds_compare_Some",
     "?x \<le>\<^sub>u\<^sub>b Some ?c = (?x <= ?c)",
     template_equation
      (template_app
        (template_app (template_hole 2, template_var 1),
         template_app (template_hole 1, template_var 0)),
       template_app
        (template_app (template_hole 0, template_var 1), template_var 0))),
    ("Simplex.bounds_compare_Some",
     "?x <\<^sub>l\<^sub>b Some ?c = (?x < ?c)",
     template_equation
      (template_app
        (template_app (template_hole 2, template_var 1),
         template_app (template_hole 1, template_var 0)),
       template_app
        (template_app (template_hole 0, template_var 1), template_var 0))),
    ("Simplex.bounds_compare_Some",
     "?x <\<^sub>u\<^sub>b Some ?c = (?x < ?c)",
     template_equation
      (template_app
        (template_app (template_hole 2, template_var 1),
         template_app (template_hole 1, template_var 0)),
       template_app
        (template_app (template_hole 0, template_var 1), template_var 0))),
    ("Simplex.normalize_ns_constraint",
     "?v \<Turnstile>\<^sub>n\<^sub>s normalize_ns_constraint ?c =
      ?v \<Turnstile>\<^sub>n\<^sub>s ?c",
     template_equation
      (template_app
        (template_app (template_hole 1, template_var 1),
         template_app (template_hole 0, template_var 0)),
       template_app
        (template_app (template_hole 1, template_var 1), template_var 0))),
    ("Simplex.set_unsat_simps",
     "\<U>\<^sub>c (set_unsat ?I ?s) = Some (remdups ?I)",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 2, template_var 1), template_var 0)),
       template_app
        (template_hole 1, template_app (template_hole 0, template_var 1)))),
    ("Simplex.update_simps",
     "\<B>\<^sub>i\<^sub>l (\<B>\<^sub>i\<^sub>l_update ?up ?s) =
      ?up (\<B>\<^sub>i\<^sub>l ?s)",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app
        (template_var 1, template_app (template_hole 1, template_var 0)))),
    ("Simplex.update_simps",
     "\<B>\<^sub>i\<^sub>u (\<B>\<^sub>i\<^sub>u_update ?up ?s) =
      ?up (\<B>\<^sub>i\<^sub>u ?s)",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app
        (template_var 1, template_app (template_hole 1, template_var 0)))),
    ("Simplex.init_tableau_normalized",
     "\<triangle> ?t ==> \<triangle> (\<T> (init_state ?t))",
     template_implication
      ([template_predicate
         (template_app (template_hole 2, template_var 0))],
       template_predicate
        (
           template_app
            (template_hole 2,
             template_app
              (template_hole 1,
               template_app (template_hole 0, template_var 0)))
           ))),
    ("Simplex.compare_strict_nonstrict",
     "?x >\<^sub>l\<^sub>b ?b ==> ?x \<ge>\<^sub>l\<^sub>b ?b",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 1), template_var 0)
           ))),
    ("Simplex.compare_strict_nonstrict",
     "?x >\<^sub>u\<^sub>b ?b ==> ?x \<ge>\<^sub>u\<^sub>b ?b",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 1), template_var 0)
           ))),
    ("Simplex.i_satisfies_atom_set'_stronger",
     "?Iv \<Turnstile>\<^sub>i\<^sub>a\<^sub>e\<^sub>s ?as ==>
      ?Iv \<Turnstile>\<^sub>i\<^sub>a\<^sub>s ?as",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 1), template_var 0)
           ))),
    ("Simplex.compare_strict_nonstrict",
     "?x <\<^sub>l\<^sub>b ?b ==> ?x \<le>\<^sub>l\<^sub>b ?b",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 1), template_var 0)
           ))),
    ("Simplex.compare_strict_nonstrict",
     "?x <\<^sub>u\<^sub>b ?b ==> ?x \<le>\<^sub>u\<^sub>b ?b",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 1), template_var 0)
           ))),
    ("Simplex.satisfies_atom'_stronger",
     "?v \<Turnstile>\<^sub>a\<^sub>e ?a ==> ?v \<Turnstile>\<^sub>a ?a",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 1), template_var 0)
           ))),
    ("Simplex_Auxiliary.butlast_empty_conv_length",
     "(butlast ?l = []) = (length ?l <= 1)",
     template_equation
      (template_app
        (template_app
          (template_hole 5, template_app (template_hole 4, template_var 0)),
         template_hole 3),
       template_app
        (template_app
          (template_hole 2, template_app (template_hole 1, template_var 0)),
         template_hole 0))),
    ("Simplex_Algebra.uminus_less_lrv", "(- ?a < - ?b) = (?b < ?a)",
     template_equation
      (template_app
        (template_app
          (template_hole 1, template_app (template_hole 0, template_var 1)),
         template_app (template_hole 0, template_var 0)),
       template_app
        (template_app (template_hole 1, template_var 0), template_var 1))),
    ("Simplex.init_atoms_equiv_bounds", "{} \<doteq> \<B> (init_state ?t)",
     template_predicate
      (
         template_app
          (template_app (template_hole 5, template_hole 4),
           template_app
            (template_app
              (template_hole 3,
               template_app
                (template_hole 2,
                 template_app (template_hole 1, template_var 0))),
             template_app
              (template_hole 0,
               template_app (template_hole 1, template_var 0))))
         )),
    ("Simplex.neg_bounds_compare",
     "~ ?c \<ge>\<^sub>l\<^sub>b ?b ==> ?c <\<^sub>l\<^sub>b ?b",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 1, template_var 1),
                  template_var 0)
                )
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 1), template_var 0)
           ))),
    ("Simplex.neg_bounds_compare",
     "~ ?c \<ge>\<^sub>u\<^sub>b ?b ==> ?c <\<^sub>u\<^sub>b ?b",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 1, template_var 1),
                  template_var 0)
                )
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 1), template_var 0)
           ))),
    ("Simplex.neg_bounds_compare",
     "~ ?c >\<^sub>l\<^sub>b ?b ==> ?c \<le>\<^sub>l\<^sub>b ?b",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 1, template_var 1),
                  template_var 0)
                )
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 1), template_var 0)
           ))),
    ("Simplex.neg_bounds_compare",
     "~ ?c >\<^sub>u\<^sub>b ?b ==> ?c \<le>\<^sub>u\<^sub>b ?b",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 1, template_var 1),
                  template_var 0)
                )
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 1), template_var 0)
           ))),
    ("Simplex.neg_bounds_compare",
     "~ ?c \<le>\<^sub>l\<^sub>b ?b ==> ?c >\<^sub>l\<^sub>b ?b",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 1, template_var 1),
                  template_var 0)
                )
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 1), template_var 0)
           ))),
    ("Simplex.neg_bounds_compare",
     "~ ?c \<le>\<^sub>u\<^sub>b ?b ==> ?c >\<^sub>u\<^sub>b ?b",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 1, template_var 1),
                  template_var 0)
                )
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 1), template_var 0)
           ))),
    ("Simplex.neg_bounds_compare",
     "~ ?c <\<^sub>l\<^sub>b ?b ==> ?c \<ge>\<^sub>l\<^sub>b ?b",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 1, template_var 1),
                  template_var 0)
                )
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 1), template_var 0)
           ))),
    ("Simplex.neg_bounds_compare",
     "~ ?c <\<^sub>u\<^sub>b ?b ==> ?c \<ge>\<^sub>u\<^sub>b ?b",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 1, template_var 1),
                  template_var 0)
                )
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 1), template_var 0)
           ))),
    ("Simplex.rhs_no_zero_tableau_start",
     "0 ~: rhs ` set (Tableau (preprocess' ?cs ?start))",
     template_negation
      (
         template_predicate
          (
             template_app
              (template_app (template_hole 6, template_hole 5),
               template_app
                (template_app (template_hole 4, template_hole 3),
                 template_app
                  (template_hole 2,
                   template_app
                    (template_hole 1,
                     template_app
                      (template_app (template_hole 0, template_var 1),
                       template_var 0)))))
             )
         )),
    ("Simplex.satisfies_bounds_consistent",
     "?v \<Turnstile>\<^sub>b \<B> ?s --> \<diamond> ?s",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 5,
             template_app
              (template_app (template_hole 4, template_var 1),
               template_app
                (template_app
                  (template_hole 3,
                   template_app (template_hole 2, template_var 0)),
                 template_app (template_hole 1, template_var 0)))),
           template_app (template_hole 0, template_var 0))
         )),
    ("Simplex.lvars_tableau_ge_start",
     "ALL var:lvars (Tableau (preprocess' ?cs ?start)). ?start <= var",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 4,
             template_app
              (template_hole 3,
               template_app
                (template_hole 2,
                 template_app
                  (template_app (template_hole 1, template_var 1),
                   template_var 0)))),
           t_empty)
         )),
    ("Simplex.unsat_state_core_unsat",
     "unsat_state_core ?s ==> \<nexists>v. v \<Turnstile>\<^sub>s ?s",
     template_implication
      ([template_predicate
         (template_app (template_hole 3, template_var 0))],
       template_negation
        (template_predicate (template_app (template_hole 1, t_empty))))),
    ("Simplex.state_satisfies_index",
     "?v \<Turnstile>\<^sub>s ?s ==>
      (?I, ?v) \<Turnstile>\<^sub>i\<^sub>s ?s",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 2),
              template_var 1)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 0),
                 template_var 2)),
             template_var 1)
           ))),
    ("Simplex.i_satisfies_normalize_ns_constraint",
     "?Iv \<Turnstile>\<^sub>i\<^sub>n\<^sub>s\<^sub>s 
      (map_prod id normalize_ns_constraint ` ?cs) =
      ?Iv \<Turnstile>\<^sub>i\<^sub>n\<^sub>s\<^sub>s  ?cs",
     template_equation
      (template_app
        (template_app (template_hole 4, template_var 1),
         template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app (template_hole 2, template_hole 1),
               template_hole 0)),
           template_var 0)),
       template_app
        (template_app (template_hole 4, template_var 1), template_var 0))),
    ("Simplex.preprocess'_code",
     "preprocess' [] ?v = IState ?v [] [] Map.empty []",
     template_equation
      (template_app
        (template_app (template_hole 6, template_hole 5), template_var 0),
       template_app
        (template_app
          (template_app
            (template_app
              (template_app (template_hole 4, template_var 0),
               template_hole 3),
             template_hole 2),
           t_empty),
         template_hole 0))),
    ("Simplex.min_lvar_not_in_bounds_lvars",
     "min_lvar_not_in_bounds ?s = Some ?x\<^sub>i -->
      ?x\<^sub>i : lvars (\<T> ?s)",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 6,
             template_app
              (template_app
                (template_hole 5,
                 template_app (template_hole 4, template_var 1)),
               template_app (template_hole 3, template_var 0))),
           template_app
            (template_app (template_hole 2, template_var 0),
             template_app
              (template_hole 1,
               template_app (template_hole 0, template_var 1))))
         )),
    ("Simplex.init'_unsat",
     "\<triangle> ?t ==>
      \<U> (init_state ?t) --> minimal_unsat_state_core (init_state ?t)",
     template_implication
      ([template_predicate
         (template_app (template_hole 4, template_var 0))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 3,
               template_app
                (template_hole 2,
                 template_app (template_hole 1, template_var 0))),
             template_app
              (template_hole 0,
               template_app (template_hole 1, template_var 0)))
           ))),
    ("Simplex.index_valid_indices_state",
     "index_valid ?as ?s ==> indices_state ?s <= fst ` ?as",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 1),
              template_var 0)
            )],
       template_inequation
        (less_equals, template_app (template_hole 2, template_var 0),
         template_app
          (template_app (template_hole 1, template_hole 0),
           template_var 1)))),
    ("Simplex.minimal_unsat_core_tabl_atomsD",
     "minimal_unsat_core_tabl_atoms ?I ?t ?as ==> ?I <= fst ` ?as",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 3, template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_inequation
        (less_equals, template_var 2,
         template_app
          (template_app (template_hole 1, template_hole 0),
           template_var 0)))),
    ("Simplex.satisfies_atom_set'_stronger",
     "?v \<Turnstile>\<^sub>a\<^sub>e\<^sub>s ?as ==>
      ?v \<Turnstile>\<^sub>a\<^sub>s ?as",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 1), t_empty)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 0), template_var 1)
           ))),
    ("Simplex.one_zero_contra", "[| 1 <= ?x; ?x <= 0 |] ==> False",
     template_implication
      ([template_inequation (less_equals, template_hole 2, template_var 0),
        template_inequation (less_equals, template_var 0, template_hole 1)],
       template_predicate (template_hole 0))),
    ("Simplex.bounds_compare_contradictory",
     "[| ?c \<ge>\<^sub>l\<^sub>b ?b; ?c <\<^sub>l\<^sub>b ?b |] ==> False",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 1),
              template_var 0)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 1),
              template_var 0)
            )],
       template_predicate (template_hole 0))),
    ("Simplex.bounds_compare_contradictory",
     "[| ?c \<ge>\<^sub>u\<^sub>b ?b; ?c <\<^sub>u\<^sub>b ?b |] ==> False",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 1),
              template_var 0)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 1),
              template_var 0)
            )],
       template_predicate (template_hole 0))),
    ("Simplex.bounds_compare_contradictory",
     "[| ?c >\<^sub>l\<^sub>b ?b; ?c \<le>\<^sub>l\<^sub>b ?b |] ==> False",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 1),
              template_var 0)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 1),
              template_var 0)
            )],
       template_predicate (template_hole 0))),
    ("Simplex.bounds_compare_contradictory",
     "[| ?c >\<^sub>u\<^sub>b ?b; ?c \<le>\<^sub>u\<^sub>b ?b |] ==> False",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 1),
              template_var 0)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 1),
              template_var 0)
            )],
       template_predicate (template_hole 0))),
    ("Simplex.index_valid_distinct_indices",
     "[| index_valid ?as ?s; distinct_indices_atoms ?as |]
      ==> distinct_indices_state ?s",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 1),
              template_var 0)
            ),
        template_predicate
         (template_app (template_hole 1, template_var 1))],
       template_predicate
        (template_app (template_hole 0, template_var 0)))),
    ("Simplex.bounds_compare_contradictory",
     "[| ?c \<le>\<^sub>l\<^sub>b ?b; ?c >\<^sub>l\<^sub>b ?b |] ==> False",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 1),
              template_var 0)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 1),
              template_var 0)
            )],
       template_predicate (template_hole 0))),
    ("Simplex.bounds_compare_contradictory",
     "[| ?c \<le>\<^sub>u\<^sub>b ?b; ?c >\<^sub>u\<^sub>b ?b |] ==> False",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 1),
              template_var 0)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 1),
              template_var 0)
            )],
       template_predicate (template_hole 0))),
    ("Simplex.bounds_compare_contradictory",
     "[| ?c <\<^sub>l\<^sub>b ?b; ?c \<ge>\<^sub>l\<^sub>b ?b |] ==> False",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 1),
              template_var 0)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 1),
              template_var 0)
            )],
       template_predicate (template_hole 0))),
    ("Simplex.bounds_compare_contradictory",
     "[| ?c <\<^sub>u\<^sub>b ?b; ?c \<ge>\<^sub>u\<^sub>b ?b |] ==> False",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 1),
              template_var 0)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 1),
              template_var 0)
            )],
       template_predicate (template_hole 0))),
    ("Simplex.look_upd",
     "Mapping.lookup (Mapping.update ?k ?v ?m) = Mapping.lookup ?m(?k |->
      ?v)",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_app (template_hole 2, template_var 2),
             template_var 1),
           template_var 0)),
       template_app
        (template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 3, template_var 0)),
           template_var 2),
         template_app (template_hole 0, template_var 1)))),
    ("Simplex.init_satisfies_bounds",
     "\<langle>\<V> (init_state ?t)\<rangle> \<Turnstile>\<^sub>b
      \<B> (init_state ?t)",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 6,
             template_app
              (template_hole 5,
               template_app
                (template_hole 4,
                 template_app (template_hole 3, template_var 0)))),
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_hole 1,
                 template_app (template_hole 3, template_var 0))),
             template_app
              (template_hole 0,
               template_app (template_hole 3, template_var 0))))
         )),
    ("Simplex.init'_sat",
     "\<triangle> ?t ==>
      ~ \<U> (init_state ?t) --> \<Turnstile> (init_state ?t)",
     template_implication
      ([template_predicate
         (template_app (template_hole 5, template_var 0))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 4,
               template_app
                (template_hole 3,
                 template_app
                  (template_hole 2,
                   template_app (template_hole 1, template_var 0)))),
             template_app
              (template_hole 0,
               template_app (template_hole 1, template_var 0)))
           ))),
    ("Simplex_Auxiliary.last_tl",
     "1 < length ?l ==> last (tl ?l) = last ?l",
     template_implication
      ([template_inequation
         (less_than, template_hole 4,
          template_app (template_hole 3, template_var 0))],
       template_equation
        (template_app
          (template_hole 1, template_app (template_hole 0, template_var 0)),
         template_app (template_hole 1, template_var 0)))),
    ("Simplex.opposite_dir",
     "\<unrhd>\<^sub>l\<^sub>b (%x y. y < x) ?a ?b =
      \<unlhd>\<^sub>u\<^sub>b (<) ?a ?b",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 2, t_empty), template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_app (template_hole 0, template_hole 1), template_var 1),
         template_var 0))),
    ("Simplex.opposite_dir",
     "\<unrhd>\<^sub>u\<^sub>b (%x y. y < x) ?a ?b =
      \<unlhd>\<^sub>l\<^sub>b (<) ?a ?b",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 2, t_empty), template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_app (template_hole 0, template_hole 1), template_var 1),
         template_var 0))),
    ("Simplex.opposite_dir",
     "\<rhd>\<^sub>l\<^sub>b (%x y. y < x) ?a ?b =
      \<lhd>\<^sub>u\<^sub>b (<) ?a ?b",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 2, t_empty), template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_app (template_hole 0, template_hole 1), template_var 1),
         template_var 0))),
    ("Simplex.opposite_dir",
     "\<rhd>\<^sub>u\<^sub>b (%x y. y < x) ?a ?b =
      \<lhd>\<^sub>l\<^sub>b (<) ?a ?b",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 2, t_empty), template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_app (template_hole 0, template_hole 1), template_var 1),
         template_var 0))),
    ("Simplex.opposite_dir",
     "\<unlhd>\<^sub>l\<^sub>b (%x y. y < x) ?a ?b =
      \<unrhd>\<^sub>u\<^sub>b (<) ?a ?b",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 2, t_empty), template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_app (template_hole 0, template_hole 1), template_var 1),
         template_var 0))),
    ("Simplex.opposite_dir",
     "\<unlhd>\<^sub>u\<^sub>b (%x y. y < x) ?a ?b =
      \<unrhd>\<^sub>l\<^sub>b (<) ?a ?b",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 2, t_empty), template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_app (template_hole 0, template_hole 1), template_var 1),
         template_var 0))),
    ("Simplex.opposite_dir",
     "\<lhd>\<^sub>l\<^sub>b (%x y. y < x) ?a ?b =
      \<rhd>\<^sub>u\<^sub>b (<) ?a ?b",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 2, t_empty), template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_app (template_hole 0, template_hole 1), template_var 1),
         template_var 0))),
    ("Simplex.opposite_dir",
     "\<lhd>\<^sub>u\<^sub>b (%x y. y < x) ?a ?b =
      \<rhd>\<^sub>l\<^sub>b (<) ?a ?b",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 2, t_empty), template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_app (template_hole 0, template_hole 1), template_var 1),
         template_var 0))),
    ("Simplex_Auxiliary.min_satisfying_None",
     "min_satisfying ?P ?l = None --> (ALL x:set ?l. ~ ?P x)",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 6,
             template_app
              (template_app
                (template_hole 5,
                 template_app
                  (template_app (template_hole 4, template_var 1),
                   template_var 0)),
               template_hole 3)),
           template_app
            (template_app
              (template_hole 2,
               template_app (template_hole 1, template_var 0)),
             t_empty))
         )),
    ("Simplex.first_fresh_variable_not_in_lvars",
     "ALL var:lvars (Tableau (preprocess' ?cs ?start)).
         var < FirstFreshVariable (preprocess' ?cs ?start)",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 5,
             template_app
              (template_hole 4,
               template_app
                (template_hole 3,
                 template_app
                  (template_app (template_hole 2, template_var 1),
                   template_var 0)))),
           t_empty)
         )),
    ("Simplex.init'_tableau_equiv",
     "\<triangle> ?t ==>
      ?v \<Turnstile>\<^sub>t ?t =
      ?v \<Turnstile>\<^sub>t \<T> (init_state ?t)",
     template_implication
      ([template_predicate
         (template_app (template_hole 4, template_var 1))],
       template_equation
        (template_app
          (template_app (template_hole 2, template_var 0), template_var 1),
         template_app
          (template_app (template_hole 2, template_var 0),
           template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 1)))))),
    ("Simplex.init'_atoms_equiv_bounds",
     "\<triangle> ?t ==> {} \<doteq> \<B> (init_state ?t)",
     template_implication
      ([template_predicate
         (template_app (template_hole 6, template_var 0))],
       template_predicate
        (
           template_app
            (template_app (template_hole 5, template_hole 4),
             template_app
              (template_app
                (template_hole 3,
                 template_app
                  (template_hole 2,
                   template_app (template_hole 1, template_var 0))),
               template_app
                (template_hole 0,
                 template_app (template_hole 1, template_var 0))))
           ))),
    ("Simplex_Auxiliary.hd_tl", "1 < length ?l ==> hd (tl ?l) = ?l ! 1",
     template_implication
      ([template_inequation
         (less_than, template_hole 5,
          template_app (template_hole 4, template_var 0))],
       template_equation
        (template_app
          (template_hole 2, template_app (template_hole 1, template_var 0)),
         template_app
          (template_app (template_hole 0, template_var 0),
           template_hole 5)))),
    ("Simplex.subst_no_effect",
     "?x\<^sub>j ~: vars ?lp ==> subst_var ?x\<^sub>j ?lp' ?lp = ?lp",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 3, template_var 2),
                  template_app (template_hole 2, template_var 1))
                )
            )],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 0, template_var 2),
             template_var 0),
           template_var 1),
         template_var 1))),
    ("Simplex.index_valid_mono",
     "[| ?as <= ?bs; index_valid ?as ?s |] ==> index_valid ?bs ?s",
     template_implication
      ([template_inequation (less_equals, template_var 2, template_var 1),
        template_predicate
         (
            template_app
             (template_app (template_hole 0, template_var 2),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 1), template_var 0)
           ))),
    ("Simplex.i_satisfies_atom_set_mono",
     "[| ?as <= ?as'; ?v \<Turnstile>\<^sub>i\<^sub>a\<^sub>s ?as' |]
      ==> ?v \<Turnstile>\<^sub>i\<^sub>a\<^sub>s ?as",
     template_implication
      ([template_inequation (less_equals, template_var 2, template_var 1),
        template_predicate
         (
            template_app
             (template_app (template_hole 0, template_var 0),
              template_var 1)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 0), template_var 2)
           ))),
    ("Simplex.atoms_imply_bounds_index_mono",
     "[| ?as <= ?as'; ?as \<Turnstile>\<^sub>i ?bi |]
      ==> ?as' \<Turnstile>\<^sub>i ?bi",
     template_implication
      ([template_inequation (less_equals, template_var 2, template_var 1),
        template_predicate
         (
            template_app
             (template_app (template_hole 0, template_var 2),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 1), template_var 0)
           ))),
    ("Simplex.bounds_lg",
     "[| ?c \<ge>\<^sub>u\<^sub>b ?b; ?x \<le>\<^sub>u\<^sub>b ?b |]
      ==> ?x <= ?c",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 0),
              template_var 1)
            )],
       template_inequation (less_equals, template_var 0, template_var 2))),
    ("Simplex.bounds_lg",
     "[| ?c \<ge>\<^sub>u\<^sub>b ?b; ?x <\<^sub>u\<^sub>b ?b |]
      ==> ?x < ?c",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 0),
              template_var 1)
            )],
       template_inequation (less_than, template_var 0, template_var 2))),
    ("Simplex.bounds_lg",
     "[| ?c >\<^sub>u\<^sub>b ?b; ?x \<le>\<^sub>u\<^sub>b ?b |]
      ==> ?x < ?c",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 0),
              template_var 1)
            )],
       template_inequation (less_than, template_var 0, template_var 2))),
    ("Simplex.bounds_lg",
     "[| ?c \<le>\<^sub>l\<^sub>b ?b; ?x \<ge>\<^sub>l\<^sub>b ?b |]
      ==> ?c <= ?x",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 0),
              template_var 1)
            )],
       template_inequation (less_equals, template_var 2, template_var 0))),
    ("Simplex.bounds_lg",
     "[| ?c \<le>\<^sub>l\<^sub>b ?b; ?x >\<^sub>l\<^sub>b ?b |]
      ==> ?c < ?x",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 0),
              template_var 1)
            )],
       template_inequation (less_than, template_var 2, template_var 0))),
    ("Simplex.bounds_lg",
     "[| ?c <\<^sub>l\<^sub>b ?b; ?x \<ge>\<^sub>l\<^sub>b ?b |]
      ==> ?c < ?x",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 0),
              template_var 1)
            )],
       template_inequation (less_than, template_var 2, template_var 0))),
    ("Simplex.zero_satisfies",
     "[| poly ?c = 0; zero_satisfies ?c |]
      ==> ?v \<Turnstile>\<^sub>n\<^sub>s ?c",
     template_implication
      ([template_equation
         (template_app (template_hole 3, template_var 1), template_hole 2),
        template_predicate
         (template_app (template_hole 1, template_var 1))],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 0), template_var 1)
           ))),
    ("Simplex_Auxiliary.map_parametrize_idx",
     "map ?f ?l = map (%i. ?f (?l ! i)) [0..<length ?l]",
     template_equation
      (template_app
        (template_app (template_hole 5, template_var 1), template_var 0),
       template_app
        (template_app (template_hole 4, t_empty),
         template_app
          (template_app (template_hole 2, template_hole 1),
           template_app (template_hole 0, template_var 0))))),
    ("Simplex.qdelta_constraint_to_atom_monom",
     "is_monom (poly ?h) ==>
      ?v \<Turnstile>\<^sub>a qdelta_constraint_to_atom ?h ?var =
      ?v \<Turnstile>\<^sub>n\<^sub>s ?h",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 5,
              template_app (template_hole 4, template_var 2))
            )],
       template_equation
        (template_app
          (template_app (template_hole 2, template_var 1),
           template_app
            (template_app (template_hole 1, template_var 2),
             template_var 0)),
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 2)))),
    ("Simplex.min_rvar_incdec_eq_Some_rvars",
     "min_rvar_incdec_eq ?dir ?s ?eq = Inr ?x\<^sub>j ==>
      ?x\<^sub>j : rvars_eq ?eq",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_app (template_hole 4, template_var 3),
              template_var 2),
            template_var 1),
          template_app (template_hole 3, template_var 0))],
       template_predicate
        (
           template_app
            (template_app (template_hole 2, template_var 0),
             template_app
              (template_hole 1,
               template_app (template_hole 0, template_var 1)))
           ))),
    ("Simplex.preprocess",
     "preprocess ?cs = (?t, ?as, ?trans_v, ?ui) ==> \<triangle> ?t",
     template_implication
      ([template_equation
         (template_app (template_hole 4, template_var 4),
          template_app
           (template_app (template_hole 3, template_var 3),
            template_app
             (template_app (template_hole 2, template_var 2),
              template_app
               (template_app (template_hole 1, template_var 1),
                template_var 0))))],
       template_predicate
        (template_app (template_hole 0, template_var 3)))),
    ("Simplex.bounds_updates",
     "\<B>\<^sub>l
       (\<B>\<^sub>i\<^sub>l_update (Mapping.update ?x (?i, ?c)) ?s) =
      \<B>\<^sub>l ?s(?x |-> ?c)",
     template_equation
      (template_app
        (template_hole 5,
         template_app
          (template_app
            (template_hole 4,
             template_app
              (template_app (template_hole 3, template_var 3),
               template_app
                (template_app (template_hole 2, template_var 2),
                 template_var 1))),
           template_var 0)),
       template_app
        (template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 5, template_var 0)),
           template_var 3),
         template_app (template_hole 0, template_var 1)))),
    ("Simplex.bounds_updates",
     "\<B>\<^sub>u
       (\<B>\<^sub>i\<^sub>u_update (Mapping.update ?x (?i, ?c)) ?s) =
      \<B>\<^sub>u ?s(?x |-> ?c)",
     template_equation
      (template_app
        (template_hole 5,
         template_app
          (template_app
            (template_hole 4,
             template_app
              (template_app (template_hole 3, template_var 3),
               template_app
                (template_app (template_hole 2, template_var 2),
                 template_var 1))),
           template_var 0)),
       template_app
        (template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 5, template_var 0)),
           template_var 3),
         template_app (template_hole 0, template_var 1)))),
    ("Simplex.set_unsat_bounds_id", "\<B> (set_unsat ?I ?s) = \<B> ?s",
     template_equation
      (template_app
        (template_app
          (template_hole 3,
           template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_var 1),
               template_var 0))),
         template_app
          (template_hole 0,
           template_app
            (template_app (template_hole 1, template_var 1),
             template_var 0))),
       template_app
        (template_app
          (template_hole 3, template_app (template_hole 2, template_var 0)),
         template_app (template_hole 0, template_var 0)))),
    ("Simplex.vars_subst_var",
     "vars (subst_var ?x\<^sub>j ?lp' ?lp)
      <= vars ?lp - {?x\<^sub>j} Un vars ?lp'",
     template_inequation
      (less_equals,
       template_app
        (template_hole 5,
         template_app
          (template_app
            (template_app (template_hole 4, template_var 2),
             template_var 1),
           template_var 0)),
       template_app
        (template_app
          (template_hole 3,
           template_app
            (template_app
              (template_hole 2,
               template_app (template_hole 5, template_var 0)),
             template_app
              (template_app (template_hole 1, template_var 2),
               template_hole 0))),
         template_app (template_hole 5, template_var 1)))),
    ("Simplex.vars_tableau_vars_constraints",
     "rvars (Tableau (preprocess' ?cs ?start))
      <= vars_constraints (map snd ?cs)",
     template_inequation
      (less_equals,
       template_app
        (template_hole 10,
         template_app
          (template_hole 9,
           template_app
            (template_app (template_hole 8, template_var 1),
             template_var 0))),
       template_app
        (template_hole 7,
         template_app
          (template_hole 6,
           template_app
            (template_app (template_hole 5, template_hole 4),
             template_app
              (template_app (template_hole 3, template_hole 2),
               template_app
                (template_app (template_hole 1, template_hole 0),
                 template_var 1))))))),
    ("Simplex.vars_subst_var_supset",
     "vars ?lp - {?x\<^sub>j} - vars ?lp'
      <= vars (subst_var ?x\<^sub>j ?lp' ?lp)",
     template_inequation
      (less_equals,
       template_app
        (template_app
          (template_hole 4,
           template_app
            (template_app
              (template_hole 4,
               template_app (template_hole 3, template_var 2)),
             template_app
              (template_app (template_hole 2, template_var 1),
               template_hole 1))),
         template_app (template_hole 3, template_var 0)),
       template_app
        (template_hole 3,
         template_app
          (template_app
            (template_app (template_hole 0, template_var 1),
             template_var 0),
           template_var 2)))),
    ("Simplex.start_fresh_variable_fresh",
     "ALL var:vars_constraints (map snd ?cs).
         var < start_fresh_variable ?cs",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 10,
             template_app
              (template_hole 9,
               template_app
                (template_hole 8,
                 template_app
                  (template_app (template_hole 7, template_hole 6),
                   template_app
                    (template_app (template_hole 5, template_hole 4),
                     template_app
                      (template_app (template_hole 3, template_hole 2),
                       template_var 0)))))),
           t_empty)
         )),
    ("Simplex.simplex",
     "simplex ?cs = Inr ?v ==>
      \<langle>?v\<rangle> \<Turnstile>\<^sub>c\<^sub>s set ?cs",
     template_implication
      ([template_equation
         (template_app (template_hole 5, template_var 1),
          template_app (template_hole 4, template_var 0))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 3,
               template_app (template_hole 2, template_var 1)),
             t_empty)
           ))),
    ("Simplex.minimal_unsat_core_tabl_atoms_mono",
     "[| ?as <= ?bs; minimal_unsat_core_tabl_atoms ?I ?t ?as |]
      ==> minimal_unsat_core_tabl_atoms ?I ?t ?bs",
     template_implication
      ([template_inequation (less_equals, template_var 3, template_var 2),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 0, template_var 1),
                template_var 0),
              template_var 3)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0),
             template_var 2)
           ))),
    ("Simplex.satisfies_tableau_Cons",
     "[| ?v \<Turnstile>\<^sub>t ?t; ?v \<Turnstile>\<^sub>e ?e |]
      ==> ?v \<Turnstile>\<^sub>t (?e # ?t)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 2),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 2, template_var 2),
             template_app
              (template_app (template_hole 0, template_var 0),
               template_var 1))
           ))),
    ("Simplex.not_zero_satisfies",
     "[| poly ?c = 0; ~ zero_satisfies ?c |]
      ==> ~ ?v \<Turnstile>\<^sub>n\<^sub>s ?c",
     template_implication
      ([template_equation
         (template_app (template_hole 4, template_var 1), template_hole 3),
        template_negation
         (
            template_predicate
             (template_app (template_hole 1, template_var 1))
            )],
       template_negation
        (
           template_predicate
            (
               template_app
                (template_app (template_hole 0, template_var 0),
                 template_var 1)
               )
           ))),
    ("Simplex.preprocess_part_2",
     "[| preprocess_part_2 ?as ?t = (?t', ?tv); \<triangle> ?t |]
      ==> \<triangle> ?t'",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 2, template_var 3), template_var 2),
          template_app
           (template_app (template_hole 1, template_var 1),
            template_var 0)),
        template_predicate
         (template_app (template_hole 0, template_var 2))],
       template_predicate
        (template_app (template_hole 0, template_var 1)))),
    ("Simplex.normalized_tableau_unique_eq_for_lvar",
     "\<triangle> ?t ==> ALL x:lvars ?t. EX! p. (x, p) : set ?t",
     template_implication
      ([template_predicate
         (template_app (template_hole 6, template_var 0))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 5,
               template_app (template_hole 4, template_var 0)),
             t_empty)
           ))),
    ("Simplex_Auxiliary.tl_nth", "?l ~= [] ==> tl ?l ! ?n = ?l ! (?n + 1)",
     template_implication
      ([template_negation
         (template_equation (template_var 1, template_hole 5))],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app (template_hole 2, template_var 1)),
           template_var 0),
         template_app
          (template_app (template_hole 3, template_var 1),
           template_app
            (template_app (template_hole 1, template_var 0),
             template_hole 0))))),
    ("Simplex_Auxiliary.list_min_Min",
     "?l ~= [] ==> list_min ?l = Min (set ?l)",
     template_implication
      ([template_negation
         (template_equation (template_var 0, template_hole 7))],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 5, template_hole 4),
             template_app (template_hole 3, template_var 0)),
           template_app (template_hole 2, template_var 0)),
         template_app
          (template_hole 1,
           template_app (template_hole 0, template_var 0))))),
    ("Simplex.pivot_eq_satisfies_eq",
     "?y : rvars_eq ?e ==>
      ?v \<Turnstile>\<^sub>e ?e = ?v \<Turnstile>\<^sub>e pivot_eq ?e ?y",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 2),
              template_app
               (template_hole 4,
                template_app (template_hole 3, template_var 1)))
            )],
       template_equation
        (template_app
          (template_app (template_hole 1, template_var 0), template_var 1),
         template_app
          (template_app (template_hole 1, template_var 0),
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 2))))),
    ("Simplex_Auxiliary.butlast_nth",
     "?n + 1 < length ?l ==> butlast ?l ! ?n = ?l ! ?n",
     template_implication
      ([template_inequation
         (less_than,
          template_app
           (template_app (template_hole 5, template_var 1),
            template_hole 4),
          template_app (template_hole 3, template_var 0))],
       template_equation
        (template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 0)),
           template_var 1),
         template_app
          (template_app (template_hole 1, template_var 0),
           template_var 1)))),
    ("Simplex.min_lvar_not_in_bounds_None'",
     "min_lvar_not_in_bounds ?s = None -->
      \<langle>\<V> ?s\<rangle> \<Turnstile>\<^sub>b \<B> ?s \<parallel>
      lvars (\<T> ?s)",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 11,
             template_app
              (template_app
                (template_hole 10,
                 template_app (template_hole 9, template_var 0)),
               template_hole 8)),
           template_app
            (template_app
              (template_app
                (template_hole 7,
                 template_app
                  (template_hole 6,
                   template_app (template_hole 5, template_var 0))),
               template_app
                (template_app
                  (template_hole 4,
                   template_app (template_hole 3, template_var 0)),
                 template_app (template_hole 2, template_var 0))),
             template_app
              (template_hole 1,
               template_app (template_hole 0, template_var 0))))
         )),
    ("Simplex.min_lvar_not_in_bounds_Some",
     "min_lvar_not_in_bounds ?s = Some ?x\<^sub>i -->
      ~ in_bounds ?x\<^sub>i \<langle>\<V> ?s\<rangle> (\<B> ?s)",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 10,
             template_app
              (template_app
                (template_hole 9,
                 template_app (template_hole 8, template_var 1)),
               template_app (template_hole 7, template_var 0))),
           template_app
            (template_hole 6,
             template_app
              (template_app
                (template_app (template_hole 5, template_var 0),
                 template_app
                  (template_hole 4,
                   template_app (template_hole 3, template_var 1))),
               template_app
                (template_app
                  (template_hole 2,
                   template_app (template_hole 1, template_var 1)),
                 template_app (template_hole 0, template_var 1)))))
         )),
    ("Simplex.equiv_subst_var",
     "?v ?x\<^sub>j = ?lp' \<lbrace> ?v \<rbrace> -->
      ?lp \<lbrace> ?v \<rbrace> =
      subst_var ?x\<^sub>j ?lp' ?lp \<lbrace> ?v \<rbrace>",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app
                (template_hole 2,
                 template_app (template_var 3, template_var 2)),
               template_app
                (template_app (template_hole 1, template_var 1),
                 template_var 3))),
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 0),
                 template_var 3)),
             template_app
              (template_app
                (template_hole 1,
                 template_app
                  (template_app
                    (template_app (template_hole 0, template_var 2),
                     template_var 1),
                   template_var 0)),
               template_var 3)))
         )),
    ("Simplex.rvars_eq_subst_var_eq",
     "rvars_eq (subst_var_eq_code ?x\<^sub>j ?lp ?eq)
      <= rvars_eq ?eq - {?x\<^sub>j} Un vars ?lp",
     template_inequation
      (less_equals,
       template_app
        (template_hole 6,
         template_app
          (template_hole 5,
           template_app
            (template_app
              (template_app (template_hole 4, template_var 2),
               template_var 1),
             template_var 0))),
       template_app
        (template_app
          (template_hole 3,
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_hole 6,
                 template_app (template_hole 5, template_var 0))),
             template_app
              (template_app (template_hole 1, template_var 2),
               template_hole 0))),
         template_app (template_hole 6, template_var 1)))),
    ("Simplex.rvars_eq_subst_var_eq_supset",
     "rvars_eq ?eq - {?x\<^sub>j} - vars ?lp
      <= rvars_eq (subst_var_eq_code ?x\<^sub>j ?lp ?eq)",
     template_inequation
      (less_equals,
       template_app
        (template_app
          (template_hole 5,
           template_app
            (template_app
              (template_hole 5,
               template_app
                (template_hole 4,
                 template_app (template_hole 3, template_var 2))),
             template_app
              (template_app (template_hole 2, template_var 1),
               template_hole 1))),
         template_app (template_hole 4, template_var 0)),
       template_app
        (template_hole 4,
         template_app
          (template_hole 3,
           template_app
            (template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0),
             template_var 2))))),
    ("Simplex.init_atoms_imply_bounds_index",
     "{} \<Turnstile>\<^sub>i \<B>\<I> (init_state ?t)",
     template_predicate
      (
         template_app
          (template_app (template_hole 9, template_hole 8),
           template_app
            (template_app
              (template_hole 7,
               template_app
                (template_app
                  (template_hole 6,
                   template_app
                    (template_hole 5,
                     template_app (template_hole 4, template_var 0))),
                 template_app
                  (template_hole 3,
                   template_app (template_hole 4, template_var 0)))),
             template_app
              (template_app
                (template_hole 2,
                 template_app
                  (template_hole 1,
                   template_app (template_hole 4, template_var 0))),
               template_app
                (template_hole 0,
                 template_app (template_hole 4, template_var 0)))))
         )),
    ("Simplex.simplex_index",
     "simplex_index ?cs = Inr ?v ==>
      \<langle>?v\<rangle> \<Turnstile>\<^sub>c\<^sub>s (snd ` set ?cs)",
     template_implication
      ([template_equation
         (template_app (template_hole 7, template_var 1),
          template_app (template_hole 6, template_var 0))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 5,
               template_app
                (template_app (template_hole 4, template_hole 3),
                 template_app (template_hole 2, template_var 1))),
             t_empty)
           ))),
    ("Simplex.simplex",
     "simplex ?cs = Inl ?I ==>
      \<nexists>v. v \<Turnstile>\<^sub>c\<^sub>s set ?cs",
     template_implication
      ([template_equation
         (template_app (template_hole 6, template_var 1),
          template_app (template_hole 5, template_var 0))],
       template_negation
        (template_predicate (template_app (template_hole 3, t_empty))))),
    ("Simplex.equiv_subst_var_eq",
     "?v \<Turnstile>\<^sub>e (?x\<^sub>j, ?lp') ==>
      ?v \<Turnstile>\<^sub>e ?eq =
      ?v \<Turnstile>\<^sub>e subst_var_eq_code ?x\<^sub>j ?lp' ?eq",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 3),
              template_app
               (template_app (template_hole 2, template_var 2),
                template_var 1))
            )],
       template_equation
        (template_app
          (template_app (template_hole 3, template_var 3), template_var 0),
         template_app
          (template_app (template_hole 3, template_var 3),
           template_app
            (template_app
              (template_app (template_hole 0, template_var 2),
               template_var 1),
             template_var 0))))),
    ("Simplex.bounds_consistent_lt_lb",
     "[| \<diamond> ?s; ?c >\<^sub>u\<^sub>b \<B>\<^sub>u ?s ?x |]
      ==> ~ ?c <\<^sub>l\<^sub>b \<B>\<^sub>l ?s ?x",
     template_implication
      ([template_predicate (template_app (template_hole 5, template_var 2)),
        template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 1),
              template_app
               (template_app (template_hole 3, template_var 2),
                template_var 0))
            )],
       template_negation
        (
           template_predicate
            (
               template_app
                (template_app (template_hole 1, template_var 1),
                 template_app
                  (template_app (template_hole 0, template_var 2),
                   template_var 0))
               )
           ))),
    ("Simplex.bounds_consistent_gt_ub",
     "[| \<diamond> ?s; ?c <\<^sub>l\<^sub>b \<B>\<^sub>l ?s ?x |]
      ==> ~ ?c >\<^sub>u\<^sub>b \<B>\<^sub>u ?s ?x",
     template_implication
      ([template_predicate (template_app (template_hole 5, template_var 2)),
        template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 1),
              template_app
               (template_app (template_hole 3, template_var 2),
                template_var 0))
            )],
       template_negation
        (
           template_predicate
            (
               template_app
                (template_app (template_hole 1, template_var 1),
                 template_app
                  (template_app (template_hole 0, template_var 2),
                   template_var 0))
               )
           ))),
    ("Simplex.bounds_consistent_leq_ub",
     "[| \<diamond> ?s; \<B>\<^sub>l ?s ?x\<^sub>i = Some ?c |]
      ==> ?c \<le>\<^sub>u\<^sub>b \<B>\<^sub>u ?s ?x\<^sub>i",
     template_implication
      ([template_predicate (template_app (template_hole 5, template_var 2)),
        template_equation
         (template_app
           (template_app (template_hole 3, template_var 2), template_var 1),
          template_app (template_hole 2, template_var 0))],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, template_var 0),
             template_app
              (template_app (template_hole 0, template_var 2),
               template_var 1))
           ))),
    ("Simplex.bounds_consistent_geq_lb",
     "[| \<diamond> ?s; \<B>\<^sub>u ?s ?x\<^sub>i = Some ?c |]
      ==> ?c \<ge>\<^sub>l\<^sub>b \<B>\<^sub>l ?s ?x\<^sub>i",
     template_implication
      ([template_predicate (template_app (template_hole 5, template_var 2)),
        template_equation
         (template_app
           (template_app (template_hole 3, template_var 2), template_var 1),
          template_app (template_hole 2, template_var 0))],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, template_var 0),
             template_app
              (template_app (template_hole 0, template_var 2),
               template_var 1))
           ))),
    ("Simplex.i_satisfies_ns_constraints_mono",
     "[| (?I, ?v) \<Turnstile>\<^sub>i\<^sub>n\<^sub>s\<^sub>s  ?cs;
         ?J <= ?I |]
      ==> (?J, ?v) \<Turnstile>\<^sub>i\<^sub>n\<^sub>s\<^sub>s  ?cs",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 2,
                template_app
                 (template_app (template_hole 1, template_var 3),
                  template_var 2)),
              template_var 1)
            ),
        template_inequation (less_equals, template_var 0, template_var 3)],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 0),
                 template_var 2)),
             template_var 1)
           ))),
    ("Simplex.minimal_unsat_core_tabl_atomsD",
     "minimal_unsat_core_tabl_atoms ?I ?t ?as ==>
      \<nexists>v.
         v \<Turnstile>\<^sub>t ?t &
         (?I, v) \<Turnstile>\<^sub>i\<^sub>a\<^sub>s ?as",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 6, template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_negation
        (template_predicate (template_app (template_hole 4, t_empty))))),
    ("Simplex.preprocess'_unsat_indices",
     "?i : set (UnsatIndices (preprocess' ?s ?start)) ==>
      ~ ({?i}, ?v) \<Turnstile>\<^sub>i\<^sub>n\<^sub>s\<^sub>s  set ?s",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 9, template_var 3),
              template_app
               (template_hole 8,
                template_app
                 (template_hole 7,
                  template_app
                   (template_app (template_hole 6, template_var 2),
                    template_var 1))))
            )],
       template_negation
        (
           template_predicate
            (
               template_app
                (template_app
                  (template_hole 4,
                   template_app
                    (template_app
                      (template_hole 3,
                       template_app
                        (template_app (template_hole 2, template_var 3),
                         template_hole 1)),
                     template_var 0)),
                 template_app (template_hole 0, template_var 2))
               )
           ))),
    ("Simplex.not_in_bounds",
     "in_bounds ?x ?v (?lb, ?ub) ~=
      (?v ?x <\<^sub>l\<^sub>b ?lb ?x | ?v ?x >\<^sub>u\<^sub>b ?ub ?x)",
     template_negation
      (
         template_equation
          (template_app
            (template_app
              (template_app (template_hole 4, template_var 3),
               template_var 2),
             template_app
              (template_app (template_hole 3, template_var 1),
               template_var 0)),
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app
                  (template_hole 1,
                   template_app (template_var 2, template_var 3)),
                 template_app (template_var 1, template_var 3))),
             template_app
              (template_app
                (template_hole 0,
                 template_app (template_var 2, template_var 3)),
               template_app (template_var 0, template_var 3))))
         )),
    ("Simplex.poly_eval_update",
     "?p \<lbrace> ?v(?x := ?c) \<rbrace> =
      ?p \<lbrace> ?v \<rbrace> + coeff ?p ?x *R (?c - ?v ?x)",
     template_equation
      (template_app
        (template_app (template_hole 5, template_var 3),
         template_app
          (template_app
            (template_app (template_hole 4, template_var 2),
             template_var 1),
           template_var 0)),
       template_app
        (template_app
          (template_hole 3,
           template_app
            (template_app (template_hole 5, template_var 3),
             template_var 2)),
         template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_var 3),
               template_var 1)),
           template_app
            (template_app (template_hole 0, template_var 0),
             template_app (template_var 2, template_var 1)))))),
    ("Simplex.satisfies_bounds_iff",
     "?v \<Turnstile>\<^sub>b (?lb, ?ub) =
      (ALL x.
          ?v x \<ge>\<^sub>l\<^sub>b ?lb x &
          ?v x \<le>\<^sub>u\<^sub>b ?ub x)",
     template_equation
      (template_app
        (template_app (template_hole 5, template_var 2),
         template_app
          (template_app (template_hole 4, template_var 1), template_var 0)),
       template_app (template_hole 3, t_empty))),
    ("Simplex.preprocess'_Tableau_Poly_Mapping_None",
     "Poly_Mapping (preprocess' ?cs ?start) ?p = None ==>
      linear_poly_to_eq ?p ?v ~: set (Tableau (preprocess' ?cs ?start))",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_hole 7,
              template_app
               (template_app (template_hole 6, template_var 3),
                template_var 2)),
            template_var 1),
          template_hole 5)],
       template_negation
        (
           template_predicate
            (
               template_app
                (template_app
                  (template_hole 3,
                   template_app
                    (template_app (template_hole 2, template_var 1),
                     template_var 0)),
                 template_app
                  (template_hole 1,
                   template_app
                    (template_hole 0,
                     template_app
                      (template_app (template_hole 6, template_var 3),
                       template_var 2))))
               )
           ))),
    ("Simplex.preprocess'_Tableau_Poly_Mapping_Some",
     "Poly_Mapping (preprocess' ?cs ?start) ?p = Some ?v ==>
      linear_poly_to_eq ?p ?v : set (Tableau (preprocess' ?cs ?start))",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_hole 6,
              template_app
               (template_app (template_hole 5, template_var 3),
                template_var 2)),
            template_var 1),
          template_app (template_hole 4, template_var 0))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 3,
               template_app
                (template_app (template_hole 2, template_var 1),
                 template_var 0)),
             template_app
              (template_hole 1,
               template_app
                (template_hole 0,
                 template_app
                  (template_app (template_hole 5, template_var 3),
                   template_var 2))))
           ))),
    ("Simplex.sat_constraint_valuation",
     "ALL var:vars (poly ?c). ?v1.0 var = ?v2.0 var ==>
      ?v1.0 \<Turnstile>\<^sub>n\<^sub>s ?c =
      ?v2.0 \<Turnstile>\<^sub>n\<^sub>s ?c",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 5,
                template_app
                 (template_hole 4,
                  template_app (template_hole 3, template_var 2))),
              t_empty)
            )],
       template_equation
        (template_app
          (template_app (template_hole 0, template_var 1), template_var 2),
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 2)))),
    ("Simplex.min_lvar_not_in_bounds_None",
     "min_lvar_not_in_bounds ?s = None -->
      (ALL x:lvars (\<T> ?s).
          in_bounds x \<langle>\<V> ?s\<rangle> (\<B> ?s))",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 12,
             template_app
              (template_app
                (template_hole 11,
                 template_app (template_hole 10, template_var 0)),
               template_hole 9)),
           template_app
            (template_app
              (template_hole 8,
               template_app
                (template_hole 7,
                 template_app (template_hole 6, template_var 0))),
             t_empty))
         )),
    ("Simplex_Auxiliary.min_element",
     "EX m. ?P m ==> EX mm. ?P mm & (ALL m'<mm. ~ ?P m')",
     template_implication
      ([template_predicate (template_app (template_hole 5, t_empty))],
       template_predicate (template_app (template_hole 5, t_empty)))),
    ("Simplex.preprocess",
     "[| preprocess ?cs = (?t, ?as, ?trans_v, ?ui);
         distinct_indices_ns (set ?cs) |]
      ==> distinct_indices_atoms (set ?as)",
     template_implication
      ([template_equation
         (template_app (template_hole 7, template_var 4),
          template_app
           (template_app (template_hole 6, template_var 3),
            template_app
             (template_app (template_hole 5, template_var 2),
              template_app
               (template_app (template_hole 4, template_var 1),
                template_var 0)))),
        template_predicate
         (
            template_app
             (template_hole 3,
              template_app (template_hole 2, template_var 4))
            )],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 2))
           ))),
    ("Simplex.recalc_tableau_lvars",
     "\<triangle> ?t ==>
      ALL v.
         EX v'. (ALL x:rvars ?t. v x = v' x) & v' \<Turnstile>\<^sub>t ?t",
     template_implication
      ([template_predicate
         (template_app (template_hole 7, template_var 0))],
       template_predicate (template_app (template_hole 6, t_empty)))),
    ("Simplex.init'_atoms_imply_bounds_index",
     "\<triangle> ?t ==> {} \<Turnstile>\<^sub>i \<B>\<I> (init_state ?t)",
     template_implication
      ([template_predicate
         (template_app (template_hole 10, template_var 0))],
       template_predicate
        (
           template_app
            (template_app (template_hole 9, template_hole 8),
             template_app
              (template_app
                (template_hole 7,
                 template_app
                  (template_app
                    (template_hole 6,
                     template_app
                      (template_hole 5,
                       template_app (template_hole 4, template_var 0))),
                   template_app
                    (template_hole 3,
                     template_app (template_hole 4, template_var 0)))),
               template_app
                (template_app
                  (template_hole 2,
                   template_app
                    (template_hole 1,
                     template_app (template_hole 4, template_var 0))),
                 template_app
                  (template_hole 0,
                   template_app (template_hole 4, template_var 0)))))
           ))),
    ("Simplex_Auxiliary.last_take_conv_nth",
     "[| 0 < ?n; ?n <= length ?l |] ==> last (take ?n ?l) = ?l ! (?n - 1)",
     template_implication
      ([template_inequation (less_than, template_hole 8, template_var 1),
        template_inequation
         (less_equals, template_var 1,
          template_app (template_hole 6, template_var 0))],
       template_equation
        (template_app
          (template_hole 4,
           template_app
            (template_app (template_hole 3, template_var 1),
             template_var 0)),
         template_app
          (template_app (template_hole 2, template_var 0),
           template_app
            (template_app (template_hole 1, template_var 1),
             template_hole 0))))),
    ("Simplex.preprocess_part_2",
     "[| preprocess_part_2 ?as ?t = (?t', ?tv); \<triangle> ?t;
         ?v \<Turnstile>\<^sub>t ?t |]
      ==> ?v \<Turnstile>\<^sub>t ?t'",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 3, template_var 4), template_var 3),
          template_app
           (template_app (template_hole 2, template_var 2),
            template_var 1)),
        template_predicate (template_app (template_hole 1, template_var 3)),
        template_predicate
         (
            template_app
             (template_app (template_hole 0, template_var 0),
              template_var 3)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 0), template_var 2)
           ))),
    ("Simplex_Auxiliary.interval_3split",
     "?i < ?n ==> [0..<?n] = [0..<?i] @ [?i] @ [?i + 1..<?n]",
     template_implication
      ([template_inequation (less_than, template_var 1, template_var 0)],
       template_equation
        (template_app
          (template_app (template_hole 6, template_hole 5), template_var 0),
         template_app
          (template_app
            (template_hole 4,
             template_app
              (template_app (template_hole 6, template_hole 5),
               template_var 1)),
           template_app
            (template_app
              (template_hole 4,
               template_app
                (template_app (template_hole 3, template_var 1),
                 template_hole 2)),
             template_app
              (template_app
                (template_hole 6,
                 template_app
                  (template_app (template_hole 1, template_var 1),
                   template_hole 0)),
               template_var 0)))))),
    ("Simplex.satisfies_tableau_satisfies_tableau",
     "[| ?v1.0 \<Turnstile>\<^sub>t ?t;
         ALL var:tvars ?t. ?v1.0 var = ?v2.0 var |]
      ==> ?v2.0 \<Turnstile>\<^sub>t ?t",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 4,
                template_app
                 (template_app
                   (template_hole 3,
                    template_app (template_hole 2, template_var 1)),
                  template_app (template_hole 1, template_var 1))),
              t_empty)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 5, template_var 0), template_var 1)
           ))),
    ("Simplex.subst_with_effect",
     "[| ?x\<^sub>j : vars ?lp; ?x : vars ?lp' - vars ?lp |]
      ==> ?x : vars (subst_var ?x\<^sub>j ?lp' ?lp)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 3),
              template_app (template_hole 2, template_var 2))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 1),
              template_app
               (template_app
                 (template_hole 1,
                  template_app (template_hole 2, template_var 0)),
                template_app (template_hole 2, template_var 2)))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 3, template_var 1),
             template_app
              (template_hole 2,
               template_app
                (template_app
                  (template_app (template_hole 0, template_var 3),
                   template_var 0),
                 template_var 2)))
           ))),
    ("Simplex.lhs_pivot_eq",
     "[| ?x\<^sub>j : rvars_eq ?eq; lhs ?eq ~: rvars_eq ?eq |]
      ==> lhs (pivot_eq ?eq ?x\<^sub>j) = ?x\<^sub>j",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 1),
              template_app
               (template_hole 5,
                template_app (template_hole 4, template_var 0)))
            ),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app
                   (template_hole 6,
                    template_app (template_hole 2, template_var 0)),
                  template_app
                   (template_hole 5,
                    template_app (template_hole 4, template_var 0)))
                )
            )],
       template_equation
        (template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 0, template_var 0),
             template_var 1)),
         template_var 1))),
    ("Simplex.distinct_indicesD",
     "[| distinct_indices ?as; (?i, ?x) : set ?as; (?i, ?y) : set ?as |]
      ==> ?x = ?y",
     template_implication
      ([template_predicate (template_app (template_hole 4, template_var 3)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 3,
                template_app
                 (template_app (template_hole 2, template_var 2),
                  template_var 1)),
              template_app (template_hole 1, template_var 3))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 3,
                template_app
                 (template_app (template_hole 2, template_var 2),
                  template_var 0)),
              template_app (template_hole 1, template_var 3))
            )],
       template_equation (template_var 1, template_var 0))),
    ("Simplex.preprocess",
     "preprocess ?cs = (?t, ?as, ?trans_v, ?ui) ==>
      fst ` set ?as Un set ?ui <= fst ` set ?cs",
     template_implication
      ([template_equation
         (template_app (template_hole 12, template_var 4),
          template_app
           (template_app (template_hole 11, template_var 3),
            template_app
             (template_app (template_hole 10, template_var 2),
              template_app
               (template_app (template_hole 9, template_var 1),
                template_var 0))))],
       template_inequation
        (less_equals,
         template_app
          (template_app
            (template_hole 7,
             template_app
              (template_app (template_hole 6, template_hole 5),
               template_app (template_hole 4, template_var 2))),
           template_app (template_hole 3, template_var 0)),
         template_app
          (template_app (template_hole 2, template_hole 1),
           template_app (template_hole 0, template_var 4))))),
    ("Simplex.sat_atom_sat_eq_sat_constraint_non_monom",
     "[| ?v \<Turnstile>\<^sub>a qdelta_constraint_to_atom ?h ?var;
         ?v \<Turnstile>\<^sub>e linear_poly_to_eq (poly ?h) ?var;
         ~ is_monom (poly ?h) |]
      ==> ?v \<Turnstile>\<^sub>n\<^sub>s ?h",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 2),
              template_app
               (template_app (template_hole 6, template_var 1),
                template_var 0))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 2),
              template_app
               (template_app
                 (template_hole 4,
                  template_app (template_hole 3, template_var 1)),
                template_var 0))
            ),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_hole 1,
                  template_app (template_hole 3, template_var 1))
                )
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 2), template_var 1)
           ))),
    ("Simplex.preprocess_part_2",
     "[| preprocess_part_2 ?as ?t = (?t', ?tv); \<triangle> ?t;
         \<langle>?w\<rangle> \<Turnstile>\<^sub>t ?t' |]
      ==> \<langle>?tv ?w\<rangle> \<Turnstile>\<^sub>t ?t",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 4, template_var 4), template_var 3),
          template_app
           (template_app (template_hole 3, template_var 2),
            template_var 1)),
        template_predicate (template_app (template_hole 2, template_var 3)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 1,
                template_app (template_hole 0, template_var 0)),
              template_var 2)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 1,
               template_app
                (template_hole 0,
                 template_app (template_var 1, template_var 0))),
             template_var 3)
           ))),
    ("Simplex.min_lvar_not_in_bounds_Some_min",
     "min_lvar_not_in_bounds ?s = Some ?x\<^sub>i -->
      (ALL x:lvars (\<T> ?s).
          x < ?x\<^sub>i -->
          in_bounds x \<langle>\<V> ?s\<rangle> (\<B> ?s))",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 13,
             template_app
              (template_app
                (template_hole 12,
                 template_app (template_hole 11, template_var 1)),
               template_app (template_hole 10, template_var 0))),
           template_app
            (template_app
              (template_hole 9,
               template_app
                (template_hole 8,
                 template_app (template_hole 7, template_var 1))),
             t_empty))
         )),
    ("Simplex.satisfies_tableau_cong",
     "(!!x. x : tvars ?t ==> ?v x = ?w x) ==>
      ?v \<Turnstile>\<^sub>t ?t = ?w \<Turnstile>\<^sub>t ?t",
     template_implication
      ([template_predicate (template_app (template_hole 8, t_empty))],
       template_equation
        (template_app
          (template_app (template_hole 0, template_var 1), template_var 2),
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 2)))),
    ("Simplex.equiv_pivot_eq",
     "[| ?x\<^sub>j : rvars_eq ?eq; lhs ?eq ~: rvars_eq ?eq |]
      ==> ?v \<Turnstile>\<^sub>e pivot_eq ?eq ?x\<^sub>j =
          ?v \<Turnstile>\<^sub>e ?eq",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 2),
              template_app
               (template_hole 6,
                template_app (template_hole 5, template_var 1)))
            ),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app
                   (template_hole 7,
                    template_app (template_hole 3, template_var 1)),
                  template_app
                   (template_hole 6,
                    template_app (template_hole 5, template_var 1)))
                )
            )],
       template_equation
        (template_app
          (template_app (template_hole 1, template_var 0),
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 2)),
         template_app
          (template_app (template_hole 1, template_var 0),
           template_var 1)))),
    ("Simplex.unsat_mono",
     "[| \<nexists>v. v \<Turnstile>\<^sub>c\<^sub>s ?cs; ?cs <= ?ds |]
      ==> \<nexists>v. v \<Turnstile>\<^sub>c\<^sub>s ?ds",
     template_implication
      ([template_negation
         (template_predicate (template_app (template_hole 3, t_empty))),
        template_inequation (less_equals, template_var 1, template_var 0)],
       template_negation
        (template_predicate (template_app (template_hole 3, t_empty))))),
    ("Simplex_Auxiliary.min_satisfying_Some",
     "min_satisfying ?P ?l = Some ?x -->
      ?x : set ?l & ?P ?x & (ALL x':set ?l. x' < ?x --> ~ ?P x')",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 9,
             template_app
              (template_app
                (template_hole 8,
                 template_app
                  (template_app (template_hole 7, template_var 2),
                   template_var 1)),
               template_app (template_hole 6, template_var 0))),
           template_app
            (template_app
              (template_hole 5,
               template_app
                (template_app (template_hole 4, template_var 0),
                 template_app (template_hole 3, template_var 1))),
             template_app
              (template_app
                (template_hole 5,
                 template_app (template_var 2, template_var 0)),
               template_app
                (template_app
                  (template_hole 2,
                   template_app (template_hole 3, template_var 1)),
                 t_empty))))
         )),
    ("Simplex_Auxiliary.map_reindex",
     "ALL i<length ?l. ?g (?l ! i) = ?f i ==>
      map ?f [0..<length ?l] = map ?g ?l",
     template_implication
      ([template_predicate (template_app (template_hole 10, t_empty))],
       template_equation
        (template_app
          (template_app (template_hole 3, template_var 0),
           template_app
            (template_app (template_hole 2, template_hole 1),
             template_app (template_hole 7, template_var 2))),
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 2)))),
    ("Simplex.minimal_unsat_core_tabl_atomsD",
     "[| minimal_unsat_core_tabl_atoms ?I ?t ?as;
         distinct_indices_atoms ?as; ?J < ?I |]
      ==> EX v. v \<Turnstile>\<^sub>t ?t &
                (?J, v) \<Turnstile>\<^sub>i\<^sub>a\<^sub>e\<^sub>s ?as",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 7, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate (template_app (template_hole 6, template_var 1)),
        template_inequation (less_than, template_var 0, template_var 3)],
       template_predicate (template_app (template_hole 4, t_empty)))),
    ("Simplex.satisfying_state_valuation_to_atom_tabl",
     "[| ?J <= indices_state ?s;
         (?J, ?v) \<Turnstile>\<^sub>i\<^sub>s\<^sub>e ?s;
         index_valid ?as ?s; distinct_indices_atoms ?as |]
      ==> ?v \<Turnstile>\<^sub>t \<T> ?s",
     template_implication
      ([template_inequation
         (less_equals, template_var 3,
          template_app (template_hole 6, template_var 2)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 5,
                template_app
                 (template_app (template_hole 4, template_var 3),
                  template_var 1)),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 0),
              template_var 2)
            ),
        template_predicate
         (template_app (template_hole 2, template_var 0))],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, template_var 1),
             template_app (template_hole 0, template_var 2))
           ))),
    ("Simplex.satisfying_state_valuation_to_atom_tabl",
     "[| ?J <= indices_state ?s;
         (?J, ?v) \<Turnstile>\<^sub>i\<^sub>s\<^sub>e ?s;
         index_valid ?as ?s; distinct_indices_atoms ?as |]
      ==> (?J, ?v) \<Turnstile>\<^sub>i\<^sub>a\<^sub>e\<^sub>s ?as",
     template_implication
      ([template_inequation
         (less_equals, template_var 3,
          template_app (template_hole 5, template_var 2)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 4,
                template_app
                 (template_app (template_hole 3, template_var 3),
                  template_var 1)),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 0),
              template_var 2)
            ),
        template_predicate
         (template_app (template_hole 1, template_var 0))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 0,
               template_app
                (template_app (template_hole 3, template_var 3),
                 template_var 1)),
             template_var 0)
           ))),
    ("Simplex.preprocess",
     "[| preprocess ?cs = (?t, ?as, ?trans_v, ?ui); ?i : set ?ui |]
      ==> \<nexists>v.
             ({?i}, v) \<Turnstile>\<^sub>i\<^sub>n\<^sub>s\<^sub>s 
             set ?cs",
     template_implication
      ([template_equation
         (template_app (template_hole 12, template_var 5),
          template_app
           (template_app (template_hole 11, template_var 4),
            template_app
             (template_app (template_hole 10, template_var 3),
              template_app
               (template_app (template_hole 9, template_var 2),
                template_var 1)))),
        template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 0),
              template_app (template_hole 7, template_var 1))
            )],
       template_negation
        (template_predicate (template_app (template_hole 5, t_empty))))),
    ("Simplex_Auxiliary.foldl_mapping_update",
     "[| ?X : set ?l; distinct (map ?f ?l) |]
      ==> Mapping.lookup
           (foldl (%m a. Mapping.update (?f a) (?g a) m) ?i ?l) (?f ?X) =
          Some (?g ?X)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 4),
              template_app (template_hole 7, template_var 3))
            ),
        template_predicate
         (
            template_app
             (template_hole 6,
              template_app
               (template_app (template_hole 5, template_var 2),
                template_var 3))
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app
                (template_app (template_hole 2, t_empty), template_var 0),
               template_var 3)),
           template_app (template_var 2, template_var 4)),
         template_app
          (template_hole 0,
           template_app (template_var 1, template_var 4))))),
    ("Simplex.preprocess_part_2",
     "[| preprocess_part_2 ?as ?t = (?t', ?tv); \<triangle> ?t;
         (?I, \<langle>?w\<rangle>) \<Turnstile>\<^sub>i\<^sub>a\<^sub>s
         set ?as |]
      ==> (?I,
           \<langle>?tv ?w\<rangle>) \<Turnstile>\<^sub>i\<^sub>a\<^sub>s
          set ?as",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 6, template_var 5), template_var 4),
          template_app
           (template_app (template_hole 5, template_var 3),
            template_var 2)),
        template_predicate (template_app (template_hole 4, template_var 4)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 3,
                template_app
                 (template_app (template_hole 2, template_var 1),
                  template_app (template_hole 1, template_var 0))),
              template_app (template_hole 0, template_var 5))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 3,
               template_app
                (template_app (template_hole 2, template_var 1),
                 template_app
                  (template_hole 1,
                   template_app (template_var 2, template_var 0)))),
             template_app (template_hole 0, template_var 5))
           ))),
    ("Simplex.vars_subst_var'",
     " vars ?lp - {?x\<^sub>j} -
       vars
        ?lp' \<subseteq>s vars
                           (subst_var ?x\<^sub>j ?lp'
                             ?lp) \<subseteq>s vars ?lp - {?x\<^sub>j} Un
         vars ?lp'",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 7,
             template_app
              (template_app
                (template_hole 6,
                 template_app
                  (template_app
                    (template_hole 5,
                     template_app
                      (template_app
                        (template_hole 5,
                         template_app (template_hole 4, template_var 2)),
                       template_app
                        (template_app (template_hole 3, template_var 1),
                         template_hole 2))),
                   template_app (template_hole 4, template_var 0))),
               template_app
                (template_hole 4,
                 template_app
                  (template_app
                    (template_app (template_hole 1, template_var 1),
                     template_var 0),
                   template_var 2)))),
           template_app
            (template_app
              (template_hole 6,
               template_app
                (template_hole 4,
                 template_app
                  (template_app
                    (template_app (template_hole 1, template_var 1),
                     template_var 0),
                   template_var 2))),
             template_app
              (template_app
                (template_hole 0,
                 template_app
                  (template_app
                    (template_hole 5,
                     template_app (template_hole 4, template_var 2)),
                   template_app
                    (template_app (template_hole 3, template_var 1),
                     template_hole 2))),
               template_app (template_hole 4, template_var 0))))
         )),
    ("Simplex.\<B>\<I>_set_unsat",
     "\<B>\<I> (set_unsat ?I ?s) = \<B>\<I> ?s",
     template_equation
      (template_app
        (template_app
          (template_hole 7,
           template_app
            (template_app
              (template_hole 6,
               template_app
                (template_hole 5,
                 template_app
                  (template_app (template_hole 4, template_var 1),
                   template_var 0))),
             template_app
              (template_hole 3,
               template_app
                (template_app (template_hole 4, template_var 1),
                 template_var 0)))),
         template_app
          (template_app
            (template_hole 2,
             template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 4, template_var 1),
                 template_var 0))),
           template_app
            (template_hole 0,
             template_app
              (template_app (template_hole 4, template_var 1),
               template_var 0)))),
       template_app
        (template_app
          (template_hole 7,
           template_app
            (template_app
              (template_hole 6,
               template_app (template_hole 5, template_var 0)),
             template_app (template_hole 3, template_var 0))),
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 0)),
           template_app (template_hole 0, template_var 0))))),
    ("Simplex.eq_idx_for_lvar_aux",
     "?x : lvars ?t ==>
      let idx = eq_idx_for_lvar_aux ?t ?x ?i
      in ?i <= idx & idx < ?i + length ?t & lhs (?t ! (idx - ?i)) = ?x",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 12, template_var 2),
              template_app (template_hole 11, template_var 1))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 10,
               template_app
                (template_app
                  (template_app (template_hole 9, template_var 1),
                   template_var 2),
                 template_var 0)),
             t_empty)
           ))),
    ("Simplex_Auxiliary.finite_fun_args",
     "[| finite ?A; ALL a:?A. finite (?B a) |]
      ==> finite {f. ALL a. if a : ?A then f a : ?B a else f a = ?f0.0 a}",
     template_implication
      ([template_predicate (template_app (template_hole 9, template_var 2)),
        template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 2), t_empty)
            )],
       template_predicate
        (
           template_app
            (template_hole 6, template_app (template_hole 5, t_empty))
           ))),
    ("Simplex.preprocess'_Tableau_Poly_Mapping_Some'",
     "Poly_Mapping (preprocess' ?cs ?start) ?p = Some ?v ==>
      EX h. poly h = ?p &
            ~ is_monom (poly h) &
            qdelta_constraint_to_atom h ?v
            : snd ` set (Atoms (preprocess' ?cs ?start))",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_hole 14,
              template_app
               (template_app (template_hole 13, template_var 3),
                template_var 2)),
            template_var 1),
          template_app (template_hole 12, template_var 0))],
       template_predicate (template_app (template_hole 11, t_empty)))),
    ("Simplex.rvars_pivot_eq",
     "[| ?x\<^sub>j : rvars_eq ?eq; lhs ?eq ~: rvars_eq ?eq |]
      ==> rvars_eq (pivot_eq ?eq ?x\<^sub>j) =
          {lhs ?eq} Un (rvars_eq ?eq - {?x\<^sub>j})",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 10, template_var 1),
              template_app
               (template_hole 9,
                template_app (template_hole 8, template_var 0)))
            ),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app
                   (template_hole 10,
                    template_app (template_hole 6, template_var 0)),
                  template_app
                   (template_hole 9,
                    template_app (template_hole 8, template_var 0)))
                )
            )],
       template_equation
        (template_app
          (template_hole 9,
           template_app
            (template_hole 8,
             template_app
              (template_app (template_hole 4, template_var 0),
               template_var 1))),
         template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app
                (template_hole 2,
                 template_app (template_hole 6, template_var 0)),
               template_hole 1)),
           template_app
            (template_app
              (template_hole 0,
               template_app
                (template_hole 9,
                 template_app (template_hole 8, template_var 0))),
             template_app
              (template_app (template_hole 2, template_var 1),
               template_hole 1)))))),
    ("Simplex.atom_var_first",
     "[| ?a : snd ` set (Atoms (preprocess' ?cs ?start));
         ALL var:vars_constraints (map snd ?cs). var < ?start |]
      ==> atom_var ?a < FirstFreshVariable (preprocess' ?cs ?start)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 17, template_var 2),
              template_app
               (template_app (template_hole 16, template_hole 15),
                template_app
                 (template_hole 14,
                  template_app
                   (template_hole 13,
                    template_app
                     (template_app (template_hole 12, template_var 1),
                      template_var 0)))))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 11,
                template_app
                 (template_hole 10,
                  template_app
                   (template_hole 9,
                    template_app
                     (template_app (template_hole 8, template_hole 7),
                      template_app
                       (template_app (template_hole 6, template_hole 5),
                        template_app
                         (template_app (template_hole 4, template_hole 3),
                          template_var 1)))))),
              t_empty)
            )],
       template_inequation
        (less_than, template_app (template_hole 1, template_var 2),
         template_app
          (template_hole 0,
           template_app
            (template_app (template_hole 12, template_var 1),
             template_var 0))))),
    ("Simplex.preprocess",
     "[| preprocess ?cs = (?t, ?as, ?trans_v, ?ui);
         EX v. (?I, v) \<Turnstile>\<^sub>i\<^sub>n\<^sub>s\<^sub>s 
               set ?cs |]
      ==> EX v'.
             (?I, v') \<Turnstile>\<^sub>i\<^sub>a\<^sub>s set ?as &
             v' \<Turnstile>\<^sub>t ?t",
     template_implication
      ([template_equation
         (template_app (template_hole 11, template_var 5),
          template_app
           (template_app (template_hole 10, template_var 4),
            template_app
             (template_app (template_hole 9, template_var 3),
              template_app
               (template_app (template_hole 8, template_var 2),
                template_var 1)))),
        template_predicate (template_app (template_hole 7, t_empty))],
       template_predicate (template_app (template_hole 7, t_empty)))),
    ("Simplex.preprocess_opt",
     "[| ?X = atom_var ` snd ` set ?as;
         preprocess_opt ?X ?t1.0 ?t2.0 = (?t', ?tv); \<triangle> ?t;
         ?t = rev ?t1.0 @ ?t2.0 |]
      ==> \<triangle> ?t'",
     template_implication
      ([template_equation
         (template_var 6,
          template_app
           (template_app (template_hole 11, template_hole 10),
            template_app
             (template_app (template_hole 9, template_hole 8),
              template_app (template_hole 7, template_var 5)))),
        template_equation
         (template_app
           (template_app
             (template_app (template_hole 5, template_var 6),
              template_var 4),
            template_var 3),
          template_app
           (template_app (template_hole 4, template_var 2),
            template_var 1)),
        template_predicate (template_app (template_hole 3, template_var 0)),
        template_equation
         (template_var 0,
          template_app
           (template_app
             (template_hole 1,
              template_app (template_hole 0, template_var 4)),
            template_var 3))],
       template_predicate
        (template_app (template_hole 3, template_var 2)))),
    ("Simplex.i_preprocess'_sat",
     "[| (?I, ?v) \<Turnstile>\<^sub>i\<^sub>a\<^sub>s
         set (Atoms (preprocess' ?s ?start));
         ?v \<Turnstile>\<^sub>t Tableau (preprocess' ?s ?start);
         ?I Int set (UnsatIndices (preprocess' ?s ?start)) = {} |]
      ==> (?I, ?v) \<Turnstile>\<^sub>i\<^sub>n\<^sub>s\<^sub>s  set ?s",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 13,
                template_app
                 (template_app (template_hole 12, template_var 3),
                  template_var 2)),
              template_app
               (template_hole 11,
                template_app
                 (template_hole 10,
                  template_app
                   (template_app (template_hole 9, template_var 1),
                    template_var 0))))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 2),
              template_app
               (template_hole 7,
                template_app
                 (template_app (template_hole 9, template_var 1),
                  template_var 0)))
            ),
        template_equation
         (template_app
           (template_app (template_hole 5, template_var 3),
            template_app
             (template_hole 4,
              template_app
               (template_hole 3,
                template_app
                 (template_app (template_hole 9, template_var 1),
                  template_var 0)))),
          template_hole 2)],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 12, template_var 3),
                 template_var 2)),
             template_app (template_hole 0, template_var 1))
           ))),
    ("Simplex.preprocess'_sat",
     "[| ?v \<Turnstile>\<^sub>a\<^sub>s
         (snd ` set (Atoms (preprocess' ?s ?start)));
         ?v \<Turnstile>\<^sub>t Tableau (preprocess' ?s ?start);
         set (UnsatIndices (preprocess' ?s ?start)) = {} |]
      ==> ?v \<Turnstile>\<^sub>n\<^sub>s\<^sub>s  (snd ` set ?s)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 16, template_var 2),
              template_app
               (template_app (template_hole 15, template_hole 14),
                template_app
                 (template_hole 13,
                  template_app
                   (template_hole 12,
                    template_app
                     (template_app (template_hole 11, template_var 1),
                      template_var 0)))))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 10, template_var 2),
              template_app
               (template_hole 9,
                template_app
                 (template_app (template_hole 11, template_var 1),
                  template_var 0)))
            ),
        template_equation
         (template_app
           (template_hole 7,
            template_app
             (template_hole 6,
              template_app
               (template_app (template_hole 11, template_var 1),
                template_var 0))),
          template_hole 5)],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 4,
               template_app
                (template_app (template_hole 3, template_hole 2),
                 template_app (template_hole 1, template_var 1))),
             t_empty)
           ))),
    ("Simplex.pivot_eq_rvars",
     "[| ?x : rvars_eq (pivot_eq ?e ?v); ?x ~= lhs ?e;
         coeff (rhs ?e) ?v ~= 0; ?v ~= lhs ?e |]
      ==> ?x : rvars_eq ?e",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 9, template_var 2),
              template_app
               (template_hole 8,
                template_app
                 (template_hole 7,
                  template_app
                   (template_app (template_hole 6, template_var 1),
                    template_var 0))))
            ),
        template_negation
         (
            template_equation
             (template_var 2,
              template_app (template_hole 3, template_var 1))
            ),
        template_negation
         (
            template_equation
             (template_app
               (template_app
                 (template_hole 1,
                  template_app (template_hole 7, template_var 1)),
                template_var 0),
              template_hole 0)
            ),
        template_negation
         (
            template_equation
             (template_var 0,
              template_app (template_hole 3, template_var 1))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 9, template_var 2),
             template_app
              (template_hole 8,
               template_app (template_hole 7, template_var 1)))
           ))),
    ("Simplex.satisifies_atom_restrict_to_Cons",
     "[| ?v \<Turnstile>\<^sub>a\<^sub>s
         (snd ` (set ?as Int ?I \<times> UNIV));
         ?i : ?I ==> ?v \<Turnstile>\<^sub>a ?a |]
      ==> ?v \<Turnstile>\<^sub>a\<^sub>s
          (snd ` (set ((?i, ?a) # ?as) Int ?I \<times> UNIV))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 10, template_var 4),
              template_app
               (template_app (template_hole 9, template_hole 8),
                template_app
                 (template_app
                   (template_hole 7,
                    template_app (template_hole 6, template_var 3)),
                  template_app
                   (template_app (template_hole 5, template_var 2),
                    t_empty))))
            ),
        template_implication
         ([template_predicate
            (
               template_app
                (template_app (template_hole 3, template_var 1),
                 template_var 2)
               )],
          template_predicate
           (
              template_app
               (template_app (template_hole 2, template_var 4),
                template_var 0)
              ))],
       template_predicate
        (
           template_app
            (template_app (template_hole 10, template_var 4),
             template_app
              (template_app (template_hole 9, template_hole 8),
               template_app
                (template_app
                  (template_hole 7,
                   template_app
                    (template_hole 6,
                     template_app
                      (template_app
                        (template_hole 1,
                         template_app
                          (template_app (template_hole 0, template_var 1),
                           template_var 0)),
                       template_var 3))),
                 template_app
                  (template_app (template_hole 5, template_var 2),
                   t_empty))))
           ))),
    ("Simplex.tableau_perm",
     "[| lvars ?t1.0 = lvars ?t2.0; rvars ?t1.0 = rvars ?t2.0;
         \<triangle> ?t1.0; \<triangle> ?t2.0;
         !!v. v \<Turnstile>\<^sub>t ?t1.0 = v \<Turnstile>\<^sub>t ?t2.0 |]
      ==> mset ?t1.0 = mset ?t2.0",
     template_implication
      ([template_equation
         (template_app (template_hole 7, template_var 1),
          template_app (template_hole 7, template_var 0)),
        template_equation
         (template_app (template_hole 6, template_var 1),
          template_app (template_hole 6, template_var 0)),
        template_predicate (template_app (template_hole 5, template_var 1)),
        template_predicate (template_app (template_hole 5, template_var 0)),
        template_predicate (template_app (template_hole 4, t_empty))],
       template_equation
        (template_app (template_hole 0, template_var 1),
         template_app (template_hole 0, template_var 0)))),
    ("Simplex.preprocess_opt",
     "[| ?X = atom_var ` snd ` set ?as;
         preprocess_opt ?X ?t1.0 ?t2.0 = (?t', ?tv); \<triangle> ?t;
         ?t = rev ?t1.0 @ ?t2.0; ?v \<Turnstile>\<^sub>t ?t |]
      ==> ?v \<Turnstile>\<^sub>t ?t'",
     template_implication
      ([template_equation
         (template_var 7,
          template_app
           (template_app (template_hole 12, template_hole 11),
            template_app
             (template_app (template_hole 10, template_hole 9),
              template_app (template_hole 8, template_var 6)))),
        template_equation
         (template_app
           (template_app
             (template_app (template_hole 6, template_var 7),
              template_var 5),
            template_var 4),
          template_app
           (template_app (template_hole 5, template_var 3),
            template_var 2)),
        template_predicate (template_app (template_hole 4, template_var 1)),
        template_equation
         (template_var 1,
          template_app
           (template_app
             (template_hole 2,
              template_app (template_hole 1, template_var 5)),
            template_var 4)),
        template_predicate
         (
            template_app
             (template_app (template_hole 0, template_var 0),
              template_var 1)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 0), template_var 3)
           ))),
    ("Simplex.vars_pivot_eq",
     "[| ?x\<^sub>j : rvars_eq ?eq; lhs ?eq ~: rvars_eq ?eq |]
      ==> let eq' = pivot_eq ?eq ?x\<^sub>j
          in lhs eq' = ?x\<^sub>j &
             rvars_eq eq' = {lhs ?eq} Un (rvars_eq ?eq - {?x\<^sub>j})",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 13, template_var 1),
              template_app
               (template_hole 12,
                template_app (template_hole 11, template_var 0)))
            ),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app
                   (template_hole 13,
                    template_app (template_hole 9, template_var 0)),
                  template_app
                   (template_hole 12,
                    template_app (template_hole 11, template_var 0)))
                )
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 8,
               template_app
                (template_app (template_hole 7, template_var 0),
                 template_var 1)),
             t_empty)
           ))),
    ("Simplex.min_lvar_not_in_bounds_Some'",
     "min_lvar_not_in_bounds ?s = Some ?x\<^sub>i -->
      ?x\<^sub>i : lvars (\<T> ?s) &
      ~ in_bounds ?x\<^sub>i \<langle>\<V> ?s\<rangle> (\<B> ?s) &
      (ALL x:lvars (\<T> ?s).
          x < ?x\<^sub>i -->
          in_bounds x \<langle>\<V> ?s\<rangle> (\<B> ?s))",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 16,
             template_app
              (template_app
                (template_hole 15,
                 template_app (template_hole 14, template_var 1)),
               template_app (template_hole 13, template_var 0))),
           template_app
            (template_app
              (template_hole 12,
               template_app
                (template_app (template_hole 11, template_var 0),
                 template_app
                  (template_hole 10,
                   template_app (template_hole 9, template_var 1)))),
             template_app
              (template_app
                (template_hole 12,
                 template_app
                  (template_hole 8,
                   template_app
                    (template_app
                      (template_app (template_hole 7, template_var 0),
                       template_app
                        (template_hole 6,
                         template_app (template_hole 5, template_var 1))),
                     template_app
                      (template_app
                        (template_hole 4,
                         template_app (template_hole 3, template_var 1)),
                       template_app (template_hole 2, template_var 1))))),
               template_app
                (template_app
                  (template_hole 1,
                   template_app
                    (template_hole 10,
                     template_app (template_hole 9, template_var 1))),
                 t_empty))))
         )),
    ("Simplex.preprocess",
     "[| preprocess ?cs = (?t, ?as, ?trans_v, ?ui); ?I Int set ?ui = {};
         (?I, \<langle>?v\<rangle>) \<Turnstile>\<^sub>i\<^sub>a\<^sub>s
         set ?as;
         \<langle>?v\<rangle> \<Turnstile>\<^sub>t ?t |]
      ==> (?I,
           \<langle>?trans_v
                     ?v\<rangle>) \<Turnstile>\<^sub>i\<^sub>n\<^sub>s\<^sub>s 
          set ?cs",
     template_implication
      ([template_equation
         (template_app (template_hole 14, template_var 6),
          template_app
           (template_app (template_hole 13, template_var 5),
            template_app
             (template_app (template_hole 12, template_var 4),
              template_app
               (template_app (template_hole 11, template_var 3),
                template_var 2)))),
        template_equation
         (template_app
           (template_app (template_hole 9, template_var 1),
            template_app (template_hole 8, template_var 2)),
          template_hole 7),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 6,
                template_app
                 (template_app (template_hole 5, template_var 1),
                  template_app (template_hole 4, template_var 0))),
              template_app (template_hole 3, template_var 4))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 2,
                template_app (template_hole 4, template_var 0)),
              template_var 5)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 5, template_var 1),
                 template_app
                  (template_hole 4,
                   template_app (template_var 3, template_var 0)))),
             template_app (template_hole 0, template_var 6))
           ))),
    ("Simplex.preprocess_opt",
     "[| ?X = atom_var ` snd ` set ?as;
         preprocess_opt ?X ?t1.0 ?t2.0 = (?t', ?tv); \<triangle> ?t;
         ?t = rev ?t1.0 @ ?t2.0;
         \<langle>?w\<rangle> \<Turnstile>\<^sub>t ?t' |]
      ==> \<langle>?tv ?w\<rangle> \<Turnstile>\<^sub>t ?t",
     template_implication
      ([template_equation
         (template_var 7,
          template_app
           (template_app (template_hole 13, template_hole 12),
            template_app
             (template_app (template_hole 11, template_hole 10),
              template_app (template_hole 9, template_var 6)))),
        template_equation
         (template_app
           (template_app
             (template_app (template_hole 7, template_var 7),
              template_var 5),
            template_var 4),
          template_app
           (template_app (template_hole 6, template_var 3),
            template_var 2)),
        template_predicate (template_app (template_hole 5, template_var 1)),
        template_equation
         (template_var 1,
          template_app
           (template_app
             (template_hole 3,
              template_app (template_hole 2, template_var 5)),
            template_var 4)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 1,
                template_app (template_hole 0, template_var 0)),
              template_var 3)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 1,
               template_app
                (template_hole 0,
                 template_app (template_var 2, template_var 0))),
             template_var 1)
           ))),
    ("Simplex.simplex_index",
     "simplex_index ?cs = Inl ?I ==>
      set ?I <= fst ` set ?cs &
      (\<nexists>v.
          (set ?I, v) \<Turnstile>\<^sub>i\<^sub>c\<^sub>s set ?cs) &
      (distinct_indices ?cs -->
       (ALL J<set ?I.
           EX v. (J, v) \<Turnstile>\<^sub>i\<^sub>c\<^sub>s set ?cs))",
     template_implication
      ([template_equation
         (template_app (template_hole 15, template_var 1),
          template_app (template_hole 14, template_var 0))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 13,
               template_app
                (template_app
                  (template_hole 12,
                   template_app (template_hole 11, template_var 0)),
                 template_app
                  (template_app (template_hole 10, template_hole 9),
                   template_app (template_hole 8, template_var 1)))),
             template_app
              (template_app
                (template_hole 13,
                 template_app
                  (template_hole 7,
                   template_app (template_hole 6, t_empty))),
               template_app
                (template_app
                  (template_hole 3,
                   template_app (template_hole 2, template_var 1)),
                 template_app (template_hole 1, t_empty))))
           ))),
    ("Simplex.pivot_tableau_eq",
     "[| ?t = ?t1.0 @ ?eq # ?t2.0; ?t' = ?t1' @ ?eq' # ?t2';
         ?x : rvars_eq ?eq; \<triangle> ?t;
         pivot_tableau_eq ?t1.0 ?eq ?t2.0 ?x = (?t1', ?eq', ?t2') |]
      ==> \<triangle> ?t'",
     template_implication
      ([template_equation
         (template_var 8,
          template_app
           (template_app (template_hole 9, template_var 7),
            template_app
             (template_app (template_hole 8, template_var 6),
              template_var 5))),
        template_equation
         (template_var 4,
          template_app
           (template_app (template_hole 9, template_var 3),
            template_app
             (template_app (template_hole 8, template_var 2),
              template_var 1))),
        template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 0),
              template_app
               (template_hole 6,
                template_app (template_hole 5, template_var 6)))
            ),
        template_predicate (template_app (template_hole 4, template_var 8)),
        template_equation
         (template_app
           (template_app
             (template_app
               (template_app (template_hole 2, template_var 7),
                template_var 6),
              template_var 5),
            template_var 0),
          template_app
           (template_app (template_hole 1, template_var 3),
            template_app
             (template_app (template_hole 0, template_var 2),
              template_var 1)))],
       template_predicate
        (template_app (template_hole 4, template_var 4)))),
    ("Simplex.min_rvar_incdec_eq_Some_incdec",
     "min_rvar_incdec_eq ?dir ?s ?eq = Inr ?x\<^sub>j ==>
      0 < coeff (rhs ?eq) ?x\<^sub>j &
      \<lhd>\<^sub>u\<^sub>b (Direction.lt ?dir)
       (\<langle>\<V> ?s\<rangle> ?x\<^sub>j)
       (Direction.UB ?dir ?s ?x\<^sub>j) |
      coeff (rhs ?eq) ?x\<^sub>j < 0 &
      \<rhd>\<^sub>l\<^sub>b (Direction.lt ?dir)
       (\<langle>\<V> ?s\<rangle> ?x\<^sub>j)
       (Direction.LB ?dir ?s ?x\<^sub>j)",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_app (template_hole 14, template_var 3),
              template_var 2),
            template_var 1),
          template_app (template_hole 13, template_var 0))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 12,
               template_app
                (template_app
                  (template_hole 11,
                   template_app
                    (template_app (template_hole 10, template_hole 9),
                     template_app
                      (template_app
                        (template_hole 8,
                         template_app (template_hole 7, template_var 1)),
                       template_var 0))),
                 template_app
                  (template_app
                    (template_app
                      (template_hole 6,
                       template_app (template_hole 5, template_var 3)),
                     template_app
                      (template_app
                        (template_hole 4,
                         template_app (template_hole 3, template_var 2)),
                       template_var 0)),
                   template_app
                    (template_app
                      (template_app (template_hole 2, template_var 3),
                       template_var 2),
                     template_var 0)))),
             template_app
              (template_app
                (template_hole 11,
                 template_app
                  (template_app
                    (template_hole 10,
                     template_app
                      (template_app
                        (template_hole 8,
                         template_app (template_hole 7, template_var 1)),
                       template_var 0)),
                   template_hole 9)),
               template_app
                (template_app
                  (template_app
                    (template_hole 1,
                     template_app (template_hole 5, template_var 3)),
                   template_app
                    (template_app
                      (template_hole 4,
                       template_app (template_hole 3, template_var 2)),
                     template_var 0)),
                 template_app
                  (template_app
                    (template_app (template_hole 0, template_var 3),
                     template_var 2),
                   template_var 0))))
           ))),
    ("Simplex.pivot_tableau_eq",
     "[| ?t = ?t1.0 @ ?eq # ?t2.0; ?t' = ?t1' @ ?eq' # ?t2';
         ?x : rvars_eq ?eq; \<triangle> ?t;
         pivot_tableau_eq ?t1.0 ?eq ?t2.0 ?x = (?t1', ?eq', ?t2') |]
      ==> lhs ?eq' = ?x",
     template_implication
      ([template_equation
         (template_var 8,
          template_app
           (template_app (template_hole 11, template_var 7),
            template_app
             (template_app (template_hole 10, template_var 6),
              template_var 5))),
        template_equation
         (template_var 4,
          template_app
           (template_app (template_hole 11, template_var 3),
            template_app
             (template_app (template_hole 10, template_var 2),
              template_var 1))),
        template_predicate
         (
            template_app
             (template_app (template_hole 9, template_var 0),
              template_app
               (template_hole 8,
                template_app (template_hole 7, template_var 6)))
            ),
        template_predicate (template_app (template_hole 6, template_var 8)),
        template_equation
         (template_app
           (template_app
             (template_app
               (template_app (template_hole 4, template_var 7),
                template_var 6),
              template_var 5),
            template_var 0),
          template_app
           (template_app (template_hole 3, template_var 3),
            template_app
             (template_app (template_hole 2, template_var 2),
              template_var 1)))],
       template_equation
        (template_app (template_hole 0, template_var 2), template_var 0))),
    ("Simplex.decrease_ub_satisfied_inverse",
     "[| \<lhd>\<^sub>u\<^sub>b (Direction.lt ?dir) ?c
          (Direction.UB ?dir ?s ?x);
         ?dir = Positive | ?dir = Negative;
         ?v \<Turnstile>\<^sub>b
         \<B> (update\<B>\<I> (Direction.UBI_upd ?dir) ?i ?x ?c ?s) |]
      ==> ?v \<Turnstile>\<^sub>b \<B> ?s",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_hole 12,
                  template_app (template_hole 11, template_var 5)),
                template_var 4),
              template_app
               (template_app
                 (template_app (template_hole 10, template_var 5),
                  template_var 3),
                template_var 2))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 9,
                template_app
                 (template_app (template_hole 8, template_var 5),
                  template_hole 7)),
              template_app
               (template_app (template_hole 8, template_var 5),
                template_hole 6))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 1),
              template_app
               (template_app
                 (template_hole 4,
                  template_app
                   (template_hole 3,
                    template_app
                     (template_app
                       (template_app
                         (template_app
                           (template_app
                             (template_hole 2,
                              template_app
                               (template_hole 1, template_var 5)),
                            template_var 0),
                          template_var 2),
                        template_var 4),
                      template_var 3))),
                template_app
                 (template_hole 0,
                  template_app
                   (template_app
                     (template_app
                       (template_app
                         (template_app
                           (template_hole 2,
                            template_app (template_hole 1, template_var 5)),
                          template_var 0),
                        template_var 2),
                      template_var 4),
                    template_var 3))))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 5, template_var 1),
             template_app
              (template_app
                (template_hole 4,
                 template_app (template_hole 3, template_var 3)),
               template_app (template_hole 0, template_var 3)))
           ))),
    ("Simplex.delete_lhs_var",
     "[| \<triangle> ?t; ?t = ?t1.0 @ (?x, ?p) # ?t2.0; ?t' = ?t1.0 @ ?t2.0;
         ?tv =
         (%v. Mapping.update ?x ?p \<lbrace> \<langle>v\<rangle> \<rbrace>
               v);
         ?x ~: atom_var ` snd ` set ?as |]
      ==> \<triangle> ?t'",
     template_implication
      ([template_predicate
         (template_app (template_hole 15, template_var 7)),
        template_equation
         (template_var 7,
          template_app
           (template_app (template_hole 13, template_var 6),
            template_app
             (template_app
               (template_hole 12,
                template_app
                 (template_app (template_hole 11, template_var 5),
                  template_var 4)),
              template_var 3))),
        template_equation
         (template_var 2,
          template_app
           (template_app (template_hole 13, template_var 6),
            template_var 3)),
        template_equation (template_var 1, t_empty),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 5, template_var 5),
                  template_app
                   (template_app (template_hole 4, template_hole 3),
                    template_app
                     (template_app (template_hole 2, template_hole 1),
                      template_app (template_hole 0, template_var 0))))
                )
            )],
       template_predicate
        (template_app (template_hole 15, template_var 2)))),
    ("Simplex.pivot_tableau_eq",
     "[| ?t = ?t1.0 @ ?eq # ?t2.0; ?t' = ?t1' @ ?eq' # ?t2';
         ?x : rvars_eq ?eq; \<triangle> ?t;
         pivot_tableau_eq ?t1.0 ?eq ?t2.0 ?x = (?t1', ?eq', ?t2') |]
      ==> ?v \<Turnstile>\<^sub>t ?t' = ?v \<Turnstile>\<^sub>t ?t",
     template_implication
      ([template_equation
         (template_var 9,
          template_app
           (template_app (template_hole 11, template_var 8),
            template_app
             (template_app (template_hole 10, template_var 7),
              template_var 6))),
        template_equation
         (template_var 5,
          template_app
           (template_app (template_hole 11, template_var 4),
            template_app
             (template_app (template_hole 10, template_var 3),
              template_var 2))),
        template_predicate
         (
            template_app
             (template_app (template_hole 9, template_var 1),
              template_app
               (template_hole 8,
                template_app (template_hole 7, template_var 7)))
            ),
        template_predicate (template_app (template_hole 6, template_var 9)),
        template_equation
         (template_app
           (template_app
             (template_app
               (template_app (template_hole 4, template_var 8),
                template_var 7),
              template_var 6),
            template_var 1),
          template_app
           (template_app (template_hole 3, template_var 4),
            template_app
             (template_app (template_hole 2, template_var 3),
              template_var 2)))],
       template_equation
        (template_app
          (template_app (template_hole 0, template_var 0), template_var 5),
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 9)))),
    ("Simplex.preprocess_opt",
     "[| ?X = atom_var ` snd ` set ?as;
         preprocess_opt ?X ?t1.0 ?t2.0 = (?t', ?tv); \<triangle> ?t;
         ?t = rev ?t1.0 @ ?t2.0;
         (?I, \<langle>?w\<rangle>) \<Turnstile>\<^sub>i\<^sub>a\<^sub>s
         set ?as |]
      ==> (?I,
           \<langle>?tv ?w\<rangle>) \<Turnstile>\<^sub>i\<^sub>a\<^sub>s
          set ?as",
     template_implication
      ([template_equation
         (template_var 8,
          template_app
           (template_app (template_hole 14, template_hole 13),
            template_app
             (template_app (template_hole 12, template_hole 11),
              template_app (template_hole 10, template_var 7)))),
        template_equation
         (template_app
           (template_app
             (template_app (template_hole 8, template_var 8),
              template_var 6),
            template_var 5),
          template_app
           (template_app (template_hole 7, template_var 4),
            template_var 3)),
        template_predicate (template_app (template_hole 6, template_var 2)),
        template_equation
         (template_var 2,
          template_app
           (template_app
             (template_hole 4,
              template_app (template_hole 3, template_var 6)),
            template_var 5)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 2,
                template_app
                 (template_app (template_hole 1, template_var 1),
                  template_app (template_hole 0, template_var 0))),
              template_app (template_hole 10, template_var 7))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 1),
                 template_app
                  (template_hole 0,
                   template_app (template_var 3, template_var 0)))),
             template_app (template_hole 10, template_var 7))
           ))),
    ("Simplex.distinct_indices_stateD",
     "[| distinct_indices_state ?s;
         Mapping.lookup (\<B>\<^sub>i\<^sub>l ?s) ?x = Some (?i, ?b) |
         Mapping.lookup (\<B>\<^sub>i\<^sub>u ?s) ?x = Some (?i, ?b);
         Mapping.lookup (\<B>\<^sub>i\<^sub>l ?s) ?x' = Some (?i, ?b') |
         Mapping.lookup (\<B>\<^sub>i\<^sub>u ?s) ?x' = Some (?i, ?b') |]
      ==> ?x = ?x' & ?b = ?b'",
     template_implication
      ([template_predicate
         (template_app (template_hole 10, template_var 5)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 9,
                template_app
                 (template_app
                   (template_hole 8,
                    template_app
                     (template_app
                       (template_hole 7,
                        template_app (template_hole 6, template_var 5)),
                      template_var 4)),
                  template_app
                   (template_hole 5,
                    template_app
                     (template_app (template_hole 4, template_var 3),
                      template_var 2)))),
              template_app
               (template_app
                 (template_hole 8,
                  template_app
                   (template_app
                     (template_hole 7,
                      template_app (template_hole 3, template_var 5)),
                    template_var 4)),
                template_app
                 (template_hole 5,
                  template_app
                   (template_app (template_hole 4, template_var 3),
                    template_var 2))))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 9,
                template_app
                 (template_app
                   (template_hole 8,
                    template_app
                     (template_app
                       (template_hole 7,
                        template_app (template_hole 6, template_var 5)),
                      template_var 1)),
                  template_app
                   (template_hole 5,
                    template_app
                     (template_app (template_hole 4, template_var 3),
                      template_var 0)))),
              template_app
               (template_app
                 (template_hole 8,
                  template_app
                   (template_app
                     (template_hole 7,
                      template_app (template_hole 3, template_var 5)),
                    template_var 1)),
                template_app
                 (template_hole 5,
                  template_app
                   (template_app (template_hole 4, template_var 3),
                    template_var 0))))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 4),
                 template_var 1)),
             template_app
              (template_app (template_hole 0, template_var 2),
               template_var 0))
           ))),
    ("Simplex.delete_lhs_var",
     "[| \<triangle> ?t; ?t = ?t1.0 @ (?x, ?p) # ?t2.0; ?t' = ?t1.0 @ ?t2.0;
         ?tv =
         (%v. Mapping.update ?x ?p \<lbrace> \<langle>v\<rangle> \<rbrace>
               v);
         ?x ~: atom_var ` snd ` set ?as; ?v \<Turnstile>\<^sub>t ?t |]
      ==> ?v \<Turnstile>\<^sub>t ?t'",
     template_implication
      ([template_predicate
         (template_app (template_hole 16, template_var 8)),
        template_equation
         (template_var 8,
          template_app
           (template_app (template_hole 14, template_var 7),
            template_app
             (template_app
               (template_hole 13,
                template_app
                 (template_app (template_hole 12, template_var 6),
                  template_var 5)),
              template_var 4))),
        template_equation
         (template_var 3,
          template_app
           (template_app (template_hole 14, template_var 7),
            template_var 4)),
        template_equation (template_var 2, t_empty),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 6, template_var 6),
                  template_app
                   (template_app (template_hole 5, template_hole 4),
                    template_app
                     (template_app (template_hole 3, template_hole 2),
                      template_app (template_hole 1, template_var 1))))
                )
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 0, template_var 0),
              template_var 8)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 0), template_var 3)
           ))),
    ("Simplex.atoms_equiv_bounds_extend",
     "[| ?dir = Positive | ?dir = Negative;
         ~ \<unrhd>\<^sub>u\<^sub>b (Direction.lt ?dir) ?c
            (Direction.UB ?dir ?s ?x);
         ?ats \<doteq> \<B> ?s |]
      ==> (?ats Un {Direction.LE ?dir ?x ?c}) \<doteq>
          \<B> (update\<B>\<I> (Direction.UBI_upd ?dir) ?i ?x ?c ?s)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 17,
                template_app
                 (template_app (template_hole 16, template_var 5),
                  template_hole 15)),
              template_app
               (template_app (template_hole 16, template_var 5),
                template_hole 14))
            ),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app
                   (template_app
                     (template_hole 12,
                      template_app (template_hole 11, template_var 5)),
                    template_var 4),
                  template_app
                   (template_app
                     (template_app (template_hole 10, template_var 5),
                      template_var 3),
                    template_var 2))
                )
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 9, template_var 1),
              template_app
               (template_app
                 (template_hole 8,
                  template_app (template_hole 7, template_var 3)),
                template_app (template_hole 6, template_var 3)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 9,
               template_app
                (template_app (template_hole 5, template_var 1),
                 template_app
                  (template_app
                    (template_hole 4,
                     template_app
                      (template_app
                        (template_app (template_hole 3, template_var 5),
                         template_var 2),
                       template_var 4)),
                   template_hole 2))),
             template_app
              (template_app
                (template_hole 8,
                 template_app
                  (template_hole 7,
                   template_app
                    (template_app
                      (template_app
                        (template_app
                          (template_app
                            (template_hole 1,
                             template_app
                              (template_hole 0, template_var 5)),
                           template_var 0),
                         template_var 2),
                       template_var 4),
                     template_var 3))),
               template_app
                (template_hole 6,
                 template_app
                  (template_app
                    (template_app
                      (template_app
                        (template_app
                          (template_hole 1,
                           template_app (template_hole 0, template_var 5)),
                         template_var 0),
                       template_var 2),
                     template_var 4),
                   template_var 3))))
           ))),
    ("Simplex.min_rvar_incdec_eq_Some_min",
     "min_rvar_incdec_eq ?dir ?s ?eq = Inr ?x\<^sub>j ==>
      ALL x:rvars_eq ?eq.
         x < ?x\<^sub>j -->
         ~ (0 < coeff (rhs ?eq) x &
            \<lhd>\<^sub>u\<^sub>b (Direction.lt ?dir)
             (\<langle>\<V> ?s\<rangle> x) (Direction.UB ?dir ?s x) |
            coeff (rhs ?eq) x < 0 &
            \<rhd>\<^sub>l\<^sub>b (Direction.lt ?dir)
             (\<langle>\<V> ?s\<rangle> x) (Direction.LB ?dir ?s x))",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_app (template_hole 19, template_var 3),
              template_var 2),
            template_var 1),
          template_app (template_hole 18, template_var 0))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 17,
               template_app
                (template_hole 16,
                 template_app (template_hole 15, template_var 1))),
             t_empty)
           ))),
    ("Simplex.delete_lhs_var",
     "[| \<triangle> ?t; ?t = ?t1.0 @ (?x, ?p) # ?t2.0; ?t' = ?t1.0 @ ?t2.0;
         ?tv =
         (%v. Mapping.update ?x ?p \<lbrace> \<langle>v\<rangle> \<rbrace>
               v);
         ?x ~: atom_var ` snd ` set ?as;
         \<langle>?w\<rangle> \<Turnstile>\<^sub>t ?t' |]
      ==> \<langle>?tv ?w\<rangle> \<Turnstile>\<^sub>t ?t",
     template_implication
      ([template_predicate
         (template_app (template_hole 16, template_var 8)),
        template_equation
         (template_var 8,
          template_app
           (template_app (template_hole 14, template_var 7),
            template_app
             (template_app
               (template_hole 13,
                template_app
                 (template_app (template_hole 12, template_var 6),
                  template_var 5)),
              template_var 4))),
        template_equation
         (template_var 3,
          template_app
           (template_app (template_hole 14, template_var 7),
            template_var 4)),
        template_equation (template_var 2, t_empty),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 6, template_var 6),
                  template_app
                   (template_app (template_hole 5, template_hole 4),
                    template_app
                     (template_app (template_hole 3, template_hole 2),
                      template_app (template_hole 1, template_var 1))))
                )
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 0,
                template_app (template_hole 8, template_var 0)),
              template_var 3)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 0,
               template_app
                (template_hole 8,
                 template_app (template_var 2, template_var 0))),
             template_var 8)
           ))),
    ("Simplex.preprocess'_unsat",
     "[| (?I, ?v) \<Turnstile>\<^sub>i\<^sub>n\<^sub>s\<^sub>s  set ?s;
         vars_constraints (map snd ?s) <= ?V; ALL var:?V. var < ?start |]
      ==> EX v'.
             (ALL var:?V. ?v var = v' var) &
             v' \<Turnstile>\<^sub>a\<^sub>s
             (snd `
              (set (Atoms (preprocess' ?s ?start)) Int ?I \<times> UNIV)) &
             v' \<Turnstile>\<^sub>t Tableau (preprocess' ?s ?start)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 27,
                template_app
                 (template_app (template_hole 26, template_var 4),
                  template_var 3)),
              template_app (template_hole 25, template_var 2))
            ),
        template_inequation
         (less_equals,
          template_app
           (template_hole 23,
            template_app
             (template_hole 22,
              template_app
               (template_app (template_hole 21, template_hole 20),
                template_app
                 (template_app (template_hole 19, template_hole 18),
                  template_app
                   (template_app (template_hole 17, template_hole 16),
                    template_var 2))))),
          template_var 1),
        template_predicate
         (
            template_app
             (template_app (template_hole 15, template_var 1), t_empty)
            )],
       template_predicate (template_app (template_hole 13, t_empty)))),
    ("Simplex.delete_lhs_var",
     "[| \<triangle> ?t; ?t = ?t1.0 @ (?x, ?p) # ?t2.0; ?t' = ?t1.0 @ ?t2.0;
         ?tv =
         (%v. Mapping.update ?x ?p \<lbrace> \<langle>v\<rangle> \<rbrace>
               v);
         ?x ~: atom_var ` snd ` set ?as;
         (?I, \<langle>?w\<rangle>) \<Turnstile>\<^sub>i\<^sub>a\<^sub>s
         set ?as |]
      ==> (?I,
           \<langle>?tv ?w\<rangle>) \<Turnstile>\<^sub>i\<^sub>a\<^sub>s
          set ?as",
     template_implication
      ([template_predicate
         (template_app (template_hole 17, template_var 9)),
        template_equation
         (template_var 9,
          template_app
           (template_app (template_hole 15, template_var 8),
            template_app
             (template_app
               (template_hole 14,
                template_app
                 (template_app (template_hole 13, template_var 7),
                  template_var 6)),
              template_var 5))),
        template_equation
         (template_var 4,
          template_app
           (template_app (template_hole 15, template_var 8),
            template_var 5)),
        template_equation (template_var 3, t_empty),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 7, template_var 7),
                  template_app
                   (template_app (template_hole 6, template_hole 5),
                    template_app
                     (template_app (template_hole 4, template_hole 3),
                      template_app (template_hole 2, template_var 2))))
                )
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 1,
                template_app
                 (template_app (template_hole 0, template_var 1),
                  template_app (template_hole 9, template_var 0))),
              template_app (template_hole 2, template_var 2))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 1),
                 template_app
                  (template_hole 9,
                   template_app (template_var 3, template_var 0)))),
             template_app (template_hole 2, template_var 2))
           ))),
    ("Simplex.simplex",
     "simplex ?cs = Inl ?I ==>
      set ?I <= {0..<length ?cs} &
      (\<nexists>v.
          v \<Turnstile>\<^sub>c\<^sub>s {?cs ! i |i. i : set ?I}) &
      (ALL J<set ?I.
          EX v. v \<Turnstile>\<^sub>c\<^sub>s {?cs ! i |i. i : J})",
     template_implication
      ([template_equation
         (template_app (template_hole 19, template_var 1),
          template_app (template_hole 18, template_var 0))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 17,
               template_app
                (template_app
                  (template_hole 16,
                   template_app (template_hole 15, template_var 0)),
                 template_app
                  (template_app (template_hole 14, template_hole 13),
                   template_app (template_hole 12, template_var 1)))),
             template_app
              (template_app
                (template_hole 17,
                 template_app
                  (template_hole 11,
                   template_app (template_hole 10, t_empty))),
               template_app (template_hole 2, t_empty)))
           ))),
    ("Simplex.min_rvar_incdec_eq_None'",
     "[| ?dir = Positive | ?dir = Negative;
         min_rvar_incdec_eq ?dir ?s ?eq = Inl ?is; ?I = set ?is;
         (?I, ?v) \<Turnstile>\<^sub>i\<^sub>b \<B>\<I> ?s |]
      ==> Direction.lt ?dir rhs ?eq \<lbrace> ?v \<rbrace>
           rhs ?eq \<lbrace> \<langle>\<V> ?s\<rangle> \<rbrace> |
          rhs ?eq \<lbrace> ?v \<rbrace> =
          rhs ?eq \<lbrace> \<langle>\<V> ?s\<rangle> \<rbrace>",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 23,
                template_app
                 (template_app (template_hole 22, template_var 5),
                  template_hole 21)),
              template_app
               (template_app (template_hole 22, template_var 5),
                template_hole 20))
            ),
        template_equation
         (template_app
           (template_app
             (template_app (template_hole 18, template_var 5),
              template_var 4),
            template_var 3),
          template_app (template_hole 17, template_var 2)),
        template_equation
         (template_var 1, template_app (template_hole 15, template_var 2)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 14,
                template_app
                 (template_app (template_hole 13, template_var 1),
                  template_var 0)),
              template_app
               (template_app
                 (template_hole 12,
                  template_app
                   (template_app
                     (template_hole 11,
                      template_app (template_hole 10, template_var 4)),
                    template_app (template_hole 9, template_var 4))),
                template_app
                 (template_app
                   (template_hole 8,
                    template_app (template_hole 7, template_var 4)),
                  template_app (template_hole 6, template_var 4))))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 23,
               template_app
                (template_app
                  (template_app (template_hole 5, template_var 5),
                   template_app
                    (template_app
                      (template_hole 4,
                       template_app (template_hole 3, template_var 3)),
                     template_var 0)),
                 template_app
                  (template_app
                    (template_hole 4,
                     template_app (template_hole 3, template_var 3)),
                   template_app
                    (template_hole 2,
                     template_app (template_hole 1, template_var 4))))),
             template_app
              (template_app
                (template_hole 0,
                 template_app
                  (template_app
                    (template_hole 4,
                     template_app (template_hole 3, template_var 3)),
                   template_var 0)),
               template_app
                (template_app
                  (template_hole 4,
                   template_app (template_hole 3, template_var 3)),
                 template_app
                  (template_hole 2,
                   template_app (template_hole 1, template_var 4)))))
           ))),
    ("Simplex.preprocess'_simps",
     "preprocess' ((?i, ?h) # ?t) ?v =
      (let s' = preprocess' ?t ?v; p = poly ?h; is_monom_h = is_monom p;
           v' = FirstFreshVariable s'; t' = Tableau s'; a' = Atoms s';
           m' = Poly_Mapping s'; u' = UnsatIndices s'
       in if is_monom_h
          then IState v' t' ((?i, monom_to_atom ?h) # a') m' u'
          else if p = 0
               then if zero_satisfies ?h then s'
                    else IState v' t' a' m' (?i # u')
               else case m' p of
                    None =>
                      IState (v' + 1) (linear_poly_to_eq p v' # t')
                       ((?i, qdelta_constraint_to_atom' ?h v') # a')
                       (m'(p |-> v')) u'
                    | Some v =>
                        IState v' t'
                         ((?i, qdelta_constraint_to_atom' ?h v) # a') m'
                         u')",
     template_equation
      (template_app
        (template_app
          (template_hole 34,
           template_app
            (template_app
              (template_hole 33,
               template_app
                (template_app (template_hole 32, template_var 3),
                 template_var 2)),
             template_var 1)),
         template_var 0),
       template_app
        (template_app
          (template_hole 31,
           template_app
            (template_app (template_hole 34, template_var 1),
             template_var 0)),
         t_empty))),
    ("Simplex.min_rvar_incdec_eq_None",
     "min_rvar_incdec_eq ?dir ?s ?eq = Inl ?is ==>
      (ALL x:rvars_eq ?eq.
          ~ (0 < coeff (rhs ?eq) x &
             \<lhd>\<^sub>u\<^sub>b (Direction.lt ?dir)
              (\<langle>\<V> ?s\<rangle> x) (Direction.UB ?dir ?s x) |
             coeff (rhs ?eq) x < 0 &
             \<rhd>\<^sub>l\<^sub>b (Direction.lt ?dir)
              (\<langle>\<V> ?s\<rangle> x) (Direction.LB ?dir ?s x))) &
      set ?is =
      {Direction.LI ?dir ?s (lhs ?eq)} Un
      {Direction.LI ?dir ?s x |x.
       x : rvars_eq ?eq & coeff (rhs ?eq) x < 0} Un
      {Direction.UI ?dir ?s x |x.
       x : rvars_eq ?eq & 0 < coeff (rhs ?eq) x} &
      (?dir = Positive | ?dir = Negative -->
       Direction.LI ?dir ?s (lhs ?eq) : indices_state ?s -->
       set ?is <= indices_state ?s)",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_app (template_hole 36, template_var 3),
              template_var 2),
            template_var 1),
          template_app (template_hole 35, template_var 0))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 34,
               template_app
                (template_app
                  (template_hole 33,
                   template_app
                    (template_hole 32,
                     template_app (template_hole 31, template_var 1))),
                 t_empty)),
             template_app
              (template_app
                (template_hole 34,
                 template_app
                  (template_app
                    (template_hole 18,
                     template_app (template_hole 17, template_var 0)),
                   template_app
                    (template_app
                      (template_hole 16,
                       template_app
                        (template_app
                          (template_hole 16,
                           template_app
                            (template_app
                              (template_hole 15,
                               template_app
                                (template_app
                                  (template_app
                                    (template_hole 14, template_var 3),
                                   template_var 2),
                                 template_app
                                  (template_hole 13, template_var 1))),
                             template_hole 12)),
                         template_app (template_hole 11, t_empty))),
                     template_app (template_hole 11, t_empty)))),
               template_app
                (template_app
                  (template_hole 6,
                   template_app
                    (template_app
                      (template_hole 29,
                       template_app
                        (template_app (template_hole 5, template_var 3),
                         template_hole 4)),
                     template_app
                      (template_app (template_hole 5, template_var 3),
                       template_hole 3))),
                 template_app
                  (template_app
                    (template_hole 6,
                     template_app
                      (template_app
                        (template_hole 2,
                         template_app
                          (template_app
                            (template_app
                              (template_hole 14, template_var 3),
                             template_var 2),
                           template_app
                            (template_hole 13, template_var 1))),
                       template_app (template_hole 1, template_var 2))),
                   template_app
                    (template_app
                      (template_hole 0,
                       template_app (template_hole 17, template_var 0)),
                     template_app (template_hole 1, template_var 2))))))
           )))]:
   (string * thm * template) list
### theory "Draft.SimplexTemplates"
### 0.777s elapsed time, 1.168s cpu time, 0.181s GC time
val it = (): unit
