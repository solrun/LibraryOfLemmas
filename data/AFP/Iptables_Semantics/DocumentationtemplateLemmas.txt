   [("Documentation.unfold_optimize_common_matcher_univ_ruleset_CHAIN",
     "[| sanity_wf_ruleset ?\<Gamma>; ?chain_name : set (map fst ?\<Gamma>);
         ?default_action = action.Accept | ?default_action = action.Drop;
         matcher_agree_on_exact_matches ?\<gamma> common_matcher;
         unfold_ruleset_CHAIN_safe ?chain_name ?default_action
          (map_of ?\<Gamma>) =
         Some ?rs |]
      ==> simple_ruleset ?rs",
     template_implication
      ([template_predicate
         (template_app (template_hole 15, template_var 4)),
        template_predicate
         (
            template_app
             (template_app (template_hole 14, template_var 3),
              template_app
               (template_hole 13,
                template_app
                 (template_app (template_hole 12, template_hole 11),
                  template_var 4)))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 10,
                template_app
                 (template_app (template_hole 9, template_var 2),
                  template_hole 8)),
              template_app
               (template_app (template_hole 9, template_var 2),
                template_hole 7))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 1),
              template_hole 5)
            ),
        template_equation
         (template_app
           (template_app
             (template_app (template_hole 3, template_var 3),
              template_var 2),
            template_app (template_hole 2, template_var 4)),
          template_app (template_hole 1, template_var 0))],
       template_predicate
        (template_app (template_hole 0, template_var 0)))),
    ("Documentation.unfold_optimize_common_matcher_univ_ruleset_CHAIN",
     "[| sanity_wf_ruleset ?\<Gamma>; ?chain_name : set (map fst ?\<Gamma>);
         ?default_action = action.Accept | ?default_action = action.Drop;
         matcher_agree_on_exact_matches ?\<gamma> common_matcher;
         unfold_ruleset_CHAIN_safe ?chain_name ?default_action
          (map_of ?\<Gamma>) =
         Some ?rs |]
      ==> map_of
           ?\<Gamma>,?\<gamma>,?p\<turnstile> \<langle>?rs, ?s\<rangle> \<Rightarrow> ?t =
          map_of
           ?\<Gamma>,?\<gamma>,?p\<turnstile> \<langle>[Rule MatchAny
                   (Call ?chain_name),
                  Rule MatchAny
                   ?default_action], ?s\<rangle> \<Rightarrow> ?t",
     template_implication
      ([template_predicate
         (template_app (template_hole 21, template_var 7)),
        template_predicate
         (
            template_app
             (template_app (template_hole 20, template_var 6),
              template_app
               (template_hole 19,
                template_app
                 (template_app (template_hole 18, template_hole 17),
                  template_var 7)))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 16,
                template_app
                 (template_app (template_hole 15, template_var 5),
                  template_hole 14)),
              template_app
               (template_app (template_hole 15, template_var 5),
                template_hole 13))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 12, template_var 4),
              template_hole 11)
            ),
        template_equation
         (template_app
           (template_app
             (template_app (template_hole 9, template_var 6),
              template_var 5),
            template_app (template_hole 8, template_var 7)),
          template_app (template_hole 7, template_var 3))],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app
                (template_app
                  (template_app
                    (template_hole 5,
                     template_app (template_hole 8, template_var 7)),
                   template_var 4),
                 template_var 2),
               template_var 3),
             template_var 1),
           template_var 0),
         template_app
          (template_app
            (template_app
              (template_app
                (template_app
                  (template_app
                    (template_hole 5,
                     template_app (template_hole 8, template_var 7)),
                   template_var 4),
                 template_var 2),
               template_app
                (template_app
                  (template_hole 4,
                   template_app
                    (template_app (template_hole 3, template_hole 2),
                     template_app (template_hole 1, template_var 6))),
                 template_app
                  (template_app
                    (template_hole 4,
                     template_app
                      (template_app (template_hole 3, template_hole 2),
                       template_var 5)),
                   template_hole 0))),
             template_var 1),
           template_var 0))))]
