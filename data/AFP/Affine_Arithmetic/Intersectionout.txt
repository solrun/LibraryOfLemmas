Loading theory "HOL-Library.Stream" (required by "Draft.IntersectionTemplates" via "Draft.ExtrEqs")
Loading theory "HOL-Library.Function_Algebras" (required by "Draft.IntersectionTemplates" via "Draft.ExtrEqs" via "HOL-Library.BigO")
Loading theory "Draft.Affine_Arithmetic_Auxiliarities" (required by "Draft.IntersectionTemplates" via "Draft.Intersection" via "Draft.Polygon" via "Draft.Counterclockwise_2D_Strict")
Loading theory "HOL-Library.Tree" (required by "Draft.IntersectionTemplates" via "Draft.ExtrEqs" via "Draft.Templates")
instantiation
  fun :: (type, plus) plus
  plus_fun == plus :: ('a => 'b) => ('a => 'b) => 'a => 'b
instantiation
  fun :: (type, zero) zero
  zero_fun == zero_class.zero :: 'a => 'b
instantiation
  fun :: (type, times) times
  times_fun == times :: ('a => 'b) => ('a => 'b) => 'a => 'b
instantiation
  fun :: (type, one) one
  one_fun == one_class.one :: 'a => 'b
### theory "Draft.Affine_Arithmetic_Auxiliarities"
### 0.118s elapsed time, 0.472s cpu time, 0.055s GC time
Loading theory "Draft.Counterclockwise" (required by "Draft.IntersectionTemplates" via "Draft.Intersection" via "Draft.Polygon" via "Draft.Counterclockwise_2D_Strict" via "Draft.Counterclockwise_Vector")
### theory "HOL-Library.Function_Algebras"
### 0.154s elapsed time, 0.618s cpu time, 0.055s GC time
Loading theory "HOL-Library.BigO" (required by "Draft.IntersectionTemplates" via "Draft.ExtrEqs")
locale linorder_list0
  fixes le :: "'a => 'a => bool"
Proofs for inductive predicate(s) "sortedP"
  Proving monotonicity ...
locale linorder_list
  fixes le :: "'a => 'a => bool"
    and S :: "'a set"
  assumes "linorder_list le S"
locale ccw_system0
  fixes ccw :: "'a => 'a => 'a => bool"
    and S :: "'a set"
consts
  shift :: "'a list => 'a stream => 'a stream"
Proofs for coinductive predicate(s) "streamsp"
  Proving monotonicity ...
locale ccw_system12
  fixes ccw :: "'a => 'a => 'a => bool"
    and S :: "'a set"
  assumes "ccw_system12 ccw S"
consts
  left :: "'a tree => 'a tree"
locale ccw_system123
  fixes ccw :: "'a => 'a => 'a => bool"
    and S :: "'a set"
  assumes "ccw_system123 ccw S"
consts
  right :: "'a tree => 'a tree"
locale ccw_system4
  fixes ccw :: "'a => 'a => 'a => bool"
    and S :: "'a set"
  assumes "ccw_system4 ccw S"
consts
  snth :: "'a stream => nat => 'a"
locale ccw_system1235'
  fixes ccw :: "'a => 'a => 'a => bool"
    and S :: "'a set"
  assumes "ccw_system1235' ccw S"
Found termination order: "size <*mlex*> {}"
consts
  stake :: "nat => 'a stream => 'a list"
locale ccw_system1235
  fixes ccw :: "'a => 'a => 'a => bool"
    and S :: "'a set"
  assumes "ccw_system1235 ccw S"
consts
  sdrop :: "nat => 'a stream => 'a stream"
locale ccw_system
  fixes ccw :: "'a => 'a => 'a => bool"
    and S :: "'a set"
  assumes "ccw_system ccw S"
### theory "Draft.Counterclockwise"
### 0.476s elapsed time, 1.849s cpu time, 0.128s GC time
Loading theory "Draft.Counterclockwise_Vector" (required by "Draft.IntersectionTemplates" via "Draft.Intersection" via "Draft.Polygon" via "Draft.Counterclockwise_2D_Strict")
Found termination order: "size <*mlex*> {}"
consts
  sfilter :: "('a => bool) => 'a stream => 'a stream"
locale ccw_vector_space
  fixes ccw :: "'a => 'a => 'a => bool"
    and S :: "'a set"
  assumes "ccw_vector_space ccw S"
consts
  cycle :: "'a list => 'a stream"
Found termination order: "size <*mlex*> {}"
consts
  siterate :: "('a => 'a) => 'a => 'a stream"
class height = type +
  fixes height :: "'a => nat"
instantiation
  tree :: (type) height
  height_tree == height :: 'a tree => nat
locale ccw_convex
  fixes ccw :: "'a => 'a => 'a => bool"
    and S :: "'a set"
    and oriented :: "'a => 'a => bool"
  assumes "ccw_convex ccw S oriented"
### theory "Draft.Counterclockwise_Vector"
### 0.139s elapsed time, 0.540s cpu time, 0.054s GC time
Loading theory "Draft.Counterclockwise_2D_Strict" (required by "Draft.IntersectionTemplates" via "Draft.Intersection" via "Draft.Polygon")
consts
  flat :: "'a list stream => 'a stream"
Found termination order: "size <*mlex*> {}"
consts
  sinterleave :: "'a stream => 'a stream => 'a stream"
consts
  szip :: "'a stream => 'b stream => ('a * 'b) stream"
Found termination order: "size <*mlex*> {}"
consts
  smap2 :: "('a => 'b => 'c) => 'a stream => 'b stream => 'c stream"
### theory "HOL-Library.Stream"
### 0.867s elapsed time, 3.357s cpu time, 0.302s GC time
Loading theory "Draft.Executable_Euclidean_Space" (required by "Draft.IntersectionTemplates" via "Draft.Intersection" via "Draft.Affine_Form")
Found termination order: "size <*mlex*> {}"
### theory "HOL-Library.BigO"
### 0.745s elapsed time, 2.877s cpu time, 0.247s GC time
Found termination order: "size <*mlex*> {}"
Found termination order: "{}"
Found termination order: "size <*mlex*> {}"
Found termination order: "size <*mlex*> {}"
Found termination order: "size <*mlex*> {}"
Found termination order: "(%p. size (fst p)) <*mlex*> {}"
Found termination order: "size <*mlex*> {}"
### theory "Draft.Counterclockwise_2D_Strict"
### 0.655s elapsed time, 2.155s cpu time, 0.631s GC time
Loading theory "Draft.Counterclockwise_2D_Arbitrary" (required by "Draft.IntersectionTemplates" via "Draft.Intersection")
Loading theory "Draft.Polygon" (required by "Draft.IntersectionTemplates" via "Draft.Intersection")
Found termination order: "(%p. size (snd p)) <*mlex*> {}"
Found termination order: "{}"
consts
  polychain_of :: "'a => 'a list => ('a * 'a) list"
consts
  dirvec :: "'a * 'a => 'a"
Found termination order: "size <*mlex*> {}"
### theory "Draft.Polygon"
### 0.358s elapsed time, 1.381s cpu time, 0.127s GC time
### theory "Draft.Counterclockwise_2D_Arbitrary"
### 0.483s elapsed time, 1.762s cpu time, 0.191s GC time
### theory "HOL-Library.Tree"
### 1.941s elapsed time, 6.936s cpu time, 1.060s GC time
Loading theory "Draft.Templates" (required by "Draft.IntersectionTemplates" via "Draft.ExtrEqs")
datatype template_term
=
     t_empty
   | template_app of template_term * template_term
   | template_hole of int
   | template_var of int
datatype sign
= equals | greater_equals | greater_than | less_equals | less_than
datatype template
=
     template_bimplication of template * template
   | template_dunno
   | template_equation of template_term * template_term
   | template_implication of template list * template
   | template_inequation of sign * template_term * template_term
   | template_negation of template
   | template_predicate of template_term
constructor t_empty: template_term
constructor template_app: template_term * template_term -> template_term
constructor template_hole: int -> template_term
constructor template_var: int -> template_term
constructor equals: sign
constructor greater_equals: sign
constructor greater_than: sign
constructor less_equals: sign
constructor less_than: sign
constructor template_bimplication: template * template -> template
constructor template_dunno: template
constructor template_equation: template_term * template_term -> template
constructor template_implication: template list * template -> template
constructor template_inequation:
   sign * template_term * template_term -> template
constructor template_negation: template -> template
constructor template_predicate: template_term -> template
val vfs = fn: term -> (indexname * typ) list * (string * typ) list
val indexOf = fn: ''a list -> ''a -> int -> int
val has_eq = fn: term -> bool
val term2template = fn:
   (indexname * typ) list -> (string * typ) list -> term -> template_term
val lemma2predicate = fn: term -> term -> template
val makeTemplatewithContext = fn: term -> term -> template
val lemma2template = fn: term -> template
val thm2template = fn: thm -> template
val tterm2string = fn: template_term -> string
val template2string = fn: template -> string
val t = "height ?t <= size ?t": thm
val th =
   Const ("HOL.Trueprop", "bool => prop") $
     (Const ("Orderings.ord_class.less_eq", "nat => nat => bool") $
       (Const ("Tree.height_class.height", "?'a tree => nat") $
         Var (("t", 0), "?'a tree")) $
       (Const ("Nat.size_class.size", "?'a tree => nat") $
         Var (("t", 0), "?'a tree"))):
   term
### theory "Draft.Templates"
### 0.051s elapsed time, 0.123s cpu time, 0.000s GC time
Loading theory "Draft.ExtrEqs" (required by "Draft.IntersectionTemplates")
val eqpattern =
   Pattern
    (
       Const ("HOL.Trueprop", "bool => prop") $
         (Const ("HOL.eq", "?'a => ?'a => bool") $
           Var (("_dummy_", 1), "?'a") $ Var (("_dummy_", 2), "?'a"))
       ):
   term Find_Theorems.criterion
val badeqpattern = Pattern (Const ("Pure.eq", "?'a => ?'a => prop")):
   term Find_Theorems.criterion
val undefpattern =
   Pattern
    (
       Const ("HOL.Trueprop", "bool => prop") $
         (Const ("HOL.eq", "?'a => ?'a => bool") $
           Var (("_dummy_", 1), "?'a") $ Const ("HOL.undefined", "?'a"))
       ):
   term Find_Theorems.criterion
val thmpattern =
   Pattern
    (Const ("HOL.Trueprop", "bool => prop") $ Var (("_dummy_", 1), "bool")):
   term Find_Theorems.criterion
val badnames =
   ["*nitpick*", "*Nitpick*", "*full_exhaustive*", "*_def*", "Enum.finite*",
    "*Quickcheck*", "ATP*", "*Nunchaku*", "*Code*", "*BNF*", "*SMT*",
    "*.*.*"]:
   string list
val unwanted_names =
   [(false, Name "*nitpick*"), (false, Name "*Nitpick*"),
    (false, Name "*full_exhaustive*"), (false, Name "*_def*"),
    (false, Name "Enum.finite*"), (false, Name "*Quickcheck*"),
    (false, Name "ATP*"), (false, Name "*Nunchaku*"),
    (false, Name "*Code*"), (false, Name "*BNF*"), (false, Name "*SMT*"),
    (false, Name "*.*.*")]:
   (bool * term Find_Theorems.criterion) list
val has_vars = fn: term -> bool
val get_all_eqs = fn: string -> Proof.context -> (string * thm) list
val get_all_thms = fn: string -> Proof.context -> (string * thm) list
val get_noneq_thms = fn: string -> Proof.context -> (string * thm) list
val template_eqs = fn:
   string -> Proof.context -> (string * thm * template) list
val template_thms = fn:
   string -> Proof.context -> (string * thm * template) list
### theory "Draft.ExtrEqs"
### 0.719s elapsed time, 1.774s cpu time, 0.814s GC time
class executable_euclidean_space = ordered_euclidean_space +
  fixes Basis_list :: "'a list"
    and eucl_down :: "int => 'a => 'a"
    and eucl_truncate_down :: "nat => 'a => 'a"
    and eucl_truncate_up :: "nat => 'a => 'a"
  assumes
    "eucl_down_def":
      "!!p b.
          eucl_down p b =
          (SUM i:Basis. round_down p (b \<bullet> i) *\<^sub>R i)"
  assumes
    "eucl_truncate_down_def":
      "!!q b.
          eucl_truncate_down q b =
          (SUM i:Basis. truncate_down q (b \<bullet> i) *\<^sub>R i)"
  assumes
    "eucl_truncate_up_def":
      "!!q b.
          eucl_truncate_up q b =
          (SUM i:Basis. truncate_up q (b \<bullet> i) *\<^sub>R i)"
  assumes "Basis_list": "set Basis_list = Basis"
  assumes "distinct_Basis_list": "distinct Basis_list"
instantiation
  real :: executable_euclidean_space
  Basis_list_real == Basis_list :: real list
  eucl_down_real == eucl_down :: int => real => real
  eucl_truncate_down_real == eucl_truncate_down :: nat => real => real
  eucl_truncate_up_real == eucl_truncate_up :: nat => real => real
instantiation
  prod :: (executable_euclidean_space, executable_euclidean_space)
    executable_euclidean_space
  Basis_list_prod == Basis_list :: ('a * 'b) list
  eucl_down_prod == eucl_down :: int => 'a * 'b => 'a * 'b
  eucl_truncate_down_prod == eucl_truncate_down :: nat => 'a * 'b => 'a * 'b
  eucl_truncate_up_prod == eucl_truncate_up :: nat => 'a * 'b => 'a * 'b
instantiation
  vec :: (executable_euclidean_space, enum) executable_euclidean_space
  Basis_list_vec == Basis_list :: ('a, 'b) vec list
  eucl_down_vec == eucl_down :: int => ('a, 'b) vec => ('a, 'b) vec
  eucl_truncate_down_vec == eucl_truncate_down ::
    nat => ('a, 'b) vec => ('a, 'b) vec
  eucl_truncate_up_vec == eucl_truncate_up ::
    nat => ('a, 'b) vec => ('a, 'b) vec
locale blinfun_syntax
### theory "Draft.Executable_Euclidean_Space"
### 2.902s elapsed time, 6.582s cpu time, 1.707s GC time
Loading theory "Draft.Affine_Form" (required by "Draft.IntersectionTemplates" via "Draft.Intersection")
instantiation
  pdevs :: (equal) equal
  equal_pdevs == equal_class.equal :: 'a pdevs => 'a pdevs => bool
### theory "Draft.Affine_Form"
### 2.109s elapsed time, 2.986s cpu time, 1.223s GC time
Loading theory "Draft.Intersection" (required by "Draft.IntersectionTemplates")
Found termination order: "length <*mlex*> {}"
Found termination order: "{}"
Found termination order: "{}"
consts
  bound_intersect_2d ::
    "nat
     => ((real * real) * real * real) list => real => (real * real) option"
### theory "Draft.Intersection"
### 2.287s elapsed time, 2.542s cpu time, 0.342s GC time
Loading theory "Draft.IntersectionTemplates"
val templateLemmas =
   [("Intersection.distinct_independent_pdevs",
     "distinct (independent_pdevs ?xs)",
     template_predicate
      (
         template_app
          (template_hole 1, template_app (template_hole 0, template_var 0))
         )),
    ("Intersection.convex_polychain_half_segments_of_aform",
     "convex_polychain (half_segments_of_aform ?X)",
     template_predicate
      (
         template_app
          (template_hole 1, template_app (template_hole 0, template_var 0))
         )),
    ("Intersection.polychain_half_segments_of_aform",
     "polychain (half_segments_of_aform ?X)",
     template_predicate
      (
         template_app
          (template_hole 1, template_app (template_hole 0, template_var 0))
         )),
    ("Intersection.polychain_segments_of_aform",
     "polychain (segments_of_aform ?X)",
     template_predicate
      (
         template_app
          (template_hole 1, template_app (template_hole 0, template_var 0))
         )),
    ("Intersection.inj_mirror_point", "inj (mirror_point ?x)",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 0)),
           template_hole 0)
         )),
    ("Intersection.distinct_inl", "distinct (inl (snd ?X))",
     template_predicate
      (
         template_app
          (template_hole 2,
           template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 0)))
         )),
    ("Intersection.distinct_fst_half_segments",
     "distinct (map fst (half_segments_of_aform ?X))",
     template_predicate
      (
         template_app
          (template_hole 3,
           template_app
            (template_app (template_hole 2, template_hole 1),
             template_app (template_hole 0, template_var 0)))
         )),
    ("Intersection.distinct_snd_half_segments",
     "distinct (map snd (half_segments_of_aform ?X))",
     template_predicate
      (
         template_app
          (template_hole 3,
           template_app
            (template_app (template_hole 2, template_hole 1),
             template_app (template_hole 0, template_var 0)))
         )),
    ("Intersection.list_all_filter", "list_all ?p (filter ?p ?xs)",
     template_predicate
      (
         template_app
          (template_app (template_hole 1, template_var 1),
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 0))
         )),
    ("Intersection.lex_nlex_pdevs",
     "Counterclockwise_2D_Arbitrary.lex (pdevs_apply (nlex_pdevs ?x) ?i) 0",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app
                (template_hole 2,
                 template_app (template_hole 1, template_var 1)),
               template_var 0)),
           template_hole 0)
         )),
    ("Intersection.degree_nlex_pdevs", "degree (nlex_pdevs ?x) = degree ?x",
     template_equation
      (template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Intersection.pdevs_domain_nlex_pdevs",
     "pdevs_domain (nlex_pdevs ?x) = pdevs_domain ?x",
     template_equation
      (template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Intersection.sum_list_independent_pdevs",
     "sum_list (independent_pdevs ?xs) = sum_list ?xs",
     template_equation
      (template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Intersection.not_segments_of_aform_singleton",
     "segments_of_aform ?X ~= [?x]",
     template_negation
      (
         template_equation
          (template_app (template_hole 2, template_var 1),
           template_app
            (template_app (template_hole 1, template_var 0),
             template_hole 0))
         )),
    ("Intersection.snd_abs", "snd \<bar>?x\<bar> = \<bar>snd ?x\<bar>",
     template_equation
      (template_app
        (template_hole 2, template_app (template_hole 1, template_var 0)),
       template_app
        (template_hole 0, template_app (template_hole 2, template_var 0)))),
    ("Intersection.mirror_point_self_inverse",
     "mirror_point ?p (mirror_point ?p ?x) = ?x",
     template_equation
      (template_app
        (template_app (template_hole 0, template_var 1),
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_var 0)),
    ("Intersection.closed_segment_commute",
     "closed_segment ?a ?b = closed_segment ?b ?a",
     template_equation
      (template_app
        (template_app (template_hole 0, template_var 1), template_var 0),
       template_app
        (template_app (template_hole 0, template_var 0), template_var 1))),
    ("Intersection.norm_pair_fst0", "norm (0::?'a, ?x) = norm ?x",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 2, template_hole 1),
           template_var 0)),
       template_app (template_hole 0, template_var 0))),
    ("Intersection.distinct_selsort_inl",
     "distinct (ccw.selsort 0 (inl (snd ?X)))",
     template_predicate
      (
         template_app
          (template_hole 5,
           template_app
            (template_app
              (template_hole 4,
               template_app (template_hole 3, template_hole 2)),
             template_app
              (template_hole 1,
               template_app (template_hole 0, template_var 0))))
         )),
    ("Intersection.fst_compose_pairself", "fst o pairself ?f = ?f o fst",
     template_equation
      (template_app
        (template_app (template_hole 4, template_hole 3),
         template_app (template_hole 2, template_var 0)),
       template_app
        (template_app (template_hole 1, template_var 0), template_hole 0))),
    ("Intersection.snd_compose_pairself", "snd o pairself ?f = ?f o snd",
     template_equation
      (template_app
        (template_app (template_hole 4, template_hole 3),
         template_app (template_hole 2, template_var 0)),
       template_app
        (template_app (template_hole 1, template_var 0), template_hole 0))),
    ("Intersection.distinct_map_mirror_point_eq",
     "distinct (map (mirror_point ?x) ?xs) = distinct ?xs",
     template_equation
      (template_app
        (template_hole 2,
         template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 1)),
           template_var 0)),
       template_app (template_hole 2, template_var 0))),
    ("Intersection.polychain_of_segments_of_aform1",
     "length (segments_of_aform ?X) = 1 ==> False",
     template_implication
      ([template_equation
         (template_app
           (template_hole 3,
            template_app (template_hole 2, template_var 0)),
          template_hole 1)],
       template_predicate (template_hole 0))),
    ("Intersection.sorted_inl",
     "ccw.sortedP 0 (ccw.selsort 0 (inl (snd ?X)))",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 5,
             template_app (template_hole 4, template_hole 3)),
           template_app
            (template_app
              (template_hole 2,
               template_app (template_hole 4, template_hole 3)),
             template_app
              (template_hole 1,
               template_app (template_hole 0, template_var 0))))
         )),
    ("Intersection.eq_self_mirror_iff",
     "(?x = mirror_point ?y ?x) = (?x = ?y)",
     template_bimplication
      (template_equation
        (template_var 1,
         template_app
          (template_app (template_hole 0, template_var 0), template_var 1)),
       template_equation (template_var 1, template_var 0))),
    ("Intersection.pdevs_domain_eq_empty_iff",
     "(pdevs_domain (snd ?X) = {}) = (snd ?X = zero_pdevs)",
     template_bimplication
      (template_equation
        (template_app
          (template_hole 4, template_app (template_hole 3, template_var 0)),
         template_hole 2),
       template_equation
        (template_app (template_hole 3, template_var 0), template_hole 0))),
    ("Intersection.sum_list_nlex_eq_sum_list_inl",
     "sum_list (map snd (list_of_pdevs (nlex_pdevs ?X))) =
      sum_list (inl ?X)",
     template_equation
      (template_app
        (template_hole 5,
         template_app
          (template_app (template_hole 4, template_hole 3),
           template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 0)))),
       template_app
        (template_hole 5, template_app (template_hole 0, template_var 0)))),
    ("Intersection.convex_polychain_map_mirror",
     "convex_polychain ?hs ==>
      convex_polychain (map (pairself (mirror_point ?x)) ?hs)",
     template_implication
      ([template_predicate
         (template_app (template_hole 3, template_var 1))],
       template_predicate
        (
           template_app
            (template_hole 3,
             template_app
              (template_app
                (template_hole 2,
                 template_app
                  (template_hole 1,
                   template_app (template_hole 0, template_var 0))),
               template_var 1))
           ))),
    ("Intersection.convex_polychain_segments_of_aform",
     "1 < length (half_segments_of_aform ?X) ==>
      convex_polychain (segments_of_aform ?X)",
     template_implication
      ([template_inequation
         (less_than, template_hole 4,
          template_app
           (template_hole 3,
            template_app (template_hole 2, template_var 0)))],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 0))
           ))),
    ("Intersection.convex_polygon_segments_of_aform",
     "1 < length (half_segments_of_aform ?X) ==>
      convex_polygon (segments_of_aform ?X)",
     template_implication
      ([template_inequation
         (less_than, template_hole 4,
          template_app
           (template_hole 3,
            template_app (template_hole 2, template_var 0)))],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 0))
           ))),
    ("Intersection.in_set_inl_lex",
     "?x : set (inl ?xs) ==> Counterclockwise_2D_Arbitrary.lex ?x 0",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 1),
              template_app
               (template_hole 3,
                template_app (template_hole 2, template_var 0)))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, template_var 1),
             template_hole 0)
           ))),
    ("Intersection.mirror_point_aform_val",
     "mirror_point (fst ?X) (aform_val ?e ?X) = aform_val (- ?e) ?X",
     template_equation
      (template_app
        (template_app
          (template_hole 3, template_app (template_hole 2, template_var 1)),
         template_app
          (template_app (template_hole 1, template_var 0), template_var 1)),
       template_app
        (template_app
          (template_hole 1, template_app (template_hole 0, template_var 0)),
         template_var 1))),
    ("Intersection.fst_closed_segment",
     "fst ` closed_segment ?a ?b = closed_segment (fst ?a) (fst ?b)",
     template_equation
      (template_app
        (template_app (template_hole 3, template_hole 2),
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 0, template_app (template_hole 2, template_var 1)),
         template_app (template_hole 2, template_var 0)))),
    ("Intersection.Affine_inl",
     "Affine (fst ?X, pdevs_of_list (inl (snd ?X))) = Affine ?X",
     template_equation
      (template_app
        (template_hole 5,
         template_app
          (template_app
            (template_hole 4,
             template_app (template_hole 3, template_var 0)),
           template_app
            (template_hole 2,
             template_app
              (template_hole 1,
               template_app (template_hole 0, template_var 0))))),
       template_app (template_hole 5, template_var 0))),
    ("Intersection.in_set_independent_pdevs_nonzero",
     "?x : set (independent_pdevs ?xs) ==> ?x ~= 0",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 1),
              template_app
               (template_hole 4,
                template_app (template_hole 3, template_var 0)))
            )],
       template_negation
        (template_equation (template_var 1, template_hole 0)))),
    ("Intersection.in_set_inl_nonzero", "?x : set (inl ?xs) ==> ?x ~= 0",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 1),
              template_app
               (template_hole 4,
                template_app (template_hole 3, template_var 0)))
            )],
       template_negation
        (template_equation (template_var 1, template_hole 0)))),
    ("Intersection.distinct_scaled_inl",
     "distinct (map ((*\<^sub>R) 2) (ccw.selsort 0 (inl (snd ?X))))",
     template_predicate
      (
         template_app
          (template_hole 10,
           template_app
            (template_app
              (template_hole 9,
               template_app
                (template_hole 8,
                 template_app
                  (template_hole 7,
                   template_app (template_hole 6, template_hole 5)))),
             template_app
              (template_app
                (template_hole 4,
                 template_app (template_hole 3, template_hole 2)),
               template_app
                (template_hole 1,
                 template_app (template_hole 0, template_var 0)))))
         )),
    ("Intersection.center_le_lowest",
     "fst (fst ?X) <= fst (lowest_vertex (fst ?X, nlex_pdevs (snd ?X)))",
     template_inequation
      (less_equals,
       template_app
        (template_hole 5, template_app (template_hole 4, template_var 0)),
       template_app
        (template_hole 5,
         template_app
          (template_hole 3,
           template_app
            (template_app
              (template_hole 2,
               template_app (template_hole 4, template_var 0)),
             template_app
              (template_hole 1,
               template_app (template_hole 0, template_var 0))))))),
    ("Intersection.ccw'_sortedP_uminus",
     "ccw'.sortedP 0 ?xs ==> ccw'.sortedP 0 (map uminus ?xs)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 4,
                template_app (template_hole 3, template_hole 2)),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 4,
               template_app (template_hole 3, template_hole 2)),
             template_app
              (template_app (template_hole 1, template_hole 0),
               template_var 0))
           ))),
    ("Intersection.sum_list_nonposI",
     "list_all (%x. x <= (0::?'a)) ?xs ==> sum_list ?xs <= (0::?'a)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, t_empty), template_var 0)
            )],
       template_inequation
        (less_equals, template_app (template_hole 0, template_var 0),
         template_hole 1))),
    ("Intersection.lex_mirror_point",
     "Counterclockwise_2D_Arbitrary.lex (mirror_point ?x0.0 ?a)
       (mirror_point ?x0.0 ?b) ==>
      Counterclockwise_2D_Arbitrary.lex ?b ?a",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 1,
                template_app
                 (template_app (template_hole 0, template_var 2),
                  template_var 1)),
              template_app
               (template_app (template_hole 0, template_var 2),
                template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, template_var 0), template_var 1)
           ))),
    ("Intersection.nlex_half_segments_of_aform",
     "(?a, ?b) : set (half_segments_of_aform ?X) ==>
      Counterclockwise_2D_Arbitrary.lex ?b ?a",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 4,
                template_app
                 (template_app (template_hole 3, template_var 2),
                  template_var 1)),
              template_app
               (template_hole 2,
                template_app (template_hole 1, template_var 0)))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 1), template_var 2)
           ))),
    ("Intersection.ccw'_sortedP_snd_half_segments_of_aform",
     "ccw'.sortedP (lowest_vertex (fst ?X, nlex_pdevs (snd ?X)))
       (map snd (half_segments_of_aform ?X))",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 9,
             template_app
              (template_hole 8,
               template_app
                (template_hole 7,
                 template_app
                  (template_app
                    (template_hole 6,
                     template_app (template_hole 5, template_var 0)),
                   template_app
                    (template_hole 4,
                     template_app (template_hole 3, template_var 0)))))),
           template_app
            (template_app (template_hole 2, template_hole 1),
             template_app (template_hole 0, template_var 0)))
         )),
    ("Intersection.scaleR_eq_self_cancel",
     "(?a *\<^sub>R ?x = ?x) = (?a = 1 | ?x = (0::?'a))",
     template_bimplication
      (template_equation
        (template_app
          (template_app (template_hole 4, template_var 1), template_var 0),
         template_var 0),
       template_predicate
        (
           template_app
            (template_app
              (template_hole 3,
               template_app
                (template_app (template_hole 2, template_var 1),
                 template_hole 1)),
             template_app
              (template_app (template_hole 5, template_var 0),
               template_hole 0))
           ))),
    ("Intersection.lowest_vertex_eq_center_iff",
     "(lowest_vertex (?x0.0, nlex_pdevs (snd ?X)) = ?x0.0) =
      (snd ?X = zero_pdevs)",
     template_bimplication
      (template_equation
        (template_app
          (template_hole 5,
           template_app
            (template_app (template_hole 4, template_var 1),
             template_app
              (template_hole 3,
               template_app (template_hole 2, template_var 0)))),
         template_var 1),
       template_equation
        (template_app (template_hole 2, template_var 0), template_hole 0))),
    ("Intersection.segments_of_aform_empty_Affine_eq",
     "segments_of_aform ?X = [] ==> Affine ?X = {fst ?X}",
     template_implication
      ([template_equation
         (template_app (template_hole 6, template_var 0), template_hole 5)],
       template_equation
        (template_app (template_hole 3, template_var 0),
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 0)),
           template_hole 0)))),
    ("Intersection.list_allD",
     "[| list_all ?P ?xs; ?x : set ?xs |] ==> ?P ?x",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 0),
              template_app (template_hole 0, template_var 1))
            )],
       template_predicate (template_app (template_var 2, template_var 0)))),
    ("Intersection.sorted_scaled_inl",
     "ccw.sortedP 0 (map ((*\<^sub>R) 2) (ccw.selsort 0 (inl (snd ?X))))",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 10,
             template_app (template_hole 9, template_hole 8)),
           template_app
            (template_app
              (template_hole 7,
               template_app
                (template_hole 6,
                 template_app
                  (template_hole 5,
                   template_app (template_hole 4, template_hole 3)))),
             template_app
              (template_app
                (template_hole 2,
                 template_app (template_hole 9, template_hole 8)),
               template_app
                (template_hole 1,
                 template_app (template_hole 0, template_var 0)))))
         )),
    ("Intersection.ccw'_sortedP_scaled_inl",
     "ccw'.sortedP 0 (map ((*\<^sub>R) 2) (ccw.selsort 0 (inl (snd ?X))))",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 11,
             template_app (template_hole 10, template_hole 9)),
           template_app
            (template_app
              (template_hole 8,
               template_app
                (template_hole 7,
                 template_app
                  (template_hole 6,
                   template_app (template_hole 5, template_hole 4)))),
             template_app
              (template_app
                (template_hole 3,
                 template_app (template_hole 2, template_hole 9)),
               template_app
                (template_hole 1,
                 template_app (template_hole 0, template_var 0)))))
         )),
    ("Intersection.ccw'_sortedP_mirror",
     "ccw'.sortedP ?x0.0 (map (mirror_point ?p0.0) ?xs) =
      ccw'.sortedP (mirror_point ?p0.0 ?x0.0) ?xs",
     template_equation
      (template_app
        (template_app
          (template_hole 3, template_app (template_hole 2, template_var 2)),
         template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 1)),
           template_var 0)),
       template_app
        (template_app
          (template_hole 3,
           template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 2))),
         template_var 0))),
    ("Intersection.ccw'_sortedP_mirror2",
     "ccw'.sortedP (mirror_point ?p0.0 ?x0.0)
       (map (mirror_point ?p0.0) ?xs) =
      ccw'.sortedP ?x0.0 ?xs",
     template_equation
      (template_app
        (template_app
          (template_hole 3,
           template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_var 2),
               template_var 1))),
         template_app
          (template_app
            (template_hole 0,
             template_app (template_hole 1, template_var 2)),
           template_var 0)),
       template_app
        (template_app
          (template_hole 3, template_app (template_hole 2, template_var 1)),
         template_var 0))),
    ("Intersection.snd_last",
     "?xs ~= [] ==> snd (last ?xs) = last (map snd ?xs)",
     template_implication
      ([template_negation
         (template_equation (template_var 0, template_hole 5))],
       template_equation
        (template_app
          (template_hole 3, template_app (template_hole 2, template_var 0)),
         template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_hole 3),
             template_var 0))))),
    ("Intersection.bound_intersect_2d_le",
     "bound_intersect_2d ?prec ?Xs ?x = Some (?m, ?M) ==> ?m <= ?M",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_app (template_hole 3, template_var 4),
              template_var 3),
            template_var 2),
          template_app
           (template_hole 2,
            template_app
             (template_app (template_hole 1, template_var 1),
              template_var 0)))],
       template_inequation (less_equals, template_var 1, template_var 0))),
    ("Intersection.bound_intersect_2d_ud_segments_of_aform_le",
     "bound_intersect_2d_ud ?prec ?X ?xl = Some (?m0.0, ?M0.0) ==>
      ?m0.0 <= ?M0.0",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_app (template_hole 3, template_var 4),
              template_var 3),
            template_var 2),
          template_app
           (template_hole 2,
            template_app
             (template_app (template_hole 1, template_var 1),
              template_var 0)))],
       template_inequation (less_equals, template_var 1, template_var 0))),
    ("Intersection.intersect_segment_xline_le",
     "intersect_segment_xline ?prec ?y ?xl = Some (?m0.0, ?M0.0) ==>
      ?m0.0 <= ?M0.0",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_app (template_hole 3, template_var 4),
              template_var 3),
            template_var 2),
          template_app
           (template_hole 2,
            template_app
             (template_app (template_hole 1, template_var 1),
              template_var 0)))],
       template_inequation (less_equals, template_var 1, template_var 0))),
    ("Intersection.LIMSEQ_minus_fract_mult",
     "(%n. ?r * (1 - 1 / real (Suc (Suc n)))) \<longlonglongrightarrow> ?r",
     template_predicate
      (
         template_app
          (template_app
            (template_app (template_hole 8, t_empty),
             template_app (template_hole 1, template_var 0)),
           template_hole 0)
         )),
    ("Intersection.ccw'_mirror_point0",
     "ccw' (mirror_point ?x ?y) ?z ?w =
      ccw' ?y (mirror_point ?x ?z) (mirror_point ?x ?w)",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 3),
               template_var 2)),
           template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_app (template_hole 1, template_var 2),
           template_app
            (template_app (template_hole 0, template_var 3),
             template_var 1)),
         template_app
          (template_app (template_hole 0, template_var 3),
           template_var 0)))),
    ("Intersection.ccw'_mirror_point3",
     "ccw' (mirror_point ?x ?y) (mirror_point ?x ?z) (mirror_point ?x ?w) =
      ccw' ?y ?z ?w",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 3),
               template_var 2)),
           template_app
            (template_app (template_hole 0, template_var 3),
             template_var 1)),
         template_app
          (template_app (template_hole 0, template_var 3), template_var 0)),
       template_app
        (template_app
          (template_app (template_hole 1, template_var 2), template_var 1),
         template_var 0))),
    ("Intersection.lex_half_segments_last'",
     "?d : set (map snd (half_segments_of_aform ?X)) ==>
      Counterclockwise_2D_Arbitrary.lex
       (snd (last (half_segments_of_aform ?X))) ?d",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 1),
              template_app
               (template_hole 5,
                template_app
                 (template_app (template_hole 4, template_hole 3),
                  template_app (template_hole 2, template_var 0))))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 1,
               template_app
                (template_hole 3,
                 template_app
                  (template_hole 0,
                   template_app (template_hole 2, template_var 0)))),
             template_var 1)
           ))),
    ("Intersection.lex_half_segments_last",
     "(?c, ?d) : set (half_segments_of_aform ?X) ==>
      Counterclockwise_2D_Arbitrary.lex
       (snd (last (half_segments_of_aform ?X))) ?d",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 6,
                template_app
                 (template_app (template_hole 5, template_var 2),
                  template_var 1)),
              template_app
               (template_hole 4,
                template_app (template_hole 3, template_var 0)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_hole 1,
                 template_app
                  (template_hole 0,
                   template_app (template_hole 3, template_var 0)))),
             template_var 1)
           ))),
    ("Intersection.distinct_map_scaleRI",
     "[| distinct ?xs; ?c ~= 0 |] ==> distinct (map ((*\<^sub>R) ?c) ?xs)",
     template_implication
      ([template_predicate (template_app (template_hole 5, template_var 1)),
        template_negation
         (template_equation (template_var 0, template_hole 2))],
       template_predicate
        (
           template_app
            (template_hole 5,
             template_app
              (template_app
                (template_hole 1,
                 template_app (template_hole 0, template_var 0)),
               template_var 1))
           ))),
    ("Intersection.segments_of_aform_closed",
     "segments_of_aform ?X ~= [] ==>
      fst (hd (segments_of_aform ?X)) = snd (last (segments_of_aform ?X))",
     template_implication
      ([template_negation
         (
            template_equation
             (template_app (template_hole 6, template_var 0),
              template_hole 5)
            )],
       template_equation
        (template_app
          (template_hole 3,
           template_app
            (template_hole 2,
             template_app (template_hole 6, template_var 0))),
         template_app
          (template_hole 1,
           template_app
            (template_hole 0,
             template_app (template_hole 6, template_var 0)))))),
    ("Intersection.ccw'_mirror_point",
     "ccw' (mirror_point ?x0.0 ?a) (mirror_point ?x0.0 ?b)
       (mirror_point ?x0.0 ?c) ==>
      ccw' ?a ?b ?c",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_hole 1,
                  template_app
                   (template_app (template_hole 0, template_var 3),
                    template_var 2)),
                template_app
                 (template_app (template_hole 0, template_var 3),
                  template_var 1)),
              template_app
               (template_app (template_hole 0, template_var 3),
                template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 1, template_var 2),
               template_var 1),
             template_var 0)
           ))),
    ("Intersection.hd_distinct_neq_last",
     "[| distinct ?xs; 1 < length ?xs |] ==> hd ?xs ~= last ?xs",
     template_implication
      ([template_predicate (template_app (template_hole 7, template_var 0)),
        template_inequation
         (less_than, template_hole 5,
          template_app (template_hole 4, template_var 0))],
       template_negation
        (
           template_equation
            (template_app (template_hole 1, template_var 0),
             template_app (template_hole 0, template_var 0))
           ))),
    ("Intersection.distinct_in_set_butlastD",
     "[| ?x : set (butlast ?xs); distinct ?xs |] ==> ?x ~= last ?xs",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 1),
              template_app
               (template_hole 5,
                template_app (template_hole 4, template_var 0)))
            ),
        template_predicate
         (template_app (template_hole 3, template_var 0))],
       template_negation
        (
           template_equation
            (template_var 1, template_app (template_hole 0, template_var 0))
           ))),
    ("Intersection.distinct_in_set_tlD",
     "[| ?x : set (tl ?xs); distinct ?xs |] ==> ?x ~= hd ?xs",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 1),
              template_app
               (template_hole 5,
                template_app (template_hole 4, template_var 0)))
            ),
        template_predicate
         (template_app (template_hole 3, template_var 0))],
       template_negation
        (
           template_equation
            (template_var 1, template_app (template_hole 0, template_var 0))
           ))),
    ("Intersection.bound_intersect_2d_eq_None_iff",
     "(bound_intersect_2d ?prec ?Xs ?x = None) =
      (ALL X:set ?Xs. intersect_segment_xline ?prec X ?x = None)",
     template_equation
      (template_app
        (template_app
          (template_hole 5,
           template_app
            (template_app
              (template_app (template_hole 4, template_var 2),
               template_var 1),
             template_var 0)),
         template_hole 3),
       template_app
        (template_app
          (template_hole 2, template_app (template_hole 1, template_var 1)),
         t_empty))),
    ("Intersection.inter_image_empty_iff",
     "(?X Int {p. ?f p = ?x} = {}) = (?x ~: ?f ` ?X)",
     template_equation
      (template_app
        (template_app
          (template_hole 7,
           template_app
            (template_app (template_hole 6, template_var 2),
             template_app (template_hole 5, t_empty))),
         template_hole 3),
       template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_var 0),
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 2))))),
    ("Intersection.rev_zip",
     "length ?xs = length ?ys ==>
      rev (zip ?xs ?ys) = zip (rev ?xs) (rev ?ys)",
     template_implication
      ([template_equation
         (template_app (template_hole 6, template_var 1),
          template_app (template_hole 5, template_var 0))],
       template_equation
        (template_app
          (template_hole 3,
           template_app
            (template_app (template_hole 2, template_var 1),
             template_var 0)),
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_app (template_hole 0, template_var 0))))),
    ("Intersection.ccw_hd_last_half_segments_dirvec",
     "1 < length (half_segments_of_aform ?X) ==>
      ccw' 0 (dirvec (hd (half_segments_of_aform ?X)))
       (dirvec (last (half_segments_of_aform ?X)))",
     template_implication
      ([template_inequation
         (less_than, template_hole 7,
          template_app
           (template_hole 6,
            template_app (template_hole 5, template_var 0)))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 4, template_hole 3),
               template_app
                (template_hole 2,
                 template_app
                  (template_hole 1,
                   template_app (template_hole 5, template_var 0)))),
             template_app
              (template_hole 2,
               template_app
                (template_hole 0,
                 template_app (template_hole 5, template_var 0))))
           ))),
    ("Intersection.add_right_mono_le",
     "[| ?a <= ?b; ?b + ?c <= ?z |] ==> ?a + ?c <= ?z",
     template_implication
      ([template_inequation (less_equals, template_var 3, template_var 2),
        template_inequation
         (less_equals,
          template_app
           (template_app (template_hole 0, template_var 2), template_var 1),
          template_var 0)],
       template_inequation
        (less_equals,
         template_app
          (template_app (template_hole 0, template_var 3), template_var 1),
         template_var 0))),
    ("Intersection.add_right_mono_ge",
     "[| ?x <= ?a + ?c; ?a <= ?b |] ==> ?x <= ?b + ?c",
     template_implication
      ([template_inequation
         (less_equals, template_var 3,
          template_app
           (template_app (template_hole 0, template_var 2),
            template_var 1)),
        template_inequation (less_equals, template_var 2, template_var 0)],
       template_inequation
        (less_equals, template_var 3,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("Intersection.map_mirror_o_snd_polychain_of_eq",
     "map (mirror_point ?x0.0 o snd) (polychain_of ?y ?xs) =
      map snd (polychain_of (mirror_point ?x0.0 ?y) (map uminus ?xs))",
     template_equation
      (template_app
        (template_app
          (template_hole 6,
           template_app
            (template_app
              (template_hole 5,
               template_app (template_hole 4, template_var 2)),
             template_hole 3)),
         template_app
          (template_app (template_hole 2, template_var 1), template_var 0)),
       template_app
        (template_app (template_hole 6, template_hole 3),
         template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 4, template_var 2),
               template_var 1)),
           template_app
            (template_app (template_hole 1, template_hole 0),
             template_var 0))))),
    ("Intersection.zip_upt_self_aux",
     "zip [0..<length ?xs] ?xs = map (%i. (i, ?xs ! i)) [0..<length ?xs]",
     template_equation
      (template_app
        (template_app
          (template_hole 6,
           template_app
            (template_app (template_hole 5, template_hole 4),
             template_app (template_hole 3, template_var 0))),
         template_var 0),
       template_app
        (template_app (template_hole 2, t_empty),
         template_app
          (template_app (template_hole 5, template_hole 4),
           template_app (template_hole 3, template_var 0))))),
    ("Intersection.pdevs_apply_nlex_pdevs",
     "pdevs_apply (nlex_pdevs ?x) ?n =
      (if Counterclockwise_2D_Arbitrary.lex 0 (pdevs_apply ?x ?n)
       then - pdevs_apply ?x ?n else pdevs_apply ?x ?n)",
     template_equation
      (template_app
        (template_app
          (template_hole 5, template_app (template_hole 4, template_var 1)),
         template_var 0),
       template_app
        (template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app (template_hole 2, template_hole 1),
               template_app
                (template_app (template_hole 5, template_var 1),
                 template_var 0))),
           template_app
            (template_hole 0,
             template_app
              (template_app (template_hole 5, template_var 1),
               template_var 0))),
         template_app
          (template_app (template_hole 5, template_var 1),
           template_var 0)))),
    ("Intersection.lex_half_segments_lowest_vertex'",
     "?d : set (map snd (half_segments_of_aform ?X)) ==>
      Counterclockwise_2D_Arbitrary.lex ?d
       (lowest_vertex (fst ?X, nlex_pdevs (snd ?X)))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 10, template_var 1),
              template_app
               (template_hole 9,
                template_app
                 (template_app (template_hole 8, template_hole 7),
                  template_app (template_hole 6, template_var 0))))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 5, template_var 1),
             template_app
              (template_hole 4,
               template_app
                (template_app
                  (template_hole 3,
                   template_app (template_hole 2, template_var 0)),
                 template_app
                  (template_hole 1,
                   template_app (template_hole 0, template_var 0)))))
           ))),
    ("Intersection.lex_half_segments_lowest_vertex",
     "(?c, ?d) : set (half_segments_of_aform ?X) ==>
      Counterclockwise_2D_Arbitrary.lex ?d
       (lowest_vertex (fst ?X, nlex_pdevs (snd ?X)))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 9,
                template_app
                 (template_app (template_hole 8, template_var 2),
                  template_var 1)),
              template_app
               (template_hole 7,
                template_app (template_hole 6, template_var 0)))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 5, template_var 1),
             template_app
              (template_hole 4,
               template_app
                (template_app
                  (template_hole 3,
                   template_app (template_hole 2, template_var 0)),
                 template_app
                  (template_hole 1,
                   template_app (template_hole 0, template_var 0)))))
           ))),
    ("Intersection.fst_hd_half_segments_of_aform",
     "half_segments_of_aform ?X ~= [] ==>
      fst (hd (half_segments_of_aform ?X)) =
      lowest_vertex (fst ?X, nlex_pdevs (snd ?X))",
     template_implication
      ([template_negation
         (
            template_equation
             (template_app (template_hole 9, template_var 0),
              template_hole 8)
            )],
       template_equation
        (template_app
          (template_hole 6,
           template_app
            (template_hole 5,
             template_app (template_hole 9, template_var 0))),
         template_app
          (template_hole 4,
           template_app
            (template_app
              (template_hole 3,
               template_app (template_hole 2, template_var 0)),
             template_app
              (template_hole 1,
               template_app (template_hole 0, template_var 0))))))),
    ("Intersection.last_half_segments_eq_mirror_hd",
     "half_segments_of_aform ?X ~= [] ==>
      snd (last (half_segments_of_aform ?X)) =
      mirror_point (fst ?X) (fst (hd (half_segments_of_aform ?X)))",
     template_implication
      ([template_negation
         (
            template_equation
             (template_app (template_hole 8, template_var 0),
              template_hole 7)
            )],
       template_equation
        (template_app
          (template_hole 5,
           template_app
            (template_hole 4,
             template_app (template_hole 8, template_var 0))),
         template_app
          (template_app
            (template_hole 3,
             template_app (template_hole 2, template_var 0)),
           template_app
            (template_hole 1,
             template_app
              (template_hole 0,
               template_app (template_hole 8, template_var 0))))))),
    ("Intersection.le_less_Suc_eq",
     "[| ?x - Suc 0 <= ?i; ?i < ?x |] ==> ?x - Suc 0 = ?i",
     template_implication
      ([template_inequation
         (less_equals,
          template_app
           (template_app (template_hole 4, template_var 1),
            template_app (template_hole 3, template_hole 2)),
          template_var 0),
        template_inequation (less_than, template_var 0, template_var 1)],
       template_equation
        (template_app
          (template_app (template_hole 4, template_var 1),
           template_app (template_hole 3, template_hole 2)),
         template_var 0))),
    ("Intersection.fst_half_segments",
     "half_segments_of_aform ?X ~= [] ==>
      fst (half_segments_of_aform ?X ! 0) =
      lowest_vertex (fst ?X, nlex_pdevs (snd ?X))",
     template_implication
      ([template_negation
         (
            template_equation
             (template_app (template_hole 10, template_var 0),
              template_hole 9)
            )],
       template_equation
        (template_app
          (template_hole 7,
           template_app
            (template_app
              (template_hole 6,
               template_app (template_hole 10, template_var 0)),
             template_hole 5)),
         template_app
          (template_hole 4,
           template_app
            (template_app
              (template_hole 3,
               template_app (template_hole 2, template_var 0)),
             template_app
              (template_hole 1,
               template_app (template_hole 0, template_var 0))))))),
    ("Intersection.subsequent_half_segments",
     "Suc ?i < length (half_segments_of_aform ?X) ==>
      snd (half_segments_of_aform ?X ! ?i) =
      fst (half_segments_of_aform ?X ! Suc ?i)",
     template_implication
      ([template_inequation
         (less_than, template_app (template_hole 6, template_var 1),
          template_app
           (template_hole 5,
            template_app (template_hole 4, template_var 0)))],
       template_equation
        (template_app
          (template_hole 2,
           template_app
            (template_app
              (template_hole 1,
               template_app (template_hole 4, template_var 0)),
             template_var 1)),
         template_app
          (template_hole 0,
           template_app
            (template_app
              (template_hole 1,
               template_app (template_hole 4, template_var 0)),
             template_app (template_hole 6, template_var 1)))))),
    ("Intersection.bound_intersect_2d_eq_None",
     "[| bound_intersect_2d ?prec ?Xs ?x = None; ?X : set ?Xs |]
      ==> intersect_segment_xline ?prec ?X ?x = None",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_app (template_hole 4, template_var 3),
              template_var 2),
            template_var 1),
          template_hole 3),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 0),
              template_app (template_hole 1, template_var 2))
            )],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 0, template_var 3),
             template_var 0),
           template_var 1),
         template_hole 3))),
    ("Intersection.lex_polychain_of_center",
     "[| ?d : set (polychain_of ?x0.0 ?xs);
         list_all (%x. Counterclockwise_2D_Arbitrary.lex x 0) ?xs |]
      ==> Counterclockwise_2D_Arbitrary.lex (snd ?d) ?x0.0",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 2),
              template_app
               (template_hole 5,
                template_app
                 (template_app (template_hole 4, template_var 1),
                  template_var 0)))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 3, t_empty), template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 2,
               template_app (template_hole 0, template_var 2)),
             template_var 1)
           ))),
    ("Intersection.less_one_multI",
     "[| ?e <= 1; 0 < ?x; ?x < 1 |] ==> ?e * ?x < 1",
     template_implication
      ([template_inequation (less_equals, template_var 1, template_hole 3),
        template_inequation (less_than, template_hole 1, template_var 0),
        template_inequation (less_than, template_var 0, template_hole 3)],
       template_inequation
        (less_than,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0),
         template_hole 3))),
    ("Intersection.intersect_segment_xline_None_iff",
     "(intersect_segment_xline ?prec (?p0.0, ?p1.0) ?x = None) =
      (closed_segment ?p0.0 ?p1.0 Int {p. fst p = ?x} = {})",
     template_bimplication
      (template_equation
        (template_app
          (template_app
            (template_app (template_hole 9, template_var 3),
             template_app
              (template_app (template_hole 8, template_var 2),
               template_var 1)),
           template_var 0),
         template_hole 7),
       template_equation
        (template_app
          (template_app
            (template_hole 5,
             template_app
              (template_app (template_hole 4, template_var 2),
               template_var 1)),
           template_app (template_hole 3, t_empty)),
         template_hole 0))),
    ("Intersection.in_segment_fst_le",
     "[| ?x0.0 <= ?x1.0;
         (?x, ?b) : closed_segment (?x0.0, ?y0.0) (?x1.0, ?y1.0) |]
      ==> ?x <= ?x1.0",
     template_implication
      ([template_inequation (less_equals, template_var 5, template_var 4),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 2,
                template_app
                 (template_app (template_hole 1, template_var 3),
                  template_var 2)),
              template_app
               (template_app
                 (template_hole 0,
                  template_app
                   (template_app (template_hole 1, template_var 5),
                    template_var 1)),
                template_app
                 (template_app (template_hole 1, template_var 4),
                  template_var 0)))
            )],
       template_inequation (less_equals, template_var 3, template_var 4))),
    ("Intersection.in_segment_fst_ge",
     "[| ?x0.0 <= ?x1.0;
         (?x, ?b) : closed_segment (?x0.0, ?y0.0) (?x1.0, ?y1.0) |]
      ==> ?x0.0 <= ?x",
     template_implication
      ([template_inequation (less_equals, template_var 5, template_var 4),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 2,
                template_app
                 (template_app (template_hole 1, template_var 3),
                  template_var 2)),
              template_app
               (template_app
                 (template_hole 0,
                  template_app
                   (template_app (template_hole 1, template_var 5),
                    template_var 1)),
                template_app
                 (template_app (template_hole 1, template_var 4),
                  template_var 0)))
            )],
       template_inequation (less_equals, template_var 5, template_var 3))),
    ("Intersection.map_fst_half_segments_aux_eq",
     "[] ~= half_segments_of_aform ?X ==>
      map fst (half_segments_of_aform ?X) =
      fst (hd (half_segments_of_aform ?X)) #
      butlast (map snd (half_segments_of_aform ?X))",
     template_implication
      ([template_negation
         (
            template_equation
             (template_hole 8,
              template_app (template_hole 7, template_var 0))
            )],
       template_equation
        (template_app
          (template_app (template_hole 5, template_hole 4),
           template_app (template_hole 7, template_var 0)),
         template_app
          (template_app
            (template_hole 3,
             template_app
              (template_hole 4,
               template_app
                (template_hole 2,
                 template_app (template_hole 7, template_var 0)))),
           template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 5, template_hole 0),
               template_app (template_hole 7, template_var 0))))))),
    ("Intersection.last_half_segments",
     "half_segments_of_aform ?X ~= [] ==>
      snd (last (half_segments_of_aform ?X)) =
      mirror_point (fst ?X) (lowest_vertex (fst ?X, nlex_pdevs (snd ?X)))",
     template_implication
      ([template_negation
         (
            template_equation
             (template_app (template_hole 10, template_var 0),
              template_hole 9)
            )],
       template_equation
        (template_app
          (template_hole 7,
           template_app
            (template_hole 6,
             template_app (template_hole 10, template_var 0))),
         template_app
          (template_app
            (template_hole 5,
             template_app (template_hole 4, template_var 0)),
           template_app
            (template_hole 3,
             template_app
              (template_app
                (template_hole 2,
                 template_app (template_hole 4, template_var 0)),
               template_app
                (template_hole 1,
                 template_app (template_hole 0, template_var 0)))))))),
    ("Intersection.lowest_vertex_eq_mirror_last",
     "half_segments_of_aform ?X ~= [] ==>
      lowest_vertex (fst ?X, nlex_pdevs (snd ?X)) =
      mirror_point (fst ?X) (snd (last (half_segments_of_aform ?X)))",
     template_implication
      ([template_negation
         (
            template_equation
             (template_app (template_hole 10, template_var 0),
              template_hole 9)
            )],
       template_equation
        (template_app
          (template_hole 7,
           template_app
            (template_app
              (template_hole 6,
               template_app (template_hole 5, template_var 0)),
             template_app
              (template_hole 4,
               template_app (template_hole 3, template_var 0)))),
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 5, template_var 0)),
           template_app
            (template_hole 1,
             template_app
              (template_hole 0,
               template_app (template_hole 10, template_var 0))))))),
    ("Intersection.ccw'_sortedP_snd_segments_of_aform",
     "1 < length (inl (snd ?X)) ==>
      ccw'.sortedP (lowest_vertex (fst ?X, nlex_pdevs (snd ?X)))
       (butlast (map snd (segments_of_aform ?X)))",
     template_implication
      ([template_inequation
         (less_than, template_hole 13,
          template_app
           (template_hole 12,
            template_app
             (template_hole 11,
              template_app (template_hole 10, template_var 0))))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 9,
               template_app
                (template_hole 8,
                 template_app
                  (template_hole 7,
                   template_app
                    (template_app
                      (template_hole 6,
                       template_app (template_hole 5, template_var 0)),
                     template_app
                      (template_hole 4,
                       template_app (template_hole 10, template_var 0)))))),
             template_app
              (template_hole 3,
               template_app
                (template_app (template_hole 2, template_hole 1),
                 template_app (template_hole 0, template_var 0))))
           ))),
    ("Intersection.intersect_segment_xline_eq_None",
     "intersect_segment_xline ?prec (?p0.0, ?p1.0) ?x = None ==>
      closed_segment ?p0.0 ?p1.0 Int {p. fst p = ?x} = {}",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_app (template_hole 9, template_var 3),
              template_app
               (template_app (template_hole 8, template_var 2),
                template_var 1)),
            template_var 0),
          template_hole 7)],
       template_equation
        (template_app
          (template_app
            (template_hole 5,
             template_app
              (template_app (template_hole 4, template_var 2),
               template_var 1)),
           template_app (template_hole 3, t_empty)),
         template_hole 0))),
    ("Intersection.intersect_segment_xline_eq_empty",
     "closed_segment ?p0.0 ?p1.0 Int {p. fst p = ?x} = {} ==>
      intersect_segment_xline ?prec (?p0.0, ?p1.0) ?x = None",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_hole 9,
              template_app
               (template_app (template_hole 8, template_var 3),
                template_var 2)),
            template_app (template_hole 7, t_empty)),
          template_hole 4)],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 2, template_var 0),
             template_app
              (template_app (template_hole 1, template_var 3),
               template_var 2)),
           template_var 1),
         template_hole 0))),
    ("Intersection.ccw_half_segments_of_aform",
     "[| (?xi, ?xj) : set (half_segments_of_aform ?X);
         (?c, ?d) : set (half_segments_of_aform ?X) |]
      ==> ccw ?xi ?xj ?c",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 4,
                template_app
                 (template_app (template_hole 3, template_var 4),
                  template_var 3)),
              template_app
               (template_hole 2,
                template_app (template_hole 1, template_var 2)))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 4,
                template_app
                 (template_app (template_hole 3, template_var 1),
                  template_var 0)),
              template_app
               (template_hole 2,
                template_app (template_hole 1, template_var 2)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 0, template_var 4),
               template_var 3),
             template_var 1)
           ))),
    ("Intersection.ccw_half_segments_of_aform",
     "[| (?xi, ?xj) : set (half_segments_of_aform ?X);
         (?c, ?d) : set (half_segments_of_aform ?X) |]
      ==> ccw ?xi ?xj ?d",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 4,
                template_app
                 (template_app (template_hole 3, template_var 4),
                  template_var 3)),
              template_app
               (template_hole 2,
                template_app (template_hole 1, template_var 2)))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 4,
                template_app
                 (template_app (template_hole 3, template_var 1),
                  template_var 0)),
              template_app
               (template_hole 2,
                template_app (template_hole 1, template_var 2)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 0, template_var 4),
               template_var 3),
             template_var 0)
           ))),
    ("Intersection.ccw_contr_on_line_right",
     "[| 0 <= det3 (?a, ?b) (?x, ?c) (?x, ?d); ?a < ?x |] ==> ?c <= ?d",
     template_implication
      ([template_inequation
         (less_equals, template_hole 3,
          template_app
           (template_app
             (template_app
               (template_hole 2,
                template_app
                 (template_app (template_hole 1, template_var 4),
                  template_var 3)),
              template_app
               (template_app (template_hole 1, template_var 2),
                template_var 1)),
            template_app
             (template_app (template_hole 1, template_var 2),
              template_var 0))),
        template_inequation (less_than, template_var 4, template_var 2)],
       template_inequation (less_equals, template_var 1, template_var 0))),
    ("Intersection.ccw_contr_on_line_left",
     "[| 0 <= det3 (?a, ?b) (?x, ?c) (?x, ?d); ?x < ?a |] ==> ?d <= ?c",
     template_implication
      ([template_inequation
         (less_equals, template_hole 3,
          template_app
           (template_app
             (template_app
               (template_hole 2,
                template_app
                 (template_app (template_hole 1, template_var 4),
                  template_var 3)),
              template_app
               (template_app (template_hole 1, template_var 2),
                template_var 1)),
            template_app
             (template_app (template_hole 1, template_var 2),
              template_var 0))),
        template_inequation (less_than, template_var 2, template_var 4)],
       template_inequation (less_equals, template_var 0, template_var 1))),
    ("Intersection.mult_right_mono_le",
     "[| ?a <= ?b; (0::?'a) <= ?c; ?b * ?c <= ?z |] ==> ?a * ?c <= ?z",
     template_implication
      ([template_inequation (less_equals, template_var 3, template_var 2),
        template_inequation (less_equals, template_hole 1, template_var 1),
        template_inequation
         (less_equals,
          template_app
           (template_app (template_hole 0, template_var 2), template_var 1),
          template_var 0)],
       template_inequation
        (less_equals,
         template_app
          (template_app (template_hole 0, template_var 3), template_var 1),
         template_var 0))),
    ("Intersection.minus_one_less_multI",
     "[| - 1 <= ?e; 0 < ?x; ?x < 1 |] ==> - 1 < ?e * ?x",
     template_implication
      ([template_inequation
         (less_equals, template_app (template_hole 4, template_hole 3),
          template_var 1),
        template_inequation (less_than, template_hole 1, template_var 0),
        template_inequation (less_than, template_var 0, template_hole 3)],
       template_inequation
        (less_than, template_app (template_hole 4, template_hole 3),
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Intersection.mult_right_mono_ge",
     "[| ?x <= ?a * ?c; ?a <= ?b; (0::?'a) <= ?c |] ==> ?x <= ?b * ?c",
     template_implication
      ([template_inequation
         (less_equals, template_var 3,
          template_app
           (template_app (template_hole 1, template_var 2),
            template_var 1)),
        template_inequation (less_equals, template_var 2, template_var 0),
        template_inequation (less_equals, template_hole 0, template_var 1)],
       template_inequation
        (less_equals, template_var 3,
         template_app
          (template_app (template_hole 1, template_var 0),
           template_var 1)))),
    ("Intersection.mirror_point_snd_last_eq_lowest",
     "half_segments_of_aform ?X ~= [] ==>
      mirror_point (fst ?X) (last (map snd (half_segments_of_aform ?X))) =
      lowest_vertex (fst ?X, nlex_pdevs (snd ?X))",
     template_implication
      ([template_negation
         (
            template_equation
             (template_app (template_hole 11, template_var 0),
              template_hole 10)
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 8,
             template_app (template_hole 7, template_var 0)),
           template_app
            (template_hole 6,
             template_app
              (template_app (template_hole 5, template_hole 4),
               template_app (template_hole 11, template_var 0)))),
         template_app
          (template_hole 3,
           template_app
            (template_app
              (template_hole 2,
               template_app (template_hole 7, template_var 0)),
             template_app
              (template_hole 1,
               template_app (template_hole 0, template_var 0))))))),
    ("Intersection.inter_inter_aform_plane_ortho",
     "inter_aform_plane_ortho ?p ?Z ?n ?g = Some ?X ==>
      Affine ?Z Int {x. x \<bullet> ?n = ?g} <= Affine ?X",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_app
               (template_app (template_hole 7, template_var 4),
                template_var 3),
              template_var 2),
            template_var 1),
          template_app (template_hole 6, template_var 0))],
       template_inequation
        (less_equals,
         template_app
          (template_app
            (template_hole 4,
             template_app (template_hole 3, template_var 3)),
           template_app (template_hole 2, t_empty)),
         template_app (template_hole 3, template_var 0)))),
    ("Intersection.distinct_fst_polychain_of",
     "[| list_all (%x. x ~= 0) ?xs;
         list_all (%x. Counterclockwise_2D_Arbitrary.lex x 0) ?xs |]
      ==> distinct (map fst (polychain_of ?x0.0 ?xs))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 8, t_empty), template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 8, t_empty), template_var 1)
            )],
       template_predicate
        (
           template_app
            (template_hole 3,
             template_app
              (template_app (template_hole 2, template_hole 1),
               template_app
                (template_app (template_hole 0, template_var 0),
                 template_var 1)))
           ))),
    ("Intersection.distinct_snd_polychain_of",
     "[| list_all (%x. x ~= 0) ?xs;
         list_all (%x. Counterclockwise_2D_Arbitrary.lex x 0) ?xs |]
      ==> distinct (map snd (polychain_of ?x0.0 ?xs))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 8, t_empty), template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 8, t_empty), template_var 1)
            )],
       template_predicate
        (
           template_app
            (template_hole 3,
             template_app
              (template_app (template_hole 2, template_hole 1),
               template_app
                (template_app (template_hole 0, template_var 0),
                 template_var 1)))
           ))),
    ("Intersection.map_snd_half_segments_aux_eq",
     "half_segments_of_aform ?X ~= [] ==>
      map snd (half_segments_of_aform ?X) =
      tl (map fst (half_segments_of_aform ?X)) @
      [snd (last (half_segments_of_aform ?X))]",
     template_implication
      ([template_negation
         (
            template_equation
             (template_app (template_hole 10, template_var 0),
              template_hole 9)
            )],
       template_equation
        (template_app
          (template_app (template_hole 7, template_hole 6),
           template_app (template_hole 10, template_var 0)),
         template_app
          (template_app
            (template_hole 5,
             template_app
              (template_hole 4,
               template_app
                (template_app (template_hole 7, template_hole 3),
                 template_app (template_hole 10, template_var 0)))),
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_hole 6,
                 template_app
                  (template_hole 1,
                   template_app (template_hole 10, template_var 0)))),
             template_hole 0))))),
    ("Intersection.ccw_half_segments_of_aform_all",
     "(?c, ?d) : set (half_segments_of_aform ?X) ==>
      list_all (%(xi, xj). ccw xi xj ?c & ccw xi xj ?d)
       (half_segments_of_aform ?X)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 7,
                template_app
                 (template_app (template_hole 6, template_var 2),
                  template_var 1)),
              template_app
               (template_hole 5,
                template_app (template_hole 4, template_var 0)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 3, template_app (template_hole 2, t_empty)),
             template_app (template_hole 4, template_var 0))
           ))),
    ("Intersection.previous_segments_of_aformE",
     "[| (?y, ?z) : set (segments_of_aform ?X);
         !!x. (x, ?y) : set (segments_of_aform ?X) ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 4,
                template_app
                 (template_app (template_hole 3, template_var 3),
                  template_var 2)),
              template_app
               (template_hole 2,
                template_app (template_hole 1, template_var 1)))
            ),
        template_predicate (template_app (template_hole 0, t_empty))],
       template_predicate (template_var 0))),
    ("Intersection.abs_pdevs_val_less_tdev",
     "[| ?e : UNIV \<rightarrow> {- 1<..<1}; 0 < degree ?x |]
      ==> \<bar>pdevs_val ?e ?x\<bar> < tdev ?x",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 12, template_var 1),
              template_app
               (template_app (template_hole 11, template_hole 10), t_empty))
            ),
        template_inequation
         (less_than, template_hole 5,
          template_app (template_hole 4, template_var 0))],
       template_inequation
        (less_than,
         template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 1, template_var 1),
             template_var 0)),
         template_app (template_hole 0, template_var 0)))),
    ("Intersection.half_segments_of_aform1",
     "[| ?x : convex hull set (map fst (half_segments_of_aform ?X));
         (?a, ?b) : set (half_segments_of_aform ?X) |]
      ==> ccw ?a ?b ?x",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 10, template_var 3),
              template_app
               (template_app (template_hole 9, template_hole 8),
                template_app
                 (template_hole 7,
                  template_app
                   (template_app (template_hole 6, template_hole 5),
                    template_app (template_hole 4, template_var 2)))))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 3,
                template_app
                 (template_app (template_hole 2, template_var 1),
                  template_var 0)),
              template_app
               (template_hole 1,
                template_app (template_hole 4, template_var 2)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0),
             template_var 3)
           ))),
    ("Intersection.half_segments_of_aform2",
     "[| ?x : convex hull set (map snd (half_segments_of_aform ?X));
         (?a, ?b) : set (half_segments_of_aform ?X) |]
      ==> ccw ?a ?b ?x",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 10, template_var 3),
              template_app
               (template_app (template_hole 9, template_hole 8),
                template_app
                 (template_hole 7,
                  template_app
                   (template_app (template_hole 6, template_hole 5),
                    template_app (template_hole 4, template_var 2)))))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 3,
                template_app
                 (template_app (template_hole 2, template_var 1),
                  template_var 0)),
              template_app
               (template_hole 1,
                template_app (template_hole 4, template_var 2)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0),
             template_var 3)
           ))),
    ("Intersection.in_set_butlastI",
     "[| ?xs ~= []; ?x : set ?xs; ?x ~= last ?xs |]
      ==> ?x : set (butlast ?xs)",
     template_implication
      ([template_negation
         (template_equation (template_var 1, template_hole 5)),
        template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 0),
              template_app (template_hole 3, template_var 1))
            ),
        template_negation
         (
            template_equation
             (template_var 0,
              template_app (template_hole 1, template_var 1))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 4, template_var 0),
             template_app
              (template_hole 3,
               template_app (template_hole 0, template_var 1)))
           ))),
    ("Intersection.encompasses_cases",
     "0 <= det3 (fst ?seg) (snd ?seg) ?x |
      0 <= det3 (fst (snd ?seg, fst ?seg)) (snd (snd ?seg, fst ?seg)) ?x",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 6,
             template_app
              (template_app (template_hole 5, template_hole 4),
               template_app
                (template_app
                  (template_app
                    (template_hole 3,
                     template_app (template_hole 2, template_var 1)),
                   template_app (template_hole 1, template_var 1)),
                 template_var 0))),
           template_app
            (template_app (template_hole 5, template_hole 4),
             template_app
              (template_app
                (template_app
                  (template_hole 3,
                   template_app
                    (template_hole 2,
                     template_app
                      (template_app
                        (template_hole 0,
                         template_app (template_hole 1, template_var 1)),
                       template_app (template_hole 2, template_var 1)))),
                 template_app
                  (template_hole 1,
                   template_app
                    (template_app
                      (template_hole 0,
                       template_app (template_hole 1, template_var 1)),
                     template_app (template_hole 2, template_var 1)))),
               template_var 0)))
         )),
    ("Intersection.scaleR_le_self_cancel",
     "(?a *\<^sub>R ?c <= ?c) =
      (1 < ?a & ?c <= (0::?'a) | ?a < 1 & (0::?'a) <= ?c | ?a = 1)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 7,
                template_app
                 (template_app (template_hole 6, template_var 1),
                  template_var 0)),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 5,
               template_app
                (template_app
                  (template_hole 4,
                   template_app
                    (template_app (template_hole 3, template_hole 2),
                     template_var 1)),
                 template_app
                  (template_app (template_hole 7, template_var 0),
                   template_hole 1))),
             template_app
              (template_app
                (template_hole 5,
                 template_app
                  (template_app
                    (template_hole 4,
                     template_app
                      (template_app (template_hole 3, template_var 1),
                       template_hole 2)),
                   template_app
                    (template_app (template_hole 7, template_hole 1),
                     template_var 0))),
               template_app
                (template_app (template_hole 0, template_var 1),
                 template_hole 2)))
           ))),
    ("Intersection.subsequent_half_segments_ccw",
     "Suc ?i < length (half_segments_of_aform ?X) ==>
      ccw' (fst (half_segments_of_aform ?X ! ?i))
       (snd (half_segments_of_aform ?X ! ?i))
       (snd (half_segments_of_aform ?X ! Suc ?i))",
     template_implication
      ([template_inequation
         (less_than, template_app (template_hole 6, template_var 1),
          template_app
           (template_hole 5,
            template_app (template_hole 4, template_var 0)))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 3,
                 template_app
                  (template_hole 2,
                   template_app
                    (template_app
                      (template_hole 1,
                       template_app (template_hole 4, template_var 0)),
                     template_var 1))),
               template_app
                (template_hole 0,
                 template_app
                  (template_app
                    (template_hole 1,
                     template_app (template_hole 4, template_var 0)),
                   template_var 1))),
             template_app
              (template_hole 0,
               template_app
                (template_app
                  (template_hole 1,
                   template_app (template_hole 4, template_var 0)),
                 template_app (template_hole 6, template_var 1))))
           ))),
    ("Intersection.independent_pdevs_eq_Nil_iff",
     "[| list_all (%x. Counterclockwise_2D_Arbitrary.lex x 0) ?xs;
         list_all (%x. x ~= 0) ?xs |]
      ==> (independent_pdevs ?xs = []) = (?xs = [])",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 8, t_empty), template_var 0)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 8, t_empty), template_var 0)
            )],
       template_bimplication
        (template_equation
          (template_app (template_hole 1, template_var 0), template_hole 0),
         template_equation (template_var 0, template_hole 0)))),
    ("Intersection.lex_polychain_of_last",
     "[| (?c, ?d) : set (polychain_of ?x0.0 ?xs);
         list_all (%x. Counterclockwise_2D_Arbitrary.lex x 0) ?xs |]
      ==> Counterclockwise_2D_Arbitrary.lex
           (snd (last (polychain_of ?x0.0 ?xs))) ?d",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 8,
                template_app
                 (template_app (template_hole 7, template_var 3),
                  template_var 2)),
              template_app
               (template_hole 6,
                template_app
                 (template_app (template_hole 5, template_var 1),
                  template_var 0)))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 4, t_empty), template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 3,
               template_app
                (template_hole 1,
                 template_app
                  (template_hole 0,
                   template_app
                    (template_app (template_hole 5, template_var 1),
                     template_var 0)))),
             template_var 2)
           ))),
    ("Intersection.sum_list_zip_map",
     "distinct ?xs ==>
      sum_list (map2 ?f ?xs (map ?g ?xs)) = (SUM x:set ?xs. ?f x (?g x))",
     template_implication
      ([template_predicate
         (template_app (template_hole 8, template_var 2))],
       template_equation
        (template_app
          (template_hole 6,
           template_app
            (template_app
              (template_hole 5, template_app (template_hole 4, t_empty)),
             template_app
              (template_app (template_hole 3, template_var 2),
               template_app
                (template_app (template_hole 2, template_var 0),
                 template_var 2)))),
         template_app
          (template_app (template_hole 1, t_empty),
           template_app (template_hole 0, template_var 2))))),
    ("Intersection.pdevs_val_independent_pdevs2",
     "?e : UNIV \<rightarrow> ?I ==>
      EX e'.
         e' : UNIV \<rightarrow> ?I &
         pdevs_val ?e (pdevs_of_list (independent_pdevs ?xs)) =
         pdevs_val e' (pdevs_of_list ?xs)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 2),
              template_app
               (template_app (template_hole 7, template_hole 6), t_empty))
            )],
       template_predicate (template_app (template_hole 5, t_empty)))),
    ("Intersection.in_set_independent_pdevsE",
     "[| ?y : set (independent_pdevs ?xs);
         !!x. [| x : set ?xs; coll 0 x ?y |] ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 2),
              template_app
               (template_hole 6,
                template_app (template_hole 5, template_var 1)))
            ),
        template_predicate (template_app (template_hole 4, t_empty))],
       template_predicate (template_var 0))),
    ("Intersection.encompasses_segments_of_aform_in_AffineI",
     "[| 2 < length (segments_of_aform ?X);
         list_all (%seg. 0 <= det3 (fst seg) (snd seg) ?p)
          (segments_of_aform ?X) |]
      ==> ?p : Affine ?X",
     template_implication
      ([template_inequation
         (less_than,
          template_app
           (template_hole 12,
            template_app (template_hole 11, template_hole 10)),
          template_app
           (template_hole 9,
            template_app (template_hole 8, template_var 1))),
        template_predicate
         (
            template_app
             (template_app (template_hole 7, t_empty),
              template_app (template_hole 8, template_var 1))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, template_var 0),
             template_app (template_hole 0, template_var 1))
           ))),
    ("Intersection.append_eq_2",
     "length ?xs = length ?ys ==>
      (?xs @ ?ys = [?x, ?y]) = (?xs = [?x] & ?ys = [?y])",
     template_implication
      ([template_equation
         (template_app (template_hole 6, template_var 3),
          template_app (template_hole 6, template_var 2))],
       template_bimplication
        (template_equation
          (template_app
            (template_app (template_hole 3, template_var 3),
             template_var 2),
           template_app
            (template_app (template_hole 2, template_var 1),
             template_app
              (template_app (template_hole 2, template_var 0),
               template_hole 1))),
         template_predicate
          (
             template_app
              (template_app
                (template_hole 0,
                 template_app
                  (template_app (template_hole 4, template_var 3),
                   template_app
                    (template_app (template_hole 2, template_var 1),
                     template_hole 1))),
               template_app
                (template_app (template_hole 4, template_var 2),
                 template_app
                  (template_app (template_hole 2, template_var 0),
                   template_hole 1)))
             )))),
    ("Intersection.polychain_of_segments_of_aform2",
     "[| segments_of_aform ?X = [?x, ?y]; between (fst ?x, snd ?x) ?p |]
      ==> ?p : convex hull set (map fst (segments_of_aform ?X))",
     template_implication
      ([template_equation
         (template_app (template_hole 11, template_var 3),
          template_app
           (template_app (template_hole 10, template_var 2),
            template_app
             (template_app (template_hole 10, template_var 1),
              template_hole 9))),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 8,
                template_app
                 (template_app
                   (template_hole 7,
                    template_app (template_hole 6, template_var 2)),
                  template_app (template_hole 5, template_var 2))),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 4, template_var 0),
             template_app
              (template_app (template_hole 3, template_hole 2),
               template_app
                (template_hole 1,
                 template_app
                  (template_app (template_hole 0, template_hole 6),
                   template_app (template_hole 11, template_var 3)))))
           ))),
    ("Intersection.intersect_segment_xline'_eq_None",
     "[| intersect_segment_xline' ?prec (?p0.0, ?p1.0) ?x = None;
         fst ?p0.0 <= fst ?p1.0 |]
      ==> closed_segment ?p0.0 ?p1.0 Int {p. fst p = ?x} = {}",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_app (template_hole 10, template_var 3),
              template_app
               (template_app (template_hole 9, template_var 2),
                template_var 1)),
            template_var 0),
          template_hole 8),
        template_inequation
         (less_equals, template_app (template_hole 6, template_var 2),
          template_app (template_hole 6, template_var 1))],
       template_equation
        (template_app
          (template_app
            (template_hole 4,
             template_app
              (template_app (template_hole 3, template_var 2),
               template_var 1)),
           template_app (template_hole 2, t_empty)),
         template_hole 0))),
    ("Intersection.inl_ncoll",
     "[| ?y : set (inl (snd ?X)); ?z : set (inl (snd ?X)); ?y ~= ?z |]
      ==> det3 0 ?y ?z ~= 0",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 9, template_var 2),
              template_app
               (template_hole 8,
                template_app
                 (template_hole 7,
                  template_app (template_hole 6, template_var 1))))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 9, template_var 0),
              template_app
               (template_hole 8,
                template_app
                 (template_hole 7,
                  template_app (template_hole 6, template_var 1))))
            ),
        template_negation
         (template_equation (template_var 2, template_var 0))],
       template_negation
        (
           template_equation
            (template_app
              (template_app
                (template_app (template_hole 2, template_hole 1),
                 template_var 2),
               template_var 0),
             template_hole 0)
           ))),
    ("Intersection.segments_of_aform_line_segment",
     "[| segments_of_aform ?X = [?x, ?y];
         ?e : UNIV \<rightarrow> {- 1..1} |]
      ==> aform_val ?e ?X : closed_segment (fst ?x) (snd ?x)",
     template_implication
      ([template_equation
         (template_app (template_hole 13, template_var 3),
          template_app
           (template_app (template_hole 12, template_var 2),
            template_app
             (template_app (template_hole 12, template_var 1),
              template_hole 11))),
        template_predicate
         (
            template_app
             (template_app (template_hole 10, template_var 0),
              template_app
               (template_app (template_hole 9, template_hole 8), t_empty))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 4,
               template_app
                (template_app (template_hole 3, template_var 0),
                 template_var 3)),
             template_app
              (template_app
                (template_hole 2,
                 template_app (template_hole 1, template_var 2)),
               template_app (template_hole 0, template_var 2)))
           ))),
    ("Intersection.inter_proj_eq",
     "(%x. x \<bullet> ?l) ` (?Z Int {x. x \<bullet> ?n = ?g}) =
      {y. (?g, y) : (%x. (x \<bullet> ?n, x \<bullet> ?l)) ` ?Z}",
     template_equation
      (template_app
        (template_app (template_hole 8, t_empty),
         template_app
          (template_app (template_hole 6, template_var 2),
           template_app (template_hole 5, t_empty))),
       template_app (template_hole 3, t_empty))),
    ("Intersection.bound_intersect_2d_nonempty",
     "bound_intersect_2d ?prec ?Xs ?x = Some (?m, ?M) ==>
      (UN (p1, p2):set ?Xs. closed_segment p1 p2) Int {p. fst p = ?x} ~=
      {}",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_app (template_hole 14, template_var 4),
              template_var 3),
            template_var 2),
          template_app
           (template_hole 13,
            template_app
             (template_app (template_hole 12, template_var 1),
              template_var 0)))],
       template_negation
        (
           template_equation
            (template_app
              (template_app
                (template_hole 9,
                 template_app
                  (template_hole 8,
                   template_app
                    (template_app
                      (template_hole 7,
                       template_app (template_hole 6, t_empty)),
                     template_app (template_hole 4, template_var 3)))),
               template_app (template_hole 3, t_empty)),
             template_hole 0)
           ))),
    ("Intersection.intersect_segment_xline_fst_snd",
     "intersect_segment_xline ?prec ?seg ?x = Some (?m, ?M) ==>
      closed_segment (fst ?seg) (snd ?seg) Int {p. fst p = ?x}
      <= {(?x, ?m)..(?x, ?M)}",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_app (template_hole 11, template_var 4),
              template_var 3),
            template_var 2),
          template_app
           (template_hole 10,
            template_app
             (template_app (template_hole 9, template_var 1),
              template_var 0)))],
       template_inequation
        (less_equals,
         template_app
          (template_app
            (template_hole 7,
             template_app
              (template_app
                (template_hole 6,
                 template_app (template_hole 5, template_var 3)),
               template_app (template_hole 4, template_var 3))),
           template_app (template_hole 3, t_empty)),
         template_app
          (template_app
            (template_hole 0,
             template_app
              (template_app (template_hole 9, template_var 2),
               template_var 1)),
           template_app
            (template_app (template_hole 9, template_var 2),
             template_var 0))))),
    ("Intersection.intersect_segment_xline",
     "intersect_segment_xline ?prec (?p0.0, ?p1.0) ?x = Some (?m, ?M) ==>
      closed_segment ?p0.0 ?p1.0 Int {p. fst p = ?x}
      <= {(?x, ?m)..(?x, ?M)}",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_app (template_hole 10, template_var 5),
              template_app
               (template_app (template_hole 9, template_var 4),
                template_var 3)),
            template_var 2),
          template_app
           (template_hole 8,
            template_app
             (template_app (template_hole 7, template_var 1),
              template_var 0)))],
       template_inequation
        (less_equals,
         template_app
          (template_app
            (template_hole 5,
             template_app
              (template_app (template_hole 4, template_var 4),
               template_var 3)),
           template_app (template_hole 3, t_empty)),
         template_app
          (template_app
            (template_hole 0,
             template_app
              (template_app (template_hole 7, template_var 2),
               template_var 1)),
           template_app
            (template_app (template_hole 7, template_var 2),
             template_var 0))))),
    ("Intersection.intersect_segment_xline'",
     "intersect_segment_xline' ?prec (?p0.0, ?p1.0) ?x = Some (?m, ?M) ==>
      closed_segment ?p0.0 ?p1.0 Int {p. fst p = ?x}
      <= {(?x, ?m)..(?x, ?M)}",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_app (template_hole 10, template_var 5),
              template_app
               (template_app (template_hole 9, template_var 4),
                template_var 3)),
            template_var 2),
          template_app
           (template_hole 8,
            template_app
             (template_app (template_hole 7, template_var 1),
              template_var 0)))],
       template_inequation
        (less_equals,
         template_app
          (template_app
            (template_hole 5,
             template_app
              (template_app (template_hole 4, template_var 4),
               template_var 3)),
           template_app (template_hole 3, t_empty)),
         template_app
          (template_app
            (template_hole 0,
             template_app
              (template_app (template_hole 7, template_var 2),
               template_var 1)),
           template_app
            (template_app (template_hole 7, template_var 2),
             template_var 0))))),
    ("Intersection.ccw'_half_segments_lowest_last",
     "[| (?c, ?d) : set (butlast (half_segments_of_aform ?X));
         inl (snd ?X) ~= [] |]
      ==> ccw' (lowest_vertex (fst ?X, nlex_pdevs (snd ?X))) ?d
           (snd (last (half_segments_of_aform ?X)))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 16,
                template_app
                 (template_app (template_hole 15, template_var 2),
                  template_var 1)),
              template_app
               (template_hole 14,
                template_app
                 (template_hole 13,
                  template_app (template_hole 12, template_var 0))))
            ),
        template_negation
         (
            template_equation
             (template_app
               (template_hole 9,
                template_app (template_hole 8, template_var 0)),
              template_hole 7)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 6,
                 template_app
                  (template_hole 5,
                   template_app
                    (template_app
                      (template_hole 4,
                       template_app (template_hole 3, template_var 0)),
                     template_app
                      (template_hole 2,
                       template_app (template_hole 8, template_var 0))))),
               template_var 1),
             template_app
              (template_hole 1,
               template_app
                (template_hole 0,
                 template_app (template_hole 12, template_var 0))))
           ))),
    ("Intersection.half_segments_of_aform_strict_all",
     "[| ?e : UNIV \<rightarrow> {- 1<..<1};
         length (half_segments_of_aform ?X) ~= 1 |]
      ==> list_all (%seg. ccw' (fst seg) (snd seg) (aform_val ?e ?X))
           (half_segments_of_aform ?X)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 15, template_var 1),
              template_app
               (template_app (template_hole 14, template_hole 13), t_empty))
            ),
        template_negation
         (
            template_equation
             (template_app
               (template_hole 7,
                template_app (template_hole 6, template_var 0)),
              template_hole 5)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 4, t_empty),
             template_app (template_hole 6, template_var 0))
           ))),
    ("Intersection.segments_of_aform_strict",
     "[| ?e : UNIV \<rightarrow> {- 1<..<1};
         length (half_segments_of_aform ?X) ~= 1 |]
      ==> list_all (%seg. ccw' (fst seg) (snd seg) (aform_val ?e ?X))
           (segments_of_aform ?X)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 16, template_var 1),
              template_app
               (template_app (template_hole 15, template_hole 14), t_empty))
            ),
        template_negation
         (
            template_equation
             (template_app
               (template_hole 8,
                template_app (template_hole 7, template_var 0)),
              template_hole 6)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 5, t_empty),
             template_app (template_hole 0, template_var 0))
           ))),
    ("Intersection.polychain_of_ccw_conjunction",
     "[| ccw'.sortedP 0 ?Ps; ?z : set (polychain_of ?Pc ?Ps) |]
      ==> list_all (%(xi, xj). ccw xi xj (fst ?z) & ccw xi xj (snd ?z))
           (polychain_of ?Pc ?Ps)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 11,
                template_app (template_hole 10, template_hole 9)),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 1),
              template_app
               (template_hole 7,
                template_app
                 (template_app (template_hole 6, template_var 0),
                  template_var 2)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 5, template_app (template_hole 4, t_empty)),
             template_app
              (template_app (template_hole 6, template_var 0),
               template_var 2))
           ))),
    ("Intersection.those_eq_SomeD",
     "those (map ?f ?xs) = Some ?ys ==>
      ?ys = map (the o ?f) ?xs &
      (ALL i. EX y. i < length ?xs --> ?f (?xs ! i) = Some y)",
     template_implication
      ([template_equation
         (template_app
           (template_hole 15,
            template_app
             (template_app (template_hole 14, template_var 2),
              template_var 1)),
          template_app (template_hole 13, template_var 0))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 12,
               template_app
                (template_app (template_hole 11, template_var 0),
                 template_app
                  (template_app
                    (template_hole 10,
                     template_app
                      (template_app (template_hole 9, template_hole 8),
                       template_var 2)),
                   template_var 1))),
             template_app (template_hole 7, t_empty))
           ))),
    ("Intersection.in_set_half_segments_of_aform_aform_valE",
     "[| (?x2.0, ?y2.0) : set (half_segments_of_aform ?X);
         !!e. [| ?y2.0 = aform_val e ?X; e : UNIV \<rightarrow> {- 1..1} |]
              ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 12,
                template_app
                 (template_app (template_hole 11, template_var 3),
                  template_var 2)),
              template_app
               (template_hole 10,
                template_app (template_hole 9, template_var 1)))
            ),
        template_predicate (template_app (template_hole 8, t_empty))],
       template_predicate (template_var 0))),
    ("Intersection.in_set_segments_of_aform_aform_valE",
     "[| (?x2.0, ?y2.0) : set (segments_of_aform ?X);
         !!e. [| ?y2.0 = aform_val e ?X; e : UNIV \<rightarrow> {- 1..1} |]
              ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 12,
                template_app
                 (template_app (template_hole 11, template_var 3),
                  template_var 2)),
              template_app
               (template_hole 10,
                template_app (template_hole 9, template_var 1)))
            ),
        template_predicate (template_app (template_hole 8, t_empty))],
       template_predicate (template_var 0))),
    ("Intersection.det3_nonneg_segments_of_aform",
     "[| ?e : UNIV \<rightarrow> {- 1..1};
         length (half_segments_of_aform ?X) ~= 1 |]
      ==> list_all (%seg. 0 <= det3 (fst seg) (snd seg) (aform_val ?e ?X))
           (segments_of_aform ?X)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 18, template_var 1),
              template_app
               (template_app (template_hole 17, template_hole 16), t_empty))
            ),
        template_negation
         (
            template_equation
             (template_app
               (template_hole 10,
                template_app (template_hole 9, template_var 0)),
              template_hole 8)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 7, t_empty),
             template_app (template_hole 0, template_var 0))
           ))),
    ("Intersection.dest_segment",
     "[| (?x, ?b) : closed_segment (?x0.0, ?y0.0) (?x1.0, ?y1.0);
         ?x0.0 ~= ?x1.0 |]
      ==> ?b = (?y1.0 - ?y0.0) * (?x - ?x0.0) / (?x1.0 - ?x0.0) + ?y0.0",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 8,
                template_app
                 (template_app (template_hole 7, template_var 5),
                  template_var 4)),
              template_app
               (template_app
                 (template_hole 6,
                  template_app
                   (template_app (template_hole 7, template_var 3),
                    template_var 2)),
                template_app
                 (template_app (template_hole 7, template_var 1),
                  template_var 0)))
            ),
        template_negation
         (template_equation (template_var 3, template_var 1))],
       template_equation
        (template_var 4,
         template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app
                (template_hole 2,
                 template_app
                  (template_app
                    (template_hole 1,
                     template_app
                      (template_app (template_hole 0, template_var 0),
                       template_var 2)),
                   template_app
                    (template_app (template_hole 0, template_var 5),
                     template_var 3))),
               template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 3))),
           template_var 2)))),
    ("Intersection.half_segments_of_aform_strict",
     "[| ?e : UNIV \<rightarrow> {- 1<..<1};
         ?seg : set (half_segments_of_aform ?X);
         length (half_segments_of_aform ?X) ~= 1 |]
      ==> ccw' (fst ?seg) (snd ?seg) (aform_val ?e ?X)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 16, template_var 2),
              template_app
               (template_app (template_hole 15, template_hole 14), t_empty))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 10, template_var 1),
              template_app
               (template_hole 9,
                template_app (template_hole 8, template_var 0)))
            ),
        template_negation
         (
            template_equation
             (template_app
               (template_hole 5,
                template_app (template_hole 8, template_var 0)),
              template_hole 4)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 3,
                 template_app (template_hole 2, template_var 1)),
               template_app (template_hole 1, template_var 1)),
             template_app
              (template_app (template_hole 0, template_var 2),
               template_var 0))
           ))),
    ("Intersection.inter_overappr",
     "?Z Int {x. x \<bullet> ?n = ?g}
      <= {x. ALL i:Basis.
                x \<bullet> i
                : {y. (?g, y)
                      : (%x. (x \<bullet> ?n, x \<bullet> i)) ` ?Z}}",
     template_inequation
      (less_equals,
       template_app
        (template_app (template_hole 10, template_var 2),
         template_app (template_hole 9, t_empty)),
       template_app (template_hole 9, t_empty))),
    ("Intersection.bound_intersect_2d",
     "bound_intersect_2d ?prec ?Xs ?x = Some (?m, ?M) ==>
      (UN (p1, p2):set ?Xs. closed_segment p1 p2) Int {p. fst p = ?x}
      <= {(?x, ?m)..(?x, ?M)}",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_app (template_hole 13, template_var 4),
              template_var 3),
            template_var 2),
          template_app
           (template_hole 12,
            template_app
             (template_app (template_hole 11, template_var 1),
              template_var 0)))],
       template_inequation
        (less_equals,
         template_app
          (template_app
            (template_hole 9,
             template_app
              (template_hole 8,
               template_app
                (template_app
                  (template_hole 7,
                   template_app (template_hole 6, t_empty)),
                 template_app (template_hole 4, template_var 3)))),
           template_app (template_hole 3, t_empty)),
         template_app
          (template_app
            (template_hole 0,
             template_app
              (template_app (template_hole 11, template_var 2),
               template_var 1)),
           template_app
            (template_app (template_hole 11, template_var 2),
             template_var 0))))),
    ("Intersection.mirror_half_segments_of_aform",
     "[| ?e : UNIV \<rightarrow> {- 1<..<1};
         length (half_segments_of_aform ?X) ~= 1 |]
      ==> list_all (%seg. ccw' (fst seg) (snd seg) (aform_val ?e ?X))
           (map (pairself (mirror_point (fst ?X)))
             (half_segments_of_aform ?X))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 19, template_var 1),
              template_app
               (template_app (template_hole 18, template_hole 17), t_empty))
            ),
        template_negation
         (
            template_equation
             (template_app
               (template_hole 11,
                template_app (template_hole 10, template_var 0)),
              template_hole 9)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 8, t_empty),
             template_app
              (template_app
                (template_hole 3,
                 template_app
                  (template_hole 2,
                   template_app
                    (template_hole 1,
                     template_app (template_hole 0, template_var 0)))),
               template_app (template_hole 10, template_var 0)))
           ))),
    ("Intersection.det3_nonneg_segments_of_aformI",
     "[| ?e : UNIV \<rightarrow> {- 1..1};
         length (half_segments_of_aform ?X) ~= 1;
         ?seg : set (segments_of_aform ?X) |]
      ==> 0 <= det3 (fst ?seg) (snd ?seg) (aform_val ?e ?X)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 19, template_var 2),
              template_app
               (template_app (template_hole 18, template_hole 17), t_empty))
            ),
        template_negation
         (
            template_equation
             (template_app
               (template_hole 11,
                template_app (template_hole 10, template_var 1)),
              template_hole 9)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 0),
              template_app
               (template_hole 7,
                template_app (template_hole 6, template_var 1)))
            )],
       template_inequation
        (less_equals, template_hole 4,
         template_app
          (template_app
            (template_app
              (template_hole 3,
               template_app (template_hole 2, template_var 0)),
             template_app (template_hole 1, template_var 0)),
           template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1))))),
    ("Intersection.in_set_independent_pdevs_invariant_nlex",
     "[| ?x : set (independent_pdevs ?xs);
         !!x. x : set ?xs ==> Counterclockwise_2D_Arbitrary.lex x 0;
         !!x. x : set ?xs ==> x ~= 0 |]
      ==> Counterclockwise_2D_Arbitrary.lex ?x 0",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 1),
              template_app
               (template_hole 6,
                template_app (template_hole 5, template_var 0)))
            ),
        template_predicate (template_app (template_hole 4, t_empty)),
        template_predicate (template_app (template_hole 4, t_empty))],
       template_predicate
        (
           template_app
            (template_app (template_hole 3, template_var 1),
             template_hole 2)
           ))),
    ("Intersection.inter_aform_plane_ortho_overappr",
     "inter_aform_plane_ortho ?p ?Z ?n ?g = Some ?X ==>
      {x. ALL i:Basis.
             x \<bullet> i
             : {y. (?g, y)
                   : (%x. (x \<bullet> ?n, x \<bullet> i)) ` Affine ?Z}}
      <= Affine ?X",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_app
               (template_app (template_hole 12, template_var 4),
                template_var 3),
              template_var 2),
            template_var 1),
          template_app (template_hole 11, template_var 0))],
       template_inequation
        (less_equals, template_app (template_hole 9, t_empty),
         template_app (template_hole 0, template_var 0)))),
    ("Intersection.pdevs_val_pdevs_of_list_inl2E",
     "[| ?e : UNIV \<rightarrow> {- 1..1};
         !!e'. [| pdevs_val ?e ?X = pdevs_val e' (pdevs_of_list (inl ?X));
                  e' : UNIV \<rightarrow> {- 1..1} |]
               ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 10, template_var 2),
              template_app
               (template_app (template_hole 9, template_hole 8), t_empty))
            ),
        template_predicate (template_app (template_hole 4, t_empty))],
       template_predicate (template_var 0))),
    ("Intersection.pdevs_val_nlex_pdevs",
     "[| ?e : UNIV \<rightarrow> ?I; uminus ` ?I = ?I;
         !!e'. [| e' : UNIV \<rightarrow> ?I;
                  pdevs_val ?e ?x = pdevs_val e' (nlex_pdevs ?x) |]
               ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 9, template_var 3),
              template_app
               (template_app (template_hole 8, template_hole 7), t_empty))
            ),
        template_equation
         (template_app
           (template_app (template_hole 5, template_hole 4),
            template_var 2),
          template_var 2),
        template_predicate (template_app (template_hole 3, t_empty))],
       template_predicate (template_var 0))),
    ("Intersection.pdevs_val_nlex_pdevs2",
     "[| ?e : UNIV \<rightarrow> ?I; uminus ` ?I = ?I;
         !!e'. [| e' : UNIV \<rightarrow> ?I;
                  pdevs_val ?e (nlex_pdevs ?x) = pdevs_val e' ?x |]
               ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 9, template_var 3),
              template_app
               (template_app (template_hole 8, template_hole 7), t_empty))
            ),
        template_equation
         (template_app
           (template_app (template_hole 5, template_hole 4),
            template_var 2),
          template_var 2),
        template_predicate (template_app (template_hole 3, t_empty))],
       template_predicate (template_var 0))),
    ("Intersection.ccw_half_segments_of_aform_strictI",
     "[| ?e : UNIV \<rightarrow> {- 1<..<1};
         (?s1.0, ?s2.0) : set (half_segments_of_aform ?X);
         length (half_segments_of_aform ?X) ~= 1; ?x = aform_val ?e ?X |]
      ==> ccw' ?s1.0 ?s2.0 ?x",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 16, template_var 4),
              template_app
               (template_app (template_hole 15, template_hole 14), t_empty))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 10,
                template_app
                 (template_app (template_hole 9, template_var 3),
                  template_var 2)),
              template_app
               (template_hole 8,
                template_app (template_hole 7, template_var 1)))
            ),
        template_negation
         (
            template_equation
             (template_app
               (template_hole 4,
                template_app (template_hole 7, template_var 1)),
              template_hole 3)
            ),
        template_equation
         (template_var 0,
          template_app
           (template_app (template_hole 1, template_var 4),
            template_var 1))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 0, template_var 3),
               template_var 2),
             template_var 0)
           ))),
    ("Intersection.pdevs_val_selsort_ccw",
     "[| distinct ?xs; ?e : UNIV \<rightarrow> ?I;
         !!e'. [| e' : UNIV \<rightarrow> ?I;
                  pdevs_val ?e (pdevs_of_list ?xs) =
                  pdevs_val e' (pdevs_of_list (ccw.selsort 0 ?xs)) |]
               ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (template_app (template_hole 10, template_var 3)),
        template_predicate
         (
            template_app
             (template_app (template_hole 9, template_var 2),
              template_app
               (template_app (template_hole 8, template_hole 7), t_empty))
            ),
        template_predicate (template_app (template_hole 6, t_empty))],
       template_predicate (template_var 0))),
    ("Intersection.pdevs_val_selsort_ccw2",
     "[| distinct ?xs; ?e : UNIV \<rightarrow> ?I;
         !!e'. [| e' : UNIV \<rightarrow> ?I;
                  pdevs_val ?e (pdevs_of_list (ccw.selsort 0 ?xs)) =
                  pdevs_val e' (pdevs_of_list ?xs) |]
               ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (template_app (template_hole 10, template_var 3)),
        template_predicate
         (
            template_app
             (template_app (template_hole 9, template_var 2),
              template_app
               (template_app (template_hole 8, template_hole 7), t_empty))
            ),
        template_predicate (template_app (template_hole 6, t_empty))],
       template_predicate (template_var 0))),
    ("Intersection.ccw'_sortedP_subsequent",
     "[| Suc ?i < length ?xs; ccw'.sortedP 0 (map dirvec ?xs);
         fst (?xs ! Suc ?i) = snd (?xs ! ?i) |]
      ==> ccw' (fst (?xs ! ?i)) (snd (?xs ! ?i)) (snd (?xs ! Suc ?i))",
     template_implication
      ([template_inequation
         (less_than, template_app (template_hole 10, template_var 1),
          template_app (template_hole 9, template_var 0)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 8,
                template_app (template_hole 7, template_hole 6)),
              template_app
               (template_app (template_hole 5, template_hole 4),
                template_var 0))
            ),
        template_equation
         (template_app
           (template_hole 2,
            template_app
             (template_app (template_hole 1, template_var 0),
              template_app (template_hole 10, template_var 1))),
          template_app
           (template_hole 0,
            template_app
             (template_app (template_hole 1, template_var 0),
              template_var 1)))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 7,
                 template_app
                  (template_hole 2,
                   template_app
                    (template_app (template_hole 1, template_var 0),
                     template_var 1))),
               template_app
                (template_hole 0,
                 template_app
                  (template_app (template_hole 1, template_var 0),
                   template_var 1))),
             template_app
              (template_hole 0,
               template_app
                (template_app (template_hole 1, template_var 0),
                 template_app (template_hole 10, template_var 1))))
           ))),
    ("Intersection.independent_pdevs_pairwise_non_coll",
     "[| ?x : set (independent_pdevs ?xs); ?y : set (independent_pdevs ?xs);
         !!x. x : set ?xs ==> x ~= 0; ?x ~= ?y |]
      ==> det3 0 ?x ?y ~= 0",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 9, template_var 2),
              template_app
               (template_hole 8,
                template_app (template_hole 7, template_var 1)))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 9, template_var 0),
              template_app
               (template_hole 8,
                template_app (template_hole 7, template_var 1)))
            ),
        template_predicate (template_app (template_hole 6, t_empty)),
        template_negation
         (template_equation (template_var 2, template_var 0))],
       template_negation
        (
           template_equation
            (template_app
              (template_app
                (template_app (template_hole 1, template_hole 3),
                 template_var 2),
               template_var 0),
             template_hole 0)
           ))),
    ("Intersection.triangle_encompassing_polychain_of",
     "[| 0 <= det3 ?p ?a ?b; 0 <= det3 ?p ?b ?c; 0 <= det3 ?p ?c ?a;
         ccw' ?a ?b ?c |]
      ==> ?p : convex hull {?a, ?b, ?c}",
     template_implication
      ([template_inequation
         (less_equals, template_hole 7,
          template_app
           (template_app
             (template_app (template_hole 6, template_var 3),
              template_var 2),
            template_var 1)),
        template_inequation
         (less_equals, template_hole 7,
          template_app
           (template_app
             (template_app (template_hole 6, template_var 3),
              template_var 1),
            template_var 0)),
        template_inequation
         (less_equals, template_hole 7,
          template_app
           (template_app
             (template_app (template_hole 6, template_var 3),
              template_var 0),
            template_var 2)),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 5, template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 4, template_var 3),
             template_app
              (template_app (template_hole 3, template_hole 2),
               template_app
                (template_app (template_hole 1, template_var 2),
                 template_app
                  (template_app (template_hole 1, template_var 1),
                   template_app
                    (template_app (template_hole 1, template_var 0),
                     template_hole 0)))))
           ))),
    ("Intersection.bound_intersect_2d_ud_segments_of_aform",
     "[| bound_intersect_2d_ud ?prec ?X ?xl = Some (?m0.0, ?M0.0);
         ?e : UNIV \<rightarrow> {- 1..1} |]
      ==> {aform_val ?e ?X} Int {x. fst x = ?xl}
          <= {(?xl, ?m0.0)..(?xl, ?M0.0)}",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_app (template_hole 17, template_var 5),
              template_var 4),
            template_var 3),
          template_app
           (template_hole 16,
            template_app
             (template_app (template_hole 15, template_var 2),
              template_var 1))),
        template_predicate
         (
            template_app
             (template_app (template_hole 14, template_var 0),
              template_app
               (template_app (template_hole 13, template_hole 12), t_empty))
            )],
       template_inequation
        (less_equals,
         template_app
          (template_app
            (template_hole 7,
             template_app
              (template_app
                (template_hole 6,
                 template_app
                  (template_app (template_hole 5, template_var 0),
                   template_var 4)),
               template_hole 4)),
           template_app (template_hole 3, t_empty)),
         template_app
          (template_app
            (template_hole 0,
             template_app
              (template_app (template_hole 15, template_var 3),
               template_var 2)),
           template_app
            (template_app (template_hole 15, template_var 3),
             template_var 1))))),
    ("Intersection.singleton_contrE",
     "[| !!x y. [| x ~= y; x : ?X; y : ?X |] ==> False; ?X ~= {};
         !!x. ?X = {x} ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate (template_app (template_hole 8, t_empty)),
        template_negation
         (template_equation (template_var 1, template_hole 1)),
        template_predicate (template_app (template_hole 8, t_empty))],
       template_predicate (template_var 0))),
    ("Intersection.segment_intersection_singleton",
     "[| fst ?a ~= fst ?b; closed_segment ?a ?b Int {p. fst p = ?xl} ~= {};
         !!p1. closed_segment ?a ?b Int {p. fst p = ?xl} = {p1} ==>
               ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_negation
         (
            template_equation
             (template_app (template_hole 7, template_var 3),
              template_app (template_hole 7, template_var 2))
            ),
        template_negation
         (
            template_equation
             (template_app
               (template_app
                 (template_hole 5,
                  template_app
                   (template_app (template_hole 4, template_var 3),
                    template_var 2)),
                template_app (template_hole 3, t_empty)),
              template_hole 2)
            ),
        template_predicate (template_app (template_hole 1, t_empty))],
       template_predicate (template_var 0))),
    ("Intersection.pdevs_val_pdevs_of_list_inlE",
     "[| ?e : UNIV \<rightarrow> ?I; uminus ` ?I = ?I; 0 : ?I;
         !!e'. [| pdevs_val ?e (pdevs_of_list (inl ?X)) = pdevs_val e' ?X;
                  e' : UNIV \<rightarrow> ?I |]
               ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 12, template_var 3),
              template_app
               (template_app (template_hole 11, template_hole 10), t_empty))
            ),
        template_equation
         (template_app
           (template_app (template_hole 8, template_hole 7),
            template_var 2),
          template_var 2),
        template_predicate
         (
            template_app
             (template_app (template_hole 6, template_hole 5),
              template_var 2)
            ),
        template_predicate (template_app (template_hole 4, t_empty))],
       template_predicate (template_var 0))),
    ("Intersection.pdevs_val_independent_pdevs",
     "[| list_all (%x. Counterclockwise_2D_Arbitrary.lex x 0) ?xs;
         list_all (%x. x ~= 0) ?xs; ?e : UNIV \<rightarrow> {- 1..1} |]
      ==> EX e'.
             e' : UNIV \<rightarrow> {- 1..1} &
             pdevs_val ?e (pdevs_of_list ?xs) =
             pdevs_val e' (pdevs_of_list (independent_pdevs ?xs))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 15, t_empty), template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 15, t_empty), template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 10, template_var 0),
              template_app
               (template_app (template_hole 9, template_hole 8), t_empty))
            )],
       template_predicate (template_app (template_hole 4, t_empty)))),
    ("Intersection.pdevs_val_independent_pdevs_strict",
     "[| list_all (%x. Counterclockwise_2D_Arbitrary.lex x 0) ?xs;
         list_all (%x. x ~= 0) ?xs; ?e : UNIV \<rightarrow> {- 1<..<1} |]
      ==> EX e'.
             e' : UNIV \<rightarrow> {- 1<..<1} &
             pdevs_val ?e (pdevs_of_list ?xs) =
             pdevs_val e' (pdevs_of_list (independent_pdevs ?xs))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 15, t_empty), template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 15, t_empty), template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 10, template_var 0),
              template_app
               (template_app (template_hole 9, template_hole 8), t_empty))
            )],
       template_predicate (template_app (template_hole 4, t_empty)))),
    ("Intersection.encompasses_convex_polygon3",
     "[| list_all (%seg. 0 <= det3 (fst seg) (snd seg) ?p)
          (?x # ?y # ?z # ?zs);
         convex_polygon (?x # ?y # ?z # ?zs);
         ccw'.sortedP (fst ?x) (map snd (butlast (?x # ?y # ?z # ?zs))) |]
      ==> ?p : convex hull set (map fst (?x # ?y # ?z # ?zs))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 15, t_empty),
              template_app
               (template_app (template_hole 9, template_var 3),
                template_app
                 (template_app (template_hole 9, template_var 2),
                  template_app
                   (template_app (template_hole 9, template_var 1),
                    template_var 0))))
            ),
        template_predicate
         (
            template_app
             (template_hole 8,
              template_app
               (template_app (template_hole 9, template_var 3),
                template_app
                 (template_app (template_hole 9, template_var 2),
                  template_app
                   (template_app (template_hole 9, template_var 1),
                    template_var 0))))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 7,
                template_app
                 (template_hole 6,
                  template_app (template_hole 11, template_var 3))),
              template_app
               (template_app (template_hole 5, template_hole 10),
                template_app
                 (template_hole 4,
                  template_app
                   (template_app (template_hole 9, template_var 3),
                    template_app
                     (template_app (template_hole 9, template_var 2),
                      template_app
                       (template_app (template_hole 9, template_var 1),
                        template_var 0))))))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 3, template_var 4),
             template_app
              (template_app (template_hole 2, template_hole 1),
               template_app
                (template_hole 0,
                 template_app
                  (template_app (template_hole 5, template_hole 11),
                   template_app
                    (template_app (template_hole 9, template_var 3),
                     template_app
                      (template_app (template_hole 9, template_var 2),
                       template_app
                        (template_app (template_hole 9, template_var 1),
                         template_var 0)))))))
           ))),
    ("Intersection.list_cases4",
     "[| ?x = [] ==> ?P; !!y. ?x = [y] ==> ?P; !!y z. ?x = [y, z] ==> ?P;
         !!w y z zs. ?x = w # y # z # zs ==> ?P |]
      ==> ?P",
     template_implication
      ([template_implication
         ([template_equation (template_var 1, template_hole 3)],
          template_predicate (template_var 0)),
        template_predicate (template_app (template_hole 2, t_empty)),
        template_predicate (template_app (template_hole 2, t_empty)),
        template_predicate (template_app (template_hole 2, t_empty))],
       template_predicate (template_var 0))),
    ("Intersection.pdevs_val_coll",
     "[| list_all (coll 0 ?x) ?xs;
         list_all (%x. Counterclockwise_2D_Arbitrary.lex x 0) ?xs; ?x ~= 0;
         ?f : UNIV \<rightarrow> {- 1..1};
         !!e. [| e : {- 1..1};
                 pdevs_val ?f (pdevs_of_list ?xs) =
                 e *\<^sub>R sum_list ?xs |]
              ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 19, t_empty), template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 19, t_empty), template_var 2)
            ),
        template_negation
         (template_equation (template_var 3, template_hole 16)),
        template_predicate
         (
            template_app
             (template_app (template_hole 11, template_var 1),
              template_app
               (template_app (template_hole 10, template_hole 9), t_empty))
            ),
        template_predicate (template_app (template_hole 5, t_empty))],
       template_predicate (template_var 0))),
    ("Intersection.pdevs_val_coll_strict",
     "[| list_all (coll 0 ?x) ?xs;
         list_all (%x. Counterclockwise_2D_Arbitrary.lex x 0) ?xs; ?x ~= 0;
         ?f : UNIV \<rightarrow> {- 1<..<1};
         !!e. [| e : {- 1<..<1};
                 pdevs_val ?f (pdevs_of_list ?xs) =
                 e *\<^sub>R sum_list ?xs |]
              ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 19, t_empty), template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 19, t_empty), template_var 2)
            ),
        template_negation
         (template_equation (template_var 3, template_hole 16)),
        template_predicate
         (
            template_app
             (template_app (template_hole 11, template_var 1),
              template_app
               (template_app (template_hole 10, template_hole 9), t_empty))
            ),
        template_predicate (template_app (template_hole 5, t_empty))],
       template_predicate (template_var 0))),
    ("Intersection.lowest_vertex",
     "[| ?e : UNIV \<rightarrow> {- 1..1};
         !!i. 0 <= snd (pdevs_apply (snd ?X) i);
         !!i. \<bar>snd (pdevs_apply (snd ?Y) i)\<bar> =
              \<bar>snd (pdevs_apply (snd ?X) i)\<bar>;
         degree_aform ?Y = degree_aform ?X; fst ?Y = fst ?X |]
      ==> snd (lowest_vertex ?X) <= snd (aform_val ?e ?Y)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 19, template_var 2),
              template_app
               (template_app (template_hole 18, template_hole 17), t_empty))
            ),
        template_predicate (template_app (template_hole 13, t_empty)),
        template_predicate (template_app (template_hole 13, t_empty)),
        template_equation
         (template_app
           (template_hole 4,
            template_app (template_hole 8, template_var 0)),
          template_app
           (template_hole 4,
            template_app (template_hole 8, template_var 1))),
        template_equation
         (template_app (template_hole 2, template_var 0),
          template_app (template_hole 2, template_var 1))],
       template_inequation
        (less_equals,
         template_app
          (template_hole 10,
           template_app (template_hole 1, template_var 1)),
         template_app
          (template_hole 10,
           template_app
            (template_app (template_hole 0, template_var 2),
             template_var 0))))),
    ("Intersection.bound_intersect_2d_upper",
     "[| bound_intersect_2d ?prec ?Xs ?x = Some (?m, ?M);
         !!X m'.
            [| X : set ?Xs;
               intersect_segment_xline ?prec X ?x = Some (m', ?M);
               !!X m' M'.
                  [| X : set ?Xs;
                     intersect_segment_xline ?prec X ?x = Some (m', M') |]
                  ==> M' <= ?M |]
            ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_app (template_hole 8, template_var 5),
              template_var 4),
            template_var 3),
          template_app
           (template_hole 7,
            template_app
             (template_app (template_hole 6, template_var 2),
              template_var 1))),
        template_predicate (template_app (template_hole 5, t_empty))],
       template_predicate (template_var 0))),
    ("Intersection.bound_intersect_2d_lower",
     "[| bound_intersect_2d ?prec ?Xs ?x = Some (?m, ?M);
         !!X M'.
            [| X : set ?Xs;
               intersect_segment_xline ?prec X ?x = Some (?m, M');
               !!X m' M'.
                  [| X : set ?Xs;
                     intersect_segment_xline ?prec X ?x = Some (m', M') |]
                  ==> ?m <= m' |]
            ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_app (template_hole 8, template_var 5),
              template_var 4),
            template_var 3),
          template_app
           (template_hole 7,
            template_app
             (template_app (template_hole 6, template_var 2),
              template_var 1))),
        template_predicate (template_app (template_hole 5, t_empty))],
       template_predicate (template_var 0))),
    ("Intersection.list_all_encompasses_cases",
     "[| list_all (%seg. 0 <= det3 (fst seg) (snd seg) ?p) (?x # ?y # ?zs);
         list_all (%seg. 0 <= det3 (fst seg) (snd seg) ?p)
          [?x, ?y, (snd ?y, fst ?x)] ==>
         ?thesis;
         list_all (%seg. 0 <= det3 (fst seg) (snd seg) ?p)
          ((fst ?x, snd ?y) # ?zs) ==>
         ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 8, t_empty),
              template_app
               (template_app (template_hole 2, template_var 3),
                template_app
                 (template_app (template_hole 2, template_var 2),
                  template_var 1)))
            ),
        template_implication
         ([template_predicate
            (
               template_app
                (template_app (template_hole 8, t_empty),
                 template_app
                  (template_app (template_hole 2, template_var 3),
                   template_app
                    (template_app (template_hole 2, template_var 2),
                     template_app
                      (template_app
                        (template_hole 2,
                         template_app
                          (template_app
                            (template_hole 1,
                             template_app
                              (template_hole 3, template_var 2)),
                           template_app (template_hole 4, template_var 3))),
                       template_hole 0))))
               )],
          template_predicate (template_var 0)),
        template_implication
         ([template_predicate
            (
               template_app
                (template_app (template_hole 8, t_empty),
                 template_app
                  (template_app
                    (template_hole 2,
                     template_app
                      (template_app
                        (template_hole 1,
                         template_app (template_hole 4, template_var 3)),
                       template_app (template_hole 3, template_var 2))),
                   template_var 1))
               )],
          template_predicate (template_var 0))],
       template_predicate (template_var 0)))]:
   (string * thm * template) list
### theory "Draft.IntersectionTemplates"
### 0.893s elapsed time, 1.152s cpu time, 0.192s GC time
val it = (): unit
