   [("DynamicArray.array_length_rule",
     "<dyn_array ?xs ?p> array_length ?p
      <%r. dyn_array ?xs ?p * \<up> (r = length ?xs)>",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_hole 6,
               template_app
                (template_app (template_hole 5, template_var 1),
                 template_var 0)),
             template_app (template_hole 4, template_var 0)),
           t_empty)
         )),
    ("DynamicArray.double_length_abs",
     "length ?xs = ?n ==>
      abs_array (double_length_fun (?xs, ?n)) = abs_array (?xs, ?n)",
     template_implication
      ([template_equation
         (template_app (template_hole 4, template_var 1), template_var 0)],
       template_equation
        (template_app
          (template_hole 2,
           template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0))),
         template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 0))))),
    ("DynamicArray.push_array_rule",
     "<dyn_array ?xs ?p> push_array ?x ?p <dyn_array (?xs @ [?x])>\<^sub>t",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_hole 7,
               template_app
                (template_app (template_hole 6, template_var 2),
                 template_var 1)),
             template_app
              (template_app (template_hole 5, template_var 0),
               template_var 1)),
           t_empty)
         )),
    ("DynamicArray.array_length_rule'",
     "<dyn_array_raw (?xs, ?n) ?p> array_length ?p
      <%r. dyn_array_raw (?xs, ?n) ?p * \<up> (r = ?n)>",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_hole 6,
               template_app
                (template_app
                  (template_hole 5,
                   template_app
                    (template_app (template_hole 4, template_var 2),
                     template_var 1)),
                 template_var 0)),
             template_app (template_hole 3, template_var 0)),
           t_empty)
         )),
    ("DynamicArray.array_max_rule'",
     "<dyn_array_raw (?xs, ?n) ?p> array_max ?p
      <%r. dyn_array_raw (?xs, ?n) ?p * \<up> (r = length ?xs)>",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_hole 7,
               template_app
                (template_app
                  (template_hole 6,
                   template_app
                    (template_app (template_hole 5, template_var 2),
                     template_var 1)),
                 template_var 0)),
             template_app (template_hole 4, template_var 0)),
           t_empty)
         )),
    ("DynamicArray.array_upd_rule",
     "?i < length ?xs ==>
      <dyn_array ?xs ?p> array_upd ?i ?x ?p
      <%_. dyn_array (?xs[?i := ?x]) ?p>",
     template_implication
      ([template_inequation
         (less_than, template_var 3,
          template_app (template_hole 4, template_var 2))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 3,
                 template_app
                  (template_app (template_hole 2, template_var 2),
                   template_var 1)),
               template_app
                (template_app
                  (template_app (template_hole 1, template_var 3),
                   template_var 0),
                 template_var 1)),
             t_empty)
           ))),
    ("DynamicArray.push_array_basic_abs",
     "?n < length ?xs ==>
      abs_array (push_array_basic_fun ?x (?xs, ?n)) =
      abs_array (?xs, ?n) @ [?x]",
     template_implication
      ([template_inequation
         (less_than, template_var 2,
          template_app (template_hole 7, template_var 1))],
       template_equation
        (template_app
          (template_hole 5,
           template_app
            (template_app (template_hole 4, template_var 0),
             template_app
              (template_app (template_hole 3, template_var 1),
               template_var 2))),
         template_app
          (template_app
            (template_hole 2,
             template_app
              (template_hole 5,
               template_app
                (template_app (template_hole 3, template_var 1),
                 template_var 2))),
           template_app
            (template_app (template_hole 1, template_var 0),
             template_hole 0))))),
    ("DynamicArray.push_array_basic_rule'",
     "?n < length ?xs ==>
      <dyn_array_raw (?xs, ?n) ?p> push_array_basic ?x ?p
      <dyn_array_raw (push_array_basic_fun ?x (?xs, ?n))>",
     template_implication
      ([template_inequation
         (less_than, template_var 3,
          template_app (template_hole 5, template_var 2))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 4,
                 template_app
                  (template_app
                    (template_hole 3,
                     template_app
                      (template_app (template_hole 2, template_var 2),
                       template_var 3)),
                   template_var 1)),
               template_app
                (template_app (template_hole 1, template_var 0),
                 template_var 1)),
             template_app
              (template_hole 3,
               template_app
                (template_app (template_hole 0, template_var 0),
                 template_app
                  (template_app (template_hole 2, template_var 2),
                   template_var 3))))
           ))),
    ("DynamicArray.push_array_fun_abs",
     "?n <= length ?xs ==>
      abs_array (push_array_fun ?x (?xs, ?n)) = abs_array (?xs, ?n) @ [?x]",
     template_implication
      ([template_inequation
         (less_equals, template_var 2,
          template_app (template_hole 7, template_var 1))],
       template_equation
        (template_app
          (template_hole 5,
           template_app
            (template_app (template_hole 4, template_var 0),
             template_app
              (template_app (template_hole 3, template_var 1),
               template_var 2))),
         template_app
          (template_app
            (template_hole 2,
             template_app
              (template_hole 5,
               template_app
                (template_app (template_hole 3, template_var 1),
                 template_var 2))),
           template_app
            (template_app (template_hole 1, template_var 0),
             template_hole 0))))),
    ("DynamicArray.double_length_rule'",
     "length ?xs = ?n ==>
      <dyn_array_raw (?xs, ?n)
        ?p> double_length
             ?p <dyn_array_raw (double_length_fun (?xs, ?n))>\<^sub>t",
     template_implication
      ([template_equation
         (template_app (template_hole 7, template_var 2), template_var 1)],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 6,
                 template_app
                  (template_app
                    (template_hole 5,
                     template_app
                      (template_app (template_hole 4, template_var 2),
                       template_var 1)),
                   template_var 0)),
               template_app (template_hole 3, template_var 0)),
             t_empty)
           ))),
    ("DynamicArray.array_nth_rule",
     "?i < length ?xs ==>
      <dyn_array ?xs ?p> array_nth ?p ?i
      <%r. dyn_array ?xs ?p * \<up> (r = ?xs ! ?i)>",
     template_implication
      ([template_inequation
         (less_than, template_var 2,
          template_app (template_hole 7, template_var 1))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 6,
                 template_app
                  (template_app (template_hole 5, template_var 1),
                   template_var 0)),
               template_app
                (template_app (template_hole 4, template_var 0),
                 template_var 2)),
             t_empty)
           ))),
    ("DynamicArray.pop_array_rule",
     "?xs ~= [] ==>
      <dyn_array ?xs ?p> pop_array ?p
      <%(x, r). dyn_array (butlast ?xs) r * \<up> (x = last ?xs)>",
     template_implication
      ([template_negation
         (template_equation (template_var 1, template_hole 9))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 8,
                 template_app
                  (template_app (template_hole 7, template_var 1),
                   template_var 0)),
               template_app (template_hole 6, template_var 0)),
             template_app (template_hole 5, t_empty))
           ))),
    ("DynamicArray.push_array_rule'",
     "?n <= length ?xs ==>
      <dyn_array_raw (?xs, ?n)
        ?p> push_array ?x
             ?p <dyn_array_raw (push_array_fun ?x (?xs, ?n))>\<^sub>t",
     template_implication
      ([template_inequation
         (less_equals, template_var 3,
          template_app (template_hole 7, template_var 2))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 6,
                 template_app
                  (template_app
                    (template_hole 5,
                     template_app
                      (template_app (template_hole 4, template_var 2),
                       template_var 3)),
                   template_var 1)),
               template_app
                (template_app (template_hole 3, template_var 0),
                 template_var 1)),
             t_empty)
           ))),
    ("DynamicArray.array_swap_rule",
     "[| ?i < length ?xs; ?j < length ?xs |]
      ==> <dyn_array ?xs ?p> array_swap ?p ?i ?j
          <%_. dyn_array (list_swap ?xs ?i ?j) ?p>",
     template_implication
      ([template_inequation
         (less_than, template_var 3,
          template_app (template_hole 4, template_var 2)),
        template_inequation
         (less_than, template_var 1,
          template_app (template_hole 4, template_var 2))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 3,
                 template_app
                  (template_app (template_hole 2, template_var 2),
                   template_var 0)),
               template_app
                (template_app
                  (template_app (template_hole 1, template_var 0),
                   template_var 3),
                 template_var 1)),
             t_empty)
           ))),
    ("DynamicArray.array_upd_rule'",
     "[| ?i < ?n; ?n <= length ?xs |]
      ==> <dyn_array_raw (?xs, ?n) ?p> array_upd ?i ?x ?p
          <%_. dyn_array_raw (?xs[?i := ?x], ?n) ?p>",
     template_implication
      ([template_inequation (less_than, template_var 4, template_var 3),
        template_inequation
         (less_equals, template_var 3,
          template_app (template_hole 5, template_var 2))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 4,
                 template_app
                  (template_app
                    (template_hole 3,
                     template_app
                      (template_app (template_hole 2, template_var 2),
                       template_var 3)),
                   template_var 1)),
               template_app
                (template_app
                  (template_app (template_hole 1, template_var 4),
                   template_var 0),
                 template_var 1)),
             t_empty)
           ))),
    ("DynamicArray.array_nth_rule'",
     "[| ?i < ?n; ?n <= length ?xs |]
      ==> <dyn_array_raw (?xs, ?n) ?p> array_nth ?p ?i
          <%r. dyn_array_raw (?xs, ?n) ?p * \<up> (r = ?xs ! ?i)>",
     template_implication
      ([template_inequation (less_than, template_var 3, template_var 2),
        template_inequation
         (less_equals, template_var 2,
          template_app (template_hole 8, template_var 1))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 7,
                 template_app
                  (template_app
                    (template_hole 6,
                     template_app
                      (template_app (template_hole 5, template_var 1),
                       template_var 2)),
                   template_var 0)),
               template_app
                (template_app (template_hole 4, template_var 0),
                 template_var 3)),
             t_empty)
           ))),
    ("DynamicArray.pop_array_rule'",
     "[| 0 < ?n; ?n <= length ?xs |]
      ==> <dyn_array_raw (?xs, ?n) ?p> pop_array ?p
          <%(x, r).
              dyn_array_raw (?xs, ?n - 1) r * \<up> (x = ?xs ! (?n - 1))>",
     template_implication
      ([template_inequation (less_than, template_hole 13, template_var 2),
        template_inequation
         (less_equals, template_var 2,
          template_app (template_hole 11, template_var 1))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 10,
                 template_app
                  (template_app
                    (template_hole 9,
                     template_app
                      (template_app (template_hole 8, template_var 1),
                       template_var 2)),
                   template_var 0)),
               template_app (template_hole 7, template_var 0)),
             template_app (template_hole 6, t_empty))
           )))]
