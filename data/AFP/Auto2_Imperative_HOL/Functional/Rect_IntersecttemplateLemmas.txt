   [("Rect_Intersect.all_ops_distinct", "distinct (all_ops ?rects)",
     template_predicate
      (
         template_app
          (template_hole 1, template_app (template_hole 0, template_var 0))
         )),
    ("Rect_Intersect.del_ops_distinct", "distinct (del_ops ?rects)",
     template_predicate
      (
         template_app
          (template_hole 1, template_app (template_hole 0, template_var 0))
         )),
    ("Rect_Intersect.ins_ops_distinct", "distinct (ins_ops ?rects)",
     template_predicate
      (
         template_app
          (template_hole 1, template_app (template_hole 0, template_var 0))
         )),
    ("Rect_Intersect.all_ops_sorted", "Lists_Thms.sorted (all_ops ?rects)",
     template_predicate
      (
         template_app
          (template_hole 1, template_app (template_hole 0, template_var 0))
         )),
    ("Rect_Intersect.has_overlap_equiv",
     "is_rect_list ?rects ==>
      has_overlap_lst ?rects = has_rect_overlap ?rects",
     template_implication
      ([template_predicate
         (template_app (template_hole 3, template_var 0))],
       template_equation
        (template_app (template_hole 1, template_var 0),
         template_app (template_hole 0, template_var 0)))),
    ("Rect_Intersect.operation_leD", "?a <= ?b ==> pos ?a <= pos ?b",
     template_implication
      ([template_inequation (less_equals, template_var 1, template_var 0)],
       template_inequation
        (less_equals, template_app (template_hole 0, template_var 1),
         template_app (template_hole 0, template_var 0)))),
    ("Rect_Intersect.rect_inter_correct",
     "is_rect_list ?rects ==>
      rect_inter ?rects {} 0 = has_rect_overlap ?rects",
     template_implication
      ([template_predicate
         (template_app (template_hole 5, template_var 0))],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 3, template_var 0),
             template_hole 2),
           template_hole 1),
         template_app (template_hole 0, template_var 0)))),
    ("Rect_Intersect.all_ops_nonempty",
     "?rects ~= [] ==> all_ops ?rects ~= []",
     template_implication
      ([template_negation
         (template_equation (template_var 0, template_hole 3))],
       template_negation
        (
           template_equation
            (template_app (template_hole 1, template_var 0),
             template_hole 0)
           ))),
    ("Rect_Intersect.set_all_ops_idx",
     "?oper : set (all_ops ?rects) ==> op_idx ?oper < length ?rects",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 1),
              template_app
               (template_hole 4,
                template_app (template_hole 3, template_var 0)))
            )],
       template_inequation
        (less_than, template_app (template_hole 1, template_var 1),
         template_app (template_hole 0, template_var 0)))),
    ("Rect_Intersect.xints_diff",
     "xints_of ?rects (?A - ?B) = xints_of ?rects ?A - xints_of ?rects ?B",
     template_equation
      (template_app
        (template_app (template_hole 2, template_var 2),
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 0,
           template_app
            (template_app (template_hole 2, template_var 2),
             template_var 1)),
         template_app
          (template_app (template_hole 2, template_var 2),
           template_var 0)))),
    ("Rect_Intersect.del_in_set_all_ops",
     "?i < length ?rects ==> del_op ?rects ?i : set (all_ops ?rects)",
     template_implication
      ([template_inequation
         (less_than, template_var 1,
          template_app (template_hole 4, template_var 0))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 3,
               template_app
                (template_app (template_hole 2, template_var 0),
                 template_var 1)),
             template_app
              (template_hole 1,
               template_app (template_hole 0, template_var 0)))
           ))),
    ("Rect_Intersect.ins_in_set_all_ops",
     "?i < length ?rects ==> ins_op ?rects ?i : set (all_ops ?rects)",
     template_implication
      ([template_inequation
         (less_than, template_var 1,
          template_app (template_hole 4, template_var 0))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 3,
               template_app
                (template_app (template_hole 2, template_var 0),
                 template_var 1)),
             template_app
              (template_hole 1,
               template_app (template_hole 0, template_var 0)))
           ))),
    ("Rect_Intersect.operation_lessI",
     "?p1.0 <= ?p2.0 ==> INS ?p1.0 ?n1.0 ?i1.0 < DEL ?p2.0 ?n2.0 ?i2.0",
     template_implication
      ([template_inequation (less_equals, template_var 5, template_var 4)],
       template_inequation
        (less_than,
         template_app
          (template_app
            (template_app (template_hole 1, template_var 5),
             template_var 3),
           template_var 2),
         template_app
          (template_app
            (template_app (template_hole 0, template_var 4),
             template_var 1),
           template_var 0)))),
    ("Rect_Intersect.is_rect_listD",
     "[| is_rect_list ?rects; ?i < length ?rects |]
      ==> is_rect (?rects ! ?i)",
     template_implication
      ([template_predicate (template_app (template_hole 4, template_var 1)),
        template_inequation
         (less_than, template_var 0,
          template_app (template_hole 2, template_var 1))],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0))
           ))),
    ("Rect_Intersect.set_del_ops",
     "(?oper : set (del_ops ?rects)) =
      (op_idx ?oper < length ?rects &
       ?oper = del_op ?rects (op_idx ?oper))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 1),
              template_app
               (template_hole 7,
                template_app (template_hole 6, template_var 0)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 5,
               template_app
                (template_app
                  (template_hole 4,
                   template_app (template_hole 3, template_var 1)),
                 template_app (template_hole 2, template_var 0))),
             template_app
              (template_app (template_hole 1, template_var 1),
               template_app
                (template_app (template_hole 0, template_var 0),
                 template_app (template_hole 3, template_var 1))))
           ))),
    ("Rect_Intersect.set_ins_ops",
     "(?oper : set (ins_ops ?rects)) =
      (op_idx ?oper < length ?rects &
       ?oper = ins_op ?rects (op_idx ?oper))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 1),
              template_app
               (template_hole 7,
                template_app (template_hole 6, template_var 0)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 5,
               template_app
                (template_app
                  (template_hole 4,
                   template_app (template_hole 3, template_var 1)),
                 template_app (template_hole 2, template_var 0))),
             template_app
              (template_app (template_hole 1, template_var 1),
               template_app
                (template_app (template_hole 0, template_var 0),
                 template_app (template_hole 3, template_var 1))))
           ))),
    ("Rect_Intersect.xints_of_mem",
     "(IdxInterval ?it ?i : xints_of ?rect ?is) =
      (?i : ?is & xint (?rect ! ?i) = ?it)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 7,
                template_app
                 (template_app (template_hole 6, template_var 3),
                  template_var 2)),
              template_app
               (template_app (template_hole 5, template_var 1),
                template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 4,
               template_app
                (template_app (template_hole 3, template_var 2),
                 template_var 0)),
             template_app
              (template_app
                (template_hole 2,
                 template_app
                  (template_hole 1,
                   template_app
                    (template_app (template_hole 0, template_var 1),
                     template_var 2))),
               template_var 3))
           ))),
    ("Rect_Intersect.set_all_ops_del",
     "DEL ?p ?n ?i : set (all_ops ?rects) ==>
      DEL ?p ?n ?i = del_op ?rects ?n",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 5,
                template_app
                 (template_app
                   (template_app (template_hole 4, template_var 3),
                    template_var 2),
                  template_var 1)),
              template_app
               (template_hole 3,
                template_app (template_hole 2, template_var 0)))
            )],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 4, template_var 3),
             template_var 2),
           template_var 1),
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 2)))),
    ("Rect_Intersect.set_all_ops_ins",
     "INS ?p ?n ?i : set (all_ops ?rects) ==>
      INS ?p ?n ?i = ins_op ?rects ?n",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 5,
                template_app
                 (template_app
                   (template_app (template_hole 4, template_var 3),
                    template_var 2),
                  template_var 1)),
              template_app
               (template_hole 3,
                template_app (template_hole 2, template_var 0)))
            )],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 4, template_var 3),
             template_var 2),
           template_var 1),
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 2)))),
    ("Rect_Intersect.has_overlap_at_k_equiv",
     "[| is_rect_list ?rects; ?ops = all_ops ?rects; ?k < length ?ops;
         has_overlap_at_k ?rects ?k |]
      ==> has_rect_overlap ?rects",
     template_implication
      ([template_predicate (template_app (template_hole 6, template_var 2)),
        template_equation
         (template_var 1, template_app (template_hole 4, template_var 2)),
        template_inequation
         (less_than, template_var 0,
          template_app (template_hole 2, template_var 1)),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 2),
              template_var 0)
            )],
       template_predicate
        (template_app (template_hole 0, template_var 2)))),
    ("Rect_Intersect.has_overlap_at_k_equiv2",
     "[| is_rect_list ?rects; ?ops = all_ops ?rects;
         has_rect_overlap ?rects |]
      ==> EX k<length ?ops. has_overlap_at_k ?rects k",
     template_implication
      ([template_predicate (template_app (template_hole 8, template_var 1)),
        template_equation
         (template_var 0, template_app (template_hole 6, template_var 1)),
        template_predicate
         (template_app (template_hole 5, template_var 1))],
       template_predicate (template_app (template_hole 4, t_empty)))),
    ("Rect_Intersect.apply_ops_k_next_is_correct",
     "[| is_rect_list ?rects; ?ops = all_ops ?rects; ?n < length ?ops;
         ?S = xints_of ?rects (apply_ops_k ?rects ?n) |]
      ==> xints_of ?rects (apply_ops_k ?rects (?n + 1)) =
          apply_ops_k_next ?rects ?S ?n",
     template_implication
      ([template_predicate
         (template_app (template_hole 10, template_var 3)),
        template_equation
         (template_var 2, template_app (template_hole 8, template_var 3)),
        template_inequation
         (less_than, template_var 1,
          template_app (template_hole 6, template_var 2)),
        template_equation
         (template_var 0,
          template_app
           (template_app (template_hole 4, template_var 3),
            template_app
             (template_app (template_hole 3, template_var 3),
              template_var 1)))],
       template_equation
        (template_app
          (template_app (template_hole 4, template_var 3),
           template_app
            (template_app (template_hole 3, template_var 3),
             template_app
              (template_app (template_hole 2, template_var 1),
               template_hole 1))),
         template_app
          (template_app
            (template_app (template_hole 0, template_var 3),
             template_var 0),
           template_var 1)))),
    ("Rect_Intersect.apply_ops_k_next1",
     "[| is_rect_list ?rects; ?ops = all_ops ?rects; ?n < length ?ops;
         is_INS (?ops ! ?n) |]
      ==> apply_ops_k ?rects (?n + 1) =
          apply_ops_k ?rects ?n Un {op_idx (?ops ! ?n)}",
     template_implication
      ([template_predicate
         (template_app (template_hole 14, template_var 2)),
        template_equation
         (template_var 1, template_app (template_hole 12, template_var 2)),
        template_inequation
         (less_than, template_var 0,
          template_app (template_hole 10, template_var 1)),
        template_predicate
         (
            template_app
             (template_hole 9,
              template_app
               (template_app (template_hole 8, template_var 1),
                template_var 0))
            )],
       template_equation
        (template_app
          (template_app (template_hole 6, template_var 2),
           template_app
            (template_app (template_hole 5, template_var 0),
             template_hole 4)),
         template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app (template_hole 6, template_var 2),
               template_var 0)),
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_hole 1,
                 template_app
                  (template_app (template_hole 8, template_var 1),
                   template_var 0))),
             template_hole 0))))),
    ("Rect_Intersect.rect_inter_correct_ind",
     "[| is_rect_list ?rects; ?ops = all_ops ?rects; ?n < length ?ops |]
      ==> rect_inter ?rects (xints_of ?rects (apply_ops_k ?rects ?n)) ?n =
          (EX k<length ?ops. ?n <= k & has_overlap_at_k ?rects k)",
     template_implication
      ([template_predicate
         (template_app (template_hole 12, template_var 2)),
        template_equation
         (template_var 1, template_app (template_hole 10, template_var 2)),
        template_inequation
         (less_than, template_var 0,
          template_app (template_hole 8, template_var 1))],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 6, template_var 2),
             template_app
              (template_app (template_hole 5, template_var 2),
               template_app
                (template_app (template_hole 4, template_var 2),
                 template_var 0))),
           template_var 0),
         template_app (template_hole 3, t_empty)))),
    ("Rect_Intersect.apply_ops_k_next2",
     "[| is_rect_list ?rects; ?ops = all_ops ?rects; ?n < length ?ops;
         ~ is_INS (?ops ! ?n) |]
      ==> apply_ops_k ?rects (?n + 1) =
          apply_ops_k ?rects ?n - {op_idx (?ops ! ?n)}",
     template_implication
      ([template_predicate
         (template_app (template_hole 15, template_var 2)),
        template_equation
         (template_var 1, template_app (template_hole 13, template_var 2)),
        template_inequation
         (less_than, template_var 0,
          template_app (template_hole 11, template_var 1)),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_hole 9,
                  template_app
                   (template_app (template_hole 8, template_var 1),
                    template_var 0))
                )
            )],
       template_equation
        (template_app
          (template_app (template_hole 6, template_var 2),
           template_app
            (template_app (template_hole 5, template_var 0),
             template_hole 4)),
         template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app (template_hole 6, template_var 2),
               template_var 0)),
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_hole 1,
                 template_app
                  (template_app (template_hole 8, template_var 1),
                   template_var 0))),
             template_hole 0))))),
    ("Rect_Intersect.apply_ops_set_mem",
     "?ops = all_ops ?rects ==>
      (?i : apply_ops_k ?rects ?k) =
      (?i < length ?rects &
       (EX j<?k. ins_op ?rects ?i = ?ops ! j) &
       ~ (EX j<?k. del_op ?rects ?i = ?ops ! j))",
     template_implication
      ([template_equation
         (template_var 3, template_app (template_hole 12, template_var 2))],
       template_equation
        (template_app
          (template_app (template_hole 10, template_var 1),
           template_app
            (template_app (template_hole 9, template_var 2),
             template_var 0)),
         template_app
          (template_app
            (template_hole 8,
             template_app
              (template_app (template_hole 7, template_var 1),
               template_app (template_hole 6, template_var 2))),
           template_app
            (template_app
              (template_hole 8, template_app (template_hole 5, t_empty)),
             template_app
              (template_hole 1,
               template_app (template_hole 5, t_empty))))))),
    ("Rect_Intersect.less",
     "(?a < ?b) =
      (if pos ?a ~= pos ?b then pos ?a < pos ?b
       else if is_INS ?a ~= is_INS ?b then is_INS ?a & ~ is_INS ?b
            else if op_idx ?a ~= op_idx ?b then op_idx ?a < op_idx ?b
                 else op_int ?a < op_int ?b)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 12, template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 11,
                 template_app
                  (template_hole 10,
                   template_app
                    (template_app
                      (template_hole 9,
                       template_app (template_hole 8, template_var 1)),
                     template_app (template_hole 8, template_var 0)))),
               template_app
                (template_app
                  (template_hole 7,
                   template_app (template_hole 8, template_var 1)),
                 template_app (template_hole 8, template_var 0))),
             template_app
              (template_app
                (template_app
                  (template_hole 11,
                   template_app
                    (template_hole 10,
                     template_app
                      (template_app
                        (template_hole 13,
                         template_app (template_hole 6, template_var 1)),
                       template_app (template_hole 6, template_var 0)))),
                 template_app
                  (template_app
                    (template_hole 5,
                     template_app (template_hole 6, template_var 1)),
                   template_app
                    (template_hole 10,
                     template_app (template_hole 6, template_var 0)))),
               template_app
                (template_app
                  (template_app
                    (template_hole 11,
                     template_app
                      (template_hole 10,
                       template_app
                        (template_app
                          (template_hole 4,
                           template_app (template_hole 3, template_var 1)),
                         template_app (template_hole 3, template_var 0)))),
                   template_app
                    (template_app
                      (template_hole 2,
                       template_app (template_hole 3, template_var 1)),
                     template_app (template_hole 3, template_var 0))),
                 template_app
                  (template_app
                    (template_hole 1,
                     template_app (template_hole 0, template_var 1)),
                   template_app (template_hole 0, template_var 0)))))
           ))),
    ("Rect_Intersect.less_eq",
     "(?a <= ?b) =
      (if pos ?a ~= pos ?b then pos ?a < pos ?b
       else if is_INS ?a ~= is_INS ?b then is_INS ?a & ~ is_INS ?b
            else if op_idx ?a ~= op_idx ?b then op_idx ?a < op_idx ?b
                 else op_int ?a <= op_int ?b)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 12, template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 11,
                 template_app
                  (template_hole 10,
                   template_app
                    (template_app
                      (template_hole 9,
                       template_app (template_hole 8, template_var 1)),
                     template_app (template_hole 8, template_var 0)))),
               template_app
                (template_app
                  (template_hole 7,
                   template_app (template_hole 8, template_var 1)),
                 template_app (template_hole 8, template_var 0))),
             template_app
              (template_app
                (template_app
                  (template_hole 11,
                   template_app
                    (template_hole 10,
                     template_app
                      (template_app
                        (template_hole 13,
                         template_app (template_hole 6, template_var 1)),
                       template_app (template_hole 6, template_var 0)))),
                 template_app
                  (template_app
                    (template_hole 5,
                     template_app (template_hole 6, template_var 1)),
                   template_app
                    (template_hole 10,
                     template_app (template_hole 6, template_var 0)))),
               template_app
                (template_app
                  (template_app
                    (template_hole 11,
                     template_app
                      (template_hole 10,
                       template_app
                        (template_app
                          (template_hole 4,
                           template_app (template_hole 3, template_var 1)),
                         template_app (template_hole 3, template_var 0)))),
                   template_app
                    (template_app
                      (template_hole 2,
                       template_app (template_hole 3, template_var 1)),
                     template_app (template_hole 3, template_var 0))),
                 template_app
                  (template_app
                    (template_hole 1,
                     template_app (template_hole 0, template_var 1)),
                   template_app (template_hole 0, template_var 0)))))
           )))]
