   [("Gauss_Jordan_Elimination.pivot_fun_init", "pivot_fun ?A (%_. 0) 0",
     template_predicate
      (
         template_app
          (template_app
            (template_app (template_hole 1, template_var 0), t_empty),
           template_hole 0)
         )),
    ("Gauss_Jordan_Elimination.index_mat_multrow_mat",
     "dim_col (multrow_mat ?n ?k ?a) = ?n",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1),
           template_var 0)),
       template_var 2)),
    ("Gauss_Jordan_Elimination.index_mat_swaprows_mat",
     "dim_col (swaprows_mat ?n ?k ?l) = ?n",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1),
           template_var 0)),
       template_var 2)),
    ("Gauss_Jordan_Elimination.index_mat_multrow_mat",
     "dim_row (multrow_mat ?n ?k ?a) = ?n",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1),
           template_var 0)),
       template_var 2)),
    ("Gauss_Jordan_Elimination.index_mat_swaprows_mat",
     "dim_row (swaprows_mat ?n ?k ?l) = ?n",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1),
           template_var 0)),
       template_var 2)),
    ("Gauss_Jordan_Elimination.index_mat_swaprows",
     "dim_col (swaprows ?k ?l ?A) = dim_col ?A",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1),
           template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Gauss_Jordan_Elimination.dimc_eliminate_entries_rec",
     "dim_col (eliminate_entries_rec ?B ?i ?as) = dim_col ?B",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1),
           template_var 0)),
       template_app (template_hole 1, template_var 2))),
    ("Gauss_Jordan_Elimination.index_mat_swaprows",
     "dim_row (swaprows ?k ?l ?A) = dim_row ?A",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1),
           template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Gauss_Jordan_Elimination.dimr_eliminate_entries_rec",
     "dim_row (eliminate_entries_rec ?B ?i ?as) = dim_row ?B",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1),
           template_var 0)),
       template_app (template_hole 1, template_var 2))),
    ("Gauss_Jordan_Elimination.index_mat_addrow_mat",
     "dim_col (addrow_mat ?n ?a ?k ?l) = ?n",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app
            (template_app
              (template_app (template_hole 0, template_var 3),
               template_var 2),
             template_var 1),
           template_var 0)),
       template_var 3)),
    ("Gauss_Jordan_Elimination.index_mat_addrow_mat",
     "dim_row (addrow_mat ?n ?a ?k ?l) = ?n",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app
            (template_app
              (template_app (template_hole 0, template_var 3),
               template_var 2),
             template_var 1),
           template_var 0)),
       template_var 3)),
    ("Gauss_Jordan_Elimination.multrow_mat_carrier",
     "multrow_mat ?n ?k ?a : carrier_mat ?n ?n",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app
                (template_app (template_hole 1, template_var 2),
                 template_var 1),
               template_var 0)),
           template_app
            (template_app (template_hole 0, template_var 2),
             template_var 2))
         )),
    ("Gauss_Jordan_Elimination.swaprows_mat_carrier",
     "swaprows_mat ?n ?k ?l : carrier_mat ?n ?n",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app
                (template_app (template_hole 1, template_var 2),
                 template_var 1),
               template_var 0)),
           template_app
            (template_app (template_hole 0, template_var 2),
             template_var 2))
         )),
    ("Gauss_Jordan_Elimination.index_mat_multrow",
     "dim_col (mat_multrow_gen ?mul ?k ?a ?A) = dim_col ?A",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app
            (template_app
              (template_app (template_hole 0, template_var 3),
               template_var 2),
             template_var 1),
           template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Gauss_Jordan_Elimination.index_mat_multrow",
     "dim_row (mat_multrow_gen ?mul ?k ?a ?A) = dim_row ?A",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app
            (template_app
              (template_app (template_hole 0, template_var 3),
               template_var 2),
             template_var 1),
           template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Gauss_Jordan_Elimination.addrow_mat_carrier",
     "addrow_mat ?n ?a ?k ?l : carrier_mat ?n ?n",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app
                (template_app
                  (template_app (template_hole 1, template_var 3),
                   template_var 2),
                 template_var 1),
               template_var 0)),
           template_app
            (template_app (template_hole 0, template_var 3),
             template_var 3))
         )),
    ("Gauss_Jordan_Elimination.dim_eliminate_entries_gen",
     "dim_col (eliminate_entries_gen ?minus ?times ?v ?B ?i ?as) =
      dim_col ?B",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 0, template_var 5),
                   template_var 4),
                 template_var 3),
               template_var 2),
             template_var 1),
           template_var 0)),
       template_app (template_hole 1, template_var 2))),
    ("Gauss_Jordan_Elimination.index_mat_addrow",
     "dim_col (mat_addrow_gen ?ad ?mul ?a ?k ?l ?A) = dim_col ?A",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 0, template_var 5),
                   template_var 4),
                 template_var 3),
               template_var 2),
             template_var 1),
           template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Gauss_Jordan_Elimination.dim_eliminate_entries_gen",
     "dim_row (eliminate_entries_gen ?minus ?times ?v ?B ?i ?as) =
      dim_row ?B",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 0, template_var 5),
                   template_var 4),
                 template_var 3),
               template_var 2),
             template_var 1),
           template_var 0)),
       template_app (template_hole 1, template_var 2))),
    ("Gauss_Jordan_Elimination.index_mat_addrow",
     "dim_row (mat_addrow_gen ?ad ?mul ?a ?k ?l ?A) = dim_row ?A",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 0, template_var 5),
                   template_var 4),
                 template_var 3),
               template_var 2),
             template_var 1),
           template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Gauss_Jordan_Elimination.swaprows_carrier",
     "(swaprows ?k ?l ?A : carrier_mat ?n ?nc) = (?A : carrier_mat ?n ?nc)",
     template_equation
      (template_app
        (template_app
          (template_hole 2,
           template_app
            (template_app
              (template_app (template_hole 1, template_var 4),
               template_var 3),
             template_var 2)),
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app
        (template_app (template_hole 2, template_var 2),
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Gauss_Jordan_Elimination.multrow_carrier",
     "(mat_multrow_gen ?mul ?k ?a ?A : carrier_mat ?n ?nc) =
      (?A : carrier_mat ?n ?nc)",
     template_equation
      (template_app
        (template_app
          (template_hole 2,
           template_app
            (template_app
              (template_app
                (template_app (template_hole 1, template_var 5),
                 template_var 4),
               template_var 3),
             template_var 2)),
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app
        (template_app (template_hole 2, template_var 2),
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Gauss_Jordan_Elimination.row_swaprows",
     "?l < ?n ==> row (swaprows_mat ?n ?l ?l) ?l = unit_vec ?n ?l",
     template_implication
      ([template_inequation (less_than, template_var 1, template_var 0)],
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app
                (template_app (template_hole 1, template_var 0),
                 template_var 1),
               template_var 1)),
           template_var 1),
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("Gauss_Jordan_Elimination.carrier_eliminate_entries",
     "?B : carrier_mat ?nr ?nc ==>
      eliminate_entries_rec ?B ?i ?as : carrier_mat ?nr ?nc",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 4),
              template_app
               (template_app (template_hole 1, template_var 3),
                template_var 2))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app
                  (template_app (template_hole 0, template_var 4),
                   template_var 1),
                 template_var 0)),
             template_app
              (template_app (template_hole 1, template_var 3),
               template_var 2))
           ))),
    ("Gauss_Jordan_Elimination.gauss_jordan_single",
     "[| ?A : carrier_mat ?nr ?nc; gauss_jordan_single ?A = ?C |]
      ==> row_echelon_form ?C",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 3),
              template_app
               (template_app (template_hole 3, template_var 2),
                template_var 1))
            ),
        template_equation
         (template_app (template_hole 1, template_var 3), template_var 0)],
       template_predicate
        (template_app (template_hole 0, template_var 0)))),
    ("Gauss_Jordan_Elimination.addrow_carrier",
     "(mat_addrow_gen ?ad ?mul ?a ?k ?l ?A : carrier_mat ?n ?nc) =
      (?A : carrier_mat ?n ?nc)",
     template_equation
      (template_app
        (template_app
          (template_hole 2,
           template_app
            (template_app
              (template_app
                (template_app
                  (template_app
                    (template_app (template_hole 1, template_var 7),
                     template_var 6),
                   template_var 5),
                 template_var 4),
               template_var 3),
             template_var 2)),
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app
        (template_app (template_hole 2, template_var 2),
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Gauss_Jordan_Elimination.row_multrow",
     "?k < ?n ==>
      row (multrow_mat ?n ?k ?a) ?k = ?a \<cdot>\<^sub>v unit_vec ?n ?k",
     template_implication
      ([template_inequation (less_than, template_var 2, template_var 1)],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app
                (template_app (template_hole 2, template_var 1),
                 template_var 2),
               template_var 0)),
           template_var 2),
         template_app
          (template_app (template_hole 1, template_var 0),
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 2))))),
    ("Gauss_Jordan_Elimination.carrier_eliminate_entries",
     "?A : carrier_mat ?nr ?nc ==>
      eliminate_entries_gen ?minus ?times ?v ?A ?i ?bs
      : carrier_mat ?nr ?nc",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 7),
              template_app
               (template_app (template_hole 1, template_var 6),
                template_var 5))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app
                  (template_app
                    (template_app
                      (template_app
                        (template_app (template_hole 0, template_var 4),
                         template_var 3),
                       template_var 2),
                     template_var 7),
                   template_var 1),
                 template_var 0)),
             template_app
              (template_app (template_hole 1, template_var 6),
               template_var 5))
           ))),
    ("Gauss_Jordan_Elimination.gauss_jordan_single",
     "[| ?A : carrier_mat ?nr ?nc; gauss_jordan_single ?A = ?C |]
      ==> ?C : carrier_mat ?nr ?nc",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 3),
              template_app
               (template_app (template_hole 2, template_var 2),
                template_var 1))
            ),
        template_equation
         (template_app (template_hole 0, template_var 3), template_var 0)],
       template_predicate
        (
           template_app
            (template_app (template_hole 3, template_var 0),
             template_app
              (template_app (template_hole 2, template_var 2),
               template_var 1))
           ))),
    ("Gauss_Jordan_Elimination.gauss_jordan_row_echelon",
     "[| ?A : carrier_mat ?nr ?nc; gauss_jordan ?A ?B = (?A', ?B') |]
      ==> row_echelon_form ?A'",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 5),
              template_app
               (template_app (template_hole 4, template_var 4),
                template_var 3))
            ),
        template_equation
         (template_app
           (template_app (template_hole 2, template_var 5), template_var 2),
          template_app
           (template_app (template_hole 1, template_var 1),
            template_var 0))],
       template_predicate
        (template_app (template_hole 0, template_var 1)))),
    ("Gauss_Jordan_Elimination.multrow_mat",
     "?A : carrier_mat ?n ?nc ==>
      multrow ?k ?a ?A = multrow_mat ?n ?k ?a * ?A",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 4),
              template_app
               (template_app (template_hole 5, template_var 3),
                template_var 2))
            )],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app (template_hole 3, template_hole 2),
               template_var 1),
             template_var 0),
           template_var 4),
         template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app
                (template_app (template_hole 0, template_var 3),
                 template_var 1),
               template_var 0)),
           template_var 4)))),
    ("Gauss_Jordan_Elimination.pivot_positions",
     "[| ?A : carrier_mat ?nr ?nc; pivot_fun ?A ?f ?nc |]
      ==> distinct (map fst (pivot_positions ?A))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 3),
              template_app
               (template_app (template_hole 6, template_var 2),
                template_var 1))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 5, template_var 3),
                template_var 0),
              template_var 1)
            )],
       template_predicate
        (
           template_app
            (template_hole 4,
             template_app
              (template_app (template_hole 3, template_hole 2),
               template_app
                (template_app (template_hole 1, template_hole 0),
                 template_var 3)))
           ))),
    ("Gauss_Jordan_Elimination.pivot_positions",
     "[| ?A : carrier_mat ?nr ?nc; pivot_fun ?A ?f ?nc |]
      ==> distinct (map snd (pivot_positions ?A))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 3),
              template_app
               (template_app (template_hole 6, template_var 2),
                template_var 1))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 5, template_var 3),
                template_var 0),
              template_var 1)
            )],
       template_predicate
        (
           template_app
            (template_hole 4,
             template_app
              (template_app (template_hole 3, template_hole 2),
               template_app
                (template_app (template_hole 1, template_hole 0),
                 template_var 3)))
           ))),
    ("Gauss_Jordan_Elimination.row_swaprows",
     "[| ?k < ?n; ?l < ?n |]
      ==> row (swaprows_mat ?n ?k ?l) ?l = unit_vec ?n ?k",
     template_implication
      ([template_inequation (less_than, template_var 2, template_var 1),
        template_inequation (less_than, template_var 0, template_var 1)],
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app
                (template_app (template_hole 1, template_var 1),
                 template_var 2),
               template_var 0)),
           template_var 0),
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 2)))),
    ("Gauss_Jordan_Elimination.row_swaprows",
     "[| ?k < ?n; ?l < ?n |]
      ==> row (swaprows_mat ?n ?k ?l) ?k = unit_vec ?n ?l",
     template_implication
      ([template_inequation (less_than, template_var 2, template_var 1),
        template_inequation (less_than, template_var 0, template_var 1)],
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app
                (template_app (template_hole 1, template_var 1),
                 template_var 2),
               template_var 0)),
           template_var 2),
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Gauss_Jordan_Elimination.swaprows_mat_Unit",
     "[| ?k < ?n; ?l < ?n |]
      ==> swaprows_mat ?n ?k ?l : Units (ring_mat TYPE(?'a) ?n ?b)",
     template_implication
      ([template_inequation (less_than, template_var 3, template_var 2),
        template_inequation (less_than, template_var 1, template_var 2)],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 4,
               template_app
                (template_app
                  (template_app (template_hole 3, template_var 2),
                   template_var 3),
                 template_var 1)),
             template_app
              (template_hole 2,
               template_app
                (template_app
                  (template_app (template_hole 1, template_hole 0),
                   template_var 2),
                 template_var 0)))
           ))),
    ("Gauss_Jordan_Elimination.multrow_mat_Unit",
     "[| ?k < ?n; ?a ~= (0::?'a) |]
      ==> multrow_mat ?n ?k ?a : Units (ring_mat TYPE(?'a) ?n ?b)",
     template_implication
      ([template_inequation (less_than, template_var 3, template_var 2),
        template_negation
         (template_equation (template_var 1, template_hole 5))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 4,
               template_app
                (template_app
                  (template_app (template_hole 3, template_var 2),
                   template_var 3),
                 template_var 1)),
             template_app
              (template_hole 2,
               template_app
                (template_app
                  (template_app (template_hole 1, template_hole 0),
                   template_var 2),
                 template_var 0)))
           ))),
    ("Gauss_Jordan_Elimination.row_multrow",
     "[| ?k ~= ?i; ?i < ?n |]
      ==> row (multrow_mat ?n ?k ?a) ?i = unit_vec ?n ?i",
     template_implication
      ([template_negation
         (template_equation (template_var 3, template_var 2)),
        template_inequation (less_than, template_var 2, template_var 1)],
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app
                (template_app (template_hole 1, template_var 1),
                 template_var 3),
               template_var 0)),
           template_var 2),
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 2)))),
    ("Gauss_Jordan_Elimination.mat_inverse",
     "[| ?A : carrier_mat ?n ?n; mat_inverse ?A = None |]
      ==> ?A ~: Units (ring_mat TYPE(?'a) ?n ?b)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 2),
              template_app
               (template_app (template_hole 7, template_var 1),
                template_var 1))
            ),
        template_equation
         (template_app (template_hole 5, template_var 2), template_hole 4)],
       template_negation
        (
           template_predicate
            (
               template_app
                (template_app (template_hole 8, template_var 2),
                 template_app
                  (template_hole 2,
                   template_app
                    (template_app
                      (template_app (template_hole 1, template_hole 0),
                       template_var 1),
                     template_var 0)))
               )
           ))),
    ("Gauss_Jordan_Elimination.pivot_funD",
     "[| dim_row ?A = ?nr; pivot_fun ?A ?f ?nc; ?i < ?nr |]
      ==> ?f ?i <= ?nc",
     template_implication
      ([template_equation
         (template_app (template_hole 3, template_var 4), template_var 3),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 4),
                template_var 2),
              template_var 1)
            ),
        template_inequation (less_than, template_var 0, template_var 3)],
       template_inequation
        (less_equals, template_app (template_var 2, template_var 0),
         template_var 1))),
    ("Gauss_Jordan_Elimination.swaprows_mat_inv",
     "[| ?k < ?n; ?l < ?n |]
      ==> swaprows_mat ?n ?k ?l * swaprows_mat ?n ?k ?l = 1\<^sub>m ?n",
     template_implication
      ([template_inequation (less_than, template_var 2, template_var 1),
        template_inequation (less_than, template_var 0, template_var 1)],
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app
                (template_app (template_hole 1, template_var 1),
                 template_var 2),
               template_var 0)),
           template_app
            (template_app
              (template_app (template_hole 1, template_var 1),
               template_var 2),
             template_var 0)),
         template_app (template_hole 0, template_var 1)))),
    ("Gauss_Jordan_Elimination.row_addrow",
     "[| ?k ~= ?i; ?i < ?n |]
      ==> row (addrow_mat ?n ?a ?k ?l) ?i = unit_vec ?n ?i",
     template_implication
      ([template_negation
         (template_equation (template_var 4, template_var 3)),
        template_inequation (less_than, template_var 3, template_var 2)],
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app
                (template_app
                  (template_app (template_hole 1, template_var 2),
                   template_var 1),
                 template_var 4),
               template_var 0)),
           template_var 3),
         template_app
          (template_app (template_hole 0, template_var 2),
           template_var 3)))),
    ("Gauss_Jordan_Elimination.gauss_jordan_compute_inverse",
     "[| ?A : carrier_mat ?n ?n;
         gauss_jordan ?A (1\<^sub>m ?n) = (1\<^sub>m ?n, ?B') |]
      ==> ?B' : carrier_mat ?n ?n",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 2),
              template_app
               (template_app (template_hole 4, template_var 1),
                template_var 1))
            ),
        template_equation
         (template_app
           (template_app (template_hole 2, template_var 2),
            template_app (template_hole 1, template_var 1)),
          template_app
           (template_app
             (template_hole 0,
              template_app (template_hole 1, template_var 1)),
            template_var 0))],
       template_predicate
        (
           template_app
            (template_app (template_hole 5, template_var 0),
             template_app
              (template_app (template_hole 4, template_var 1),
               template_var 1))
           ))),
    ("Gauss_Jordan_Elimination.gauss_jordan_inverse_other_direction",
     "[| ?A : Units (ring_mat TYPE(?'a) ?n ?b); ?B : carrier_mat ?n ?nc |]
      ==> fst (gauss_jordan ?A ?B) = 1\<^sub>m ?n",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 4),
              template_app
               (template_hole 7,
                template_app
                 (template_app
                   (template_app (template_hole 6, template_hole 5),
                    template_var 3),
                  template_var 2)))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 1),
              template_app
               (template_app (template_hole 4, template_var 3),
                template_var 0))
            )],
       template_equation
        (template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 1, template_var 4),
             template_var 1)),
         template_app (template_hole 0, template_var 3)))),
    ("Gauss_Jordan_Elimination.find_base_vector_not_1",
     "[| row_echelon_form ?A; ?A : carrier_mat ?n ?n; ?A ~= 1\<^sub>m ?n |]
      ==> find_base_vector ?A : carrier_vec ?n",
     template_implication
      ([template_predicate (template_app (template_hole 8, template_var 1)),
        template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 1),
              template_app
               (template_app (template_hole 6, template_var 0),
                template_var 0))
            ),
        template_negation
         (
            template_equation
             (template_var 1,
              template_app (template_hole 3, template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 2,
               template_app (template_hole 1, template_var 1)),
             template_app (template_hole 0, template_var 0))
           ))),
    ("Gauss_Jordan_Elimination.multrow_mat_inv",
     "[| ?k < ?n; ?a ~= (0::?'a) |]
      ==> multrow_mat ?n ?k ?a * multrow_mat ?n ?k (inverse ?a) =
          1\<^sub>m ?n",
     template_implication
      ([template_inequation (less_than, template_var 2, template_var 1),
        template_negation
         (template_equation (template_var 0, template_hole 5))],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app
                (template_app (template_hole 2, template_var 1),
                 template_var 2),
               template_var 0)),
           template_app
            (template_app
              (template_app (template_hole 2, template_var 1),
               template_var 2),
             template_app (template_hole 1, template_var 0))),
         template_app (template_hole 0, template_var 1)))),
    ("Gauss_Jordan_Elimination.gauss_jordan_compute_inverse",
     "[| ?A : carrier_mat ?n ?n;
         gauss_jordan ?A (1\<^sub>m ?n) = (1\<^sub>m ?n, ?B') |]
      ==> ?A * ?B' = 1\<^sub>m ?n",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 2),
              template_app
               (template_app (template_hole 6, template_var 1),
                template_var 1))
            ),
        template_equation
         (template_app
           (template_app (template_hole 4, template_var 2),
            template_app (template_hole 3, template_var 1)),
          template_app
           (template_app
             (template_hole 2,
              template_app (template_hole 3, template_var 1)),
            template_var 0))],
       template_equation
        (template_app
          (template_app (template_hole 0, template_var 2), template_var 0),
         template_app (template_hole 3, template_var 1)))),
    ("Gauss_Jordan_Elimination.gauss_jordan_compute_inverse",
     "[| ?A : carrier_mat ?n ?n;
         gauss_jordan ?A (1\<^sub>m ?n) = (1\<^sub>m ?n, ?B') |]
      ==> ?B' * ?A = 1\<^sub>m ?n",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 2),
              template_app
               (template_app (template_hole 6, template_var 1),
                template_var 1))
            ),
        template_equation
         (template_app
           (template_app (template_hole 4, template_var 2),
            template_app (template_hole 3, template_var 1)),
          template_app
           (template_app
             (template_hole 2,
              template_app (template_hole 3, template_var 1)),
            template_var 0))],
       template_equation
        (template_app
          (template_app (template_hole 0, template_var 0), template_var 2),
         template_app (template_hole 3, template_var 1)))),
    ("Gauss_Jordan_Elimination.find_base_vector_not_1",
     "[| row_echelon_form ?A; ?A : carrier_mat ?n ?n; ?A ~= 1\<^sub>m ?n |]
      ==> find_base_vector ?A ~= 0\<^sub>v ?n",
     template_implication
      ([template_predicate (template_app (template_hole 8, template_var 1)),
        template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 1),
              template_app
               (template_app (template_hole 6, template_var 0),
                template_var 0))
            ),
        template_negation
         (
            template_equation
             (template_var 1,
              template_app (template_hole 3, template_var 0))
            )],
       template_negation
        (
           template_equation
            (template_app (template_hole 1, template_var 1),
             template_app (template_hole 0, template_var 0))
           ))),
    ("Gauss_Jordan_Elimination.find_base_vector_not_1",
     "[| row_echelon_form ?A; ?A : carrier_mat ?n ?n; ?A ~= 1\<^sub>m ?n |]
      ==> ?A *\<^sub>v find_base_vector ?A = 0\<^sub>v ?n",
     template_implication
      ([template_predicate (template_app (template_hole 9, template_var 1)),
        template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 1),
              template_app
               (template_app (template_hole 7, template_var 0),
                template_var 0))
            ),
        template_negation
         (
            template_equation
             (template_var 1,
              template_app (template_hole 4, template_var 0))
            )],
       template_equation
        (template_app
          (template_app (template_hole 2, template_var 1),
           template_app (template_hole 1, template_var 1)),
         template_app (template_hole 0, template_var 0)))),
    ("Gauss_Jordan_Elimination.row_addrow",
     "[| ?k < ?n; ?l < ?n |]
      ==> row (addrow_mat ?n ?a ?k ?l) ?k =
          ?a \<cdot>\<^sub>v unit_vec ?n ?l + unit_vec ?n ?k",
     template_implication
      ([template_inequation (less_than, template_var 3, template_var 2),
        template_inequation (less_than, template_var 1, template_var 2)],
       template_equation
        (template_app
          (template_app
            (template_hole 4,
             template_app
              (template_app
                (template_app
                  (template_app (template_hole 3, template_var 2),
                   template_var 0),
                 template_var 3),
               template_var 1)),
           template_var 3),
         template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_var 0),
               template_app
                (template_app (template_hole 0, template_var 2),
                 template_var 1))),
           template_app
            (template_app (template_hole 0, template_var 2),
             template_var 3))))),
    ("Gauss_Jordan_Elimination.addrow_mat",
     "[| ?A : carrier_mat ?n ?nc; ?l < ?n |]
      ==> addrow ?a ?k ?l ?A = addrow_mat ?n ?a ?k ?l * ?A",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 5),
              template_app
               (template_app (template_hole 7, template_var 4),
                template_var 3))
            ),
        template_inequation (less_than, template_var 2, template_var 4)],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 4, template_hole 3),
                   template_hole 2),
                 template_var 1),
               template_var 0),
             template_var 2),
           template_var 5),
         template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app
                (template_app
                  (template_app (template_hole 0, template_var 4),
                   template_var 1),
                 template_var 0),
               template_var 2)),
           template_var 5)))),
    ("Gauss_Jordan_Elimination.addrow_mat_Unit",
     "[| ?k < ?n; ?l < ?n; ?k ~= ?l |]
      ==> addrow_mat ?n ?a ?k ?l : Units (ring_mat TYPE(?'a) ?n ?b)",
     template_implication
      ([template_inequation (less_than, template_var 4, template_var 3),
        template_inequation (less_than, template_var 2, template_var 3),
        template_negation
         (template_equation (template_var 4, template_var 2))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 4,
               template_app
                (template_app
                  (template_app
                    (template_app (template_hole 3, template_var 3),
                     template_var 1),
                   template_var 4),
                 template_var 2)),
             template_app
              (template_hole 2,
               template_app
                (template_app
                  (template_app (template_hole 1, template_hole 0),
                   template_var 3),
                 template_var 0)))
           ))),
    ("Gauss_Jordan_Elimination.row_swaprows",
     "[| ?i ~= ?k; ?i ~= ?l; ?i < ?n |]
      ==> row (swaprows_mat ?n ?k ?l) ?i = unit_vec ?n ?i",
     template_implication
      ([template_negation
         (template_equation (template_var 3, template_var 2)),
        template_negation
         (template_equation (template_var 3, template_var 1)),
        template_inequation (less_than, template_var 3, template_var 0)],
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app
                (template_app (template_hole 1, template_var 0),
                 template_var 2),
               template_var 1)),
           template_var 3),
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 3)))),
    ("Gauss_Jordan_Elimination.row_echelon_form_imp_1_or_0_row",
     "[| ?A : carrier_mat ?n ?n; row_echelon_form ?A |]
      ==> ?A = 1\<^sub>m ?n | 0 < ?n & row ?A (?n - 1) = 0\<^sub>v ?n",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 13, template_var 1),
              template_app
               (template_app (template_hole 12, template_var 0),
                template_var 0))
            ),
        template_predicate
         (template_app (template_hole 11, template_var 1))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 10,
               template_app
                (template_app (template_hole 9, template_var 1),
                 template_app (template_hole 8, template_var 0))),
             template_app
              (template_app
                (template_hole 7,
                 template_app
                  (template_app (template_hole 6, template_hole 5),
                   template_var 0)),
               template_app
                (template_app
                  (template_hole 4,
                   template_app
                    (template_app (template_hole 3, template_var 1),
                     template_app
                      (template_app (template_hole 2, template_var 0),
                       template_hole 1))),
                 template_app (template_hole 0, template_var 0))))
           ))),
    ("Gauss_Jordan_Elimination.gauss_jordan_carrier",
     "[| ?A : carrier_mat ?nr ?nc; ?B : carrier_mat ?nr ?nc';
         gauss_jordan ?A ?B = (?A', ?B') |]
      ==> ?A' : carrier_mat ?nr ?nc",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 6),
              template_app
               (template_app (template_hole 3, template_var 5),
                template_var 4))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 3),
              template_app
               (template_app (template_hole 3, template_var 5),
                template_var 2))
            ),
        template_equation
         (template_app
           (template_app (template_hole 1, template_var 6), template_var 3),
          template_app
           (template_app (template_hole 0, template_var 1),
            template_var 0))],
       template_predicate
        (
           template_app
            (template_app (template_hole 4, template_var 1),
             template_app
              (template_app (template_hole 3, template_var 5),
               template_var 4))
           ))),
    ("Gauss_Jordan_Elimination.gauss_jordan_carrier",
     "[| ?A : carrier_mat ?nr ?nc; ?B : carrier_mat ?nr ?nc';
         gauss_jordan ?A ?B = (?A', ?B') |]
      ==> ?B' : carrier_mat ?nr ?nc'",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 6),
              template_app
               (template_app (template_hole 3, template_var 5),
                template_var 4))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 3),
              template_app
               (template_app (template_hole 3, template_var 5),
                template_var 2))
            ),
        template_equation
         (template_app
           (template_app (template_hole 1, template_var 6), template_var 3),
          template_app
           (template_app (template_hole 0, template_var 1),
            template_var 0))],
       template_predicate
        (
           template_app
            (template_app (template_hole 4, template_var 0),
             template_app
              (template_app (template_hole 3, template_var 5),
               template_var 2))
           ))),
    ("Gauss_Jordan_Elimination.gauss_jordan",
     "[| ?A : carrier_mat ?nr ?nc; ?B : carrier_mat ?nr ?nc2.0;
         gauss_jordan ?A ?B = (?C, ?D) |]
      ==> ?C : carrier_mat ?nr ?nc",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 6),
              template_app
               (template_app (template_hole 3, template_var 5),
                template_var 4))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 3),
              template_app
               (template_app (template_hole 3, template_var 5),
                template_var 2))
            ),
        template_equation
         (template_app
           (template_app (template_hole 1, template_var 6), template_var 3),
          template_app
           (template_app (template_hole 0, template_var 1),
            template_var 0))],
       template_predicate
        (
           template_app
            (template_app (template_hole 4, template_var 1),
             template_app
              (template_app (template_hole 3, template_var 5),
               template_var 4))
           ))),
    ("Gauss_Jordan_Elimination.gauss_jordan",
     "[| ?A : carrier_mat ?nr ?nc; ?B : carrier_mat ?nr ?nc2.0;
         gauss_jordan ?A ?B = (?C, ?D) |]
      ==> ?D : carrier_mat ?nr ?nc2.0",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 6),
              template_app
               (template_app (template_hole 3, template_var 5),
                template_var 4))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 3),
              template_app
               (template_app (template_hole 3, template_var 5),
                template_var 2))
            ),
        template_equation
         (template_app
           (template_app (template_hole 1, template_var 6), template_var 3),
          template_app
           (template_app (template_hole 0, template_var 1),
            template_var 0))],
       template_predicate
        (
           template_app
            (template_app (template_hole 4, template_var 0),
             template_app
              (template_app (template_hole 3, template_var 5),
               template_var 2))
           ))),
    ("Gauss_Jordan_Elimination.swaprows_mat",
     "[| ?A : carrier_mat ?n ?nc; ?k < ?n; ?l < ?n |]
      ==> swaprows ?k ?l ?A = swaprows_mat ?n ?k ?l * ?A",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 4),
              template_app
               (template_app (template_hole 5, template_var 3),
                template_var 2))
            ),
        template_inequation (less_than, template_var 1, template_var 3),
        template_inequation (less_than, template_var 0, template_var 3)],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 2, template_var 1),
             template_var 0),
           template_var 4),
         template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app
                (template_app (template_hole 0, template_var 3),
                 template_var 1),
               template_var 0)),
           template_var 4)))),
    ("Gauss_Jordan_Elimination.index_mat_multrow",
     "[| ?i < dim_row ?A; ?j < dim_col ?A |]
      ==> mat_multrow_gen ?mul ?i ?a ?A $$ (?i, ?j) =
          ?mul ?a (?A $$ (?i, ?j))",
     template_implication
      ([template_inequation
         (less_than, template_var 4,
          template_app (template_hole 5, template_var 3)),
        template_inequation
         (less_than, template_var 2,
          template_app (template_hole 4, template_var 3))],
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app
                (template_app
                  (template_app (template_hole 1, template_var 1),
                   template_var 4),
                 template_var 0),
               template_var 3)),
           template_app
            (template_app (template_hole 0, template_var 4),
             template_var 2)),
         template_app
          (template_app (template_var 1, template_var 0),
           template_app
            (template_app (template_hole 2, template_var 3),
             template_app
              (template_app (template_hole 0, template_var 4),
               template_var 2)))))),
    ("Gauss_Jordan_Elimination.gauss_jordan_check_invertable",
     "[| ?A : carrier_mat ?n ?n; ?B : carrier_mat ?n ?nc |]
      ==> (?A : Units (ring_mat TYPE(?'a) ?n ?b)) =
          (fst (gauss_jordan ?A ?B) = 1\<^sub>m ?n)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 9, template_var 4),
              template_app
               (template_app (template_hole 8, template_var 3),
                template_var 3))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 9, template_var 2),
              template_app
               (template_app (template_hole 8, template_var 3),
                template_var 1))
            )],
       template_implication
        ([template_predicate
           (
              template_app
               (template_app (template_hole 9, template_var 4),
                template_app
                 (template_hole 6,
                  template_app
                   (template_app
                     (template_app (template_hole 5, template_hole 4),
                      template_var 3),
                    template_var 0)))
              )],
         template_equation
          (template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_var 4),
               template_var 2)),
           template_app (template_hole 0, template_var 3))))),
    ("Gauss_Jordan_Elimination.find_base_vector_not_1_pivot_positions",
     "[| row_echelon_form ?A; ?A : carrier_mat ?n ?n; ?A ~= 1\<^sub>m ?n |]
      ==> snd ` set (pivot_positions ?A) ~= {0..<?n}",
     template_implication
      ([template_predicate
         (template_app (template_hole 13, template_var 1)),
        template_predicate
         (
            template_app
             (template_app (template_hole 12, template_var 1),
              template_app
               (template_app (template_hole 11, template_var 0),
                template_var 0))
            ),
        template_negation
         (
            template_equation
             (template_var 1,
              template_app (template_hole 8, template_var 0))
            )],
       template_negation
        (
           template_equation
            (template_app
              (template_app (template_hole 6, template_hole 5),
               template_app
                (template_hole 4,
                 template_app
                  (template_app (template_hole 3, template_hole 2),
                   template_var 1))),
             template_app
              (template_app (template_hole 1, template_hole 0),
               template_var 0))
           ))),
    ("Gauss_Jordan_Elimination.find_base_vector",
     "[| row_echelon_form ?A; ?A : carrier_mat ?nr ?nc;
         snd ` set (pivot_positions ?A) ~= {0..<?nc} |]
      ==> find_base_vector ?A : carrier_vec ?nc",
     template_implication
      ([template_predicate
         (template_app (template_hole 14, template_var 2)),
        template_predicate
         (
            template_app
             (template_app (template_hole 13, template_var 2),
              template_app
               (template_app (template_hole 12, template_var 1),
                template_var 0))
            ),
        template_negation
         (
            template_equation
             (template_app
               (template_app (template_hole 9, template_hole 8),
                template_app
                 (template_hole 7,
                  template_app
                   (template_app (template_hole 6, template_hole 5),
                    template_var 2))),
              template_app
               (template_app (template_hole 4, template_hole 3),
                template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 2,
               template_app (template_hole 1, template_var 2)),
             template_app (template_hole 0, template_var 0))
           ))),
    ("Gauss_Jordan_Elimination.pivot_fun_zero_row_iff",
     "[| pivot_fun ?A ?f ?nc; ?A : carrier_mat ?nr ?nc; ?i < ?nr |]
      ==> (?f ?i = ?nc) = (row ?A ?i = 0\<^sub>v ?nc)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 8, template_var 4),
                template_var 3),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 4),
              template_app
               (template_app (template_hole 6, template_var 1),
                template_var 2))
            ),
        template_inequation (less_than, template_var 0, template_var 1)],
       template_bimplication
        (template_equation
          (template_app (template_var 3, template_var 0), template_var 2),
         template_equation
          (template_app
            (template_app (template_hole 1, template_var 4),
             template_var 0),
           template_app (template_hole 0, template_var 2))))),
    ("Gauss_Jordan_Elimination.find_base_vector",
     "[| row_echelon_form ?A; ?A : carrier_mat ?nr ?nc;
         snd ` set (pivot_positions ?A) ~= {0..<?nc} |]
      ==> find_base_vector ?A ~= 0\<^sub>v ?nc",
     template_implication
      ([template_predicate
         (template_app (template_hole 14, template_var 2)),
        template_predicate
         (
            template_app
             (template_app (template_hole 13, template_var 2),
              template_app
               (template_app (template_hole 12, template_var 1),
                template_var 0))
            ),
        template_negation
         (
            template_equation
             (template_app
               (template_app (template_hole 9, template_hole 8),
                template_app
                 (template_hole 7,
                  template_app
                   (template_app (template_hole 6, template_hole 5),
                    template_var 2))),
              template_app
               (template_app (template_hole 4, template_hole 3),
                template_var 0))
            )],
       template_negation
        (
           template_equation
            (template_app (template_hole 1, template_var 2),
             template_app (template_hole 0, template_var 0))
           ))),
    ("Gauss_Jordan_Elimination.pivot_funD",
     "[| dim_row ?A = ?nr; pivot_fun ?A ?f ?nc; ?i < ?nr; ?j < ?f ?i |]
      ==> ?A $$ (?i, ?j) = (0::?'a)",
     template_implication
      ([template_equation
         (template_app (template_hole 6, template_var 5), template_var 4),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 5, template_var 5),
                template_var 3),
              template_var 2)
            ),
        template_inequation (less_than, template_var 1, template_var 4),
        template_inequation
         (less_than, template_var 0,
          template_app (template_var 3, template_var 1))],
       template_equation
        (template_app
          (template_app (template_hole 2, template_var 5),
           template_app
            (template_app (template_hole 1, template_var 1),
             template_var 0)),
         template_hole 0))),
    ("Gauss_Jordan_Elimination.find_base_vector",
     "[| row_echelon_form ?A; ?A : carrier_mat ?nr ?nc;
         snd ` set (pivot_positions ?A) ~= {0..<?nc} |]
      ==> ?A *\<^sub>v find_base_vector ?A = 0\<^sub>v ?nr",
     template_implication
      ([template_predicate
         (template_app (template_hole 15, template_var 2)),
        template_predicate
         (
            template_app
             (template_app (template_hole 14, template_var 2),
              template_app
               (template_app (template_hole 13, template_var 1),
                template_var 0))
            ),
        template_negation
         (
            template_equation
             (template_app
               (template_app (template_hole 10, template_hole 9),
                template_app
                 (template_hole 8,
                  template_app
                   (template_app (template_hole 7, template_hole 6),
                    template_var 2))),
              template_app
               (template_app (template_hole 5, template_hole 4),
                template_var 0))
            )],
       template_equation
        (template_app
          (template_app (template_hole 2, template_var 2),
           template_app (template_hole 1, template_var 2)),
         template_app (template_hole 0, template_var 1)))),
    ("Gauss_Jordan_Elimination.addrow_mat_inv",
     "[| ?k < ?n; ?l < ?n; ?k ~= ?l |]
      ==> addrow_mat ?n ?a ?k ?l * addrow_mat ?n (- ?a) ?k ?l =
          1\<^sub>m ?n",
     template_implication
      ([template_inequation (less_than, template_var 3, template_var 2),
        template_inequation (less_than, template_var 1, template_var 2),
        template_negation
         (template_equation (template_var 3, template_var 1))],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app
                (template_app
                  (template_app (template_hole 2, template_var 2),
                   template_var 0),
                 template_var 3),
               template_var 1)),
           template_app
            (template_app
              (template_app
                (template_app (template_hole 2, template_var 2),
                 template_app (template_hole 1, template_var 0)),
               template_var 3),
             template_var 1)),
         template_app (template_hole 0, template_var 2)))),
    ("Gauss_Jordan_Elimination.gauss_jordan_inverse_one_direction",
     "[| ?A : carrier_mat ?n ?n; ?B : carrier_mat ?n ?nc;
         gauss_jordan ?A ?B = (1\<^sub>m ?n, ?B') |]
      ==> ?A : Units (ring_mat TYPE(?'a) ?n ?b)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 5),
              template_app
               (template_app (template_hole 7, template_var 4),
                template_var 4))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 3),
              template_app
               (template_app (template_hole 7, template_var 4),
                template_var 2))
            ),
        template_equation
         (template_app
           (template_app (template_hole 5, template_var 5), template_var 3),
          template_app
           (template_app
             (template_hole 4,
              template_app (template_hole 3, template_var 4)),
            template_var 1))],
       template_predicate
        (
           template_app
            (template_app (template_hole 8, template_var 5),
             template_app
              (template_hole 2,
               template_app
                (template_app
                  (template_app (template_hole 1, template_hole 0),
                   template_var 4),
                 template_var 0)))
           ))),
    ("Gauss_Jordan_Elimination.pivot_funD",
     "[| dim_row ?A = ?nr; pivot_fun ?A ?f ?nc; ?i < ?nr; ?f ?i < ?nc |]
      ==> ?A $$ (?i, ?f ?i) = (1::?'a)",
     template_implication
      ([template_equation
         (template_app (template_hole 6, template_var 4), template_var 3),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 5, template_var 4),
                template_var 2),
              template_var 1)
            ),
        template_inequation (less_than, template_var 0, template_var 3),
        template_inequation
         (less_than, template_app (template_var 2, template_var 0),
          template_var 1)],
       template_equation
        (template_app
          (template_app (template_hole 2, template_var 4),
           template_app
            (template_app (template_hole 1, template_var 0),
             template_app (template_var 2, template_var 0))),
         template_hole 0))),
    ("Gauss_Jordan_Elimination.pivot_positions",
     "[| ?A : carrier_mat ?nr ?nc; pivot_fun ?A ?f ?nc |]
      ==> length (pivot_positions ?A) =
          card {i. i < ?nr & row ?A i ~= 0\<^sub>v ?nc}",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 14, template_var 3),
              template_app
               (template_app (template_hole 13, template_var 2),
                template_var 1))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 12, template_var 3),
                template_var 0),
              template_var 1)
            )],
       template_equation
        (template_app
          (template_hole 10,
           template_app
            (template_app (template_hole 9, template_hole 8),
             template_var 3)),
         template_app
          (template_hole 7, template_app (template_hole 6, t_empty))))),
    ("Gauss_Jordan_Elimination.gauss_jordan_single",
     "[| ?A : carrier_mat ?nr ?nc; gauss_jordan_single ?A = ?C;
         ?x : carrier_vec ?nc |]
      ==> (?A *\<^sub>v ?x = 0\<^sub>v ?nr) =
          (?C *\<^sub>v ?x = 0\<^sub>v ?nr)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 9, template_var 4),
              template_app
               (template_app (template_hole 8, template_var 3),
                template_var 2))
            ),
        template_equation
         (template_app (template_hole 6, template_var 4), template_var 1),
        template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 0),
              template_app (template_hole 4, template_var 2))
            )],
       template_bimplication
        (template_equation
          (template_app
            (template_app (template_hole 1, template_var 4),
             template_var 0),
           template_app (template_hole 0, template_var 3)),
         template_equation
          (template_app
            (template_app (template_hole 1, template_var 1),
             template_var 0),
           template_app (template_hole 0, template_var 3))))),
    ("Gauss_Jordan_Elimination.mat_inverse",
     "[| ?A : carrier_mat ?n ?n; mat_inverse ?A = Some ?B |]
      ==> ?A * ?B = 1\<^sub>m ?n &
          ?B * ?A = 1\<^sub>m ?n & ?B : carrier_mat ?n ?n",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 2),
              template_app
               (template_app (template_hole 7, template_var 1),
                template_var 1))
            ),
        template_equation
         (template_app (template_hole 5, template_var 2),
          template_app (template_hole 4, template_var 0))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 3,
               template_app
                (template_app
                  (template_hole 2,
                   template_app
                    (template_app (template_hole 1, template_var 2),
                     template_var 0)),
                 template_app (template_hole 0, template_var 1))),
             template_app
              (template_app
                (template_hole 3,
                 template_app
                  (template_app
                    (template_hole 2,
                     template_app
                      (template_app (template_hole 1, template_var 0),
                       template_var 2)),
                   template_app (template_hole 0, template_var 1))),
               template_app
                (template_app (template_hole 8, template_var 0),
                 template_app
                  (template_app (template_hole 7, template_var 1),
                   template_var 1))))
           ))),
    ("Gauss_Jordan_Elimination.index_mat_multrow",
     "[| ?i < dim_row ?A; ?j < dim_col ?A; ?k ~= ?i |]
      ==> mat_multrow_gen ?mul ?k ?a ?A $$ (?i, ?j) = ?A $$ (?i, ?j)",
     template_implication
      ([template_inequation
         (less_than, template_var 5,
          template_app (template_hole 7, template_var 4)),
        template_inequation
         (less_than, template_var 3,
          template_app (template_hole 6, template_var 4)),
        template_negation
         (template_equation (template_var 2, template_var 5))],
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app
                (template_app
                  (template_app (template_hole 1, template_var 1),
                   template_var 2),
                 template_var 0),
               template_var 4)),
           template_app
            (template_app (template_hole 0, template_var 5),
             template_var 3)),
         template_app
          (template_app (template_hole 2, template_var 4),
           template_app
            (template_app (template_hole 0, template_var 5),
             template_var 3))))),
    ("Gauss_Jordan_Elimination.index_mat_multrow_mat",
     "[| ?i < ?n; ?j < ?n |]
      ==> multrow_mat ?n ?k ?a $$ (?i, ?j) =
          (if ?k = ?i & ?k = ?j then ?a
           else if ?i = ?j then 1::?'a else (0::?'a))",
     template_implication
      ([template_inequation (less_than, template_var 4, template_var 3),
        template_inequation (less_than, template_var 2, template_var 3)],
       template_implication
        ([template_predicate
           (
              template_app
               (template_app
                 (template_hole 7,
                  template_app
                   (template_app
                     (template_app (template_hole 6, template_var 3),
                      template_var 1),
                    template_var 0)),
                template_app
                 (template_app (template_hole 5, template_var 4),
                  template_var 2))
              )],
         template_predicate
          (
             template_app
              (template_app
                (template_app
                  (template_hole 4,
                   template_app
                    (template_app
                      (template_hole 3,
                       template_app
                        (template_app (template_hole 2, template_var 1),
                         template_var 4)),
                     template_app
                      (template_app (template_hole 2, template_var 1),
                       template_var 2))),
                 template_var 0),
               template_app
                (template_app
                  (template_app
                    (template_hole 4,
                     template_app
                      (template_app (template_hole 2, template_var 4),
                       template_var 2)),
                   template_hole 1),
                 template_hole 0))
             )))),
    ("Gauss_Jordan_Elimination.pivot_bound",
     "[| dim_row ?A = ?nr; pivot_fun ?A ?f ?n; ?i + ?j < ?nr |]
      ==> ?f (?i + ?j) = ?n | ?j + ?f ?i <= ?f (?i + ?j)",
     template_implication
      ([template_equation
         (template_app (template_hole 5, template_var 5), template_var 4),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 4, template_var 5),
                template_var 3),
              template_var 2)
            ),
        template_inequation
         (less_than,
          template_app
           (template_app (template_hole 2, template_var 1), template_var 0),
          template_var 4)],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app
                  (template_hole 6,
                   template_app
                    (template_var 3,
                     template_app
                      (template_app (template_hole 2, template_var 1),
                       template_var 0))),
                 template_var 2)),
             template_app
              (template_app
                (template_hole 0,
                 template_app
                  (template_app (template_hole 2, template_var 0),
                   template_app (template_var 3, template_var 1))),
               template_app
                (template_var 3,
                 template_app
                  (template_app (template_hole 2, template_var 1),
                   template_var 0))))
           ))),
    ("Gauss_Jordan_Elimination.index_mat_addrow",
     "[| ?i < dim_row ?A; ?j < dim_col ?A; ?k ~= ?i |]
      ==> mat_addrow_gen ?ad ?mul ?a ?k ?l ?A $$ (?i, ?j) = ?A $$ (?i, ?j)",
     template_implication
      ([template_inequation
         (less_than, template_var 7,
          template_app (template_hole 7, template_var 6)),
        template_inequation
         (less_than, template_var 5,
          template_app (template_hole 6, template_var 6)),
        template_negation
         (template_equation (template_var 4, template_var 7))],
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app
                (template_app
                  (template_app
                    (template_app
                      (template_app (template_hole 1, template_var 3),
                       template_var 2),
                     template_var 1),
                   template_var 4),
                 template_var 0),
               template_var 6)),
           template_app
            (template_app (template_hole 0, template_var 7),
             template_var 5)),
         template_app
          (template_app (template_hole 2, template_var 6),
           template_app
            (template_app (template_hole 0, template_var 7),
             template_var 5))))),
    ("Gauss_Jordan_Elimination.pivot_funD",
     "[| dim_row ?A = ?nr; pivot_fun ?A ?f ?nc; ?i < ?nr; Suc ?i < ?nr |]
      ==> ?f ?i < ?f (Suc ?i) | ?f (Suc ?i) = ?nc",
     template_implication
      ([template_equation
         (template_app (template_hole 4, template_var 4), template_var 3),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 3, template_var 4),
                template_var 2),
              template_var 1)
            ),
        template_inequation (less_than, template_var 0, template_var 3),
        template_inequation
         (less_than, template_app (template_hole 1, template_var 0),
          template_var 3)],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 0,
               template_app
                (template_app
                  (template_hole 2,
                   template_app (template_var 2, template_var 0)),
                 template_app
                  (template_var 2,
                   template_app (template_hole 1, template_var 0)))),
             template_app
              (template_app
                (template_hole 5,
                 template_app
                  (template_var 2,
                   template_app (template_hole 1, template_var 0))),
               template_var 1))
           ))),
    ("Gauss_Jordan_Elimination.index_mat_addrow_mat",
     "[| ?i < ?n; ?j < ?n |]
      ==> addrow_mat ?n ?a ?k ?l $$ (?i, ?j) =
          (if ?k = ?i & ?l = ?j then (+) ?a else id)
           (if ?i = ?j then 1::?'a else (0::?'a))",
     template_implication
      ([template_inequation (less_than, template_var 5, template_var 4),
        template_inequation (less_than, template_var 3, template_var 4)],
       template_implication
        ([template_predicate
           (
              template_app
               (template_app
                 (template_hole 10,
                  template_app
                   (template_app
                     (template_app
                       (template_app (template_hole 9, template_var 4),
                        template_var 2),
                      template_var 1),
                    template_var 0)),
                template_app
                 (template_app (template_hole 8, template_var 5),
                  template_var 3))
              )],
         template_predicate
          (
             template_app
              (template_app
                (template_app
                  (template_app
                    (template_hole 7,
                     template_app
                      (template_app
                        (template_hole 6,
                         template_app
                          (template_app (template_hole 5, template_var 1),
                           template_var 5)),
                       template_app
                        (template_app (template_hole 5, template_var 0),
                         template_var 3))),
                   template_app (template_hole 4, template_var 2)),
                 template_hole 3),
               template_app
                (template_app
                  (template_app
                    (template_hole 2,
                     template_app
                      (template_app (template_hole 5, template_var 5),
                       template_var 3)),
                   template_hole 1),
                 template_hole 0))
             )))),
    ("Gauss_Jordan_Elimination.index_mat_addrow",
     "[| ?i < dim_row ?A; ?j < dim_col ?A |]
      ==> mat_addrow_gen ?ad ?mul ?a ?i ?l ?A $$ (?i, ?j) =
          ?ad (?mul ?a (?A $$ (?l, ?j))) (?A $$ (?i, ?j))",
     template_implication
      ([template_inequation
         (less_than, template_var 6,
          template_app (template_hole 5, template_var 5)),
        template_inequation
         (less_than, template_var 4,
          template_app (template_hole 4, template_var 5))],
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app
                (template_app
                  (template_app
                    (template_app
                      (template_app (template_hole 1, template_var 3),
                       template_var 2),
                     template_var 1),
                   template_var 6),
                 template_var 0),
               template_var 5)),
           template_app
            (template_app (template_hole 0, template_var 6),
             template_var 4)),
         template_app
          (template_app
            (template_var 3,
             template_app
              (template_app (template_var 2, template_var 1),
               template_app
                (template_app (template_hole 2, template_var 5),
                 template_app
                  (template_app (template_hole 0, template_var 0),
                   template_var 4)))),
           template_app
            (template_app (template_hole 2, template_var 5),
             template_app
              (template_app (template_hole 0, template_var 6),
               template_var 4)))))),
    ("Gauss_Jordan_Elimination.pivot_fun_multrow",
     "[| pivot_fun ?A ?f ?jj; dim_row ?A = ?nr; dim_col ?A = ?nc;
         ?f ?i0.0 = ?jj; ?jj <= ?nc |]
      ==> pivot_fun (multrow ?i0.0 ?a ?A) ?f ?jj",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 6, template_var 6),
                template_var 5),
              template_var 4)
            ),
        template_equation
         (template_app (template_hole 4, template_var 6), template_var 3),
        template_equation
         (template_app (template_hole 3, template_var 6), template_var 2),
        template_equation
         (template_app (template_var 5, template_var 1), template_var 4),
        template_inequation (less_equals, template_var 4, template_var 2)],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 6,
                 template_app
                  (template_app
                    (template_app
                      (template_app (template_hole 1, template_hole 0),
                       template_var 1),
                     template_var 0),
                   template_var 6)),
               template_var 5),
             template_var 4)
           ))),
    ("Gauss_Jordan_Elimination.index_mat_multrow",
     "[| ?i < dim_row ?A; ?j < dim_col ?A |]
      ==> mat_multrow_gen ?mul ?k ?a ?A $$ (?i, ?j) =
          (if ?k = ?i then ?mul ?a (?A $$ (?i, ?j)) else ?A $$ (?i, ?j))",
     template_implication
      ([template_inequation
         (less_than, template_var 5,
          template_app (template_hole 7, template_var 4)),
        template_inequation
         (less_than, template_var 3,
          template_app (template_hole 6, template_var 4))],
       template_implication
        ([template_predicate
           (
              template_app
               (template_app
                 (template_hole 4,
                  template_app
                   (template_app
                     (template_app
                       (template_app (template_hole 3, template_var 2),
                        template_var 1),
                      template_var 0),
                    template_var 4)),
                template_app
                 (template_app (template_hole 2, template_var 5),
                  template_var 3))
              )],
         template_predicate
          (
             template_app
              (template_app
                (template_app
                  (template_hole 1,
                   template_app
                    (template_app (template_hole 0, template_var 1),
                     template_var 5)),
                 template_app
                  (template_app (template_var 2, template_var 0),
                   template_app
                    (template_app (template_hole 4, template_var 4),
                     template_app
                      (template_app (template_hole 2, template_var 5),
                       template_var 3)))),
               template_app
                (template_app (template_hole 4, template_var 4),
                 template_app
                  (template_app (template_hole 2, template_var 5),
                   template_var 3)))
             )))),
    ("Gauss_Jordan_Elimination.pivot_positions",
     "[| ?A : carrier_mat ?nr ?nc; pivot_fun ?A ?f ?nc |]
      ==> set (pivot_positions ?A) = {(i, ?f i) |i. i < ?nr & ?f i ~= ?nc}",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 14, template_var 3),
              template_app
               (template_app (template_hole 13, template_var 2),
                template_var 1))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 12, template_var 3),
                template_var 0),
              template_var 1)
            )],
       template_equation
        (template_app
          (template_hole 10,
           template_app
            (template_app (template_hole 9, template_hole 8),
             template_var 3)),
         template_app (template_hole 7, t_empty)))),
    ("Gauss_Jordan_Elimination.non_pivot_base",
     "[| row_echelon_form ?A; ?A : carrier_mat ?nr ?nc; ?qj < ?nc;
         ?qj ~: snd ` set (pivot_positions ?A) |]
      ==> non_pivot_base ?A (pivot_positions ?A) ?qj : carrier_vec ?nc",
     template_implication
      ([template_predicate
         (template_app (template_hole 15, template_var 3)),
        template_predicate
         (
            template_app
             (template_app (template_hole 14, template_var 3),
              template_app
               (template_app (template_hole 13, template_var 2),
                template_var 1))
            ),
        template_inequation (less_than, template_var 0, template_var 1),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 10, template_var 0),
                  template_app
                   (template_app (template_hole 9, template_hole 8),
                    template_app
                     (template_hole 7,
                      template_app
                       (template_app (template_hole 6, template_hole 5),
                        template_var 3))))
                )
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 4,
               template_app
                (template_app
                  (template_app
                    (template_app
                      (template_app
                        (template_app (template_hole 3, template_hole 2),
                         template_hole 5),
                       template_hole 1),
                     template_var 3),
                   template_app
                    (template_app (template_hole 6, template_hole 5),
                     template_var 3)),
                 template_var 0)),
             template_app (template_hole 0, template_var 1))
           ))),
    ("Gauss_Jordan_Elimination.non_pivot_base",
     "[| row_echelon_form ?A; ?A : carrier_mat ?nr ?nc; ?qj < ?nc;
         ?qj ~: snd ` set (pivot_positions ?A) |]
      ==> non_pivot_base ?A (pivot_positions ?A) ?qj $ ?qj = (1::?'a)",
     template_implication
      ([template_predicate
         (template_app (template_hole 15, template_var 3)),
        template_predicate
         (
            template_app
             (template_app (template_hole 14, template_var 3),
              template_app
               (template_app (template_hole 13, template_var 2),
                template_var 1))
            ),
        template_inequation (less_than, template_var 0, template_var 1),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 10, template_var 0),
                  template_app
                   (template_app (template_hole 9, template_hole 8),
                    template_app
                     (template_hole 7,
                      template_app
                       (template_app (template_hole 6, template_hole 5),
                        template_var 3))))
                )
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app
                (template_app
                  (template_app
                    (template_app
                      (template_app (template_hole 2, template_hole 1),
                       template_hole 5),
                     template_hole 0),
                   template_var 3),
                 template_app
                  (template_app (template_hole 6, template_hole 5),
                   template_var 3)),
               template_var 0)),
           template_var 0),
         template_hole 0))),
    ("Gauss_Jordan_Elimination.gauss_jordan_transform",
     "[| ?A : carrier_mat ?nr ?nc; ?B : carrier_mat ?nr ?nc';
         gauss_jordan ?A ?B = (?A', ?B') |]
      ==> EX P:Units (ring_mat TYPE(?'a) ?nr ?b).
             ?A' = P * ?A & ?B' = P * ?B",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 11, template_var 7),
              template_app
               (template_app (template_hole 10, template_var 6),
                template_var 5))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 11, template_var 4),
              template_app
               (template_app (template_hole 10, template_var 6),
                template_var 3))
            ),
        template_equation
         (template_app
           (template_app (template_hole 8, template_var 7), template_var 4),
          template_app
           (template_app (template_hole 7, template_var 2),
            template_var 1))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 6,
               template_app
                (template_hole 5,
                 template_app
                  (template_app
                    (template_app (template_hole 4, template_hole 3),
                     template_var 6),
                   template_var 0))),
             t_empty)
           ))),
    ("Gauss_Jordan_Elimination.non_pivot_base",
     "[| row_echelon_form ?A; ?A : carrier_mat ?nr ?nc; ?qj < ?nc;
         ?qj ~: snd ` set (pivot_positions ?A) |]
      ==> ?A *\<^sub>v non_pivot_base ?A (pivot_positions ?A) ?qj =
          0\<^sub>v ?nr",
     template_implication
      ([template_predicate
         (template_app (template_hole 16, template_var 3)),
        template_predicate
         (
            template_app
             (template_app (template_hole 15, template_var 3),
              template_app
               (template_app (template_hole 14, template_var 2),
                template_var 1))
            ),
        template_inequation (less_than, template_var 0, template_var 1),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 11, template_var 0),
                  template_app
                   (template_app (template_hole 10, template_hole 9),
                    template_app
                     (template_hole 8,
                      template_app
                       (template_app (template_hole 7, template_hole 6),
                        template_var 3))))
                )
            )],
       template_equation
        (template_app
          (template_app (template_hole 4, template_var 3),
           template_app
            (template_app
              (template_app
                (template_app
                  (template_app
                    (template_app (template_hole 3, template_hole 2),
                     template_hole 6),
                   template_hole 1),
                 template_var 3),
               template_app
                (template_app (template_hole 7, template_hole 6),
                 template_var 3)),
             template_var 0)),
         template_app (template_hole 0, template_var 2)))),
    ("Gauss_Jordan_Elimination.gauss_jordan",
     "[| ?A : carrier_mat ?nr ?nc; ?B : carrier_mat ?nr ?nc2.0;
         gauss_jordan ?A ?B = (?C, ?D); ?X : carrier_mat ?nc ?nc2.0 |]
      ==> (?A * ?X = ?B) = (?C * ?X = ?D)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 7),
              template_app
               (template_app (template_hole 6, template_var 6),
                template_var 5))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 4),
              template_app
               (template_app (template_hole 6, template_var 6),
                template_var 3))
            ),
        template_equation
         (template_app
           (template_app (template_hole 4, template_var 7), template_var 4),
          template_app
           (template_app (template_hole 3, template_var 2),
            template_var 1)),
        template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 0),
              template_app
               (template_app (template_hole 6, template_var 5),
                template_var 3))
            )],
       template_bimplication
        (template_equation
          (template_app
            (template_app (template_hole 0, template_var 7),
             template_var 0),
           template_var 4),
         template_equation
          (template_app
            (template_app (template_hole 0, template_var 2),
             template_var 0),
           template_var 1)))),
    ("Gauss_Jordan_Elimination.gauss_jordan",
     "[| ?A : carrier_mat ?nr ?nc; ?B : carrier_mat ?nr ?nc2.0;
         gauss_jordan ?A ?B = (?C, ?D); ?x : carrier_vec ?nc |]
      ==> (?A *\<^sub>v ?x = 0\<^sub>v ?nr) =
          (?C *\<^sub>v ?x = 0\<^sub>v ?nr)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 10, template_var 7),
              template_app
               (template_app (template_hole 9, template_var 6),
                template_var 5))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 10, template_var 4),
              template_app
               (template_app (template_hole 9, template_var 6),
                template_var 3))
            ),
        template_equation
         (template_app
           (template_app (template_hole 7, template_var 7), template_var 4),
          template_app
           (template_app (template_hole 6, template_var 2),
            template_var 1)),
        template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 0),
              template_app (template_hole 4, template_var 5))
            )],
       template_bimplication
        (template_equation
          (template_app
            (template_app (template_hole 1, template_var 7),
             template_var 0),
           template_app (template_hole 0, template_var 6)),
         template_equation
          (template_app
            (template_app (template_hole 1, template_var 2),
             template_var 0),
           template_app (template_hole 0, template_var 6))))),
    ("Gauss_Jordan_Elimination.pivot_funD",
     "[| dim_row ?A = ?nr; pivot_fun ?A ?f ?nc; ?i < ?nr; ?f ?i < ?nc;
         ?i' < ?nr; ?i' ~= ?i |]
      ==> ?A $$ (?i', ?f ?i) = (0::?'a)",
     template_implication
      ([template_equation
         (template_app (template_hole 7, template_var 5), template_var 4),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 6, template_var 5),
                template_var 3),
              template_var 2)
            ),
        template_inequation (less_than, template_var 1, template_var 4),
        template_inequation
         (less_than, template_app (template_var 3, template_var 1),
          template_var 2),
        template_inequation (less_than, template_var 0, template_var 4),
        template_negation
         (template_equation (template_var 0, template_var 1))],
       template_equation
        (template_app
          (template_app (template_hole 2, template_var 5),
           template_app
            (template_app (template_hole 1, template_var 0),
             template_app (template_var 3, template_var 1))),
         template_hole 0))),
    ("Gauss_Jordan_Elimination.gauss_jordan_inverse_one_direction",
     "[| ?A : carrier_mat ?n ?n; ?B : carrier_mat ?n ?nc;
         gauss_jordan ?A ?B = (1\<^sub>m ?n, ?B'); ?B = 1\<^sub>m ?n |]
      ==> ?A * ?B' = 1\<^sub>m ?n & ?B' * ?A = 1\<^sub>m ?n",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 4),
              template_app
               (template_app (template_hole 7, template_var 3),
                template_var 3))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 2),
              template_app
               (template_app (template_hole 7, template_var 3),
                template_var 1))
            ),
        template_equation
         (template_app
           (template_app (template_hole 5, template_var 4), template_var 2),
          template_app
           (template_app
             (template_hole 4,
              template_app (template_hole 3, template_var 3)),
            template_var 0)),
        template_equation
         (template_var 2, template_app (template_hole 3, template_var 3))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app
                  (template_hole 2,
                   template_app
                    (template_app (template_hole 0, template_var 4),
                     template_var 0)),
                 template_app (template_hole 3, template_var 3))),
             template_app
              (template_app
                (template_hole 2,
                 template_app
                  (template_app (template_hole 0, template_var 0),
                   template_var 4)),
               template_app (template_hole 3, template_var 3)))
           ))),
    ("Gauss_Jordan_Elimination.index_mat_swaprows",
     "[| ?i < dim_row ?A; ?j < dim_col ?A |]
      ==> swaprows ?k ?l ?A $$ (?i, ?j) =
          (if ?k = ?i then ?A $$ (?l, ?j)
           else if ?l = ?i then ?A $$ (?k, ?j) else ?A $$ (?i, ?j))",
     template_implication
      ([template_inequation
         (less_than, template_var 4,
          template_app (template_hole 7, template_var 3)),
        template_inequation
         (less_than, template_var 2,
          template_app (template_hole 6, template_var 3))],
       template_implication
        ([template_predicate
           (
              template_app
               (template_app
                 (template_hole 4,
                  template_app
                   (template_app
                     (template_app (template_hole 3, template_var 1),
                      template_var 0),
                    template_var 3)),
                template_app
                 (template_app (template_hole 2, template_var 4),
                  template_var 2))
              )],
         template_predicate
          (
             template_app
              (template_app
                (template_app
                  (template_hole 1,
                   template_app
                    (template_app (template_hole 0, template_var 1),
                     template_var 4)),
                 template_app
                  (template_app (template_hole 4, template_var 3),
                   template_app
                    (template_app (template_hole 2, template_var 0),
                     template_var 2))),
               template_app
                (template_app
                  (template_app
                    (template_hole 1,
                     template_app
                      (template_app (template_hole 0, template_var 0),
                       template_var 4)),
                   template_app
                    (template_app (template_hole 4, template_var 3),
                     template_app
                      (template_app (template_hole 2, template_var 1),
                       template_var 2))),
                 template_app
                  (template_app (template_hole 4, template_var 3),
                   template_app
                    (template_app (template_hole 2, template_var 4),
                     template_var 2))))
             )))),
    ("Gauss_Jordan_Elimination.pivot_fun_eliminate_entries",
     "[| pivot_fun ?A ?f ?jj; dim_row ?A = ?nr; dim_col ?A = ?nc;
         ?f ?l = ?jj; ?l < ?nr; ?jj <= ?nc |]
      ==> pivot_fun (eliminate_entries ?vs ?A ?l ?j) ?f ?jj",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 8, template_var 7),
                template_var 6),
              template_var 5)
            ),
        template_equation
         (template_app (template_hole 6, template_var 7), template_var 4),
        template_equation
         (template_app (template_hole 5, template_var 7), template_var 3),
        template_equation
         (template_app (template_var 6, template_var 2), template_var 5),
        template_inequation (less_than, template_var 2, template_var 4),
        template_inequation (less_equals, template_var 5, template_var 3)],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 8,
                 template_app
                  (template_app
                    (template_app
                      (template_app
                        (template_app
                          (template_app (template_hole 2, template_hole 1),
                           template_hole 0),
                         template_var 1),
                       template_var 7),
                     template_var 2),
                   template_var 0)),
               template_var 6),
             template_var 5)
           ))),
    ("Gauss_Jordan_Elimination.index_mat_addrow",
     "[| ?i < dim_row ?A; ?j < dim_col ?A |]
      ==> mat_addrow_gen ?ad ?mul ?a ?k ?l ?A $$ (?i, ?j) =
          (if ?k = ?i then ?ad (?mul ?a (?A $$ (?l, ?j))) (?A $$ (?i, ?j))
           else ?A $$ (?i, ?j))",
     template_implication
      ([template_inequation
         (less_than, template_var 7,
          template_app (template_hole 7, template_var 6)),
        template_inequation
         (less_than, template_var 5,
          template_app (template_hole 6, template_var 6))],
       template_implication
        ([template_predicate
           (
              template_app
               (template_app
                 (template_hole 4,
                  template_app
                   (template_app
                     (template_app
                       (template_app
                         (template_app
                           (template_app (template_hole 3, template_var 4),
                            template_var 3),
                          template_var 2),
                        template_var 1),
                      template_var 0),
                    template_var 6)),
                template_app
                 (template_app (template_hole 2, template_var 7),
                  template_var 5))
              )],
         template_predicate
          (
             template_app
              (template_app
                (template_app
                  (template_hole 1,
                   template_app
                    (template_app (template_hole 0, template_var 1),
                     template_var 7)),
                 template_app
                  (template_app
                    (template_var 4,
                     template_app
                      (template_app (template_var 3, template_var 2),
                       template_app
                        (template_app (template_hole 4, template_var 6),
                         template_app
                          (template_app (template_hole 2, template_var 0),
                           template_var 5)))),
                   template_app
                    (template_app (template_hole 4, template_var 6),
                     template_app
                      (template_app (template_hole 2, template_var 7),
                       template_var 5)))),
               template_app
                (template_app (template_hole 4, template_var 6),
                 template_app
                  (template_app (template_hole 2, template_var 7),
                   template_var 5)))
             )))),
    ("Gauss_Jordan_Elimination.gauss_jordan_single",
     "[| ?A : carrier_mat ?nr ?nc; gauss_jordan_single ?A = ?C |]
      ==> EX P Q.
             ?C = P * ?A &
             P : carrier_mat ?nr ?nr &
             Q : carrier_mat ?nr ?nr &
             P * Q = 1\<^sub>m ?nr & Q * P = 1\<^sub>m ?nr",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 3),
              template_app
               (template_app (template_hole 6, template_var 2),
                template_var 1))
            ),
        template_equation
         (template_app (template_hole 4, template_var 3), template_var 0)],
       template_predicate (template_app (template_hole 3, t_empty)))),
    ("Gauss_Jordan_Elimination.index_mat_swaprows_mat",
     "[| ?i < ?n; ?j < ?n |]
      ==> swaprows_mat ?n ?k ?l $$ (?i, ?j) =
          (if ?k = ?i & ?l = ?j |
              ?k = ?j & ?l = ?i | ?i = ?j & ?i ~= ?k & ?i ~= ?l
           then 1::?'a else (0::?'a))",
     template_implication
      ([template_inequation (less_than, template_var 4, template_var 3),
        template_inequation (less_than, template_var 2, template_var 3)],
       template_implication
        ([template_predicate
           (
              template_app
               (template_app
                 (template_hole 9,
                  template_app
                   (template_app
                     (template_app (template_hole 8, template_var 3),
                      template_var 1),
                    template_var 0)),
                template_app
                 (template_app (template_hole 7, template_var 4),
                  template_var 2))
              )],
         template_predicate
          (
             template_app
              (template_app
                (template_app
                  (template_hole 6,
                   template_app
                    (template_app
                      (template_hole 5,
                       template_app
                        (template_app
                          (template_hole 4,
                           template_app
                            (template_app (template_hole 3, template_var 1),
                             template_var 4)),
                         template_app
                          (template_app (template_hole 3, template_var 0),
                           template_var 2))),
                     template_app
                      (template_app
                        (template_hole 5,
                         template_app
                          (template_app
                            (template_hole 4,
                             template_app
                              (template_app
                                (template_hole 3, template_var 1),
                               template_var 2)),
                           template_app
                            (template_app (template_hole 3, template_var 0),
                             template_var 4))),
                       template_app
                        (template_app
                          (template_hole 4,
                           template_app
                            (template_app (template_hole 3, template_var 4),
                             template_var 2)),
                         template_app
                          (template_app
                            (template_hole 4,
                             template_app
                              (template_hole 2,
                               template_app
                                (template_app
                                  (template_hole 3, template_var 4),
                                 template_var 1))),
                           template_app
                            (template_hole 2,
                             template_app
                              (template_app
                                (template_hole 3, template_var 4),
                               template_var 0))))))),
                 template_hole 1),
               template_hole 0)
             )))),
    ("Gauss_Jordan_Elimination.Unit_prod_eliminate_entries",
     "[| ?i < ?nr; !!a i'. (a, i') : set ?is ==> i' < ?nr & i' ~= ?i |]
      ==> EX P:Units (ring_mat TYPE(?'a) ?nr ?b).
             ALL B nc.
                B : carrier_mat ?nr nc -->
                eliminate_entries_rec B ?i ?is = P * B",
     template_implication
      ([template_inequation (less_than, template_var 3, template_var 2),
        template_predicate (template_app (template_hole 19, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 11,
               template_app
                (template_hole 10,
                 template_app
                  (template_app
                    (template_app (template_hole 9, template_hole 8),
                     template_var 2),
                   template_var 0))),
             t_empty)
           ))),
    ("Gauss_Jordan_Elimination.pivot_fun_swaprows",
     "[| pivot_fun ?A ?f ?jj; dim_row ?A = ?nr; dim_col ?A = ?nc;
         ?f ?l = ?jj; ?f ?k = ?jj; ?l < ?nr; ?k < ?nr; ?jj <= ?nc |]
      ==> pivot_fun (swaprows ?l ?k ?A) ?f ?jj",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 6, template_var 6),
                template_var 5),
              template_var 4)
            ),
        template_equation
         (template_app (template_hole 4, template_var 6), template_var 3),
        template_equation
         (template_app (template_hole 3, template_var 6), template_var 2),
        template_equation
         (template_app (template_var 5, template_var 1), template_var 4),
        template_equation
         (template_app (template_var 5, template_var 0), template_var 4),
        template_inequation (less_than, template_var 1, template_var 3),
        template_inequation (less_than, template_var 0, template_var 3),
        template_inequation (less_equals, template_var 4, template_var 2)],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 6,
                 template_app
                  (template_app
                    (template_app (template_hole 0, template_var 1),
                     template_var 0),
                   template_var 6)),
               template_var 5),
             template_var 4)
           ))),
    ("Gauss_Jordan_Elimination.eliminate_entries_convert",
     "[| ?J < dim_col ?A; ?I < dim_row ?A; dim_row ?B = dim_row ?A |]
      ==> eliminate_entries (%i. ?A $$ (i, ?J)) ?B ?I ?J =
          eliminate_entries_rec ?B ?I
           (map (%i. (- ?A $$ (i, ?J), i))
             (filter (%i. i ~= ?I) [0..<dim_row ?A]))",
     template_implication
      ([template_inequation
         (less_than, template_var 3,
          template_app (template_hole 16, template_var 2)),
        template_inequation
         (less_than, template_var 1,
          template_app (template_hole 15, template_var 2)),
        template_equation
         (template_app (template_hole 15, template_var 0),
          template_app (template_hole 15, template_var 2))],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 12, template_hole 11),
                   template_hole 10),
                 t_empty),
               template_var 0),
             template_var 1),
           template_var 3),
         template_app
          (template_app
            (template_app (template_hole 7, template_var 0),
             template_var 1),
           template_app
            (template_app (template_hole 6, t_empty),
             template_app
              (template_app (template_hole 3, t_empty),
               template_app
                (template_app (template_hole 1, template_hole 0),
                 template_app (template_hole 15, template_var 2)))))))),
    ("Gauss_Jordan_Elimination.non_pivot_base",
     "[| row_echelon_form ?A; ?A : carrier_mat ?nr ?nc; ?qj < ?nc;
         ?qj ~: snd ` set (pivot_positions ?A); ?qj' < ?nc;
         ?qj' ~: snd ` set (pivot_positions ?A); ?qj ~= ?qj' |]
      ==> non_pivot_base ?A (pivot_positions ?A) ?qj $ ?qj' = (0::?'a)",
     template_implication
      ([template_predicate
         (template_app (template_hole 16, template_var 4)),
        template_predicate
         (
            template_app
             (template_app (template_hole 15, template_var 4),
              template_app
               (template_app (template_hole 14, template_var 3),
                template_var 2))
            ),
        template_inequation (less_than, template_var 1, template_var 2),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 11, template_var 1),
                  template_app
                   (template_app (template_hole 10, template_hole 9),
                    template_app
                     (template_hole 8,
                      template_app
                       (template_app (template_hole 7, template_hole 6),
                        template_var 4))))
                )
            ),
        template_inequation (less_than, template_var 0, template_var 2),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 11, template_var 0),
                  template_app
                   (template_app (template_hole 10, template_hole 9),
                    template_app
                     (template_hole 8,
                      template_app
                       (template_app (template_hole 7, template_hole 6),
                        template_var 4))))
                )
            ),
        template_negation
         (template_equation (template_var 1, template_var 0))],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app
                (template_app
                  (template_app
                    (template_app
                      (template_app (template_hole 2, template_hole 1),
                       template_hole 6),
                     template_hole 0),
                   template_var 4),
                 template_app
                  (template_app (template_hole 7, template_hole 6),
                   template_var 4)),
               template_var 1)),
           template_var 0),
         template_hole 6))),
    ("Gauss_Jordan_Elimination.gauss_jordan_main_row_echelon",
     "[| ?A : carrier_mat ?nr ?nc;
         gauss_jordan_main ?A ?B ?i ?j = (?A', ?B'); pivot_fun ?A ?f ?j;
         !!i'. i' < ?i ==> ?f i' < ?j; !!i'. ?i <= i' ==> ?f i' = ?j;
         ?i <= ?nr; ?j <= ?nc |]
      ==> row_echelon_form ?A'",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 10, template_var 8),
              template_app
               (template_app (template_hole 9, template_var 7),
                template_var 6))
            ),
        template_equation
         (template_app
           (template_app
             (template_app
               (template_app (template_hole 7, template_var 8),
                template_var 5),
              template_var 4),
            template_var 3),
          template_app
           (template_app (template_hole 6, template_var 2),
            template_var 1)),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 5, template_var 8),
                template_var 0),
              template_var 3)
            ),
        template_predicate (template_app (template_hole 4, t_empty)),
        template_predicate (template_app (template_hole 4, t_empty)),
        template_inequation (less_equals, template_var 4, template_var 7),
        template_inequation (less_equals, template_var 3, template_var 6)],
       template_predicate
        (template_app (template_hole 0, template_var 2)))),
    ("Gauss_Jordan_Elimination.pivot_positions_main",
     "[| ?A : carrier_mat ?nr ?nc; pivot_fun ?A ?f ?nc;
         ?j <= ?f ?i | ?nr <= ?i |]
      ==> set (pivot_positions_main ?A ?nr ?nc ?i ?j) =
          {(i', ?f i') |i'. ?i <= i' & i' < ?nr} - UNIV \<times> {?nc} &
          distinct (map snd (pivot_positions_main ?A ?nr ?nc ?i ?j)) &
          distinct (map fst (pivot_positions_main ?A ?nr ?nc ?i ?j))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 23, template_var 5),
              template_app
               (template_app (template_hole 22, template_var 4),
                template_var 3))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 21, template_var 5),
                template_var 2),
              template_var 3)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 20,
                template_app
                 (template_app (template_hole 19, template_var 1),
                  template_app (template_var 2, template_var 0))),
              template_app
               (template_app (template_hole 19, template_var 4),
                template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 18,
               template_app
                (template_app
                  (template_hole 17,
                   template_app
                    (template_hole 16,
                     template_app
                      (template_app
                        (template_app
                          (template_app
                            (template_app
                              (template_app
                                (template_hole 15, template_hole 14),
                               template_var 5),
                             template_var 4),
                           template_var 3),
                         template_var 0),
                       template_var 1))),
                 template_app
                  (template_app
                    (template_hole 13,
                     template_app (template_hole 12, t_empty)),
                   template_app
                    (template_app (template_hole 7, template_hole 6),
                     t_empty)))),
             template_app
              (template_app
                (template_hole 18,
                 template_app
                  (template_hole 3,
                   template_app
                    (template_app (template_hole 2, template_hole 1),
                     template_app
                      (template_app
                        (template_app
                          (template_app
                            (template_app
                              (template_app
                                (template_hole 15, template_hole 14),
                               template_var 5),
                             template_var 4),
                           template_var 3),
                         template_var 0),
                       template_var 1)))),
               template_app
                (template_hole 3,
                 template_app
                  (template_app (template_hole 2, template_hole 0),
                   template_app
                    (template_app
                      (template_app
                        (template_app
                          (template_app
                            (template_app
                              (template_hole 15, template_hole 14),
                             template_var 5),
                           template_var 4),
                         template_var 3),
                       template_var 0),
                     template_var 1)))))
           ))),
    ("Gauss_Jordan_Elimination.pivot_funI",
     "[| dim_row ?A = ?nr; !!i. i < ?nr ==> ?f i <= ?nc;
         !!i j. [| i < ?nr; j < ?f i |] ==> ?A $$ (i, j) = (0::?'a);
         !!i. [| i < ?nr; Suc i < ?nr |]
              ==> ?f i < ?f (Suc i) | ?f (Suc i) = ?nc;
         !!i. [| i < ?nr; ?f i < ?nc |] ==> ?A $$ (i, ?f i) = (1::?'a);
         !!i i'.
            [| i < ?nr; ?f i < ?nc; i' < ?nr; i' ~= i |]
            ==> ?A $$ (i', ?f i) = (0::?'a) |]
      ==> pivot_fun ?A ?f ?nc",
     template_implication
      ([template_equation
         (template_app (template_hole 12, template_var 3), template_var 2),
        template_predicate (template_app (template_hole 11, t_empty)),
        template_predicate (template_app (template_hole 11, t_empty)),
        template_predicate (template_app (template_hole 11, t_empty)),
        template_predicate (template_app (template_hole 11, t_empty)),
        template_predicate (template_app (template_hole 11, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 0, template_var 3),
               template_var 1),
             template_var 0)
           )))]
