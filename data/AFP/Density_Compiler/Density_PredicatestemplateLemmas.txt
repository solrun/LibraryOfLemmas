   [("Density_Predicates.has_subprob_densityD",
     "has_subprob_density ?M ?N ?f ==> subprob_space ?M",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 1, template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_predicate
        (template_app (template_hole 0, template_var 2)))),
    ("Density_Predicates.has_subprob_density_imp_subprob_space",
     "is_subprob_density ?M ?f ==> subprob_space (density ?M ?f)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0))
           ))),
    ("Density_Predicates.is_subprob_densityD",
     "is_subprob_density ?M ?f ==> space ?M ~= {}",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 1),
              template_var 0)
            )],
       template_negation
        (
           template_equation
            (template_app (template_hole 1, template_var 1),
             template_hole 0)
           ))),
    ("Density_Predicates.is_subprob_densityD",
     "is_subprob_density ?M ?f ==> ?f : borel_measurable ?M",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 2, template_var 0),
             template_app
              (template_app (template_hole 1, template_var 1),
               template_hole 0))
           ))),
    ("Density_Predicates.has_subprob_density_imp_has_density",
     "has_subprob_density ?M ?N ?f ==> has_density ?M ?N ?f",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 1, template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 0, template_var 2),
               template_var 1),
             template_var 0)
           ))),
    ("Density_Predicates.has_densityD",
     "has_density ?M ?N ?f ==> space ?N ~= {}",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 4, template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_negation
        (
           template_equation
            (template_app (template_hole 1, template_var 1),
             template_hole 0)
           ))),
    ("Density_Predicates.has_density_space",
     "has_density ?M ?N ?f ==> space ?M = space ?N",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_equation
        (template_app (template_hole 0, template_var 2),
         template_app (template_hole 0, template_var 1)))),
    ("Density_Predicates.has_density_sets",
     "has_density ?M ?N ?f ==> sets ?M = sets ?N",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_equation
        (template_app (template_hole 0, template_var 2),
         template_app (template_hole 0, template_var 1)))),
    ("Density_Predicates.has_densityD",
     "has_density ?M ?N ?f ==> ?M = density ?N ?f",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_equation
        (template_var 2,
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Density_Predicates.has_densityD",
     "has_density ?M ?N ?f ==> ?f : borel_measurable ?N",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 3, template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 2, template_var 0),
             template_app
              (template_app (template_hole 1, template_var 1),
               template_hole 0))
           ))),
    ("Density_Predicates.has_subprob_densityD",
     "has_subprob_density ?M ?N ?f ==> ?M = density ?N ?f",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_equation
        (template_var 2,
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Density_Predicates.has_subprob_density_measurable",
     "has_subprob_density ?M ?N ?f ==> ?f : borel_measurable ?N",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 3, template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 2, template_var 0),
             template_app
              (template_app (template_hole 1, template_var 1),
               template_hole 0))
           ))),
    ("Density_Predicates.subprob_space_density_not_empty",
     "subprob_space (density ?M ?f) ==> space ?M ~= {}",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 5,
              template_app
               (template_app (template_hole 4, template_var 1),
                template_var 0))
            )],
       template_negation
        (
           template_equation
            (template_app (template_hole 1, template_var 1),
             template_hole 0)
           ))),
    ("Density_Predicates.is_subprob_densityD",
     "is_subprob_density ?M ?f ==> integral\<^sup>N ?M ?f <= 1",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 1),
              template_var 0)
            )],
       template_inequation
        (less_equals,
         template_app
          (template_app (template_hole 1, template_var 1), t_empty),
         template_hole 0))),
    ("Density_Predicates.null_measure_has_subprob_density",
     "space ?M ~= {} ==> has_subprob_density (null_measure ?M) ?M (%_. 0)",
     template_implication
      ([template_negation
         (
            template_equation
             (template_app (template_hole 4, template_var 0),
              template_hole 3)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 2,
                 template_app (template_hole 1, template_var 0)),
               template_var 0),
             t_empty)
           ))),
    ("Density_Predicates.has_density_imp_is_subprob_density'",
     "[| has_density ?M ?N ?f; prob_space ?M |]
      ==> is_subprob_density ?N ?f",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 2),
                template_var 1),
              template_var 0)
            ),
        template_predicate
         (template_app (template_hole 1, template_var 2))],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 1), template_var 0)
           ))),
    ("Density_Predicates.has_subprob_density_imp_subprob_space'",
     "[| has_density ?M ?N ?f; is_subprob_density ?N ?f |]
      ==> subprob_space ?M",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 2),
                template_var 1),
              template_var 0)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 1),
              template_var 0)
            )],
       template_predicate
        (template_app (template_hole 0, template_var 2)))),
    ("Density_Predicates.has_parametrized_subprob_densityD",
     "has_parametrized_subprob_density ?M ?N ?R ?f ==>
      (%(x, y). ?f x y) : borel_measurable (?M \<Otimes>\<^sub>M ?R)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 5, template_var 3),
                  template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 4,
               template_app (template_hole 3, template_var 0)),
             template_app
              (template_app
                (template_hole 2,
                 template_app
                  (template_app (template_hole 1, template_var 3),
                   template_var 1)),
               template_hole 0))
           ))),
    ("Density_Predicates.is_subprob_densityD",
     "[| is_subprob_density ?M ?f; ?x : space ?M |] ==> 0 <= ?f ?x",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 0),
              template_app (template_hole 2, template_var 2))
            )],
       template_inequation
        (less_equals, template_hole 0,
         template_app (template_var 1, template_var 0)))),
    ("Density_Predicates.has_density_emeasure_space",
     "has_density ?M ?N ?f ==>
      emeasure ?M (space ?M) = integral\<^sup>N ?N ?f",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 4, template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_equation
        (template_app
          (template_app (template_hole 2, template_var 2),
           template_app (template_hole 1, template_var 2)),
         template_app
          (template_app (template_hole 0, template_var 1), t_empty)))),
    ("Density_Predicates.is_subprob_density_imp_has_density",
     "[| is_subprob_density ?N ?f; ?M = density ?N ?f |]
      ==> has_density ?M ?N ?f",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 2),
              template_var 1)
            ),
        template_equation
         (template_var 0,
          template_app
           (template_app (template_hole 1, template_var 2),
            template_var 1))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 0, template_var 0),
               template_var 2),
             template_var 1)
           ))),
    ("Density_Predicates.has_subprob_densityD",
     "[| has_subprob_density ?M ?N ?f; ?x : space ?N |] ==> 0 <= ?f ?x",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 4, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 0),
              template_app (template_hole 2, template_var 2))
            )],
       template_inequation
        (less_equals, template_hole 0,
         template_app (template_var 1, template_var 0)))),
    ("Density_Predicates.has_parametrized_subprob_densityD",
     "[| has_parametrized_subprob_density ?M ?N ?R ?f; ?x : space ?M |]
      ==> subprob_space (?N ?x)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 3, template_var 4),
                  template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 0),
              template_app (template_hole 1, template_var 4))
            )],
       template_predicate
        (
           template_app
            (template_hole 0, template_app (template_var 3, template_var 0))
           ))),
    ("Density_Predicates.subprob_count_space_density_le_1",
     "[| has_subprob_density ?M (count_space ?A) ?f; ?x : ?A |]
      ==> ?f ?x <= 1",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 4, template_var 3),
                template_app (template_hole 3, template_var 2)),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 0),
              template_var 2)
            )],
       template_inequation
        (less_equals, template_app (template_var 1, template_var 0),
         template_hole 0))),
    ("Density_Predicates.has_density_imp_is_subprob_density",
     "[| has_density ?M ?N ?f; integral\<^sup>N ?N ?f = 1 |]
      ==> is_subprob_density ?N ?f",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 4, template_var 2),
                template_var 1),
              template_var 0)
            ),
        template_equation
         (template_app
           (template_app (template_hole 2, template_var 1), t_empty),
          template_hole 1)],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 1), template_var 0)
           ))),
    ("Density_Predicates.has_density_emeasure_space'",
     "has_density ?M ?N ?f ==>
      emeasure (density ?N ?f) (space (density ?N ?f)) =
      integral\<^sup>N ?N ?f",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 5, template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app (template_hole 2, template_var 1),
               template_var 0)),
           template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 2, template_var 1),
               template_var 0))),
         template_app
          (template_app (template_hole 0, template_var 1), t_empty)))),
    ("Density_Predicates.emeasure_count_space_density_singleton",
     "[| ?x : ?A; has_density ?M (count_space ?A) ?f |]
      ==> emeasure ?M {?x} = ?f ?x",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 3),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 5, template_var 1),
                template_app (template_hole 4, template_var 2)),
              template_var 0)
            )],
       template_equation
        (template_app
          (template_app (template_hole 2, template_var 1),
           template_app
            (template_app (template_hole 1, template_var 3),
             template_hole 0)),
         template_app (template_var 0, template_var 3)))),
    ("Density_Predicates.has_parametrized_subprob_densityD",
     "[| has_parametrized_subprob_density ?M ?N ?R ?f; ?x : space ?M |]
      ==> ?N ?x = density ?R (?f ?x)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 4, template_var 4),
                  template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 0),
              template_app (template_hole 2, template_var 4))
            )],
       template_equation
        (template_app (template_var 3, template_var 0),
         template_app
          (template_app (template_hole 0, template_var 2),
           template_app (template_var 1, template_var 0))))),
    ("Density_Predicates.has_parametrized_subprob_density_integral",
     "[| has_parametrized_subprob_density ?M ?N ?R ?f; ?x : space ?M |]
      ==> integral\<^sup>N ?R (?f ?x) <= 1",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 5, template_var 4),
                  template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 0),
              template_app (template_hole 3, template_var 4))
            )],
       template_inequation
        (less_equals,
         template_app
          (template_app (template_hole 1, template_var 2), t_empty),
         template_hole 0))),
    ("Density_Predicates.has_subprob_densityI",
     "[| ?f : borel_measurable ?N; ?M = density ?N ?f; subprob_space ?M |]
      ==> has_subprob_density ?M ?N ?f",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 2),
              template_app
               (template_app (template_hole 5, template_var 1),
                template_hole 4))
            ),
        template_equation
         (template_var 0,
          template_app
           (template_app (template_hole 2, template_var 1),
            template_var 2)),
        template_predicate
         (template_app (template_hole 1, template_var 0))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 0, template_var 0),
               template_var 1),
             template_var 2)
           ))),
    ("Density_Predicates.has_density_cong",
     "(!!x. x : space ?N ==> ?f x = ?g x) ==>
      has_density ?M ?N ?f = has_density ?M ?N ?g",
     template_implication
      ([template_predicate (template_app (template_hole 6, t_empty))],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 0, template_var 0),
             template_var 3),
           template_var 2),
         template_app
          (template_app
            (template_app (template_hole 0, template_var 0),
             template_var 3),
           template_var 1)))),
    ("Density_Predicates.has_subprob_density_cong",
     "(!!x. x : space ?N ==> ?f x = ?g x) ==>
      has_subprob_density ?M ?N ?f = has_subprob_density ?M ?N ?g",
     template_implication
      ([template_predicate (template_app (template_hole 6, t_empty))],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 0, template_var 0),
             template_var 3),
           template_var 2),
         template_app
          (template_app
            (template_app (template_hole 0, template_var 0),
             template_var 3),
           template_var 1)))),
    ("Density_Predicates.has_density_emeasure",
     "[| has_density ?M ?N ?f; ?X : sets ?M |]
      ==> emeasure ?M ?X = set_nn_integral ?N ?X ?f",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 7, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 0),
              template_app (template_hole 5, template_var 3))
            )],
       template_equation
        (template_app
          (template_app (template_hole 3, template_var 3), template_var 0),
         template_app
          (template_app (template_hole 2, template_var 2), t_empty)))),
    ("Density_Predicates.has_density_equal_on_space",
     "[| has_density ?M ?N ?f; !!x. x : space ?N ==> ?f x = ?g x |]
      ==> has_density ?M ?N ?g",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 4, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate (template_app (template_hole 3, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 4, template_var 3),
               template_var 2),
             template_var 0)
           ))),
    ("Density_Predicates.has_subprob_density_equal_on_space",
     "[| has_subprob_density ?M ?N ?f; !!x. x : space ?N ==> ?f x = ?g x |]
      ==> has_subprob_density ?M ?N ?g",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 4, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate (template_app (template_hole 3, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 4, template_var 3),
               template_var 2),
             template_var 0)
           ))),
    ("Density_Predicates.has_densityI",
     "[| ?f : borel_measurable ?N; ?M = density ?N ?f; space ?N ~= {} |]
      ==> has_density ?M ?N ?f",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 9, template_var 2),
              template_app
               (template_app (template_hole 8, template_var 1),
                template_hole 7))
            ),
        template_equation
         (template_var 0,
          template_app
           (template_app (template_hole 5, template_var 1),
            template_var 2)),
        template_negation
         (
            template_equation
             (template_app (template_hole 2, template_var 1),
              template_hole 1)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 0, template_var 0),
               template_var 1),
             template_var 2)
           ))),
    ("Density_Predicates.nn_integral_cong'",
     "(!!x. x : space ?N =simp=> ?f x = ?g x) ==>
      integral\<^sup>N ?N ?f = integral\<^sup>N ?N ?g",
     template_implication
      ([template_predicate (template_app (template_hole 6, t_empty))],
       template_equation
        (template_app
          (template_app (template_hole 0, template_var 2), t_empty),
         template_app
          (template_app (template_hole 0, template_var 2), t_empty)))),
    ("Density_Predicates.has_parametrized_subprob_density_cong",
     "(!!x. x : space ?M ==> ?N x = ?N' x) ==>
      has_parametrized_subprob_density ?M ?N ?R ?f =
      has_parametrized_subprob_density ?M ?N' ?R ?f",
     template_implication
      ([template_predicate (template_app (template_hole 6, t_empty))],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app (template_hole 0, template_var 4),
               template_var 3),
             template_var 1),
           template_var 0),
         template_app
          (template_app
            (template_app
              (template_app (template_hole 0, template_var 4),
               template_var 2),
             template_var 1),
           template_var 0)))),
    ("Density_Predicates.emeasure_has_parametrized_subprob_density",
     "[| has_parametrized_subprob_density ?M ?N ?R ?f; ?x : space ?M;
         ?X : sets ?R |]
      ==> emeasure (?N ?x) ?X = set_nn_integral ?R ?X (?f ?x)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 9, template_var 5),
                  template_var 4),
                template_var 3),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 1),
              template_app (template_hole 7, template_var 5))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 0),
              template_app (template_hole 5, template_var 3))
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app (template_var 4, template_var 1)),
           template_var 0),
         template_app
          (template_app (template_hole 2, template_var 3), t_empty)))),
    ("Density_Predicates.has_subprob_densityI'",
     "[| ?f : borel_measurable ?N; space ?N ~= {}; ?M = density ?N ?f;
         integral\<^sup>N ?N ?f <= 1 |]
      ==> has_subprob_density ?M ?N ?f",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 12, template_var 2),
              template_app
               (template_app (template_hole 11, template_var 1),
                template_hole 10))
            ),
        template_negation
         (
            template_equation
             (template_app (template_hole 7, template_var 1),
              template_hole 6)
            ),
        template_equation
         (template_var 0,
          template_app
           (template_app (template_hole 4, template_var 1),
            template_var 2)),
        template_inequation
         (less_equals,
          template_app
           (template_app (template_hole 2, template_var 1), t_empty),
          template_hole 1)],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 0, template_var 0),
               template_var 1),
             template_var 2)
           ))),
    ("Density_Predicates.has_density_embed_measure",
     "[| inj ?f; !!x. x : space ?N ==> ?f' (?f x) = x |]
      ==> has_density (embed_measure ?M ?f) (embed_measure ?N ?f)
           (?\<delta> o ?f') =
          has_density ?M ?N ?\<delta>",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 10, template_var 4),
              template_hole 9)
            ),
        template_predicate (template_app (template_hole 8, t_empty))],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_hole 3,
               template_app
                (template_app (template_hole 2, template_var 1),
                 template_var 4)),
             template_app
              (template_app (template_hole 2, template_var 3),
               template_var 4)),
           template_app
            (template_app (template_hole 1, template_var 0),
             template_var 2)),
         template_app
          (template_app
            (template_app (template_hole 0, template_var 1),
             template_var 3),
           template_var 0)))),
    ("Density_Predicates.has_density_embed_measure''",
     "[| inj ?f; !!x. x : space ?N ==> ?f' (?f x) = x;
         has_density ?M (embed_measure ?N ?f) ?\<delta> |]
      ==> has_density (distr ?M ?N ?f') ?N (?\<delta> o ?f)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 10, template_var 4),
              template_hole 9)
            ),
        template_predicate (template_app (template_hole 8, t_empty)),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 4, template_var 1),
                template_app
                 (template_app (template_hole 3, template_var 3),
                  template_var 4)),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 2,
                 template_app
                  (template_app
                    (template_app (template_hole 1, template_var 1),
                     template_var 3),
                   template_var 2)),
               template_var 3),
             template_app
              (template_app (template_hole 0, template_var 0),
               template_var 4))
           ))),
    ("Density_Predicates.has_subprob_density_embed_measure''",
     "[| inj ?f; !!x. x : space ?N ==> ?f' (?f x) = x;
         has_subprob_density ?M (embed_measure ?N ?f) ?\<delta> |]
      ==> has_subprob_density (distr ?M ?N ?f') ?N (?\<delta> o ?f)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 10, template_var 4),
              template_hole 9)
            ),
        template_predicate (template_app (template_hole 8, t_empty)),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 4, template_var 1),
                template_app
                 (template_app (template_hole 3, template_var 3),
                  template_var 4)),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 2,
                 template_app
                  (template_app
                    (template_app (template_hole 1, template_var 1),
                     template_var 3),
                   template_var 2)),
               template_var 3),
             template_app
              (template_app (template_hole 0, template_var 0),
               template_var 4))
           ))),
    ("Density_Predicates.is_subprob_densityI",
     "[| ?f : borel_measurable ?M; !!x. x : space ?M ==> 0 <= ?f x;
         space ?M ~= {}; integral\<^sup>N ?M ?f <= 1 |]
      ==> is_subprob_density ?M ?f",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 13, template_var 1),
              template_app
               (template_app (template_hole 12, template_var 0),
                template_hole 11))
            ),
        template_predicate (template_app (template_hole 10, t_empty)),
        template_negation
         (
            template_equation
             (template_app (template_hole 8, template_var 0),
              template_hole 3)
            ),
        template_inequation
         (less_equals,
          template_app
           (template_app (template_hole 2, template_var 0), t_empty),
          template_hole 1)],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 0), template_var 1)
           ))),
    ("Density_Predicates.has_density_dens_AE",
     "[| AE y in ?N. ?f y = ?f' y; ?f' : borel_measurable ?N;
         !!x. x : space ?M ==> 0 <= ?f' x; has_density ?M ?N ?f |]
      ==> has_density ?M ?N ?f'",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 11, t_empty),
              template_app (template_hole 9, template_var 1))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 2),
              template_app
               (template_app (template_hole 7, template_var 1),
                template_hole 6))
            ),
        template_predicate (template_app (template_hole 5, t_empty)),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 0, template_var 0),
                template_var 1),
              template_var 3)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 0, template_var 0),
               template_var 1),
             template_var 2)
           ))),
    ("Density_Predicates.has_subprob_density_dens_AE",
     "[| AE y in ?N. ?f y = ?f' y; ?f' : borel_measurable ?N;
         !!x. x : space ?M ==> 0 <= ?f' x; has_subprob_density ?M ?N ?f |]
      ==> has_subprob_density ?M ?N ?f'",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 11, t_empty),
              template_app (template_hole 9, template_var 1))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 2),
              template_app
               (template_app (template_hole 7, template_var 1),
                template_hole 6))
            ),
        template_predicate (template_app (template_hole 5, t_empty)),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 0, template_var 0),
                template_var 1),
              template_var 3)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 0, template_var 0),
               template_var 1),
             template_var 2)
           ))),
    ("Density_Predicates.has_parametrized_subprob_density_dens_AE",
     "[| !!x. x : space ?M ==> AE y in ?R. ?f x y = ?f' x y;
         (%(x, y). ?f' x y) : borel_measurable (?M \<Otimes>\<^sub>M ?R);
         has_parametrized_subprob_density ?M ?N ?R ?f |]
      ==> has_parametrized_subprob_density ?M ?N ?R ?f'",
     template_implication
      ([template_predicate (template_app (template_hole 12, t_empty)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 5,
                template_app (template_hole 4, template_var 2)),
              template_app
               (template_app
                 (template_hole 3,
                  template_app
                   (template_app (template_hole 2, template_var 4),
                    template_var 1)),
                template_hole 1))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 0, template_var 4),
                  template_var 0),
                template_var 1),
              template_var 3)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app (template_hole 0, template_var 4),
                 template_var 0),
               template_var 1),
             template_var 2)
           ))),
    ("Density_Predicates.has_density_embed_measure'",
     "[| inj ?f; !!x. x : space ?N ==> ?f' (?f x) = x;
         sets ?M = sets (embed_measure ?N ?f) |]
      ==> has_density (distr ?M ?N ?f') ?N (?\<delta> o ?f) =
          has_density ?M (embed_measure ?N ?f) ?\<delta>",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 13, template_var 4),
              template_hole 12)
            ),
        template_predicate (template_app (template_hole 11, t_empty)),
        template_equation
         (template_app (template_hole 6, template_var 1),
          template_app
           (template_hole 6,
            template_app
             (template_app (template_hole 5, template_var 3),
              template_var 4)))],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_hole 3,
               template_app
                (template_app
                  (template_app (template_hole 2, template_var 1),
                   template_var 3),
                 template_var 2)),
             template_var 3),
           template_app
            (template_app (template_hole 1, template_var 0),
             template_var 4)),
         template_app
          (template_app
            (template_app (template_hole 0, template_var 1),
             template_app
              (template_app (template_hole 5, template_var 3),
               template_var 4)),
           template_var 0)))),
    ("Density_Predicates.has_parametrized_subprob_densityI",
     "[| !!x. x : space ?M ==> ?N x = density ?R (?f x);
         !!x. x : space ?M ==> subprob_space (?N x);
         (%(x, y). ?f x y) : borel_measurable (?M \<Otimes>\<^sub>M ?R) |]
      ==> has_parametrized_subprob_density ?M ?N ?R ?f",
     template_implication
      ([template_predicate (template_app (template_hole 12, t_empty)),
        template_predicate (template_app (template_hole 12, t_empty)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 5,
                template_app (template_hole 4, template_var 0)),
              template_app
               (template_app
                 (template_hole 3,
                  template_app
                   (template_app (template_hole 2, template_var 3),
                    template_var 1)),
                template_hole 1))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app (template_hole 0, template_var 3),
                 template_var 2),
               template_var 1),
             template_var 0)
           ))),
    ("Density_Predicates.emeasure_bind_density",
     "[| space ?M ~= {}; !!x. x : space ?M ==> has_density (?f x) ?N (?g x);
         ?f : ?M \<rightarrow>\<^sub>M subprob_algebra ?N; ?X : sets ?N |]
      ==> emeasure (?M >>= ?f) ?X =
          \<integral>\<^sup>+ x. set_nn_integral ?N ?X (?g x) \<partial>?M",
     template_implication
      ([template_negation
         (
            template_equation
             (template_app (template_hole 16, template_var 4),
              template_hole 15)
            ),
        template_predicate (template_app (template_hole 14, t_empty)),
        template_predicate
         (
            template_app
             (template_app (template_hole 11, template_var 3),
              template_app
               (template_app (template_hole 10, template_var 4),
                template_app (template_hole 9, template_var 2)))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 0),
              template_app (template_hole 7, template_var 2))
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 5,
             template_app
              (template_app (template_hole 4, template_var 4),
               template_var 3)),
           template_var 0),
         template_app
          (template_app (template_hole 3, template_var 4), t_empty)))),
    ("Density_Predicates.bind_has_subprob_density",
     "[| subprob_space ?M; sigma_finite_measure ?N; space ?M ~= {};
         !!x. x : space ?M ==> has_density (?f x) ?N (?g x);
         (%(x, y). ?g x y) : borel_measurable (?M \<Otimes>\<^sub>M ?N);
         ?f : ?M \<rightarrow>\<^sub>M subprob_algebra ?N |]
      ==> has_subprob_density (?M >>= ?f) ?N
           (%y. \<integral>\<^sup>+ x. ?g x y \<partial>?M)",
     template_implication
      ([template_predicate
         (template_app (template_hole 19, template_var 3)),
        template_predicate
         (template_app (template_hole 18, template_var 2)),
        template_negation
         (
            template_equation
             (template_app (template_hole 15, template_var 3),
              template_hole 14)
            ),
        template_predicate (template_app (template_hole 13, t_empty)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 10,
                template_app (template_hole 9, template_var 0)),
              template_app
               (template_app
                 (template_hole 8,
                  template_app
                   (template_app (template_hole 7, template_var 3),
                    template_var 2)),
                template_hole 6))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 1),
              template_app
               (template_app (template_hole 4, template_var 3),
                template_app (template_hole 3, template_var 2)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 2,
                 template_app
                  (template_app (template_hole 1, template_var 3),
                   template_var 1)),
               template_var 2),
             t_empty)
           ))),
    ("Density_Predicates.bind_has_density",
     "[| sigma_finite_measure ?M; sigma_finite_measure ?N; space ?M ~= {};
         !!x. x : space ?M ==> has_density (?f x) ?N (?g x);
         (%(x, y). ?g x y) : borel_measurable (?M \<Otimes>\<^sub>M ?N);
         ?f : ?M \<rightarrow>\<^sub>M subprob_algebra ?N |]
      ==> has_density (?M >>= ?f) ?N
           (%y. \<integral>\<^sup>+ x. ?g x y \<partial>?M)",
     template_implication
      ([template_predicate
         (template_app (template_hole 18, template_var 3)),
        template_predicate
         (template_app (template_hole 17, template_var 2)),
        template_negation
         (
            template_equation
             (template_app (template_hole 14, template_var 3),
              template_hole 13)
            ),
        template_predicate (template_app (template_hole 12, t_empty)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 9,
                template_app (template_hole 8, template_var 0)),
              template_app
               (template_app
                 (template_hole 7,
                  template_app
                   (template_app (template_hole 6, template_var 3),
                    template_var 2)),
                template_hole 5))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 1),
              template_app
               (template_app (template_hole 3, template_var 3),
                template_app (template_hole 2, template_var 2)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 10,
                 template_app
                  (template_app (template_hole 1, template_var 3),
                   template_var 1)),
               template_var 2),
             t_empty)
           ))),
    ("Density_Predicates.bind_density",
     "[| sigma_finite_measure ?M; sigma_finite_measure ?N; space ?M ~= {};
         !!x. x : space ?M ==> has_density (?f x) ?N (?g x);
         (%(x, y). ?g x y) : borel_measurable (?M \<Otimes>\<^sub>M ?N);
         ?f : ?M \<rightarrow>\<^sub>M subprob_algebra ?N |]
      ==> ?M >>= ?f =
          density ?N (%y. \<integral>\<^sup>+ x. ?g x y \<partial>?M)",
     template_implication
      ([template_predicate
         (template_app (template_hole 20, template_var 3)),
        template_predicate
         (template_app (template_hole 19, template_var 2)),
        template_negation
         (
            template_equation
             (template_app (template_hole 16, template_var 3),
              template_hole 15)
            ),
        template_predicate (template_app (template_hole 14, t_empty)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 11,
                template_app (template_hole 10, template_var 0)),
              template_app
               (template_app
                 (template_hole 9,
                  template_app
                   (template_app (template_hole 8, template_var 3),
                    template_var 2)),
                template_hole 7))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 1),
              template_app
               (template_app (template_hole 5, template_var 3),
                template_app (template_hole 4, template_var 2)))
            )],
       template_equation
        (template_app
          (template_app (template_hole 2, template_var 3), template_var 1),
         template_app
          (template_app (template_hole 1, template_var 2), t_empty)))),
    ("Density_Predicates.bind_has_subprob_density'",
     "[| has_subprob_density ?M ?N ?\<delta>M; space ?R ~= {};
         sigma_finite_measure ?R;
         !!x. x : space ?M ==> has_subprob_density (?f x) ?R (?\<delta>f x);
         (%(x, y). ?\<delta>f x y)
         : borel_measurable (?N \<Otimes>\<^sub>M ?R);
         ?f : ?N \<rightarrow>\<^sub>M subprob_algebra ?R |]
      ==> has_subprob_density (?M >>= ?f) ?R
           (%y. \<integral>\<^sup>+ x. ?\<delta>M x * ?\<delta>f x y
                                   \<partial>?N)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 20, template_var 5),
                template_var 4),
              template_var 3)
            ),
        template_negation
         (
            template_equation
             (template_app (template_hole 17, template_var 2),
              template_hole 16)
            ),
        template_predicate
         (template_app (template_hole 15, template_var 2)),
        template_predicate (template_app (template_hole 14, t_empty)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 10,
                template_app (template_hole 9, template_var 0)),
              template_app
               (template_app
                 (template_hole 8,
                  template_app
                   (template_app (template_hole 7, template_var 4),
                    template_var 2)),
                template_hole 6))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 1),
              template_app
               (template_app (template_hole 4, template_var 4),
                template_app (template_hole 3, template_var 2)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 11,
                 template_app
                  (template_app (template_hole 2, template_var 5),
                   template_var 1)),
               template_var 2),
             t_empty)
           ))),
    ("Density_Predicates.bind_has_density'",
     "[| sigma_finite_measure ?M; sigma_finite_measure ?R; space ?M ~= {};
         has_density ?M ?N ?\<delta>M;
         !!x. x : space ?M ==> has_density (?f x) ?R (?\<delta>f x);
         (%(x, y). ?\<delta>f x y)
         : borel_measurable (?N \<Otimes>\<^sub>M ?R);
         ?f : ?N \<rightarrow>\<^sub>M subprob_algebra ?R |]
      ==> has_density (?M >>= ?f) ?R
           (%y. \<integral>\<^sup>+ x. ?\<delta>M x * ?\<delta>f x y
                                   \<partial>?N)",
     template_implication
      ([template_predicate
         (template_app (template_hole 20, template_var 5)),
        template_predicate
         (template_app (template_hole 19, template_var 4)),
        template_negation
         (
            template_equation
             (template_app (template_hole 16, template_var 5),
              template_hole 15)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 14, template_var 5),
                template_var 3),
              template_var 2)
            ),
        template_predicate (template_app (template_hole 13, t_empty)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 10,
                template_app (template_hole 9, template_var 0)),
              template_app
               (template_app
                 (template_hole 8,
                  template_app
                   (template_app (template_hole 7, template_var 3),
                    template_var 4)),
                template_hole 6))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 1),
              template_app
               (template_app (template_hole 4, template_var 3),
                template_app (template_hole 3, template_var 4)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 11,
                 template_app
                  (template_app (template_hole 2, template_var 5),
                   template_var 1)),
               template_var 4),
             t_empty)
           )))]
