   [("PDF_Values.sigma_finite_stock_measure",
     "sigma_finite_measure (stock_measure ?t)",
     template_predicate
      (
         template_app
          (template_hole 1, template_app (template_hole 0, template_var 0))
         )),
    ("PDF_Values.type_universe_nonempty", "type_universe ?t ~= {}",
     template_negation
      (
         template_equation
          (template_app (template_hole 1, template_var 0), template_hole 0)
         )),
    ("PDF_Values.val_in_type_universe", "?v : type_universe (val_type ?v)",
     template_predicate
      (
         template_app
          (template_app (template_hole 2, template_var 0),
           template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 0)))
         )),
    ("PDF_Values.BoolVal_in_type_universe",
     "BoolVal ?v : type_universe BOOL",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 3,
             template_app (template_hole 2, template_var 0)),
           template_app (template_hole 1, template_hole 0))
         )),
    ("PDF_Values.IntVal_in_type_universe",
     "IntVal ?v : type_universe INTEG",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 3,
             template_app (template_hole 2, template_var 0)),
           template_app (template_hole 1, template_hole 0))
         )),
    ("PDF_Values.space_stock_measure",
     "space (stock_measure ?t) = type_universe ?t",
     template_equation
      (template_app
        (template_hole 2, template_app (template_hole 1, template_var 0)),
       template_app (template_hole 0, template_var 0))),
    ("PDF_Values.type_universe_stock_measure",
     "type_universe ?t : sets (stock_measure ?t)",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 3,
             template_app (template_hole 2, template_var 0)),
           template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 0)))
         )),
    ("PDF_Values.state_measure_nonempty",
     "space (state_measure ?V ?\<Gamma>) ~= {}",
     template_negation
      (
         template_equation
          (template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_var 1),
               template_var 0)),
           template_hole 0)
         )),
    ("PDF_Values.sets_return_val",
     "sets (return_val ?x) = sets (stock_measure (val_type ?x))",
     template_equation
      (template_app
        (template_hole 3, template_app (template_hole 2, template_var 0)),
       template_app
        (template_hole 3,
         template_app
          (template_hole 1,
           template_app (template_hole 0, template_var 0))))),
    ("PDF_Values.lift_RealVal_eq",
     "lift_RealVal ?f (RealVal ?x) = RealVal (?f ?x)",
     template_equation
      (template_app
        (template_app (template_hole 1, template_var 1),
         template_app (template_hole 0, template_var 0)),
       template_app
        (template_hole 0, template_app (template_var 1, template_var 0)))),
    ("PDF_Values.measurable_lift_IntVal'",
     "lift_IntVal ?f
      : stock_measure INTEG \<rightarrow>\<^sub>M stock_measure INTEG",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 4,
             template_app (template_hole 3, template_var 0)),
           template_app
            (template_app
              (template_hole 2,
               template_app (template_hole 1, template_hole 0)),
             template_app (template_hole 1, template_hole 0)))
         )),
    ("PDF_Values.measurable_return_val",
     "return_val
      : stock_measure ?t \<rightarrow>\<^sub>M
        subprob_algebra (stock_measure ?t)",
     template_predicate
      (
         template_app
          (template_app (template_hole 4, template_hole 3),
           template_app
            (template_app
              (template_hole 2,
               template_app (template_hole 1, template_var 0)),
             template_app
              (template_hole 0,
               template_app (template_hole 1, template_var 0))))
         )),
    ("PDF_Values.sigma_finite_state_measure",
     "finite ?V ==> sigma_finite_measure (state_measure ?V ?\<Gamma>)",
     template_implication
      ([template_predicate
         (template_app (template_hole 2, template_var 1))],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0))
           ))),
    ("PDF_Values.type_universe_type",
     "(?w : type_universe ?t) = (val_type ?w = ?t)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 1),
              template_app (template_hole 2, template_var 0))
            )],
       template_equation
        (template_app (template_hole 0, template_var 1), template_var 0))),
    ("PDF_Values.type_universe_eq_iff",
     "(type_universe ?t1.0 = type_universe ?t2.0) = (?t1.0 = ?t2.0)",
     template_bimplication
      (template_equation
        (template_app (template_hole 1, template_var 1),
         template_app (template_hole 1, template_var 0)),
       template_equation (template_var 1, template_var 0))),
    ("PDF_Values.measurable_lift_RealIntVal_IntVal'",
     "lift_RealIntVal ?f ?g
      : stock_measure INTEG \<rightarrow>\<^sub>M stock_measure INTEG",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 4,
             template_app
              (template_app (template_hole 3, template_var 1),
               template_var 0)),
           template_app
            (template_app
              (template_hole 2,
               template_app (template_hole 1, template_hole 0)),
             template_app (template_hole 1, template_hole 0)))
         )),
    ("PDF_Values.emeasure_stock_measure_singleton_finite",
     "emeasure (stock_measure (val_type ?v)) {?v} ~= \<infinity>",
     template_negation
      (
         template_equation
          (template_app
            (template_app
              (template_hole 5,
               template_app
                (template_hole 4,
                 template_app (template_hole 3, template_var 0))),
             template_app
              (template_app (template_hole 2, template_var 0),
               template_hole 1)),
           template_hole 0)
         )),
    ("PDF_Values.val_type_eq_INTEG",
     "(val_type ?x = INTEG) = (?x : range IntVal)",
     template_equation
      (template_app
        (template_app
          (template_hole 6, template_app (template_hole 5, template_var 0)),
         template_hole 4),
       template_app
        (template_app (template_hole 3, template_var 0),
         template_app
          (template_app (template_hole 2, template_hole 1),
           template_hole 0)))),
    ("PDF_Values.val_type_eq_REAL",
     "(val_type ?x = REAL) = (?x : range RealVal)",
     template_equation
      (template_app
        (template_app
          (template_hole 6, template_app (template_hole 5, template_var 0)),
         template_hole 4),
       template_app
        (template_app (template_hole 3, template_var 0),
         template_app
          (template_app (template_hole 2, template_hole 1),
           template_hole 0)))),
    ("PDF_Values.type_universe_eq_imp_type_eq",
     "type_universe ?t1.0 = type_universe ?t2.0 ==> ?t1.0 = ?t2.0",
     template_implication
      ([template_equation
         (template_app (template_hole 1, template_var 1),
          template_app (template_hole 1, template_var 0))],
       template_equation (template_var 1, template_var 0))),
    ("PDF_Values.space_state_measure",
     "space (state_measure ?V ?\<Gamma>) =
      (\<Pi>\<^sub>E y\<in>?V. type_universe (?\<Gamma> y))",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 2, template_var 1), template_var 0)),
       template_app
        (template_app (template_hole 1, template_var 1), t_empty))),
    ("PDF_Values.measurable_lift_IntVal",
     "lift_IntVal ?f : range IntVal \<rightarrow> range IntVal",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 5,
             template_app (template_hole 4, template_var 0)),
           template_app
            (template_app
              (template_hole 3,
               template_app
                (template_app (template_hole 2, template_hole 1),
                 template_hole 0)),
             t_empty))
         )),
    ("PDF_Values.measurable_lift_Comp_IntVal",
     "lift_Comp ?f ?g
      : stock_measure (PRODUCT INTEG INTEG) \<rightarrow>\<^sub>M
        stock_measure BOOL",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 6,
             template_app
              (template_app (template_hole 5, template_var 1),
               template_var 0)),
           template_app
            (template_app
              (template_hole 4,
               template_app
                (template_hole 3,
                 template_app
                  (template_app (template_hole 2, template_hole 1),
                   template_hole 1))),
             template_app (template_hole 3, template_hole 0)))
         )),
    ("PDF_Values.measurable_lift_RealIntVal2_IntVal",
     "lift_RealIntVal2 ?f ?g
      : stock_measure (PRODUCT INTEG INTEG) \<rightarrow>\<^sub>M
        stock_measure INTEG",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 5,
             template_app
              (template_app (template_hole 4, template_var 1),
               template_var 0)),
           template_app
            (template_app
              (template_hole 3,
               template_app
                (template_hole 2,
                 template_app
                  (template_app (template_hole 1, template_hole 0),
                   template_hole 0))),
             template_app (template_hole 2, template_hole 0)))
         )),
    ("PDF_Values.map_int_pair",
     "map_int_pair ?f ?g <|IntVal ?i, IntVal ?j|> = ?f ?i ?j",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 2, template_var 3), template_var 2),
         template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 1)),
           template_app (template_hole 0, template_var 0))),
       template_app
        (template_app (template_var 3, template_var 1), template_var 0))),
    ("PDF_Values.map_real_pair",
     "map_real_pair ?f ?g <|RealVal ?i, RealVal ?j|> = ?f ?i ?j",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 2, template_var 3), template_var 2),
         template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 1)),
           template_app (template_hole 0, template_var 0))),
       template_app
        (template_app (template_var 3, template_var 1), template_var 0))),
    ("PDF_Values.measurable_lift_RealIntVal_IntVal",
     "lift_RealIntVal ?f ?g : range IntVal \<rightarrow> range IntVal",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 5,
             template_app
              (template_app (template_hole 4, template_var 1),
               template_var 0)),
           template_app
            (template_app
              (template_hole 3,
               template_app
                (template_app (template_hole 2, template_hole 1),
                 template_hole 0)),
             t_empty))
         )),
    ("PDF_Values.measurable_PairVal",
     "(%(x, y). <|x, y|>)
      : stock_measure ?t1.0 \<Otimes>\<^sub>M
        stock_measure ?t2.0 \<rightarrow>\<^sub>M
        stock_measure (PRODUCT ?t1.0 ?t2.0)",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 6,
             template_app (template_hole 5, template_hole 4)),
           template_app
            (template_app
              (template_hole 3,
               template_app
                (template_app
                  (template_hole 2,
                   template_app (template_hole 1, template_var 1)),
                 template_app (template_hole 1, template_var 0))),
             template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 0))))
         )),
    ("PDF_Values.singleton_in_stock_measure",
     "val_type ?v = ?t ==> {?v} : sets (stock_measure ?t)",
     template_implication
      ([template_equation
         (template_app (template_hole 5, template_var 1), template_var 0)],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 4,
               template_app
                (template_app (template_hole 3, template_var 1),
                 template_hole 2)),
             template_app
              (template_hole 1,
               template_app (template_hole 0, template_var 0)))
           ))),
    ("PDF_Values.nn_integral_IntVal",
     "integral\<^sup>N (stock_measure INTEG) ?f =
      \<integral>\<^sup>+ x. ?f (IntVal x) \<partial>count_space UNIV",
     template_equation
      (template_app
        (template_app
          (template_hole 6,
           template_app (template_hole 5, template_hole 4)),
         t_empty),
       template_app
        (template_app
          (template_hole 3,
           template_app (template_hole 2, template_hole 1)),
         t_empty))),
    ("PDF_Values.measurable_extract_pair",
     "extract_pair
      : stock_measure (PRODUCT ?t1.0 ?t2.0) \<rightarrow>\<^sub>M
        stock_measure ?t1.0 \<Otimes>\<^sub>M stock_measure ?t2.0",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 6,
             template_app
              (template_app (template_hole 5, template_hole 4),
               template_hole 4)),
           template_app
            (template_app
              (template_hole 3,
               template_app
                (template_hole 2,
                 template_app
                  (template_app (template_hole 1, template_var 1),
                   template_var 0))),
             template_app
              (template_app
                (template_hole 0,
                 template_app (template_hole 2, template_var 1)),
               template_app (template_hole 2, template_var 0))))
         )),
    ("PDF_Values.map_int_pair_REAL",
     "map_int_pair ?f ?g <|RealVal ?i, RealVal ?j|> =
      ?g <|RealVal ?i, RealVal ?j|>",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 2, template_var 3), template_var 2),
         template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 1)),
           template_app (template_hole 0, template_var 0))),
       template_app
        (template_var 2,
         template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 1)),
           template_app (template_hole 0, template_var 0))))),
    ("PDF_Values.measurable_lift_RealVal",
     "?f : borel_measurable borel ==>
      lift_RealVal ?f
      : stock_measure REAL \<rightarrow>\<^sub>M stock_measure REAL",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 0),
              template_app
               (template_app (template_hole 6, template_hole 5),
                template_hole 5))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 4,
               template_app (template_hole 3, template_var 0)),
             template_app
              (template_app
                (template_hole 2,
                 template_app (template_hole 1, template_hole 0)),
               template_app (template_hole 1, template_hole 0)))
           ))),
    ("PDF_Values.lift_RealIntVal_Int",
     "?x : space (stock_measure INTEG) ==>
      lift_RealIntVal ?f ?g ?x = lift_IntVal ?f ?x",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 2),
              template_app
               (template_hole 5,
                template_app (template_hole 4, template_hole 3)))
            )],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 1, template_var 1),
             template_var 0),
           template_var 2),
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 2)))),
    ("PDF_Values.lift_RealIntVal_Real",
     "?x : space (stock_measure REAL) ==>
      lift_RealIntVal ?f ?g ?x = lift_RealVal ?g ?x",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 2),
              template_app
               (template_hole 5,
                template_app (template_hole 4, template_hole 3)))
            )],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 1, template_var 1),
             template_var 0),
           template_var 2),
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 2)))),
    ("PDF_Values.measurable_lift_RealIntVal_RealVal",
     "?g : borel_measurable borel ==>
      lift_RealIntVal ?f ?g
      : stock_measure REAL \<rightarrow>\<^sub>M stock_measure REAL",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 1),
              template_app
               (template_app (template_hole 6, template_hole 5),
                template_hole 5))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 4,
               template_app
                (template_app (template_hole 3, template_var 0),
                 template_var 1)),
             template_app
              (template_app
                (template_hole 2,
                 template_app (template_hole 1, template_hole 0)),
               template_app (template_hole 1, template_hole 0)))
           ))),
    ("PDF_Values.split_apply",
     "(case ?x of (a, b) => ?f a b) ?y = (case ?x of (a, b) => ?f a b ?y)",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 1, t_empty), template_var 1),
         template_var 0),
       template_app
        (template_app (template_hole 0, t_empty), template_var 1))),
    ("PDF_Values.bind_return_val''",
     "?f : stock_measure (val_type ?x) \<rightarrow>\<^sub>M
           subprob_algebra ?M ==>
      return_val ?x >>= ?f = ?f ?x",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 2),
              template_app
               (template_app
                 (template_hole 6,
                  template_app
                   (template_hole 5,
                    template_app (template_hole 4, template_var 1))),
                template_app (template_hole 3, template_var 0)))
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 1)),
           template_var 2),
         template_app (template_var 2, template_var 1)))),
    ("PDF_Values.BOOL_E",
     "[| val_type ?v = BOOL; !!b. ?v = BoolVal b ==> ?P |] ==> ?P",
     template_implication
      ([template_equation
         (template_app (template_hole 4, template_var 1), template_hole 3),
        template_predicate (template_app (template_hole 2, t_empty))],
       template_predicate (template_var 0))),
    ("PDF_Values.INTEG_E",
     "[| val_type ?v = INTEG; !!i. ?v = IntVal i ==> ?P |] ==> ?P",
     template_implication
      ([template_equation
         (template_app (template_hole 4, template_var 1), template_hole 3),
        template_predicate (template_app (template_hole 2, t_empty))],
       template_predicate (template_var 0))),
    ("PDF_Values.REAL_E",
     "[| val_type ?v = REAL; !!b. ?v = RealVal b ==> ?P |] ==> ?P",
     template_implication
      ([template_equation
         (template_app (template_hole 4, template_var 1), template_hole 3),
        template_predicate (template_app (template_hole 2, t_empty))],
       template_predicate (template_var 0))),
    ("PDF_Values.measurable_stock_measure_val_type",
     "[| ?f : ?M \<rightarrow>\<^sub>M stock_measure ?t; ?x : space ?M |]
      ==> val_type (?f ?x) = ?t",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 3),
              template_app
               (template_app (template_hole 5, template_var 2),
                template_app (template_hole 4, template_var 1)))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 0),
              template_app (template_hole 2, template_var 2))
            )],
       template_equation
        (template_app
          (template_hole 0, template_app (template_var 3, template_var 0)),
         template_var 1))),
    ("PDF_Values.state_measure_var_type",
     "[| ?\<sigma> : space (state_measure ?V ?\<Gamma>); ?x : ?V |]
      ==> val_type (?\<sigma> ?x) = ?\<Gamma> ?x",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 3),
              template_app
               (template_hole 4,
                template_app
                 (template_app (template_hole 3, template_var 2),
                  template_var 1)))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 0),
              template_var 2)
            )],
       template_equation
        (template_app
          (template_hole 0, template_app (template_var 3, template_var 0)),
         template_app (template_var 1, template_var 0)))),
    ("PDF_Values.comp_in_state_measure",
     "?\<sigma> : space (state_measure ?V ?\<Gamma>) ==>
      ?\<sigma> o ?f : space (state_measure (?f -` ?V) (?\<Gamma> o ?f))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 3),
              template_app
               (template_hole 4,
                template_app
                 (template_app (template_hole 3, template_var 2),
                  template_var 1)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 5,
               template_app
                (template_app (template_hole 2, template_var 3),
                 template_var 0)),
             template_app
              (template_hole 4,
               template_app
                (template_app
                  (template_hole 3,
                   template_app
                    (template_app (template_hole 1, template_var 0),
                     template_var 2)),
                 template_app
                  (template_app (template_hole 0, template_var 1),
                   template_var 0))))
           ))),
    ("PDF_Values.map_int_pair_measurable_REAL",
     "?g : stock_measure (PRODUCT REAL REAL) \<rightarrow>\<^sub>M ?M ==>
      map_int_pair ?f ?g
      : stock_measure (PRODUCT REAL REAL) \<rightarrow>\<^sub>M ?M",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 2),
              template_app
               (template_app
                 (template_hole 4,
                  template_app
                   (template_hole 3,
                    template_app
                     (template_app (template_hole 2, template_hole 1),
                      template_hole 1))),
                template_var 1))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 5,
               template_app
                (template_app (template_hole 0, template_var 0),
                 template_var 2)),
             template_app
              (template_app
                (template_hole 4,
                 template_app
                  (template_hole 3,
                   template_app
                    (template_app (template_hole 2, template_hole 1),
                     template_hole 1))),
               template_var 1))
           ))),
    ("PDF_Values.map_real_pair_measurable",
     "(%(x, y). ?f x y)
      : borel \<Otimes>\<^sub>M borel \<rightarrow>\<^sub>M ?M ==>
      map_real_pair ?f ?g
      : stock_measure (PRODUCT REAL REAL) \<rightarrow>\<^sub>M ?M",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 10,
                template_app (template_hole 9, template_var 2)),
              template_app
               (template_app
                 (template_hole 8,
                  template_app
                   (template_app (template_hole 7, template_hole 6),
                    template_hole 6)),
                template_var 1))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 5,
               template_app
                (template_app (template_hole 4, template_var 2),
                 template_var 0)),
             template_app
              (template_app
                (template_hole 3,
                 template_app
                  (template_hole 2,
                   template_app
                    (template_app (template_hole 1, template_hole 0),
                     template_hole 0))),
               template_var 1))
           ))),
    ("PDF_Values.nn_integral_RealVal",
     "?f : borel_measurable (stock_measure REAL) ==>
      integral\<^sup>N (stock_measure REAL) ?f =
      \<integral>\<^sup>+ x. ?f (RealVal x) \<partial>lborel",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 9, template_var 0),
              template_app
               (template_app
                 (template_hole 8,
                  template_app (template_hole 7, template_hole 6)),
                template_hole 5))
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app (template_hole 7, template_hole 6)),
           t_empty),
         template_app
          (template_app (template_hole 2, template_hole 1), t_empty)))),
    ("PDF_Values.measurable_lift_RealIntVal2_RealVal",
     "(%(x, y). ?g x y)
      : borel_measurable (borel \<Otimes>\<^sub>M borel) ==>
      lift_RealIntVal2 ?f ?g
      : stock_measure (PRODUCT REAL REAL) \<rightarrow>\<^sub>M
        stock_measure REAL",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 10,
                template_app (template_hole 9, template_var 1)),
              template_app
               (template_app
                 (template_hole 8,
                  template_app
                   (template_app (template_hole 7, template_hole 6),
                    template_hole 6)),
                template_hole 6))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 5,
               template_app
                (template_app (template_hole 4, template_var 0),
                 template_var 1)),
             template_app
              (template_app
                (template_hole 3,
                 template_app
                  (template_hole 2,
                   template_app
                    (template_app (template_hole 1, template_hole 0),
                     template_hole 0))),
               template_app (template_hole 2, template_hole 0)))
           ))),
    ("PDF_Values.measurable_lift_Comp_RealVal",
     "Measurable.pred (borel \<Otimes>\<^sub>M borel) (%(x, y). ?g x y) ==>
      lift_Comp ?f ?g
      : stock_measure (PRODUCT REAL REAL) \<rightarrow>\<^sub>M
        stock_measure BOOL",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 13,
                template_app (template_hole 12, template_var 1)),
              template_app
               (template_app
                 (template_hole 11,
                  template_app
                   (template_app (template_hole 10, template_hole 9),
                    template_hole 9)),
                template_app (template_hole 8, template_hole 7)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 6,
               template_app
                (template_app (template_hole 5, template_var 0),
                 template_var 1)),
             template_app
              (template_app
                (template_hole 4,
                 template_app
                  (template_hole 3,
                   template_app
                    (template_app (template_hole 2, template_hole 1),
                     template_hole 1))),
               template_app (template_hole 3, template_hole 0)))
           ))),
    ("PDF_Values.map_int_pair_measurable",
     "(%(x, y). ?f x y)
      : count_space UNIV \<Otimes>\<^sub>M
        count_space UNIV \<rightarrow>\<^sub>M
        ?M ==>
      map_int_pair ?f ?g
      : stock_measure (PRODUCT INTEG INTEG) \<rightarrow>\<^sub>M ?M",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 11,
                template_app (template_hole 10, template_var 2)),
              template_app
               (template_app
                 (template_hole 9,
                  template_app
                   (template_app
                     (template_hole 8,
                      template_app (template_hole 7, template_hole 6)),
                    template_app (template_hole 7, template_hole 6))),
                template_var 1))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 5,
               template_app
                (template_app (template_hole 4, template_var 2),
                 template_var 0)),
             template_app
              (template_app
                (template_hole 3,
                 template_app
                  (template_hole 2,
                   template_app
                    (template_app (template_hole 1, template_hole 0),
                     template_hole 0))),
               template_var 1))
           ))),
    ("PDF_Values.nn_integral_BoolVal",
     "(!!x. 0 <= ?f (BoolVal x)) ==>
      integral\<^sup>N (stock_measure BOOL) ?f = ?f TRUE + ?f FALSE",
     template_implication
      ([template_predicate (template_app (template_hole 11, t_empty))],
       template_equation
        (template_app
          (template_app
            (template_hole 5,
             template_app (template_hole 4, template_hole 3)),
           t_empty),
         template_app
          (template_app
            (template_hole 2,
             template_app
              (template_var 0,
               template_app (template_hole 7, template_hole 1))),
           template_app
            (template_var 0,
             template_app (template_hole 7, template_hole 0)))))),
    ("PDF_Values.bind_return_val'",
     "[| val_type ?x = ?t;
         ?f : stock_measure ?t \<rightarrow>\<^sub>M stock_measure ?t' |]
      ==> return_val ?x >>= (%x. return_val (?f x)) = return_val (?f ?x)",
     template_implication
      ([template_equation
         (template_app (template_hole 6, template_var 3), template_var 2),
        template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 1),
              template_app
               (template_app
                 (template_hole 4,
                  template_app (template_hole 3, template_var 2)),
                template_app (template_hole 3, template_var 0)))
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 3)),
           t_empty),
         template_app
          (template_hole 0,
           template_app (template_var 1, template_var 3))))),
    ("PDF_Values.bind_return_val",
     "[| space ?M ~= {}; ?f : ?M \<rightarrow>\<^sub>M stock_measure ?t' |]
      ==> ?M >>= (%x. return_val (?f x)) = distr ?M (stock_measure ?t') ?f",
     template_implication
      ([template_negation
         (
            template_equation
             (template_app (template_hole 8, template_var 2),
              template_hole 7)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 1),
              template_app
               (template_app (template_hole 5, template_var 2),
                template_app (template_hole 4, template_var 0)))
            )],
       template_equation
        (template_app
          (template_app (template_hole 2, template_var 2), t_empty),
         template_app
          (template_app
            (template_app (template_hole 0, template_var 2),
             template_app (template_hole 4, template_var 0)),
           template_var 1)))),
    ("PDF_Values.bind_return_val_distr",
     "[| sets ?M = sets (stock_measure ?t);
         ?f : stock_measure ?t \<rightarrow>\<^sub>M stock_measure ?t' |]
      ==> ?M >>= return_val o ?f = distr ?M (stock_measure ?t') ?f",
     template_implication
      ([template_equation
         (template_app (template_hole 8, template_var 3),
          template_app
           (template_hole 8,
            template_app (template_hole 7, template_var 2))),
        template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 1),
              template_app
               (template_app
                 (template_hole 5,
                  template_app (template_hole 7, template_var 2)),
                template_app (template_hole 7, template_var 0)))
            )],
       template_equation
        (template_app
          (template_app (template_hole 3, template_var 3),
           template_app
            (template_app (template_hole 2, template_hole 1),
             template_var 1)),
         template_app
          (template_app
            (template_app (template_hole 0, template_var 3),
             template_app (template_hole 7, template_var 0)),
           template_var 1)))),
    ("PDF_Values.merge_in_state_measure",
     "[| ?x : space (state_measure ?A ?\<Gamma>);
         ?y : space (state_measure ?B ?\<Gamma>) |]
      ==> merge ?A ?B (?x, ?y)
          : space (state_measure (?A Un ?B) ?\<Gamma>)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 4),
              template_app
               (template_hole 4,
                template_app
                 (template_app (template_hole 3, template_var 3),
                  template_var 2)))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 1),
              template_app
               (template_hole 4,
                template_app
                 (template_app (template_hole 3, template_var 0),
                  template_var 2)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 5,
               template_app
                (template_app
                  (template_app (template_hole 2, template_var 3),
                   template_var 0),
                 template_app
                  (template_app (template_hole 1, template_var 4),
                   template_var 1))),
             template_app
              (template_hole 4,
               template_app
                (template_app
                  (template_hole 3,
                   template_app
                    (template_app (template_hole 0, template_var 3),
                     template_var 0)),
                 template_var 2)))
           ))),
    ("PDF_Values.nn_integral_PairVal",
     "?f : borel_measurable (stock_measure (PRODUCT ?t1.0 ?t2.0)) ==>
      integral\<^sup>N (stock_measure (PRODUCT ?t1.0 ?t2.0)) ?f =
      \<integral>\<^sup>+ x. ?f <|fst x, snd x|>
                         \<partial>stock_measure ?t1.0 \<Otimes>\<^sub>M
                                   stock_measure ?t2.0",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 11, template_var 2),
              template_app
               (template_app
                 (template_hole 10,
                  template_app
                   (template_hole 9,
                    template_app
                     (template_app (template_hole 8, template_var 1),
                      template_var 0))),
                template_hole 7))
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 5,
             template_app
              (template_hole 9,
               template_app
                (template_app (template_hole 8, template_var 1),
                 template_var 0))),
           t_empty),
         template_app
          (template_app
            (template_hole 4,
             template_app
              (template_app
                (template_hole 3,
                 template_app (template_hole 9, template_var 1)),
               template_app (template_hole 9, template_var 0))),
           t_empty)))),
    ("PDF_Values.PROD_E",
     "[| val_type ?v = PRODUCT ?t1.0 ?t2.0;
         !!a b.
            [| val_type a = ?t1.0; val_type b = ?t2.0; ?v = <|a, b|> |]
            ==> ?P |]
      ==> ?P",
     template_implication
      ([template_equation
         (template_app (template_hole 4, template_var 3),
          template_app
           (template_app (template_hole 3, template_var 2),
            template_var 1)),
        template_predicate (template_app (template_hole 2, t_empty))],
       template_predicate (template_var 0))),
    ("PDF_Values.measurable_merge_stock",
     "[| ?f : ?N \<rightarrow>\<^sub>M state_measure ?V ?\<Gamma>;
         ?g : ?N \<rightarrow>\<^sub>M state_measure ?V' ?\<Gamma> |]
      ==> (%x. merge ?V ?V' (?f x, ?g x))
          : ?N \<rightarrow>\<^sub>M state_measure (?V Un ?V') ?\<Gamma>",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 5),
              template_app
               (template_app (template_hole 4, template_var 4),
                template_app
                 (template_app (template_hole 3, template_var 3),
                  template_var 2)))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 1),
              template_app
               (template_app (template_hole 4, template_var 4),
                template_app
                 (template_app (template_hole 3, template_var 0),
                  template_var 2)))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 5, t_empty),
             template_app
              (template_app (template_hole 4, template_var 4),
               template_app
                (template_app
                  (template_hole 3,
                   template_app
                    (template_app (template_hole 0, template_var 3),
                     template_var 0)),
                 template_var 2)))
           ))),
    ("PDF_Values.measurable_extract_pair'",
     "[| ?f : stock_measure ?t1.0 \<rightarrow>\<^sub>M ?M;
         ?g : stock_measure ?t2.0 \<rightarrow>\<^sub>M ?N;
         ?h : ?K \<rightarrow>\<^sub>M
              stock_measure (PRODUCT ?t1.0 ?t2.0) |]
      ==> (%x. extract_pair' ?f ?g (?h x))
          : ?K \<rightarrow>\<^sub>M ?M \<Otimes>\<^sub>M ?N",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 11, template_var 7),
              template_app
               (template_app
                 (template_hole 10,
                  template_app (template_hole 9, template_var 6)),
                template_var 5))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 4),
              template_app
               (template_app
                 (template_hole 7,
                  template_app (template_hole 9, template_var 3)),
                template_var 2))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 1),
              template_app
               (template_app (template_hole 5, template_var 0),
                template_app
                 (template_hole 9,
                  template_app
                   (template_app (template_hole 4, template_var 6),
                    template_var 3))))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 3, t_empty),
             template_app
              (template_app (template_hole 1, template_var 0),
               template_app
                (template_app (template_hole 0, template_var 5),
                 template_var 2)))
           ))),
    ("PDF_Values.bind_assoc_return_val",
     "[| sets ?M = sets (stock_measure ?t);
         ?f : stock_measure ?t \<rightarrow>\<^sub>M stock_measure ?t';
         ?g : stock_measure ?t' \<rightarrow>\<^sub>M stock_measure ?t'' |]
      ==> ?M >>= (%x. return_val (?f x)) >>= (%x. return_val (?g x)) =
          ?M >>= (%x. return_val (?g (?f x)))",
     template_implication
      ([template_equation
         (template_app (template_hole 6, template_var 5),
          template_app
           (template_hole 6,
            template_app (template_hole 5, template_var 4))),
        template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 3),
              template_app
               (template_app
                 (template_hole 3,
                  template_app (template_hole 5, template_var 4)),
                template_app (template_hole 5, template_var 2)))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 1),
              template_app
               (template_app
                 (template_hole 3,
                  template_app (template_hole 5, template_var 2)),
                template_app (template_hole 5, template_var 0)))
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 1, template_var 5), t_empty)),
           t_empty),
         template_app
          (template_app (template_hole 1, template_var 5), t_empty)))),
    ("PDF_Values.distr_lift_IntVal",
     "[| has_density ?M (stock_measure INTEG) ?\<delta>;
         !!M \<delta>.
            has_density M (count_space UNIV) \<delta> ==>
            has_density (distr M (count_space UNIV) ?f) (count_space UNIV)
             (?g \<delta>) |]
      ==> has_density (distr ?M (stock_measure INTEG) (lift_IntVal ?f))
           (stock_measure INTEG)
           (?g (%x. ?\<delta> (IntVal x)) o extract_int)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 13, template_var 3),
                template_app (template_hole 12, template_hole 11)),
              template_var 2)
            ),
        template_predicate (template_app (template_hole 10, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 13,
                 template_app
                  (template_app
                    (template_app (template_hole 4, template_var 3),
                     template_app (template_hole 12, template_hole 11)),
                   template_app (template_hole 3, template_var 1))),
               template_app (template_hole 12, template_hole 11)),
             template_app
              (template_app
                (template_hole 2, template_app (template_var 0, t_empty)),
               template_hole 0))
           ))),
    ("PDF_Values.distr_lift_IntPairVal",
     "[| has_density ?M (stock_measure (PRODUCT INTEG INTEG)) ?\<delta>;
         !!M \<delta>.
            has_density M (count_space UNIV) \<delta> ==>
            has_density (distr M (count_space UNIV) (%(x, y). ?f x y))
             (count_space UNIV) (?g \<delta>) |]
      ==> has_density
           (distr ?M (stock_measure INTEG) (lift_RealIntVal2 ?f ?f'))
           (stock_measure INTEG)
           (?g (%x. ?\<delta> (IntPairVal x)) o extract_int)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 18, template_var 4),
                template_app
                 (template_hole 17,
                  template_app
                   (template_app (template_hole 16, template_hole 15),
                    template_hole 15))),
              template_var 3)
            ),
        template_predicate (template_app (template_hole 14, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 18,
                 template_app
                  (template_app
                    (template_app (template_hole 4, template_var 4),
                     template_app (template_hole 17, template_hole 15)),
                   template_app
                    (template_app (template_hole 3, template_var 2),
                     template_var 0))),
               template_app (template_hole 17, template_hole 15)),
             template_app
              (template_app
                (template_hole 2, template_app (template_var 1, t_empty)),
               template_hole 0))
           ))),
    ("PDF_Values.distr_lift_RealVal",
     "[| ?f : borel_measurable borel;
         has_subprob_density ?M (stock_measure REAL) ?\<delta>;
         !!M \<delta>.
            has_subprob_density M lborel \<delta> ==>
            has_density (distr M borel ?f) lborel (?g \<delta>) |]
      ==> has_density (distr ?M (stock_measure REAL) (lift_RealVal ?f))
           (stock_measure REAL)
           (?g (%x. ?\<delta> (RealVal x)) o extract_real)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 17, template_var 3),
              template_app
               (template_app (template_hole 16, template_hole 15),
                template_hole 15))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 14, template_var 2),
                template_app (template_hole 13, template_hole 12)),
              template_var 1)
            ),
        template_predicate (template_app (template_hole 11, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 5,
                 template_app
                  (template_app
                    (template_app (template_hole 4, template_var 2),
                     template_app (template_hole 13, template_hole 12)),
                   template_app (template_hole 3, template_var 3))),
               template_app (template_hole 13, template_hole 12)),
             template_app
              (template_app
                (template_hole 2, template_app (template_var 0, t_empty)),
               template_hole 0))
           ))),
    ("PDF_Values.distr_lift_RealPairVal",
     "[| (%(x, y). ?f x y) : borel_measurable borel;
         has_subprob_density ?M (stock_measure (PRODUCT REAL REAL))
          ?\<delta>;
         !!M \<delta>.
            has_subprob_density M lborel \<delta> ==>
            has_density (distr M borel (%(x, y). ?f x y)) lborel
             (?g \<delta>) |]
      ==> has_density
           (distr ?M (stock_measure REAL) (lift_RealIntVal2 ?f' ?f))
           (stock_measure REAL)
           (?g (%x. ?\<delta> (RealPairVal x)) o extract_real)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 21,
                template_app (template_hole 20, template_var 4)),
              template_app
               (template_app (template_hole 19, template_hole 18),
                template_hole 17))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 16, template_var 3),
                template_app
                 (template_hole 15,
                  template_app
                   (template_app (template_hole 14, template_hole 13),
                    template_hole 13))),
              template_var 2)
            ),
        template_predicate (template_app (template_hole 12, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 5,
                 template_app
                  (template_app
                    (template_app (template_hole 4, template_var 3),
                     template_app (template_hole 15, template_hole 13)),
                   template_app
                    (template_app (template_hole 3, template_var 0),
                     template_var 4))),
               template_app (template_hole 15, template_hole 13)),
             template_app
              (template_app
                (template_hole 2, template_app (template_var 1, t_empty)),
               template_hole 0))
           ))),
    ("PDF_Values.val_case_stock_measurable",
     "[| ?t = UNIT ==> ?c : space ?M; !!b. ?t = BOOL ==> ?g b : space ?M;
         !!i. ?t = INTEG ==> ?h i : space ?M;
         ?t = REAL ==> ?j : borel \<rightarrow>\<^sub>M ?M;
         !!t1 t2.
            ?t = PRODUCT t1 t2 ==>
            (%(x, y). ?k x y)
            : stock_measure t1 \<Otimes>\<^sub>M
              stock_measure t2 \<rightarrow>\<^sub>M
              ?M |]
      ==> (%x. case x of UnitVal => ?c | BoolVal b => ?g b
               | IntVal i => ?h i | RealVal r => ?j r | <|y, z|> => ?k y z)
          : stock_measure ?t \<rightarrow>\<^sub>M ?M",
     template_implication
      ([template_implication
         ([template_equation (template_var 6, template_hole 20)],
          template_predicate
           (
              template_app
               (template_app (template_hole 19, template_var 5),
                template_app (template_hole 18, template_var 4))
              )),
        template_predicate (template_app (template_hole 17, t_empty)),
        template_predicate (template_app (template_hole 15, t_empty)),
        template_implication
         ([template_equation (template_var 6, template_hole 13)],
          template_predicate
           (
              template_app
               (template_app (template_hole 12, template_var 1),
                template_app
                 (template_app (template_hole 11, template_hole 10),
                  template_var 4))
              )),
        template_predicate (template_app (template_hole 9, t_empty))],
       template_predicate
        (
           template_app
            (template_app (template_hole 2, t_empty),
             template_app
              (template_app
                (template_hole 0,
                 template_app (template_hole 3, template_var 6)),
               template_var 4))
           )))]
