   [("Optimal_BST_Memo.opt_bst_simps",
     "?j < ?i ==> opt_bst_ab ?a ?b ?i ?j = \<langle>\<rangle>",
     template_implication
      ([template_inequation (less_than, template_var 3, template_var 2)],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app (template_hole 1, template_var 1),
               template_var 0),
             template_var 2),
           template_var 3),
         template_hole 0))),
    ("Optimal_BST_Memo.min_wpl_simps",
     "?j < ?i ==> Optimal_BST_Memo.min_wpl ?a ?b ?i ?j = 0",
     template_implication
      ([template_inequation (less_than, template_var 3, template_var 2)],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 1),
                 template_var 0)),
             template_var 2),
           template_var 3),
         template_hole 0))),
    ("Optimal_BST_Memo.wpl_opt_bst",
     "wpl_ab ?a ?b ?i ?j (opt_bst_ab ?a ?b ?i ?j) =
      Optimal_BST_Memo.min_wpl ?a ?b ?i ?j",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_app
              (template_app (template_hole 3, template_var 3),
               template_var 2),
             template_var 1),
           template_var 0),
         template_app
          (template_app
            (template_app
              (template_app (template_hole 2, template_var 3),
               template_var 2),
             template_var 1),
           template_var 0)),
       template_app
        (template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 3),
               template_var 2)),
           template_var 1),
         template_var 0))),
    ("Optimal_BST_Memo.opt_bst_wpl_eq_pair'",
     "opt_bst_wpl ?a ?b ?i ?j =
      (opt_bst_ab ?a ?b ?i ?j, Optimal_BST_Memo.min_wpl ?a ?b ?i ?j)",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_hole 4,
             template_app
              (template_app (template_hole 3, template_var 3),
               template_var 2)),
           template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_hole 2,
           template_app
            (template_app
              (template_app
                (template_app (template_hole 1, template_var 3),
                 template_var 2),
               template_var 1),
             template_var 0)),
         template_app
          (template_app
            (template_app
              (template_hole 0,
               template_app
                (template_app (template_hole 3, template_var 3),
                 template_var 2)),
             template_var 1),
           template_var 0)))),
    ("Optimal_BST_Memo.min_wpl_is_optimal",
     "inorder ?t = [?i..?j] ==>
      Optimal_BST_Memo.min_wpl ?a ?b ?i ?j <= wpl_ab ?a ?b ?i ?j ?t",
     template_implication
      ([template_equation
         (template_app (template_hole 5, template_var 4),
          template_app
           (template_app (template_hole 4, template_var 3),
            template_var 2))],
       template_inequation
        (less_equals,
         template_app
          (template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 1),
                 template_var 0)),
             template_var 3),
           template_var 2),
         template_app
          (template_app
            (template_app
              (template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 0),
               template_var 3),
             template_var 2),
           template_var 4)))),
    ("Optimal_BST_Memo.opt_bst_wpl_eq_pair",
     "opt_bst_wpl ?a ?b ?i ?j =
      (opt_bst_ab ?a ?b ?i ?j,
       wpl_ab ?a ?b ?i ?j (opt_bst_ab ?a ?b ?i ?j))",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_hole 4,
             template_app
              (template_app (template_hole 3, template_var 3),
               template_var 2)),
           template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_hole 2,
           template_app
            (template_app
              (template_app
                (template_app (template_hole 1, template_var 3),
                 template_var 2),
               template_var 1),
             template_var 0)),
         template_app
          (template_app
            (template_app
              (template_app
                (template_app (template_hole 0, template_var 3),
                 template_var 2),
               template_var 1),
             template_var 0),
           template_app
            (template_app
              (template_app
                (template_app (template_hole 1, template_var 3),
                 template_var 2),
               template_var 1),
             template_var 0))))),
    ("Optimal_BST_Memo.upto_split1",
     "[| ?i <= ?j; ?j <= ?k |] ==> [?i..?k] = [?i..?j - 1] @ [?j..?k]",
     template_implication
      ([template_inequation (less_equals, template_var 2, template_var 1),
        template_inequation (less_equals, template_var 1, template_var 0)],
       template_equation
        (template_app
          (template_app (template_hole 3, template_var 2), template_var 0),
         template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 3, template_var 2),
               template_app
                (template_app (template_hole 1, template_var 1),
                 template_hole 0))),
           template_app
            (template_app (template_hole 3, template_var 1),
             template_var 0))))),
    ("Optimal_BST_Memo.opt_bst_is_optimal",
     "inorder ?t = [?i..?j] ==>
      wpl_ab ?a ?b ?i ?j (opt_bst_ab ?a ?b ?i ?j) <= wpl_ab ?a ?b ?i ?j ?t",
     template_implication
      ([template_equation
         (template_app (template_hole 4, template_var 4),
          template_app
           (template_app (template_hole 3, template_var 3),
            template_var 2))],
       template_inequation
        (less_equals,
         template_app
          (template_app
            (template_app
              (template_app
                (template_app (template_hole 1, template_var 1),
                 template_var 0),
               template_var 3),
             template_var 2),
           template_app
            (template_app
              (template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 0),
               template_var 3),
             template_var 2)),
         template_app
          (template_app
            (template_app
              (template_app
                (template_app (template_hole 1, template_var 1),
                 template_var 0),
               template_var 3),
             template_var 2),
           template_var 4)))),
    ("Optimal_BST_Memo.argmin_fold",
     "argmin ?f ?xs =
      (case ?xs of
       x # xs =>
         fst (fold
               (%x (m, fm).
                   let fx = ?f x in if fx <= fm then (x, fx) else (m, fm))
               xs (x, ?f x)))",
     template_equation
      (template_app
        (template_app (template_hole 9, template_var 1), template_var 0),
       template_app
        (template_app
          (template_app (template_hole 8, template_hole 7), t_empty),
         template_var 0))),
    ("Optimal_BST_Memo.fold_argmin",
     "fold
       (%x (m, fm). let fx = ?f x in if fx <= fm then (x, fx) else (m, fm))
       ?xs (?x, ?f ?x) =
      (argmin ?f (?x # ?xs), ?f (argmin ?f (?x # ?xs)))",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 7, t_empty), template_var 1),
         template_app
          (template_app (template_hole 2, template_var 0),
           template_app (template_var 2, template_var 0))),
       template_app
        (template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 1, template_var 2),
             template_app
              (template_app (template_hole 0, template_var 0),
               template_var 1))),
         template_app
          (template_var 2,
           template_app
            (template_app (template_hole 1, template_var 2),
             template_app
              (template_app (template_hole 0, template_var 0),
               template_var 1)))))),
    ("Optimal_BST_Memo.opt_bst_simps",
     "?i <= ?j ==>
      opt_bst_ab ?a ?b ?i ?j =
      argmin (wpl_ab ?a ?b ?i ?j)
       (map (%k. \<langle>opt_bst_ab ?a ?b ?i (k - 1), k,
                  opt_bst_ab ?a ?b (k + 1) ?j\<rangle>)
         [?i..?j])",
     template_implication
      ([template_inequation (less_equals, template_var 3, template_var 2)],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app (template_hole 8, template_var 1),
               template_var 0),
             template_var 3),
           template_var 2),
         template_app
          (template_app
            (template_hole 7,
             template_app
              (template_app
                (template_app
                  (template_app (template_hole 6, template_var 1),
                   template_var 0),
                 template_var 3),
               template_var 2)),
           template_app
            (template_app (template_hole 5, t_empty),
             template_app
              (template_app (template_hole 0, template_var 3),
               template_var 2)))))),
    ("Optimal_BST_Memo.min_wpl_simps",
     "?i <= ?j ==>
      Optimal_BST_Memo.min_wpl ?a ?b ?i ?j =
      (MIN k\<in>{?i..?j}.
          Optimal_BST_Memo.min_wpl ?a ?b ?i (k - 1) +
          Optimal_BST_Memo.min_wpl ?a ?b (k + 1) ?j +
          w_ab ?a ?b ?i ?j)",
     template_implication
      ([template_inequation (less_equals, template_var 3, template_var 2)],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_hole 8,
               template_app
                (template_app (template_hole 7, template_var 1),
                 template_var 0)),
             template_var 3),
           template_var 2),
         template_app
          (template_hole 6,
           template_app
            (template_app (template_hole 5, t_empty),
             template_app
              (template_app (template_hole 0, template_var 3),
               template_var 2))))))]
