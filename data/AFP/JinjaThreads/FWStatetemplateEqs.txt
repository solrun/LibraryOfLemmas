   [("FWState.locks_conv", "locks (?ls, ?tsmws) = ?ls",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_var 1)),
    ("FWState.convert_obs_initial_simps",
     "\<lbrace>convert_obs_initial ?ta\<rbrace>\<^bsub>w\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>w\<^esub>",
     template_equation
      (template_app
        (template_hole 2, template_app (template_hole 1, template_var 0)),
       template_app (template_hole 0, template_var 0))),
    ("FWState.convert_obs_initial_simps",
     "\<lbrace>convert_obs_initial ?ta\<rbrace>\<^bsub>i\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>i\<^esub>",
     template_equation
      (template_app
        (template_hole 2, template_app (template_hole 1, template_var 0)),
       template_app (template_hole 0, template_var 0))),
    ("FWState.convert_obs_initial_simps",
     "\<lbrace>convert_obs_initial ?ta\<rbrace>\<^bsub>t\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>t\<^esub>",
     template_equation
      (template_app
        (template_hole 2, template_app (template_hole 1, template_var 0)),
       template_app (template_hole 0, template_var 0))),
    ("FWState.convert_obs_initial_simps",
     "\<lbrace>convert_obs_initial ?ta\<rbrace>\<^bsub>c\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>c\<^esub>",
     template_equation
      (template_app
        (template_hole 2, template_app (template_hole 1, template_var 0)),
       template_app (template_hole 0, template_var 0))),
    ("FWState.locks_a_conv",
     "\<lbrace>(?ls, ?ntsjswss)\<rbrace>\<^bsub>l\<^esub> = ?ls",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_var 1)),
    ("FWState.convert_obs_initial_simps",
     "\<lbrace>convert_obs_initial ?ta\<rbrace>\<^bsub>l\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>l\<^esub>",
     template_equation
      (template_app
        (template_hole 2, template_app (template_hole 1, template_var 0)),
       template_app (template_hole 0, template_var 0))),
    ("FWState.obs_a_convert_extTA",
     "\<lbrace>convert_extTA ?f ?ta\<rbrace>\<^bsub>o\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>o\<^esub>",
     template_equation
      (template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app (template_hole 0, template_var 0))),
    ("FWState.ta_upd_proj_simps",
     "\<lbrace>ta_update_Conditional ?ta ?c\<rbrace>\<^bsub>o\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>o\<^esub>",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 1))),
    ("FWState.ta_upd_proj_simps",
     "\<lbrace>ta_update_NewThread ?ta ?t\<rbrace>\<^bsub>o\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>o\<^esub>",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 1))),
    ("FWState.ta_upd_proj_simps",
     "\<lbrace>ta_update_interrupt ?ta ?i\<rbrace>\<^bsub>o\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>o\<^esub>",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 1))),
    ("FWState.ta_upd_proj_simps",
     "\<lbrace>ta_update_wait_set ?ta ?w\<rbrace>\<^bsub>o\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>o\<^esub>",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 1))),
    ("FWState.ta_upd_proj_simps",
     "\<lbrace>ta_update_Conditional ?ta ?c\<rbrace>\<^bsub>w\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>w\<^esub>",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 1))),
    ("FWState.ta_upd_proj_simps",
     "\<lbrace>ta_update_NewThread ?ta ?t\<rbrace>\<^bsub>w\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>w\<^esub>",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 1))),
    ("FWState.ta_upd_proj_simps",
     "\<lbrace>ta_update_interrupt ?ta ?i\<rbrace>\<^bsub>w\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>w\<^esub>",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 1))),
    ("FWState.ta_obs_proj_simps",
     "\<lbrace>ta_update_obs ?ta ?obs\<rbrace>\<^bsub>w\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>w\<^esub>",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 1))),
    ("FWState.convert_extTA_simps",
     "\<lbrace>convert_extTA ?f ?ta\<rbrace>\<^bsub>w\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>w\<^esub>",
     template_equation
      (template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app (template_hole 0, template_var 0))),
    ("FWState.ta_upd_proj_simps",
     "\<lbrace>ta_update_Conditional ?ta ?c\<rbrace>\<^bsub>i\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>i\<^esub>",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 1))),
    ("FWState.ta_upd_proj_simps",
     "\<lbrace>ta_update_NewThread ?ta ?t\<rbrace>\<^bsub>i\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>i\<^esub>",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 1))),
    ("FWState.ta_obs_proj_simps",
     "\<lbrace>ta_update_obs ?ta ?obs\<rbrace>\<^bsub>i\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>i\<^esub>",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 1))),
    ("FWState.ta_upd_proj_simps",
     "\<lbrace>ta_update_wait_set ?ta ?w\<rbrace>\<^bsub>i\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>i\<^esub>",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 1))),
    ("FWState.convert_extTA_simps",
     "\<lbrace>convert_extTA ?f ?ta\<rbrace>\<^bsub>i\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>i\<^esub>",
     template_equation
      (template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app (template_hole 0, template_var 0))),
    ("FWState.ta_upd_proj_simps",
     "\<lbrace>ta_update_Conditional ?ta ?c\<rbrace>\<^bsub>t\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>t\<^esub>",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 1))),
    ("FWState.ta_upd_proj_simps",
     "\<lbrace>ta_update_interrupt ?ta ?i\<rbrace>\<^bsub>t\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>t\<^esub>",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 1))),
    ("FWState.ta_obs_proj_simps",
     "\<lbrace>ta_update_obs ?ta ?obs\<rbrace>\<^bsub>t\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>t\<^esub>",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 1))),
    ("FWState.ta_upd_proj_simps",
     "\<lbrace>ta_update_wait_set ?ta ?w\<rbrace>\<^bsub>t\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>t\<^esub>",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 1))),
    ("FWState.ta_upd_proj_simps",
     "\<lbrace>ta_update_NewThread ?ta ?t\<rbrace>\<^bsub>c\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>c\<^esub>",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 1))),
    ("FWState.ta_upd_proj_simps",
     "\<lbrace>ta_update_interrupt ?ta ?i\<rbrace>\<^bsub>c\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>c\<^esub>",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 1))),
    ("FWState.ta_obs_proj_simps",
     "\<lbrace>ta_update_obs ?ta ?obs\<rbrace>\<^bsub>c\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>c\<^esub>",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 1))),
    ("FWState.ta_upd_proj_simps",
     "\<lbrace>ta_update_wait_set ?ta ?w\<rbrace>\<^bsub>c\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>c\<^esub>",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 1))),
    ("FWState.convert_extTA_simps",
     "\<lbrace>convert_extTA ?f ?ta\<rbrace>\<^bsub>c\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>c\<^esub>",
     template_equation
      (template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app (template_hole 0, template_var 0))),
    ("FWState.ta_upd_proj_simps",
     "\<lbrace>ta_update_Conditional ?ta ?c\<rbrace>\<^bsub>l\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>l\<^esub>",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 1))),
    ("FWState.ta_upd_proj_simps",
     "\<lbrace>ta_update_NewThread ?ta ?t\<rbrace>\<^bsub>l\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>l\<^esub>",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 1))),
    ("FWState.ta_upd_proj_simps",
     "\<lbrace>ta_update_interrupt ?ta ?i\<rbrace>\<^bsub>l\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>l\<^esub>",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 1))),
    ("FWState.ta_obs_proj_simps",
     "\<lbrace>ta_update_obs ?ta ?obs\<rbrace>\<^bsub>l\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>l\<^esub>",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 1))),
    ("FWState.ta_upd_proj_simps",
     "\<lbrace>ta_update_wait_set ?ta ?w\<rbrace>\<^bsub>l\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>l\<^esub>",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 1))),
    ("FWState.convert_extTA_simps",
     "\<lbrace>convert_extTA ?f ?ta\<rbrace>\<^bsub>l\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>l\<^esub>",
     template_equation
      (template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app (template_hole 0, template_var 0))),
    ("FWState.inj_convert_new_thread_action",
     "inj (convert_new_thread_action ?f) = inj ?f",
     template_equation
      (template_app
        (template_app
          (template_hole 4, template_app (template_hole 3, template_var 0)),
         template_hole 2),
       template_app
        (template_app (template_hole 1, template_var 0), template_hole 0))),
    ("FWState.ta_upd_proj_simps",
     "\<lbrace>ta_update_locks ?ta ?x ?l\<rbrace>\<^bsub>o\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>o\<^esub>",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1),
           template_var 0)),
       template_app (template_hole 1, template_var 2))),
    ("FWState.convert_obs_initial_simps",
     "\<lbrace>convert_obs_initial ?ta\<rbrace>\<^bsub>o\<^esub> =
      map NormalAction \<lbrace>?ta\<rbrace>\<^bsub>o\<^esub>",
     template_equation
      (template_app
        (template_hole 4, template_app (template_hole 3, template_var 0)),
       template_app
        (template_app (template_hole 2, template_hole 1),
         template_app (template_hole 0, template_var 0)))),
    ("FWState.ta_upd_proj_simps",
     "\<lbrace>ta_update_locks ?ta ?x ?l\<rbrace>\<^bsub>w\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>w\<^esub>",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1),
           template_var 0)),
       template_app (template_hole 1, template_var 2))),
    ("FWState.ta_upd_proj_simps",
     "\<lbrace>ta_update_locks ?ta ?x ?l\<rbrace>\<^bsub>i\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>i\<^esub>",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1),
           template_var 0)),
       template_app (template_hole 1, template_var 2))),
    ("FWState.thr_a_conv",
     "\<lbrace>(?ls, ?nts, ?jswss)\<rbrace>\<^bsub>t\<^esub> = ?nts",
     template_equation
      (template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_var 2),
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 0))),
       template_var 1)),
    ("FWState.ta_upd_proj_simps",
     "\<lbrace>ta_update_locks ?ta ?x ?l\<rbrace>\<^bsub>t\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>t\<^esub>",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1),
           template_var 0)),
       template_app (template_hole 1, template_var 2))),
    ("FWState.ta_upd_proj_simps",
     "\<lbrace>ta_update_locks ?ta ?x ?l\<rbrace>\<^bsub>c\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>c\<^esub>",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1),
           template_var 0)),
       template_app (template_hole 1, template_var 2))),
    ("FWState.ta_upd_simps",
     "FWState.thread_action'_to_thread_action ?ca ?ta =
      ta_update_Conditional ?ta ?ca",
     template_equation
      (template_app
        (template_app
          (template_hole 2, template_app (template_hole 1, template_var 1)),
         template_var 0),
       template_app
        (template_app (template_hole 0, template_var 0), template_var 1))),
    ("FWState.ta_upd_simps",
     "FWState.thread_action'_to_thread_action ?ia ?ta =
      ta_update_interrupt ?ta ?ia",
     template_equation
      (template_app
        (template_app
          (template_hole 2, template_app (template_hole 1, template_var 1)),
         template_var 0),
       template_app
        (template_app (template_hole 0, template_var 0), template_var 1))),
    ("FWState.ta_upd_simps",
     "FWState.thread_action'_to_thread_action ?nt ?ta =
      ta_update_NewThread ?ta ?nt",
     template_equation
      (template_app
        (template_app
          (template_hole 2, template_app (template_hole 1, template_var 1)),
         template_var 0),
       template_app
        (template_app (template_hole 0, template_var 0), template_var 1))),
    ("FWState.ta_upd_simps",
     "FWState.thread_action'_to_thread_action ?ob ?ta =
      ta_update_obs ?ta ?ob",
     template_equation
      (template_app
        (template_app
          (template_hole 2, template_app (template_hole 1, template_var 1)),
         template_var 0),
       template_app
        (template_app (template_hole 0, template_var 0), template_var 1))),
    ("FWState.ta_upd_simps",
     "FWState.thread_action'_to_thread_action ?wa ?ta =
      ta_update_wait_set ?ta ?wa",
     template_equation
      (template_app
        (template_app
          (template_hole 2, template_app (template_hole 1, template_var 1)),
         template_var 0),
       template_app
        (template_app (template_hole 0, template_var 0), template_var 1))),
    ("FWState.convert_obs_initial_inject",
     "(convert_obs_initial ?ta = convert_obs_initial ?ta') = (?ta = ?ta')",
     template_bimplication
      (template_equation
        (template_app (template_hole 1, template_var 1),
         template_app (template_hole 1, template_var 0)),
       template_equation (template_var 1, template_var 0))),
    ("FWState.thr_conv", "thr (?ls, (?ts, ?m), ?ws) = ?ts",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 2, template_var 3),
           template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 2),
                 template_var 1)),
             template_var 0))),
       template_var 2)),
    ("FWState.thread_action'_to_thread_action_proj_simps",
     "\<lbrace>FWState.thread_action'_to_thread_action ?ca
                ?ta\<rbrace>\<^bsub>o\<^esub> =
      \<lbrace>ta_update_Conditional ?ta ?ca\<rbrace>\<^bsub>o\<^esub>",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0)),
       template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("FWState.thread_action'_to_thread_action_proj_simps",
     "\<lbrace>FWState.thread_action'_to_thread_action ?ia
                ?ta\<rbrace>\<^bsub>o\<^esub> =
      \<lbrace>ta_update_interrupt ?ta ?ia\<rbrace>\<^bsub>o\<^esub>",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0)),
       template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("FWState.thread_action'_to_thread_action_proj_simps",
     "\<lbrace>FWState.thread_action'_to_thread_action ?nt
                ?ta\<rbrace>\<^bsub>o\<^esub> =
      \<lbrace>ta_update_NewThread ?ta ?nt\<rbrace>\<^bsub>o\<^esub>",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0)),
       template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("FWState.thread_action'_to_thread_action_proj_simps",
     "\<lbrace>FWState.thread_action'_to_thread_action ?ob
                ?ta\<rbrace>\<^bsub>o\<^esub> =
      \<lbrace>ta_update_obs ?ta ?ob\<rbrace>\<^bsub>o\<^esub>",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0)),
       template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("FWState.thread_action'_to_thread_action_proj_simps",
     "\<lbrace>FWState.thread_action'_to_thread_action ?wa
                ?ta\<rbrace>\<^bsub>o\<^esub> =
      \<lbrace>ta_update_wait_set ?ta ?wa\<rbrace>\<^bsub>o\<^esub>",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0)),
       template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("FWState.thread_action'_to_thread_action_proj_simps",
     "\<lbrace>FWState.thread_action'_to_thread_action ?ca
                ?ta\<rbrace>\<^bsub>w\<^esub> =
      \<lbrace>ta_update_Conditional ?ta ?ca\<rbrace>\<^bsub>w\<^esub>",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0)),
       template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("FWState.thread_action'_to_thread_action_proj_simps",
     "\<lbrace>FWState.thread_action'_to_thread_action ?ia
                ?ta\<rbrace>\<^bsub>w\<^esub> =
      \<lbrace>ta_update_interrupt ?ta ?ia\<rbrace>\<^bsub>w\<^esub>",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0)),
       template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("FWState.thread_action'_to_thread_action_proj_simps",
     "\<lbrace>FWState.thread_action'_to_thread_action ?nt
                ?ta\<rbrace>\<^bsub>w\<^esub> =
      \<lbrace>ta_update_NewThread ?ta ?nt\<rbrace>\<^bsub>w\<^esub>",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0)),
       template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("FWState.thread_action'_to_thread_action_proj_simps",
     "\<lbrace>FWState.thread_action'_to_thread_action ?ob
                ?ta\<rbrace>\<^bsub>w\<^esub> =
      \<lbrace>ta_update_obs ?ta ?ob\<rbrace>\<^bsub>w\<^esub>",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0)),
       template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("FWState.thread_action'_to_thread_action_proj_simps",
     "\<lbrace>FWState.thread_action'_to_thread_action ?wa
                ?ta\<rbrace>\<^bsub>w\<^esub> =
      \<lbrace>ta_update_wait_set ?ta ?wa\<rbrace>\<^bsub>w\<^esub>",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0)),
       template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("FWState.thread_action'_to_thread_action_proj_simps",
     "\<lbrace>FWState.thread_action'_to_thread_action ?ca
                ?ta\<rbrace>\<^bsub>i\<^esub> =
      \<lbrace>ta_update_Conditional ?ta ?ca\<rbrace>\<^bsub>i\<^esub>",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0)),
       template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("FWState.thread_action'_to_thread_action_proj_simps",
     "\<lbrace>FWState.thread_action'_to_thread_action ?ia
                ?ta\<rbrace>\<^bsub>i\<^esub> =
      \<lbrace>ta_update_interrupt ?ta ?ia\<rbrace>\<^bsub>i\<^esub>",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0)),
       template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("FWState.thread_action'_to_thread_action_proj_simps",
     "\<lbrace>FWState.thread_action'_to_thread_action ?nt
                ?ta\<rbrace>\<^bsub>i\<^esub> =
      \<lbrace>ta_update_NewThread ?ta ?nt\<rbrace>\<^bsub>i\<^esub>",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0)),
       template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("FWState.thread_action'_to_thread_action_proj_simps",
     "\<lbrace>FWState.thread_action'_to_thread_action ?ob
                ?ta\<rbrace>\<^bsub>i\<^esub> =
      \<lbrace>ta_update_obs ?ta ?ob\<rbrace>\<^bsub>i\<^esub>",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0)),
       template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("FWState.thread_action'_to_thread_action_proj_simps",
     "\<lbrace>FWState.thread_action'_to_thread_action ?wa
                ?ta\<rbrace>\<^bsub>i\<^esub> =
      \<lbrace>ta_update_wait_set ?ta ?wa\<rbrace>\<^bsub>i\<^esub>",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0)),
       template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("FWState.thread_action'_to_thread_action_proj_simps",
     "\<lbrace>FWState.thread_action'_to_thread_action ?ca
                ?ta\<rbrace>\<^bsub>t\<^esub> =
      \<lbrace>ta_update_Conditional ?ta ?ca\<rbrace>\<^bsub>t\<^esub>",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0)),
       template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("FWState.thread_action'_to_thread_action_proj_simps",
     "\<lbrace>FWState.thread_action'_to_thread_action ?ia
                ?ta\<rbrace>\<^bsub>t\<^esub> =
      \<lbrace>ta_update_interrupt ?ta ?ia\<rbrace>\<^bsub>t\<^esub>",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0)),
       template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("FWState.thread_action'_to_thread_action_proj_simps",
     "\<lbrace>FWState.thread_action'_to_thread_action ?nt
                ?ta\<rbrace>\<^bsub>t\<^esub> =
      \<lbrace>ta_update_NewThread ?ta ?nt\<rbrace>\<^bsub>t\<^esub>",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0)),
       template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("FWState.thread_action'_to_thread_action_proj_simps",
     "\<lbrace>FWState.thread_action'_to_thread_action ?ob
                ?ta\<rbrace>\<^bsub>t\<^esub> =
      \<lbrace>ta_update_obs ?ta ?ob\<rbrace>\<^bsub>t\<^esub>",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0)),
       template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("FWState.thread_action'_to_thread_action_proj_simps",
     "\<lbrace>FWState.thread_action'_to_thread_action ?wa
                ?ta\<rbrace>\<^bsub>t\<^esub> =
      \<lbrace>ta_update_wait_set ?ta ?wa\<rbrace>\<^bsub>t\<^esub>",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0)),
       template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("FWState.convert_extTA_simps",
     "\<lbrace>convert_extTA ?f ?ta\<rbrace>\<^bsub>t\<^esub> =
      map (convert_new_thread_action ?f)
       \<lbrace>?ta\<rbrace>\<^bsub>t\<^esub>",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app (template_hole 3, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 2, template_app (template_hole 1, template_var 1)),
         template_app (template_hole 0, template_var 0)))),
    ("FWState.cond_a_conv",
     "\<lbrace>(?ls, ?nts, ?js, ?wws)\<rbrace>\<^bsub>c\<^esub> = ?js",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 2, template_var 3),
           template_app
            (template_app (template_hole 1, template_var 2),
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0)))),
       template_var 1)),
    ("FWState.thread_action'_to_thread_action_proj_simps",
     "\<lbrace>FWState.thread_action'_to_thread_action ?ca
                ?ta\<rbrace>\<^bsub>c\<^esub> =
      \<lbrace>ta_update_Conditional ?ta ?ca\<rbrace>\<^bsub>c\<^esub>",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0)),
       template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("FWState.thread_action'_to_thread_action_proj_simps",
     "\<lbrace>FWState.thread_action'_to_thread_action ?ia
                ?ta\<rbrace>\<^bsub>c\<^esub> =
      \<lbrace>ta_update_interrupt ?ta ?ia\<rbrace>\<^bsub>c\<^esub>",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0)),
       template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("FWState.thread_action'_to_thread_action_proj_simps",
     "\<lbrace>FWState.thread_action'_to_thread_action ?nt
                ?ta\<rbrace>\<^bsub>c\<^esub> =
      \<lbrace>ta_update_NewThread ?ta ?nt\<rbrace>\<^bsub>c\<^esub>",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0)),
       template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("FWState.thread_action'_to_thread_action_proj_simps",
     "\<lbrace>FWState.thread_action'_to_thread_action ?ob
                ?ta\<rbrace>\<^bsub>c\<^esub> =
      \<lbrace>ta_update_obs ?ta ?ob\<rbrace>\<^bsub>c\<^esub>",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0)),
       template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("FWState.thread_action'_to_thread_action_proj_simps",
     "\<lbrace>FWState.thread_action'_to_thread_action ?wa
                ?ta\<rbrace>\<^bsub>c\<^esub> =
      \<lbrace>ta_update_wait_set ?ta ?wa\<rbrace>\<^bsub>c\<^esub>",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0)),
       template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("FWState.thread_action'_to_thread_action_proj_simps",
     "\<lbrace>FWState.thread_action'_to_thread_action ?ca
                ?ta\<rbrace>\<^bsub>l\<^esub> =
      \<lbrace>ta_update_Conditional ?ta ?ca\<rbrace>\<^bsub>l\<^esub>",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0)),
       template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("FWState.thread_action'_to_thread_action_proj_simps",
     "\<lbrace>FWState.thread_action'_to_thread_action ?ia
                ?ta\<rbrace>\<^bsub>l\<^esub> =
      \<lbrace>ta_update_interrupt ?ta ?ia\<rbrace>\<^bsub>l\<^esub>",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0)),
       template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("FWState.thread_action'_to_thread_action_proj_simps",
     "\<lbrace>FWState.thread_action'_to_thread_action ?nt
                ?ta\<rbrace>\<^bsub>l\<^esub> =
      \<lbrace>ta_update_NewThread ?ta ?nt\<rbrace>\<^bsub>l\<^esub>",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0)),
       template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("FWState.thread_action'_to_thread_action_proj_simps",
     "\<lbrace>FWState.thread_action'_to_thread_action ?ob
                ?ta\<rbrace>\<^bsub>l\<^esub> =
      \<lbrace>ta_update_obs ?ta ?ob\<rbrace>\<^bsub>l\<^esub>",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0)),
       template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("FWState.thread_action'_to_thread_action_proj_simps",
     "\<lbrace>FWState.thread_action'_to_thread_action ?wa
                ?ta\<rbrace>\<^bsub>l\<^esub> =
      \<lbrace>ta_update_wait_set ?ta ?wa\<rbrace>\<^bsub>l\<^esub>",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0)),
       template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("FWState.ta_obs_proj_simps",
     "\<lbrace>ta_update_obs ?ta ?obs\<rbrace>\<^bsub>o\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>o\<^esub> @ [?obs]",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app (template_hole 3, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 2, template_app (template_hole 4, template_var 1)),
         template_app
          (template_app (template_hole 1, template_var 0),
           template_hole 0)))),
    ("FWState.ta_upd_proj_simps",
     "\<lbrace>ta_update_wait_set ?ta ?w\<rbrace>\<^bsub>w\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>w\<^esub> @ [?w]",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app (template_hole 3, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 2, template_app (template_hole 4, template_var 1)),
         template_app
          (template_app (template_hole 1, template_var 0),
           template_hole 0)))),
    ("FWState.ta_upd_proj_simps",
     "\<lbrace>ta_update_interrupt ?ta ?i\<rbrace>\<^bsub>i\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>i\<^esub> @ [?i]",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app (template_hole 3, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 2, template_app (template_hole 4, template_var 1)),
         template_app
          (template_app (template_hole 1, template_var 0),
           template_hole 0)))),
    ("FWState.ta_upd_proj_simps",
     "\<lbrace>ta_update_NewThread ?ta ?t\<rbrace>\<^bsub>t\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>t\<^esub> @ [?t]",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app (template_hole 3, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 2, template_app (template_hole 4, template_var 1)),
         template_app
          (template_app (template_hole 1, template_var 0),
           template_hole 0)))),
    ("FWState.ta_upd_proj_simps",
     "\<lbrace>ta_update_Conditional ?ta ?c\<rbrace>\<^bsub>c\<^esub> =
      \<lbrace>?ta\<rbrace>\<^bsub>c\<^esub> @ [?c]",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app (template_hole 3, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 2, template_app (template_hole 4, template_var 1)),
         template_app
          (template_app (template_hole 1, template_var 0),
           template_hole 0)))),
    ("FWState.convert_extTA_compose",
     "convert_extTA ?f (convert_extTA ?g ?ta) =
      convert_extTA (?f o ?g) ?ta",
     template_equation
      (template_app
        (template_app (template_hole 3, template_var 2),
         template_app
          (template_app (template_hole 2, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1)),
         template_var 0))),
    ("FWState.ta_upd_simps",
     "FWState.thread_action'_to_thread_action (?la, ?l) ?ta =
      ta_update_locks ?ta ?la ?l",
     template_equation
      (template_app
        (template_app
          (template_hole 3,
           template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_var 2),
               template_var 1))),
         template_var 0),
       template_app
        (template_app
          (template_app (template_hole 0, template_var 0), template_var 2),
         template_var 1))),
    ("FWState.convert_new_thread_action_compose",
     "convert_new_thread_action ?f (convert_new_thread_action ?g ?ta) =
      convert_new_thread_action (?f o ?g) ?ta",
     template_equation
      (template_app
        (template_app (template_hole 3, template_var 2),
         template_app
          (template_app (template_hole 2, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1)),
         template_var 0))),
    ("FWState.interrupts_conv",
     "interrupts (?ls, (?ts, ?m), ?ws, ?is) = ?is",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app (template_hole 3, template_var 4),
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 3),
                 template_var 2)),
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0)))),
       template_var 0)),
    ("FWState.shr_conv", "shr (?ls, (?ts, ?m), ?ws, ?is) = ?m",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app (template_hole 3, template_var 4),
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 3),
                 template_var 2)),
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0)))),
       template_var 2)),
    ("FWState.wset_conv", "wset (?ls, (?ts, ?m), ?ws, ?is) = ?ws",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app (template_hole 3, template_var 4),
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 3),
                 template_var 2)),
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0)))),
       template_var 1)),
    ("FWState.wset_a_conv",
     "\<lbrace>(?ls, ?nts, ?js, ?wss, ?isobs)\<rbrace>\<^bsub>w\<^esub> =
      ?wss",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app (template_hole 3, template_var 4),
           template_app
            (template_app (template_hole 2, template_var 3),
             template_app
              (template_app (template_hole 1, template_var 2),
               template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 0))))),
       template_var 1)),
    ("FWState.neq_no_wait_locks_conv",
     "(?ln ~= no_wait_locks) = (EX l. 0 < ?ln $ l)",
     template_equation
      (template_app
        (template_hole 6,
         template_app
          (template_app (template_hole 5, template_var 0),
           template_app (template_hole 4, template_hole 3))),
       template_app (template_hole 2, t_empty))),
    ("FWState.convert_new_thread_action_inv",
     "(convert_new_thread_action ?f ?nta = ThreadExists ?t ?b) =
      (?nta = ThreadExists ?t ?b)",
     template_bimplication
      (template_equation
        (template_app
          (template_app (template_hole 3, template_var 3), template_var 2),
         template_app
          (template_app (template_hole 2, template_var 1), template_var 0)),
       template_equation
        (template_var 2,
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("FWState.convert_new_thread_action_inv",
     "(ThreadExists ?t ?b = convert_new_thread_action ?f ?nta) =
      (?nta = ThreadExists ?t ?b)",
     template_bimplication
      (template_equation
        (template_app
          (template_app (template_hole 3, template_var 3), template_var 2),
         template_app
          (template_app (template_hole 2, template_var 1), template_var 0)),
       template_equation
        (template_var 0,
         template_app
          (template_app (template_hole 0, template_var 3),
           template_var 2)))),
    ("FWState.thread_action'_to_thread_action_proj_simps",
     "\<lbrace>FWState.thread_action'_to_thread_action (?la, ?l)
                ?ta\<rbrace>\<^bsub>o\<^esub> =
      \<lbrace>ta_update_locks ?ta ?la ?l\<rbrace>\<^bsub>o\<^esub>",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app
            (template_hole 3,
             template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 2),
                 template_var 1))),
           template_var 0)),
       template_app
        (template_hole 4,
         template_app
          (template_app
            (template_app (template_hole 0, template_var 0),
             template_var 2),
           template_var 1)))),
    ("FWState.thread_action'_to_thread_action_proj_simps",
     "\<lbrace>FWState.thread_action'_to_thread_action (?la, ?l)
                ?ta\<rbrace>\<^bsub>w\<^esub> =
      \<lbrace>ta_update_locks ?ta ?la ?l\<rbrace>\<^bsub>w\<^esub>",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app
            (template_hole 3,
             template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 2),
                 template_var 1))),
           template_var 0)),
       template_app
        (template_hole 4,
         template_app
          (template_app
            (template_app (template_hole 0, template_var 0),
             template_var 2),
           template_var 1)))),
    ("FWState.thread_action'_to_thread_action_proj_simps",
     "\<lbrace>FWState.thread_action'_to_thread_action (?la, ?l)
                ?ta\<rbrace>\<^bsub>i\<^esub> =
      \<lbrace>ta_update_locks ?ta ?la ?l\<rbrace>\<^bsub>i\<^esub>",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app
            (template_hole 3,
             template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 2),
                 template_var 1))),
           template_var 0)),
       template_app
        (template_hole 4,
         template_app
          (template_app
            (template_app (template_hole 0, template_var 0),
             template_var 2),
           template_var 1)))),
    ("FWState.thread_action'_to_thread_action_proj_simps",
     "\<lbrace>FWState.thread_action'_to_thread_action (?la, ?l)
                ?ta\<rbrace>\<^bsub>t\<^esub> =
      \<lbrace>ta_update_locks ?ta ?la ?l\<rbrace>\<^bsub>t\<^esub>",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app
            (template_hole 3,
             template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 2),
                 template_var 1))),
           template_var 0)),
       template_app
        (template_hole 4,
         template_app
          (template_app
            (template_app (template_hole 0, template_var 0),
             template_var 2),
           template_var 1)))),
    ("FWState.thread_action'_to_thread_action_proj_simps",
     "\<lbrace>FWState.thread_action'_to_thread_action (?la, ?l)
                ?ta\<rbrace>\<^bsub>c\<^esub> =
      \<lbrace>ta_update_locks ?ta ?la ?l\<rbrace>\<^bsub>c\<^esub>",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app
            (template_hole 3,
             template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 2),
                 template_var 1))),
           template_var 0)),
       template_app
        (template_hole 4,
         template_app
          (template_app
            (template_app (template_hole 0, template_var 0),
             template_var 2),
           template_var 1)))),
    ("FWState.thread_action'_to_thread_action_proj_simps",
     "\<lbrace>FWState.thread_action'_to_thread_action (?la, ?l)
                ?ta\<rbrace>\<^bsub>l\<^esub> =
      \<lbrace>ta_update_locks ?ta ?la ?l\<rbrace>\<^bsub>l\<^esub>",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app
            (template_hole 3,
             template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 2),
                 template_var 1))),
           template_var 0)),
       template_app
        (template_hole 4,
         template_app
          (template_app
            (template_app (template_hole 0, template_var 0),
             template_var 2),
           template_var 1)))),
    ("FWState.obs_a_conv",
     "\<lbrace>(?ls, ?nts, ?js, ?wss, ?is, ?obs)\<rbrace>\<^bsub>o\<^esub> =
      ?obs",
     template_equation
      (template_app
        (template_hole 5,
         template_app
          (template_app (template_hole 4, template_var 5),
           template_app
            (template_app (template_hole 3, template_var 4),
             template_app
              (template_app (template_hole 2, template_var 3),
               template_app
                (template_app (template_hole 1, template_var 2),
                 template_app
                  (template_app (template_hole 0, template_var 1),
                   template_var 0)))))),
       template_var 0)),
    ("FWState.interrupt_a_conv",
     "\<lbrace>(?ls, ?nts, ?js, ?ws, ?is, ?obs)\<rbrace>\<^bsub>i\<^esub> =
      ?is",
     template_equation
      (template_app
        (template_hole 5,
         template_app
          (template_app (template_hole 4, template_var 5),
           template_app
            (template_app (template_hole 3, template_var 4),
             template_app
              (template_app (template_hole 2, template_var 3),
               template_app
                (template_app (template_hole 1, template_var 2),
                 template_app
                  (template_app (template_hole 0, template_var 1),
                   template_var 0)))))),
       template_var 1)),
    ("FWState.ta_upd_proj_simps",
     "\<lbrace>ta_update_locks ?ta ?x ?l\<rbrace>\<^bsub>l\<^esub> =
      (let ls = \<lbrace>?ta\<rbrace>\<^bsub>l\<^esub>
       in ls(?l $:= ls $ ?l @ [?x]))",
     template_equation
      (template_app
        (template_hole 7,
         template_app
          (template_app
            (template_app (template_hole 6, template_var 2),
             template_var 1),
           template_var 0)),
       template_app
        (template_app
          (template_hole 5, template_app (template_hole 7, template_var 2)),
         t_empty))),
    ("FWState.convert_new_thread_action_inv",
     "(convert_new_thread_action ?f ?nta = NewThread ?t ?x ?h) =
      (EX x'. ?nta = NewThread ?t x' ?h & ?x = ?f x')",
     template_equation
      (template_app
        (template_app
          (template_hole 7,
           template_app
            (template_app (template_hole 6, template_var 4),
             template_var 3)),
         template_app
          (template_app
            (template_app (template_hole 5, template_var 2),
             template_var 1),
           template_var 0)),
       template_app (template_hole 4, t_empty))),
    ("FWState.convert_new_thread_action_inv",
     "(NewThread ?t ?x ?h = convert_new_thread_action ?f ?nta) =
      (EX x'. ?nta = NewThread ?t x' ?h & ?x = ?f x')",
     template_equation
      (template_app
        (template_app
          (template_hole 7,
           template_app
            (template_app
              (template_app (template_hole 6, template_var 4),
               template_var 3),
             template_var 2)),
         template_app
          (template_app (template_hole 5, template_var 1), template_var 0)),
       template_app (template_hole 4, t_empty))),
    ("FWState.convert_extTA_simps",
     "convert_extTA ?f \<lbrace>\<rbrace> = \<lbrace>\<rbrace>",
     template_equation
      (template_app
        (template_app (template_hole 15, template_var 0),
         template_app
          (template_app
            (template_hole 14,
             template_app (template_hole 13, template_hole 12)),
           template_app
            (template_app (template_hole 11, template_hole 10),
             template_app
              (template_app (template_hole 9, template_hole 8),
               template_app
                (template_app (template_hole 7, template_hole 6),
                 template_app
                  (template_app (template_hole 5, template_hole 4),
                   template_hole 3)))))),
       template_app
        (template_app
          (template_hole 2,
           template_app (template_hole 13, template_hole 12)),
         template_app
          (template_app (template_hole 1, template_hole 0),
           template_app
            (template_app (template_hole 9, template_hole 8),
             template_app
              (template_app (template_hole 7, template_hole 6),
               template_app
                (template_app (template_hole 5, template_hole 4),
                 template_hole 3))))))),
    ("FWState.convert_extTA_simps",
     "convert_extTA ?f (?las, ?tas, ?was, ?cas, ?is, ?obs) =
      (?las, map (convert_new_thread_action ?f) ?tas, ?was, ?cas, ?is,
       ?obs)",
     template_equation
      (template_app
        (template_app (template_hole 9, template_var 6),
         template_app
          (template_app (template_hole 8, template_var 5),
           template_app
            (template_app (template_hole 7, template_var 4),
             template_app
              (template_app (template_hole 6, template_var 3),
               template_app
                (template_app (template_hole 5, template_var 2),
                 template_app
                  (template_app (template_hole 4, template_var 1),
                   template_var 0)))))),
       template_app
        (template_app (template_hole 3, template_var 5),
         template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app
                (template_hole 1,
                 template_app (template_hole 0, template_var 6)),
               template_var 4)),
           template_app
            (template_app (template_hole 6, template_var 3),
             template_app
              (template_app (template_hole 5, template_var 2),
               template_app
                (template_app (template_hole 4, template_var 1),
                 template_var 0))))))),
    ("FWState.ta_upd_simps",
     "ta_update_Conditional (?ls, ?nts, ?js, ?wss, ?is, ?obs) ?j =
      (?ls, ?nts, ?js @ [?j], ?wss, ?is, ?obs)",
     template_equation
      (template_app
        (template_app
          (template_hole 8,
           template_app
            (template_app (template_hole 7, template_var 6),
             template_app
              (template_app (template_hole 6, template_var 5),
               template_app
                (template_app (template_hole 5, template_var 4),
                 template_app
                  (template_app (template_hole 4, template_var 3),
                   template_app
                    (template_app (template_hole 3, template_var 2),
                     template_var 1)))))),
         template_var 0),
       template_app
        (template_app (template_hole 7, template_var 6),
         template_app
          (template_app (template_hole 6, template_var 5),
           template_app
            (template_app
              (template_hole 5,
               template_app
                (template_app (template_hole 2, template_var 4),
                 template_app
                  (template_app (template_hole 1, template_var 0),
                   template_hole 0))),
             template_app
              (template_app (template_hole 4, template_var 3),
               template_app
                (template_app (template_hole 3, template_var 2),
                 template_var 1))))))),
    ("FWState.ta_upd_simps",
     "ta_update_NewThread (?ls, ?nts, ?js, ?wss, ?is, ?obs) ?nt =
      (?ls, ?nts @ [?nt], ?js, ?wss, ?is, ?obs)",
     template_equation
      (template_app
        (template_app
          (template_hole 8,
           template_app
            (template_app (template_hole 7, template_var 6),
             template_app
              (template_app (template_hole 6, template_var 5),
               template_app
                (template_app (template_hole 5, template_var 4),
                 template_app
                  (template_app (template_hole 4, template_var 3),
                   template_app
                    (template_app (template_hole 3, template_var 2),
                     template_var 1)))))),
         template_var 0),
       template_app
        (template_app (template_hole 7, template_var 6),
         template_app
          (template_app
            (template_hole 6,
             template_app
              (template_app (template_hole 2, template_var 5),
               template_app
                (template_app (template_hole 1, template_var 0),
                 template_hole 0))),
           template_app
            (template_app (template_hole 5, template_var 4),
             template_app
              (template_app (template_hole 4, template_var 3),
               template_app
                (template_app (template_hole 3, template_var 2),
                 template_var 1))))))),
    ("FWState.ta_upd_simps",
     "ta_update_interrupt (?ls, ?nts, ?js, ?wss, ?is, ?obs) ?i =
      (?ls, ?nts, ?js, ?wss, ?is @ [?i], ?obs)",
     template_equation
      (template_app
        (template_app
          (template_hole 8,
           template_app
            (template_app (template_hole 7, template_var 6),
             template_app
              (template_app (template_hole 6, template_var 5),
               template_app
                (template_app (template_hole 5, template_var 4),
                 template_app
                  (template_app (template_hole 4, template_var 3),
                   template_app
                    (template_app (template_hole 3, template_var 2),
                     template_var 1)))))),
         template_var 0),
       template_app
        (template_app (template_hole 7, template_var 6),
         template_app
          (template_app (template_hole 6, template_var 5),
           template_app
            (template_app (template_hole 5, template_var 4),
             template_app
              (template_app (template_hole 4, template_var 3),
               template_app
                (template_app
                  (template_hole 3,
                   template_app
                    (template_app (template_hole 2, template_var 2),
                     template_app
                      (template_app (template_hole 1, template_var 0),
                       template_hole 0))),
                 template_var 1))))))),
    ("FWState.ta_upd_simps",
     "ta_update_obs (?ls, ?nts, ?js, ?wss, ?is, ?obs) ?ob =
      (?ls, ?nts, ?js, ?wss, ?is, ?obs @ [?ob])",
     template_equation
      (template_app
        (template_app
          (template_hole 8,
           template_app
            (template_app (template_hole 7, template_var 6),
             template_app
              (template_app (template_hole 6, template_var 5),
               template_app
                (template_app (template_hole 5, template_var 4),
                 template_app
                  (template_app (template_hole 4, template_var 3),
                   template_app
                    (template_app (template_hole 3, template_var 2),
                     template_var 1)))))),
         template_var 0),
       template_app
        (template_app (template_hole 7, template_var 6),
         template_app
          (template_app (template_hole 6, template_var 5),
           template_app
            (template_app (template_hole 5, template_var 4),
             template_app
              (template_app (template_hole 4, template_var 3),
               template_app
                (template_app (template_hole 3, template_var 2),
                 template_app
                  (template_app (template_hole 2, template_var 1),
                   template_app
                    (template_app (template_hole 1, template_var 0),
                     template_hole 0))))))))),
    ("FWState.ta_upd_simps",
     "ta_update_wait_set (?ls, ?nts, ?js, ?wss, ?is, ?obs) ?ws =
      (?ls, ?nts, ?js, ?wss @ [?ws], ?is, ?obs)",
     template_equation
      (template_app
        (template_app
          (template_hole 8,
           template_app
            (template_app (template_hole 7, template_var 6),
             template_app
              (template_app (template_hole 6, template_var 5),
               template_app
                (template_app (template_hole 5, template_var 4),
                 template_app
                  (template_app (template_hole 4, template_var 3),
                   template_app
                    (template_app (template_hole 3, template_var 2),
                     template_var 1)))))),
         template_var 0),
       template_app
        (template_app (template_hole 7, template_var 6),
         template_app
          (template_app (template_hole 6, template_var 5),
           template_app
            (template_app (template_hole 5, template_var 4),
             template_app
              (template_app
                (template_hole 4,
                 template_app
                  (template_app (template_hole 2, template_var 3),
                   template_app
                    (template_app (template_hole 1, template_var 0),
                     template_hole 0))),
               template_app
                (template_app (template_hole 3, template_var 2),
                 template_var 1))))))),
    ("FWState.convert_obs_initial_eq_empty_TA",
     "(convert_obs_initial ?ta = \<lbrace>\<rbrace>) =
      (?ta = \<lbrace>\<rbrace>)",
     template_bimplication
      (template_equation
        (template_app (template_hole 19, template_var 0),
         template_app
          (template_app
            (template_hole 18,
             template_app (template_hole 17, template_hole 16)),
           template_app
            (template_app (template_hole 15, template_hole 14),
             template_app
              (template_app (template_hole 13, template_hole 12),
               template_app
                (template_app (template_hole 11, template_hole 10),
                 template_app
                  (template_app (template_hole 9, template_hole 8),
                   template_hole 7)))))),
       template_equation
        (template_var 0,
         template_app
          (template_app
            (template_hole 5,
             template_app (template_hole 17, template_hole 16)),
           template_app
            (template_app (template_hole 4, template_hole 14),
             template_app
              (template_app (template_hole 3, template_hole 12),
               template_app
                (template_app (template_hole 2, template_hole 10),
                 template_app
                  (template_app (template_hole 1, template_hole 8),
                   template_hole 0)))))))),
    ("FWState.convert_obs_initial_eq_empty_TA",
     "(\<lbrace>\<rbrace> = convert_obs_initial ?ta) =
      (?ta = \<lbrace>\<rbrace>)",
     template_bimplication
      (template_equation
        (template_app
          (template_app
            (template_hole 19,
             template_app (template_hole 18, template_hole 17)),
           template_app
            (template_app (template_hole 16, template_hole 15),
             template_app
              (template_app (template_hole 14, template_hole 13),
               template_app
                (template_app (template_hole 12, template_hole 11),
                 template_app
                  (template_app (template_hole 10, template_hole 9),
                   template_hole 8))))),
         template_app (template_hole 7, template_var 0)),
       template_equation
        (template_var 0,
         template_app
          (template_app
            (template_hole 5,
             template_app (template_hole 18, template_hole 17)),
           template_app
            (template_app (template_hole 4, template_hole 15),
             template_app
              (template_app (template_hole 3, template_hole 13),
               template_app
                (template_app (template_hole 2, template_hole 11),
                 template_app
                  (template_app (template_hole 1, template_hole 9),
                   template_hole 0)))))))),
    ("FWState.ta_upd_simps",
     "ta_update_locks (?ls, ?nts, ?js, ?wss, ?obs) ?lta ?l =
      (?ls(?l $:= ?ls $ ?l @ [?lta]), ?nts, ?js, ?wss, ?obs)",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_hole 9,
             template_app
              (template_app (template_hole 8, template_var 6),
               template_app
                (template_app (template_hole 7, template_var 5),
                 template_app
                  (template_app (template_hole 6, template_var 4),
                   template_app
                    (template_app (template_hole 5, template_var 3),
                     template_var 2))))),
           template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_hole 8,
           template_app
            (template_app
              (template_app (template_hole 4, template_var 6),
               template_var 0),
             template_app
              (template_app
                (template_hole 3,
                 template_app
                  (template_app (template_hole 2, template_var 6),
                   template_var 0)),
               template_app
                (template_app (template_hole 1, template_var 1),
                 template_hole 0)))),
         template_app
          (template_app (template_hole 7, template_var 5),
           template_app
            (template_app (template_hole 6, template_var 4),
             template_app
              (template_app (template_hole 5, template_var 3),
               template_var 2)))))),
    ("FWState.convert_extTA_eq_conv",
     "(convert_extTA ?f ?ta = ?ta') =
      (\<lbrace>?ta\<rbrace>\<^bsub>l\<^esub> =
       \<lbrace>?ta'\<rbrace>\<^bsub>l\<^esub> &
       \<lbrace>?ta\<rbrace>\<^bsub>c\<^esub> =
       \<lbrace>?ta'\<rbrace>\<^bsub>c\<^esub> &
       \<lbrace>?ta\<rbrace>\<^bsub>w\<^esub> =
       \<lbrace>?ta'\<rbrace>\<^bsub>w\<^esub> &
       \<lbrace>?ta\<rbrace>\<^bsub>o\<^esub> =
       \<lbrace>?ta'\<rbrace>\<^bsub>o\<^esub> &
       \<lbrace>?ta\<rbrace>\<^bsub>i\<^esub> =
       \<lbrace>?ta'\<rbrace>\<^bsub>i\<^esub> &
       length \<lbrace>?ta\<rbrace>\<^bsub>t\<^esub> =
       length \<lbrace>?ta'\<rbrace>\<^bsub>t\<^esub> &
       (ALL n<length \<lbrace>?ta\<rbrace>\<^bsub>t\<^esub>.
           convert_new_thread_action ?f
            (\<lbrace>?ta\<rbrace>\<^bsub>t\<^esub> ! n) =
           \<lbrace>?ta'\<rbrace>\<^bsub>t\<^esub> ! n))",
     template_bimplication
      (template_equation
        (template_app
          (template_app (template_hole 28, template_var 2), template_var 1),
         template_var 0),
       template_dunno))]
