   [("Smooth.higher_differentiable_on_id",
     "higher_differentiable_on ?S (%x. x) ?n",
     template_predicate
      (
         template_app
          (template_app
            (template_app (template_hole 0, template_var 1), t_empty),
           template_var 0)
         )),
    ("Smooth.higher_differentiable_on_const",
     "higher_differentiable_on ?S (%x. ?c) ?n",
     template_predicate
      (
         template_app
          (template_app
            (template_app (template_hole 0, template_var 2), t_empty),
           template_var 0)
         )),
    ("Smooth.smooth_on_id", "?k-smooth_on ?S (%x. x)",
     template_predicate
      (
         template_app
          (template_app
            (template_app (template_hole 0, template_var 1),
             template_var 0),
           t_empty)
         )),
    ("Smooth.smooth_on_const", "?k-smooth_on ?S (%x. ?c)",
     template_predicate
      (
         template_app
          (template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1),
           t_empty)
         )),
    ("Smooth.higher_differentiable_on_fst",
     "higher_differentiable_on (?S \<times> ?T) fst ?k",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 2), t_empty)),
             template_hole 0),
           template_var 0)
         )),
    ("Smooth.higher_differentiable_on_snd",
     "higher_differentiable_on (?S \<times> ?T) snd ?k",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 2), t_empty)),
             template_hole 0),
           template_var 0)
         )),
    ("Smooth.higher_differentiable_on_imp_continuous_on",
     "higher_differentiable_on ?S ?f ?n ==> continuous_on ?S ?f",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 1, template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 2), template_var 1)
           ))),
    ("Smooth.smooth_on_imp_continuous_on",
     "?k-smooth_on ?S ?f ==> continuous_on ?S ?f",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 1, template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 1), template_var 0)
           ))),
    ("Smooth.higher_differentiable_on_SucD",
     "higher_differentiable_on ?S ?f (Suc ?n) ==>
      higher_differentiable_on ?S ?f ?n",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 1, template_var 2),
                template_var 1),
              template_app (template_hole 0, template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 1, template_var 2),
               template_var 1),
             template_var 0)
           ))),
    ("Smooth.diffeomorphism_add",
     "diffeomorphism ?k UNIV UNIV (%x. x + ?c) (%x. x - ?c)",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_app
                (template_app (template_hole 3, template_var 1),
                 template_hole 2),
               template_hole 2),
             t_empty),
           t_empty)
         )),
    ("Smooth.diffeomorphismD",
     "diffeomorphism ?k ?S ?T ?f ?g ==> ?k-smooth_on ?S ?f",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 1, template_var 4),
                    template_var 3),
                  template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 0, template_var 4),
               template_var 3),
             template_var 1)
           ))),
    ("Smooth.diffeomorphismD",
     "diffeomorphism ?k ?S ?T ?f ?g ==> ?k-smooth_on ?T ?g",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 1, template_var 4),
                    template_var 3),
                  template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 0, template_var 4),
               template_var 2),
             template_var 0)
           ))),
    ("Smooth.higher_differentiable_on_addD",
     "higher_differentiable_on ?S ?f (?n + ?m) ==>
      higher_differentiable_on ?S ?f ?n",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 1, template_var 3),
                template_var 2),
              template_app
               (template_app (template_hole 0, template_var 1),
                template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 1, template_var 3),
               template_var 2),
             template_var 1)
           ))),
    ("Smooth.diffeomorphismD",
     "diffeomorphism ?k ?S ?T ?f ?g ==> ?g ` ?T = ?S",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 2, template_var 4),
                    template_var 3),
                  template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_equation
        (template_app
          (template_app (template_hole 0, template_var 0), template_var 2),
         template_var 3))),
    ("Smooth.diffeomorphismD",
     "diffeomorphism ?k ?S ?T ?f ?g ==> ?f ` ?S = ?T",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 2, template_var 4),
                    template_var 3),
                  template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_equation
        (template_app
          (template_app (template_hole 0, template_var 1), template_var 3),
         template_var 2))),
    ("Smooth.diffeomorphism_imp_homeomorphism",
     "diffeomorphism ?k ?s ?t ?p ?p' ==> homeomorphism ?s ?t ?p ?p'",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 1, template_var 4),
                    template_var 3),
                  template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app (template_hole 0, template_var 3),
                 template_var 2),
               template_var 1),
             template_var 0)
           ))),
    ("Smooth.ball_differentiable_atD",
     "ALL x:?S. ?f differentiable at x ==> ?f differentiable_on ?S",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 1), t_empty)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 0), template_var 1)
           ))),
    ("Smooth.higher_differentiable_on_imp_continuous_nth_derivative",
     "higher_differentiable_on ?S ?f ?n ==>
      continuous_on ?S (%x. nth_derivative ?n ?f x ?v)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 3),
                template_var 2),
              template_var 1)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, template_var 3), t_empty)
           ))),
    ("Smooth.higher_differentiable_on_imp_differentiable_on",
     "[| higher_differentiable_on ?S ?f ?k; 0 < ?k |]
      ==> ?f differentiable_on ?S",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 3, template_var 2),
                template_var 1),
              template_var 0)
            ),
        template_inequation (less_than, template_hole 1, template_var 0)],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 1), template_var 2)
           ))),
    ("Smooth.higher_differentiable_on_le",
     "[| higher_differentiable_on ?S ?f ?m; ?n <= ?m |]
      ==> higher_differentiable_on ?S ?f ?n",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 1, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_inequation (less_equals, template_var 0, template_var 1)],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 1, template_var 3),
               template_var 2),
             template_var 0)
           ))),
    ("Smooth.higher_differentiable_on_subset",
     "[| higher_differentiable_on ?T ?f ?n; ?S <= ?T |]
      ==> higher_differentiable_on ?S ?f ?n",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 1, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_inequation (less_equals, template_var 0, template_var 3)],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 1, template_var 0),
               template_var 2),
             template_var 1)
           ))),
    ("Smooth.smooth_on_le",
     "[| ?k-smooth_on ?S ?f; ?l <= ?k |] ==> ?l-smooth_on ?S ?f",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 1, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_inequation (less_equals, template_var 0, template_var 3)],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 1, template_var 0),
               template_var 2),
             template_var 1)
           ))),
    ("Smooth.smooth_on_imp_differentiable_on",
     "[| ?k-smooth_on ?S ?f; ?k ~= 0 |] ==> ?f differentiable_on ?S",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 4, template_var 2),
                template_var 1),
              template_var 0)
            ),
        template_negation
         (template_equation (template_var 2, template_hole 1))],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 0), template_var 1)
           ))),
    ("Smooth.smooth_on_uminus_fun",
     "[| ?k-smooth_on ?S ?g; open ?S |] ==> ?k-smooth_on ?S (- ?g)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 2),
                template_var 1),
              template_var 0)
            ),
        template_predicate
         (template_app (template_hole 1, template_var 1))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 2, template_var 2),
               template_var 1),
             template_app (template_hole 0, template_var 0))
           ))),
    ("Smooth.smooth_on_subset",
     "[| ?k-smooth_on ?T ?f; ?S <= ?T |] ==> ?k-smooth_on ?S ?f",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 1, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_inequation (less_equals, template_var 0, template_var 2)],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 1, template_var 3),
               template_var 0),
             template_var 1)
           ))),
    ("Smooth.smooth_on_frechet_derivative",
     "smooth_on UNIV ?f ==>
      smooth_on UNIV (%x. frechet_derivative ?f (at x) ?v)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 4, template_hole 3),
                template_hole 2),
              template_var 1)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 4, template_hole 3),
               template_hole 2),
             t_empty)
           ))),
    ("Smooth.derivative_is_smooth",
     "smooth_on ?S ?f ==>
      smooth_on ?S (%x. frechet_derivative ?f (at x) ?v)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 4, template_hole 3),
                template_var 2),
              template_var 1)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 4, template_hole 3),
               template_var 2),
             t_empty)
           ))),
    ("Smooth.smooth_on_scaleR_fun",
     "[| ?k-smooth_on ?S ?g; open ?S |]
      ==> ?k-smooth_on ?S (?c *\<^sub>R ?g)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate
         (template_app (template_hole 1, template_var 2))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 2, template_var 3),
               template_var 2),
             template_app
              (template_app (template_hole 0, template_var 0),
               template_var 1))
           ))),
    ("Smooth.smooth_onD",
     "[| ?m-smooth_on ?S ?f; enat ?n <= ?m |]
      ==> higher_differentiable_on ?S ?f ?n",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 3, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_inequation
         (less_equals, template_app (template_hole 1, template_var 0),
          template_var 3)],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 0, template_var 2),
               template_var 1),
             template_var 0)
           ))),
    ("Smooth.higher_differentiable_on_uminus",
     "[| higher_differentiable_on ?S ?f ?n; open ?S |]
      ==> higher_differentiable_on ?S (%x. - ?f x) ?n",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 2),
                template_var 1),
              template_var 0)
            ),
        template_predicate
         (template_app (template_hole 1, template_var 2))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 2, template_var 2), t_empty),
             template_var 0)
           ))),
    ("Smooth.higher_differentiable_on_cos",
     "[| higher_differentiable_on ?S ?f ?n; open ?S |]
      ==> higher_differentiable_on ?S (%x. cos (?f x)) ?n",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 2),
                template_var 1),
              template_var 0)
            ),
        template_predicate
         (template_app (template_hole 1, template_var 2))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 2, template_var 2), t_empty),
             template_var 0)
           ))),
    ("Smooth.higher_differentiable_on_sin",
     "[| higher_differentiable_on ?S ?f ?n; open ?S |]
      ==> higher_differentiable_on ?S (%x. sin (?f x)) ?n",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 2),
                template_var 1),
              template_var 0)
            ),
        template_predicate
         (template_app (template_hole 1, template_var 2))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 2, template_var 2), t_empty),
             template_var 0)
           ))),
    ("Smooth.higher_differentiable_on_fst_comp",
     "[| higher_differentiable_on ?S ?f ?k; open ?S |]
      ==> higher_differentiable_on ?S (%x. fst (?f x)) ?k",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 3, template_var 2),
                template_var 1),
              template_var 0)
            ),
        template_predicate
         (template_app (template_hole 2, template_var 2))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 1, template_var 2), t_empty),
             template_var 0)
           ))),
    ("Smooth.higher_differentiable_on_snd_comp",
     "[| higher_differentiable_on ?S ?f ?k; open ?S |]
      ==> higher_differentiable_on ?S (%x. snd (?f x)) ?k",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 3, template_var 2),
                template_var 1),
              template_var 0)
            ),
        template_predicate
         (template_app (template_hole 2, template_var 2))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 1, template_var 2), t_empty),
             template_var 0)
           ))),
    ("Smooth.smooth_on_uminus",
     "[| ?k-smooth_on ?S ?g; open ?S |] ==> ?k-smooth_on ?S (%x. - ?g x)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 2),
                template_var 1),
              template_var 0)
            ),
        template_predicate
         (template_app (template_hole 1, template_var 1))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 2, template_var 2),
               template_var 1),
             t_empty)
           ))),
    ("Smooth.smooth_on_cos",
     "[| ?n-smooth_on ?S ?f; open ?S |]
      ==> ?n-smooth_on ?S (%x. cos (?f x))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 2),
                template_var 1),
              template_var 0)
            ),
        template_predicate
         (template_app (template_hole 1, template_var 1))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 2, template_var 2),
               template_var 1),
             t_empty)
           ))),
    ("Smooth.smooth_on_sin",
     "[| ?n-smooth_on ?S ?f; open ?S |]
      ==> ?n-smooth_on ?S (%x. sin (?f x))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 2),
                template_var 1),
              template_var 0)
            ),
        template_predicate
         (template_app (template_hole 1, template_var 1))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 2, template_var 2),
               template_var 1),
             t_empty)
           ))),
    ("Smooth.smooth_on_fst",
     "[| ?k-smooth_on ?S ?f; open ?S |]
      ==> ?k-smooth_on ?S (%x. fst (?f x))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 3, template_var 2),
                template_var 1),
              template_var 0)
            ),
        template_predicate
         (template_app (template_hole 2, template_var 1))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 1, template_var 2),
               template_var 1),
             t_empty)
           ))),
    ("Smooth.smooth_on_snd",
     "[| ?k-smooth_on ?S ?f; open ?S |]
      ==> ?k-smooth_on ?S (%x. snd (?f x))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 3, template_var 2),
                template_var 1),
              template_var 0)
            ),
        template_predicate
         (template_app (template_hole 2, template_var 1))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 1, template_var 2),
               template_var 1),
             t_empty)
           ))),
    ("Smooth.nth_derivative_funpow",
     "nth_derivative ?i ?f ?x ?h =
      ((%f x. frechet_derivative f (at x) ?h) ^^ ?i) ?f ?x",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_app (template_hole 4, template_var 3),
             template_var 2),
           template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_app
            (template_app (template_hole 3, template_var 3), t_empty),
           template_var 2),
         template_var 1))),
    ("Smooth.derivative_is_smooth'",
     "(?k + 1)-smooth_on ?S ?f ==>
      ?k-smooth_on ?S (%x. frechet_derivative ?f (at x) ?v)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_hole 5,
                  template_app
                   (template_app (template_hole 4, template_var 3),
                    template_hole 3)),
                template_var 2),
              template_var 1)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 5, template_var 3),
               template_var 2),
             t_empty)
           ))),
    ("Smooth.differentiable_on_inner",
     "[| ?f differentiable_on ?S; ?g differentiable_on ?S |]
      ==> (%x. ?f x \<bullet> ?g x) differentiable_on ?S",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 0),
              template_var 1)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, t_empty), template_var 1)
           ))),
    ("Smooth.differentiable_on_mult",
     "[| ?f differentiable_on ?S; ?g differentiable_on ?S |]
      ==> (%x. ?f x * ?g x) differentiable_on ?S",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 0),
              template_var 1)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, t_empty), template_var 1)
           ))),
    ("Smooth.differentiable_on_scaleR",
     "[| ?f differentiable_on ?S; ?g differentiable_on ?S |]
      ==> (%x. ?f x *\<^sub>R ?g x) differentiable_on ?S",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 0),
              template_var 1)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, t_empty), template_var 1)
           ))),
    ("Smooth.diffeomorphismD",
     "[| diffeomorphism ?k ?S ?T ?f ?g; ?x : ?S |] ==> ?g (?f ?x) = ?x",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 2, template_var 5),
                    template_var 4),
                  template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 0),
              template_var 4)
            )],
       template_equation
        (template_app
          (template_var 1, template_app (template_var 2, template_var 0)),
         template_var 0))),
    ("Smooth.diffeomorphismD",
     "[| diffeomorphism ?k ?S ?T ?f ?g; ?y : ?T |] ==> ?f (?g ?y) = ?y",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 2, template_var 5),
                    template_var 4),
                  template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 0),
              template_var 3)
            )],
       template_equation
        (template_app
          (template_var 2, template_app (template_var 1, template_var 0)),
         template_var 0))),
    ("Smooth.diffeomorphism_scaleR",
     "?c ~= 0 ==>
      diffeomorphism ?k UNIV UNIV ((*\<^sub>R) ?c) (%x. x /\<^sub>R ?c)",
     template_implication
      ([template_negation
         (template_equation (template_var 1, template_hole 4))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 3, template_var 0),
                   template_hole 2),
                 template_hole 2),
               t_empty),
             t_empty)
           ))),
    ("Smooth.continuous_on_blinfunI1",
     "(!!i. i : Basis ==> continuous_on ?X (%x. blinfun_apply (?f x) i)) ==>
      continuous_on ?X ?f",
     template_implication
      ([template_predicate (template_app (template_hole 6, t_empty))],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 1), template_var 0)
           ))),
    ("Smooth.nth_derivative_differentiable",
     "[| higher_differentiable_on ?S ?f (Suc ?n); ?x : ?S |]
      ==> (%x. nth_derivative ?n ?f x ?v) differentiable at ?x",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 6, template_var 4),
                template_var 3),
              template_app (template_hole 5, template_var 2))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 1),
              template_var 4)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 3, t_empty),
             template_app
              (template_app (template_hole 1, template_var 1),
               template_hole 0))
           ))),
    ("Smooth.do",
     "[| bounded_bilinear ?prod; ?f differentiable_on ?S;
         ?g differentiable_on ?S |]
      ==> (%x. ?prod (?f x) (?g x)) differentiable_on ?S",
     template_implication
      ([template_predicate (template_app (template_hole 3, template_var 3)),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 0),
              template_var 1)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, t_empty), template_var 1)
           ))),
    ("Smooth.smooth_on_minus_fun",
     "[| ?k-smooth_on ?S ?f; ?k-smooth_on ?S ?g; open ?S |]
      ==> ?k-smooth_on ?S (?f - ?g)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 3),
                template_var 2),
              template_var 0)
            ),
        template_predicate
         (template_app (template_hole 1, template_var 2))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 2, template_var 3),
               template_var 2),
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0))
           ))),
    ("Smooth.smooth_on_add_fun",
     "[| ?k-smooth_on ?S ?f; ?k-smooth_on ?S ?g; open ?S |]
      ==> ?k-smooth_on ?S (?f + ?g)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 3),
                template_var 2),
              template_var 0)
            ),
        template_predicate
         (template_app (template_hole 1, template_var 2))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 2, template_var 3),
               template_var 2),
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0))
           ))),
    ("Smooth.smooth_on_times_fun",
     "[| ?k-smooth_on ?S ?f; ?k-smooth_on ?S ?g; open ?S |]
      ==> ?k-smooth_on ?S (?f * ?g)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 3),
                template_var 2),
              template_var 0)
            ),
        template_predicate
         (template_app (template_hole 1, template_var 2))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 2, template_var 3),
               template_var 2),
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0))
           ))),
    ("Smooth.frechet_derivative_nth_derivative_commute",
     "frechet_derivative (%x. nth_derivative ?i ?f x ?h) (at ?x) ?h =
      nth_derivative ?i (%x. frechet_derivative ?f (at x) ?h) ?x ?h",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 3, t_empty),
           template_app
            (template_app (template_hole 1, template_var 0),
             template_hole 0)),
         template_var 1),
       template_app
        (template_app
          (template_app
            (template_app (template_hole 2, template_var 3), t_empty),
           template_var 0),
         template_var 1))),
    ("Smooth.differentiable_on_open_Un",
     "[| ?f differentiable_on ?S; ?f differentiable_on ?T; open ?S;
         open ?T |]
      ==> ?f differentiable_on ?S Un ?T",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 2),
              template_var 0)
            ),
        template_predicate (template_app (template_hole 1, template_var 1)),
        template_predicate
         (template_app (template_hole 1, template_var 0))],
       template_predicate
        (
           template_app
            (template_app (template_hole 2, template_var 2),
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0))
           ))),
    ("Smooth.continuous_on_Times_swap",
     "continuous_on (?Y \<times> ?X) (%(y, x). ?f x y) ==>
      continuous_on (?X \<times> ?Y) (%(x, y). ?f x y)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 5,
                template_app
                 (template_app (template_hole 4, template_var 2), t_empty)),
              template_app (template_hole 3, t_empty))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 1), t_empty)),
             template_app (template_hole 0, t_empty))
           ))),
    ("Smooth.differentiable_inner",
     "[| ?f differentiable at ?x within ?S;
         ?g differentiable at ?x within ?S |]
      ==> (%x. ?f x \<bullet> ?g x) differentiable at ?x within ?S",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 3),
              template_app
               (template_app (template_hole 2, template_var 2),
                template_var 1))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 0),
              template_app
               (template_app (template_hole 2, template_var 2),
                template_var 1))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, t_empty),
             template_app
              (template_app (template_hole 2, template_var 2),
               template_var 1))
           ))),
    ("Smooth.differentiable_mult",
     "[| ?f differentiable at ?x within ?S;
         ?g differentiable at ?x within ?S |]
      ==> (%x. ?f x * ?g x) differentiable at ?x within ?S",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 3),
              template_app
               (template_app (template_hole 1, template_var 2),
                template_var 1))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 0),
              template_app
               (template_app (template_hole 1, template_var 2),
                template_var 1))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 2, t_empty),
             template_app
              (template_app (template_hole 1, template_var 2),
               template_var 1))
           ))),
    ("Smooth.differentiable_scaleR",
     "[| ?f differentiable at ?x within ?S;
         ?g differentiable at ?x within ?S |]
      ==> (%x. ?f x *\<^sub>R ?g x) differentiable at ?x within ?S",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 3),
              template_app
               (template_app (template_hole 2, template_var 2),
                template_var 1))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 0),
              template_app
               (template_app (template_hole 2, template_var 2),
                template_var 1))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, t_empty),
             template_app
              (template_app (template_hole 2, template_var 2),
               template_var 1))
           ))),
    ("Smooth.higher_differentiable_on_Pair",
     "[| open ?S; higher_differentiable_on ?S ?f ?k;
         higher_differentiable_on ?S ?g ?k |]
      ==> higher_differentiable_on ?S (%x. (?f x, ?g x)) ?k",
     template_implication
      ([template_predicate (template_app (template_hole 4, template_var 3)),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 3, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 3),
                template_var 0),
              template_var 1)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 1, template_var 3), t_empty),
             template_var 1)
           ))),
    ("Smooth.smooth_on_Pair",
     "[| open ?S; ?k-smooth_on ?S ?f; ?k-smooth_on ?S ?g |]
      ==> ?k-smooth_on ?S (%x. (?f x, ?g x))",
     template_implication
      ([template_predicate (template_app (template_hole 4, template_var 3)),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 3, template_var 2),
                template_var 3),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 2),
                template_var 3),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 1, template_var 2),
               template_var 3),
             t_empty)
           ))),
    ("Smooth.higher_differentiable_on_minus",
     "[| higher_differentiable_on ?S ?f ?n;
         higher_differentiable_on ?S ?g ?n; open ?S |]
      ==> higher_differentiable_on ?S (%x. ?f x - ?g x) ?n",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 3),
                template_var 0),
              template_var 1)
            ),
        template_predicate
         (template_app (template_hole 1, template_var 3))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 2, template_var 3), t_empty),
             template_var 1)
           ))),
    ("Smooth.higher_differentiable_on_add",
     "[| higher_differentiable_on ?S ?f ?n;
         higher_differentiable_on ?S ?g ?n; open ?S |]
      ==> higher_differentiable_on ?S (%x. ?f x + ?g x) ?n",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 3),
                template_var 0),
              template_var 1)
            ),
        template_predicate
         (template_app (template_hole 1, template_var 3))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 2, template_var 3), t_empty),
             template_var 1)
           ))),
    ("Smooth.higher_differentiable_on_sqrt",
     "[| higher_differentiable_on ?S ?f ?n; 0 ~: ?f ` ?S; open ?S |]
      ==> higher_differentiable_on ?S (%x. sqrt (?f x)) ?n",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 6, template_var 2),
                template_var 1),
              template_var 0)
            ),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 4, template_hole 3),
                  template_app
                   (template_app (template_hole 2, template_var 1),
                    template_var 2))
                )
            ),
        template_predicate
         (template_app (template_hole 1, template_var 2))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 6, template_var 2), t_empty),
             template_var 0)
           ))),
    ("Smooth.higher_differentiable_on_norm",
     "[| higher_differentiable_on ?S ?f ?n; (0::?'d) ~: ?f ` ?S; open ?S |]
      ==> higher_differentiable_on ?S (%x. norm (?f x)) ?n",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 7, template_var 2),
                template_var 1),
              template_var 0)
            ),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 5, template_hole 4),
                  template_app
                   (template_app (template_hole 3, template_var 1),
                    template_var 2))
                )
            ),
        template_predicate
         (template_app (template_hole 2, template_var 2))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 1, template_var 2), t_empty),
             template_var 0)
           ))),
    ("Smooth.higher_differentiable_on_inverse",
     "[| higher_differentiable_on ?S ?f ?n; (0::?'d) ~: ?f ` ?S; open ?S |]
      ==> higher_differentiable_on ?S (%x. inverse (?f x)) ?n",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 6, template_var 2),
                template_var 1),
              template_var 0)
            ),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 4, template_hole 3),
                  template_app
                   (template_app (template_hole 2, template_var 1),
                    template_var 2))
                )
            ),
        template_predicate
         (template_app (template_hole 1, template_var 2))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 6, template_var 2), t_empty),
             template_var 0)
           ))),
    ("Smooth.higher_differentiable_on_inner",
     "[| higher_differentiable_on ?S ?f ?n;
         higher_differentiable_on ?S ?g ?n; open ?S |]
      ==> higher_differentiable_on ?S (%x. ?f x \<bullet> ?g x) ?n",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 3, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 3, template_var 3),
                template_var 0),
              template_var 1)
            ),
        template_predicate
         (template_app (template_hole 2, template_var 3))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 1, template_var 3), t_empty),
             template_var 1)
           ))),
    ("Smooth.higher_differentiable_on_mult",
     "[| higher_differentiable_on ?S ?f ?n;
         higher_differentiable_on ?S ?g ?n; open ?S |]
      ==> higher_differentiable_on ?S (%x. ?f x * ?g x) ?n",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 3),
                template_var 0),
              template_var 1)
            ),
        template_predicate
         (template_app (template_hole 1, template_var 3))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 2, template_var 3), t_empty),
             template_var 1)
           ))),
    ("Smooth.higher_differentiable_on_scaleR",
     "[| higher_differentiable_on ?S ?f ?n;
         higher_differentiable_on ?S ?g ?n; open ?S |]
      ==> higher_differentiable_on ?S (%x. ?f x *\<^sub>R ?g x) ?n",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 3, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 3),
                template_var 0),
              template_var 1)
            ),
        template_predicate
         (template_app (template_hole 1, template_var 3))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 2, template_var 3), t_empty),
             template_var 1)
           ))),
    ("Smooth.smooth_on_minus",
     "[| ?k-smooth_on ?S ?f; ?k-smooth_on ?S ?g; open ?S |]
      ==> ?k-smooth_on ?S (%x. ?f x - ?g x)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 3),
                template_var 2),
              template_var 0)
            ),
        template_predicate
         (template_app (template_hole 1, template_var 2))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 2, template_var 3),
               template_var 2),
             t_empty)
           ))),
    ("Smooth.smooth_on_add",
     "[| ?k-smooth_on ?S ?f; ?k-smooth_on ?S ?g; open ?S |]
      ==> ?k-smooth_on ?S (%x. ?f x + ?g x)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 3),
                template_var 2),
              template_var 0)
            ),
        template_predicate
         (template_app (template_hole 1, template_var 2))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 2, template_var 3),
               template_var 2),
             t_empty)
           ))),
    ("Smooth.smooth_on_sqrt",
     "[| ?k-smooth_on ?S ?f; 0 ~: ?f ` ?S; open ?S |]
      ==> ?k-smooth_on ?S (%x. sqrt (?f x))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 6, template_var 2),
                template_var 1),
              template_var 0)
            ),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 4, template_hole 3),
                  template_app
                   (template_app (template_hole 2, template_var 0),
                    template_var 1))
                )
            ),
        template_predicate
         (template_app (template_hole 1, template_var 1))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 6, template_var 2),
               template_var 1),
             t_empty)
           ))),
    ("Smooth.smooth_on_norm",
     "[| ?k-smooth_on ?S ?f; (0::?'d) ~: ?f ` ?S; open ?S |]
      ==> ?k-smooth_on ?S (%x. norm (?f x))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 7, template_var 2),
                template_var 1),
              template_var 0)
            ),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 5, template_hole 4),
                  template_app
                   (template_app (template_hole 3, template_var 0),
                    template_var 1))
                )
            ),
        template_predicate
         (template_app (template_hole 2, template_var 1))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 1, template_var 2),
               template_var 1),
             t_empty)
           ))),
    ("Smooth.smooth_on_inverse",
     "[| ?k-smooth_on ?S ?f; (0::?'d) ~: ?f ` ?S; open ?S |]
      ==> ?k-smooth_on ?S (%x. inverse (?f x))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 6, template_var 2),
                template_var 1),
              template_var 0)
            ),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 4, template_hole 3),
                  template_app
                   (template_app (template_hole 2, template_var 0),
                    template_var 1))
                )
            ),
        template_predicate
         (template_app (template_hole 1, template_var 1))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 6, template_var 2),
               template_var 1),
             t_empty)
           ))),
    ("Smooth.smooth_on_inner",
     "[| ?k-smooth_on ?S ?f; ?k-smooth_on ?S ?g; open ?S |]
      ==> ?k-smooth_on ?S (%x. ?f x \<bullet> ?g x)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 3, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 3, template_var 3),
                template_var 2),
              template_var 0)
            ),
        template_predicate
         (template_app (template_hole 2, template_var 2))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 1, template_var 3),
               template_var 2),
             t_empty)
           ))),
    ("Smooth.smooth_on_mult",
     "[| ?k-smooth_on ?S ?f; ?k-smooth_on ?S ?g; open ?S |]
      ==> ?k-smooth_on ?S (%x. ?f x * ?g x)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 3),
                template_var 2),
              template_var 0)
            ),
        template_predicate
         (template_app (template_hole 1, template_var 2))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 2, template_var 3),
               template_var 2),
             t_empty)
           ))),
    ("Smooth.smooth_on_scaleR",
     "[| ?k-smooth_on ?S ?f; ?k-smooth_on ?S ?g; open ?S |]
      ==> ?k-smooth_on ?S (%x. ?f x *\<^sub>R ?g x)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 3, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 3),
                template_var 2),
              template_var 0)
            ),
        template_predicate
         (template_app (template_hole 1, template_var 2))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 2, template_var 3),
               template_var 2),
             t_empty)
           ))),
    ("Smooth.higher_differentiable_on_open_subsetsI",
     "(!!x. x : ?S ==>
            EX T. x : T & open T & higher_differentiable_on T ?f ?n) ==>
      higher_differentiable_on ?S ?f ?n",
     template_implication
      ([template_predicate (template_app (template_hole 6, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 0, template_var 2),
               template_var 1),
             template_var 0)
           ))),
    ("Smooth.smooth_on_open_subsetsI",
     "(!!x. x : ?S ==> EX T. x : T & open T & ?k-smooth_on T ?f) ==>
      ?k-smooth_on ?S ?f",
     template_implication
      ([template_predicate (template_app (template_hole 6, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 0, template_var 1),
               template_var 2),
             template_var 0)
           ))),
    ("Smooth.higher_differentiable_on_frechet_derivativeI",
     "[| higher_differentiable_on ?X ?f (Suc ?i); open ?X; ?x : ?X |]
      ==> higher_differentiable_on ?X (%x. frechet_derivative ?f (at x) ?h)
           ?i",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 6, template_var 4),
                template_var 3),
              template_app (template_hole 5, template_var 2))
            ),
        template_predicate (template_app (template_hole 4, template_var 4)),
        template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 1),
              template_var 4)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 6, template_var 4), t_empty),
             template_var 2)
           ))),
    ("Smooth.closed_segment_subsetD",
     "[| closed_segment ?X (?X + ?H) <= ?S; 0 <= ?x; ?x <= 1 |]
      ==> ?X + ?x *\<^sub>R ?H : ?S",
     template_implication
      ([template_inequation
         (less_equals,
          template_app
           (template_app (template_hole 6, template_var 3),
            template_app
             (template_app (template_hole 5, template_var 3),
              template_var 2)),
          template_var 1),
        template_inequation (less_equals, template_hole 3, template_var 0),
        template_inequation (less_equals, template_var 0, template_hole 2)],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 5, template_var 3),
                 template_app
                  (template_app (template_hole 0, template_var 0),
                   template_var 2))),
             template_var 1)
           ))),
    ("Smooth.higher_differentiable_on_open_Un",
     "[| higher_differentiable_on ?S ?f ?n;
         higher_differentiable_on ?T ?f ?n; open ?S; open ?T |]
      ==> higher_differentiable_on (?S Un ?T) ?f ?n",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 0),
                template_var 2),
              template_var 1)
            ),
        template_predicate (template_app (template_hole 1, template_var 3)),
        template_predicate
         (template_app (template_hole 1, template_var 0))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 2,
                 template_app
                  (template_app (template_hole 0, template_var 3),
                   template_var 0)),
               template_var 2),
             template_var 1)
           ))),
    ("Smooth.smooth_on_open_Un",
     "[| ?k-smooth_on ?S ?f; ?k-smooth_on ?T ?f; open ?S; open ?T |]
      ==> ?k-smooth_on (?S Un ?T) ?f",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 3),
                template_var 0),
              template_var 1)
            ),
        template_predicate (template_app (template_hole 1, template_var 2)),
        template_predicate
         (template_app (template_hole 1, template_var 0))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 2, template_var 3),
               template_app
                (template_app (template_hole 0, template_var 2),
                 template_var 0)),
             template_var 1)
           ))),
    ("Smooth.frechet_derivative_componentwise",
     "?f differentiable at ?a ==>
      frechet_derivative ?f (at ?a) ?v =
      (SUM i:Basis. ?v \<bullet> i * frechet_derivative ?f (at ?a) i)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 2),
              template_app
               (template_app (template_hole 7, template_var 1),
                template_hole 6))
            )],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 4, template_var 2),
             template_app
              (template_app (template_hole 7, template_var 1),
               template_hole 6)),
           template_var 0),
         template_app
          (template_app (template_hole 3, t_empty), template_hole 0)))),
    ("Smooth.frechet_derivative_at_real_eq_scaleR",
     "[| ?f differentiable at ?x; NO_MATCH (1::?'b) ?v |]
      ==> frechet_derivative ?f (at ?x) ?v =
          ?v *\<^sub>R frechet_derivative ?f (at ?x) 1",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 2),
              template_app
               (template_app (template_hole 7, template_var 1),
                template_hole 6))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 5, template_hole 4),
              template_var 0)
            )],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 2, template_var 2),
             template_app
              (template_app (template_hole 7, template_var 1),
               template_hole 6)),
           template_var 0),
         template_app
          (template_app (template_hole 1, template_var 0),
           template_app
            (template_app
              (template_app (template_hole 2, template_var 2),
               template_app
                (template_app (template_hole 7, template_var 1),
                 template_hole 6)),
             template_hole 0))))),
    ("Smooth.differentiable_on_open_Union",
     "[| !!s. s : ?S ==> ?f differentiable_on s; !!s. s : ?S ==> open s |]
      ==> ?f differentiable_on \<Union> ?S",
     template_implication
      ([template_predicate (template_app (template_hole 5, t_empty)),
        template_predicate (template_app (template_hole 5, t_empty))],
       template_predicate
        (
           template_app
            (template_app (template_hole 2, template_var 0),
             template_app (template_hole 0, template_var 1))
           ))),
    ("Smooth.d",
     "[| bounded_bilinear ?prod; ?f differentiable at ?x within ?S;
         ?g differentiable at ?x within ?S |]
      ==> (%x. ?prod (?f x) (?g x)) differentiable at ?x within ?S",
     template_implication
      ([template_predicate (template_app (template_hole 4, template_var 4)),
        template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 3),
              template_app
               (template_app (template_hole 2, template_var 2),
                template_var 1))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 0),
              template_app
               (template_app (template_hole 2, template_var 2),
                template_var 1))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, t_empty),
             template_app
              (template_app (template_hole 2, template_var 2),
               template_var 1))
           ))),
    ("Smooth.higher_differentiable_on_congI",
     "[| open ?S; higher_differentiable_on ?S ?g ?n;
         !!x. x : ?S ==> ?f x = ?g x |]
      ==> higher_differentiable_on ?S ?f ?n",
     template_implication
      ([template_predicate (template_app (template_hole 4, template_var 3)),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 3, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate (template_app (template_hole 2, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 3, template_var 3),
               template_var 0),
             template_var 1)
           ))),
    ("Smooth.smooth_on_cong",
     "[| ?k-smooth_on ?S ?g; open ?S; !!x. x : ?S ==> ?f x = ?g x |]
      ==> ?k-smooth_on ?S ?f",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 4, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate (template_app (template_hole 3, template_var 2)),
        template_predicate (template_app (template_hole 2, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 4, template_var 3),
               template_var 2),
             template_var 0)
           ))),
    ("Smooth.higher_differentiable_on_real_Suc",
     "open ?S ==>
      higher_differentiable_on ?S ?f (Suc ?n) =
      ((ALL x:?S. ?f differentiable at x) &
       higher_differentiable_on ?S (%x. frechet_derivative ?f (at x) 1)
        ?n)",
     template_implication
      ([template_predicate
         (template_app (template_hole 10, template_var 2))],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 8, template_var 2),
             template_var 1),
           template_app (template_hole 7, template_var 0)),
         template_app
          (template_app
            (template_hole 6,
             template_app
              (template_app (template_hole 5, template_var 2), t_empty)),
           template_app
            (template_app
              (template_app (template_hole 8, template_var 2), t_empty),
             template_var 0))))),
    ("Smooth.higher_differentiable_on_open_Union",
     "[| !!s. s : ?S ==> higher_differentiable_on s ?f ?n;
         !!s. s : ?S ==> open s |]
      ==> higher_differentiable_on (\<Union> ?S) ?f ?n",
     template_implication
      ([template_predicate (template_app (template_hole 5, t_empty)),
        template_predicate (template_app (template_hole 5, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 2,
                 template_app (template_hole 0, template_var 2)),
               template_var 1),
             template_var 0)
           ))),
    ("Smooth.hdo",
     "[| bounded_bilinear ?prod; higher_differentiable_on ?S ?f ?n;
         higher_differentiable_on ?S ?g ?n; open ?S |]
      ==> higher_differentiable_on ?S (%x. ?prod (?f x) (?g x)) ?n",
     template_implication
      ([template_predicate (template_app (template_hole 4, template_var 4)),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 3, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 3),
                template_var 0),
              template_var 1)
            ),
        template_predicate
         (template_app (template_hole 1, template_var 3))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 0, template_var 3), t_empty),
             template_var 1)
           ))),
    ("Smooth.s",
     "[| bounded_bilinear ?prod; ?k-smooth_on ?S ?f; ?k-smooth_on ?S ?g;
         open ?S |]
      ==> ?k-smooth_on ?S (%x. ?prod (?f x) (?g x))",
     template_implication
      ([template_predicate (template_app (template_hole 4, template_var 4)),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 3, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 3),
                template_var 2),
              template_var 0)
            ),
        template_predicate
         (template_app (template_hole 1, template_var 2))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 0, template_var 3),
               template_var 2),
             t_empty)
           ))),
    ("Smooth.continuous_Sigma",
     "[| ?y : Pi ?T ?X; continuous_on (Sigma ?T ?X) (%(t, x). ?f t x);
         continuous_on ?T ?y |]
      ==> continuous_on ?T (%x. ?f x (?y x))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 3),
              template_app
               (template_app (template_hole 5, template_var 2),
                template_var 1))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 4,
                template_app
                 (template_app (template_hole 3, template_var 2),
                  template_var 1)),
              template_app (template_hole 2, t_empty))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 2),
              template_var 3)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 2), t_empty)
           ))),
    ("Smooth.higher_differentiable_on_sum",
     "[| !!i. [| i : ?F; finite ?F |]
              ==> higher_differentiable_on ?S (?f i) ?n;
         open ?S |]
      ==> higher_differentiable_on ?S (%x. SUM i:?F. ?f i x) ?n",
     template_implication
      ([template_predicate (template_app (template_hole 6, t_empty)),
        template_predicate
         (template_app (template_hole 1, template_var 2))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 2, template_var 2), t_empty),
             template_var 0)
           ))),
    ("Smooth.smooth_on_sum",
     "[| !!i. [| i : ?F; finite ?F |] ==> ?n-smooth_on ?S (?f i); open ?S |]
      ==> ?n-smooth_on ?S (%x. SUM i:?F. ?f i x)",
     template_implication
      ([template_predicate (template_app (template_hole 6, t_empty)),
        template_predicate
         (template_app (template_hole 1, template_var 1))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 2, template_var 2),
               template_var 1),
             t_empty)
           ))),
    ("Smooth.higher_differentiable_on_cong",
     "[| open ?S; ?S = ?T; !!x. x : ?T ==> ?f x = ?g x |]
      ==> higher_differentiable_on ?S ?f ?n =
          higher_differentiable_on ?T ?g ?n",
     template_implication
      ([template_predicate (template_app (template_hole 6, template_var 4)),
        template_equation (template_var 4, template_var 3),
        template_predicate (template_app (template_hole 4, t_empty))],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 0, template_var 4),
             template_var 2),
           template_var 0),
         template_app
          (template_app
            (template_app (template_hole 0, template_var 3),
             template_var 1),
           template_var 0)))),
    ("Smooth.differentiable_on_open_blinfunE",
     "[| ?f differentiable_on ?S; open ?S;
         !!f'. (!!x. x : ?S ==>
                     (?f has_derivative blinfun_apply (f' x)) (at x)) ==>
               ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 2),
              template_var 1)
            ),
        template_predicate (template_app (template_hole 7, template_var 1)),
        template_predicate (template_app (template_hole 6, t_empty))],
       template_predicate (template_var 0))),
    ("Smooth.higher_differentiable_on_compose",
     "[| higher_differentiable_on ?T ?f ?n;
         higher_differentiable_on ?S ?g ?n; ?g ` ?S <= ?T; open ?S;
         open ?T |]
      ==> higher_differentiable_on ?S (?f o ?g) ?n",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 7, template_var 4),
                template_var 3),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 6, template_var 1),
                template_var 0),
              template_var 2)
            ),
        template_inequation
         (less_equals,
          template_app
           (template_app (template_hole 4, template_var 0), template_var 1),
          template_var 4),
        template_predicate (template_app (template_hole 3, template_var 1)),
        template_predicate
         (template_app (template_hole 2, template_var 4))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 1, template_var 1),
               template_app
                (template_app (template_hole 0, template_var 3),
                 template_var 0)),
             template_var 2)
           ))),
    ("Smooth.smooth_on_compose",
     "[| ?k-smooth_on ?T ?f; ?k-smooth_on ?S ?g; open ?S; open ?T;
         ?g ` ?S <= ?T |]
      ==> ?k-smooth_on ?S (?f o ?g)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 7, template_var 4),
                template_var 3),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 6, template_var 4),
                template_var 1),
              template_var 0)
            ),
        template_predicate (template_app (template_hole 5, template_var 1)),
        template_predicate (template_app (template_hole 4, template_var 3)),
        template_inequation
         (less_equals,
          template_app
           (template_app (template_hole 2, template_var 0), template_var 1),
          template_var 3)],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 1, template_var 4),
               template_var 1),
             template_app
              (template_app (template_hole 0, template_var 2),
               template_var 0))
           ))),
    ("Smooth.leibniz_rule'_higher",
     "[| convex ?S; open ?S;
         higher_differentiable_on (?S \<times> cbox ?a ?b) (%(x, t). ?f x t)
          ?k |]
      ==> higher_differentiable_on ?S (%x. integral (cbox ?a ?b) (?f x))
           ?k",
     template_implication
      ([template_predicate (template_app (template_hole 7, template_var 4)),
        template_predicate (template_app (template_hole 6, template_var 4)),
        template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_hole 5,
                  template_app
                   (template_app (template_hole 4, template_var 4),
                    t_empty)),
                template_app (template_hole 2, t_empty)),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 1, template_var 4), t_empty),
             template_var 0)
           ))),
    ("Smooth.leibniz_rule'_higher_interval",
     "[| convex ?S; open ?S;
         higher_differentiable_on (?S \<times> {?a..?b}) (%(x, t). ?f x t)
          ?k |]
      ==> higher_differentiable_on ?S (%x. integral {?a..?b} (?f x)) ?k",
     template_implication
      ([template_predicate (template_app (template_hole 7, template_var 4)),
        template_predicate (template_app (template_hole 6, template_var 4)),
        template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_hole 5,
                  template_app
                   (template_app (template_hole 4, template_var 4),
                    t_empty)),
                template_app (template_hole 2, t_empty)),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 1, template_var 4), t_empty),
             template_var 0)
           ))),
    ("Smooth.higher_differentiable_on_Pair'",
     "[| open ?S; open ?T; higher_differentiable_on ?S ?f ?k;
         higher_differentiable_on ?T ?g ?k |]
      ==> higher_differentiable_on (?S \<times> ?T)
           (%x. (?f (fst x), ?g (snd x))) ?k",
     template_implication
      ([template_predicate (template_app (template_hole 8, template_var 4)),
        template_predicate (template_app (template_hole 7, template_var 3)),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 6, template_var 4),
                template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 5, template_var 3),
                template_var 0),
              template_var 1)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 4,
                 template_app
                  (template_app (template_hole 3, template_var 4),
                   t_empty)),
               t_empty),
             template_var 1)
           ))),
    ("Smooth.smooth_on_Pair'",
     "[| open ?S; open ?T; ?k-smooth_on ?S ?f; ?k-smooth_on ?T ?g |]
      ==> ?k-smooth_on (?S \<times> ?T) (%x. (?f (fst x), ?g (snd x)))",
     template_implication
      ([template_predicate (template_app (template_hole 8, template_var 4)),
        template_predicate (template_app (template_hole 7, template_var 3)),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 6, template_var 2),
                template_var 4),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 5, template_var 2),
                template_var 3),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 4, template_var 2),
               template_app
                (template_app (template_hole 3, template_var 4), t_empty)),
             t_empty)
           ))),
    ("Smooth.higher_differentiable_on_compose'",
     "[| higher_differentiable_on ?T ?f ?n;
         higher_differentiable_on ?S ?g ?n; ?g ` ?S <= ?T; open ?S;
         open ?T |]
      ==> higher_differentiable_on ?S (%x. ?f (?g x)) ?n",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 6, template_var 4),
                template_var 3),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 5, template_var 1),
                template_var 0),
              template_var 2)
            ),
        template_inequation
         (less_equals,
          template_app
           (template_app (template_hole 3, template_var 0), template_var 1),
          template_var 4),
        template_predicate (template_app (template_hole 2, template_var 1)),
        template_predicate
         (template_app (template_hole 1, template_var 4))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 0, template_var 1), t_empty),
             template_var 2)
           ))),
    ("Smooth.diffeomorphism_compose",
     "[| diffeomorphism ?n ?S ?T ?f ?g; diffeomorphism ?n ?T ?U ?h ?k;
         open ?S; open ?T; open ?U |]
      ==> diffeomorphism ?n ?S ?U (?h o ?f) (?g o ?k)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 7, template_var 7),
                    template_var 6),
                  template_var 5),
                template_var 4),
              template_var 3)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 6, template_var 7),
                    template_var 5),
                  template_var 2),
                template_var 1),
              template_var 0)
            ),
        template_predicate (template_app (template_hole 5, template_var 6)),
        template_predicate (template_app (template_hole 4, template_var 5)),
        template_predicate
         (template_app (template_hole 3, template_var 2))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 2, template_var 7),
                   template_var 6),
                 template_var 2),
               template_app
                (template_app (template_hole 1, template_var 1),
                 template_var 4)),
             template_app
              (template_app (template_hole 0, template_var 3),
               template_var 0))
           ))),
    ("Smooth.smooth_on_compose2",
     "[| ?k-smooth_on ?T ?f; ?k-smooth_on ?S ?g; open ?U; open ?T;
         ?g ` ?U <= ?T; ?U <= ?S |]
      ==> ?k-smooth_on ?U (?f o ?g)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 8, template_var 5),
                template_var 4),
              template_var 3)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 7, template_var 5),
                template_var 2),
              template_var 1)
            ),
        template_predicate (template_app (template_hole 6, template_var 0)),
        template_predicate (template_app (template_hole 5, template_var 4)),
        template_inequation
         (less_equals,
          template_app
           (template_app (template_hole 3, template_var 1), template_var 0),
          template_var 4),
        template_inequation (less_equals, template_var 0, template_var 2)],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 1, template_var 5),
               template_var 0),
             template_app
              (template_app (template_hole 0, template_var 3),
               template_var 1))
           ))),
    ("Smooth.nth_derivative_exists",
     "[| higher_differentiable_on ?X ?f (Suc ?i); open ?X; ?x : ?X |]
      ==> EX f'.
             ((%x. nth_derivative ?i ?f x ?h) has_derivative f') (at ?x) &
             f' ?h = nth_derivative (Suc ?i) ?f ?x ?h",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 10, template_var 4),
                template_var 3),
              template_app (template_hole 9, template_var 2))
            ),
        template_predicate (template_app (template_hole 8, template_var 4)),
        template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 1),
              template_var 4)
            )],
       template_predicate (template_app (template_hole 6, t_empty)))),
    ("Smooth.higher_differentiable_on_divide",
     "[| higher_differentiable_on ?S ?f ?n;
         higher_differentiable_on ?S ?g ?n;
         !!x. x : ?S ==> ?g x ~= (0::?'d); open ?S |]
      ==> higher_differentiable_on ?S (%x. ?f x / ?g x) ?n",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 7, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 7, template_var 3),
                template_var 0),
              template_var 1)
            ),
        template_predicate (template_app (template_hole 6, t_empty)),
        template_predicate
         (template_app (template_hole 1, template_var 3))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 7, template_var 3), t_empty),
             template_var 1)
           ))),
    ("Smooth.smooth_on_divide",
     "[| ?k-smooth_on ?S ?f; ?k-smooth_on ?S ?g; open ?S;
         !!x. x : ?S ==> ?g x ~= (0::?'d) |]
      ==> ?k-smooth_on ?S (%x. ?f x / ?g x)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 7, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 7, template_var 3),
                template_var 2),
              template_var 0)
            ),
        template_predicate (template_app (template_hole 6, template_var 2)),
        template_predicate (template_app (template_hole 5, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 7, template_var 3),
               template_var 2),
             t_empty)
           ))),
    ("Smooth.higher_differentiable_Taylor1",
     "[| higher_differentiable_on ?S ?f 2; open ?S;
         closed_segment ?X (?X + ?H) <= ?S |]
      ==> (%x. (1 - x) *\<^sub>R
               nth_derivative 2 ?f (?X + x *\<^sub>R ?H) ?H) integrable_on
          {0..1}",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 15, template_var 3),
                template_var 2),
              template_app
               (template_hole 14,
                template_app (template_hole 13, template_hole 12)))
            ),
        template_predicate
         (template_app (template_hole 11, template_var 3)),
        template_inequation
         (less_equals,
          template_app
           (template_app (template_hole 9, template_var 1),
            template_app
             (template_app (template_hole 8, template_var 1),
              template_var 0)),
          template_var 3)],
       template_predicate
        (
           template_app
            (template_app (template_hole 7, t_empty),
             template_app
              (template_app (template_hole 1, template_hole 0),
               template_hole 4))
           ))),
    ("Smooth.higher_differentiable_on_real_Suc'",
     "open ?S ==>
      higher_differentiable_on ?S ?f (Suc ?n) =
      ((ALL v. continuous_on ?S (%x. nth_derivative (Suc ?n) ?f x 1)) &
       (ALL x:?S.
           ALL v. (%x. nth_derivative ?n ?f x 1) differentiable at x) &
       higher_differentiable_on ?S ?f ?n)",
     template_implication
      ([template_predicate
         (template_app (template_hole 13, template_var 2))],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 11, template_var 2),
             template_var 1),
           template_app (template_hole 10, template_var 0)),
         template_app
          (template_app
            (template_hole 9, template_app (template_hole 8, t_empty)),
           template_app
            (template_app
              (template_hole 9,
               template_app
                (template_app (template_hole 4, template_var 2), t_empty)),
             template_app
              (template_app
                (template_app (template_hole 11, template_var 2),
                 template_var 1),
               template_var 0)))))),
    ("Smooth.smooth_on_frechet_derivivative_comp",
     "[| smooth_on UNIV ?f; smooth_on ?S ?g; open ?U; open UNIV;
         ?g ` ?U <= UNIV; ?U <= ?S |]
      ==> smooth_on ?U (%x. frechet_derivative ?f (at (?g x)) ?v)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 11, template_hole 10),
                template_hole 9),
              template_var 4)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 8, template_hole 10),
                template_var 3),
              template_var 2)
            ),
        template_predicate (template_app (template_hole 7, template_var 1)),
        template_predicate
         (template_app (template_hole 6, template_hole 9)),
        template_inequation
         (less_equals,
          template_app
           (template_app (template_hole 4, template_var 2), template_var 1),
          template_hole 9),
        template_inequation (less_equals, template_var 1, template_var 3)],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 2, template_hole 10),
               template_var 1),
             t_empty)
           ))),
    ("Smooth.higher_differentiable_on_real_SucI",
     "[| !!x. x : ?S ==> (%x. nth_derivative ?n ?f x 1) differentiable at x;
         continuous_on ?S (%x. nth_derivative (Suc ?n) ?f x 1);
         higher_differentiable_on ?S ?f ?n; open ?S |]
      ==> higher_differentiable_on ?S ?f (Suc ?n)",
     template_implication
      ([template_predicate (template_app (template_hole 11, t_empty)),
        template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 2), t_empty)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 1, template_var 2),
                template_var 0),
              template_var 1)
            ),
        template_predicate
         (template_app (template_hole 0, template_var 2))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 1, template_var 2),
               template_var 0),
             template_app (template_hole 2, template_var 1))
           ))),
    ("Smooth.second_derivative_componentwise",
     "[| higher_differentiable_on ?S ?f 2; open ?S; ?a : ?S |]
      ==> nth_derivative 2 ?f ?a ?v =
          (SUM i:Basis.
              (SUM j:Basis.
                  frechet_derivative (%a. frechet_derivative ?f (at a) j)
                   (at ?a) i *
                  (?v \<bullet> j)) *
              (?v \<bullet> i))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 14, template_var 3),
                template_var 2),
              template_app
               (template_hole 13,
                template_app (template_hole 12, template_hole 11)))
            ),
        template_predicate
         (template_app (template_hole 10, template_var 3)),
        template_predicate
         (
            template_app
             (template_app (template_hole 9, template_var 1),
              template_var 3)
            )],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app
                (template_hole 7,
                 template_app
                  (template_hole 13,
                   template_app (template_hole 12, template_hole 11))),
               template_var 2),
             template_var 1),
           template_var 0),
         template_app
          (template_app (template_hole 6, t_empty), template_hole 0)))),
    ("Smooth.higher_differentiable_Taylor",
     "[| 0 < ?n; higher_differentiable_on ?S ?f ?n; open ?S;
         closed_segment ?X (?X + ?H) <= ?S |]
      ==> (%x. ((1 - x) ^ (?n - 1) / fact (?n - 1)) *\<^sub>R
               nth_derivative ?n ?f (?X + x *\<^sub>R ?H) ?H) integrable_on
          {0..1}",
     template_implication
      ([template_inequation (less_than, template_hole 18, template_var 4),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 17, template_var 3),
                template_var 2),
              template_var 4)
            ),
        template_predicate
         (template_app (template_hole 16, template_var 3)),
        template_inequation
         (less_equals,
          template_app
           (template_app (template_hole 14, template_var 1),
            template_app
             (template_app (template_hole 13, template_var 1),
              template_var 0)),
          template_var 3)],
       template_predicate
        (
           template_app
            (template_app (template_hole 12, t_empty),
             template_app
              (template_app (template_hole 1, template_hole 0),
               template_hole 7))
           ))),
    ("Smooth.higher_differentiable_Taylor1",
     "[| higher_differentiable_on ?S ?f 2; open ?S;
         closed_segment ?X (?X + ?H) <= ?S |]
      ==> ((%x. (1 - x) *\<^sub>R
                nth_derivative 2 ?f (?X + x *\<^sub>R ?H) ?H) has_integral
           ?f (?X + ?H) - (?f ?X + nth_derivative 1 ?f ?X ?H))
           {0..1}",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 18, template_var 3),
                template_var 2),
              template_app
               (template_hole 17,
                template_app (template_hole 16, template_hole 15)))
            ),
        template_predicate
         (template_app (template_hole 14, template_var 3)),
        template_inequation
         (less_equals,
          template_app
           (template_app (template_hole 12, template_var 1),
            template_app
             (template_app (template_hole 11, template_var 1),
              template_var 0)),
          template_var 3)],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 10, t_empty),
               template_app
                (template_app
                  (template_hole 4,
                   template_app
                    (template_var 2,
                     template_app
                      (template_app (template_hole 11, template_var 1),
                       template_var 0))),
                 template_app
                  (template_app
                    (template_hole 3,
                     template_app (template_var 2, template_var 1)),
                   template_app
                    (template_app
                      (template_app
                        (template_app (template_hole 6, template_hole 2),
                         template_var 2),
                       template_var 1),
                     template_var 0)))),
             template_app
              (template_app (template_hole 1, template_hole 0),
               template_hole 7))
           ))),
    ("Smooth.higher_differentiable_Taylor1",
     "[| higher_differentiable_on ?S ?f 2; open ?S;
         closed_segment ?X (?X + ?H) <= ?S |]
      ==> ?f (?X + ?H) =
          ?f ?X + nth_derivative 1 ?f ?X ?H +
          integral {0..1}
           (%x. (1 - x) *\<^sub>R
                nth_derivative 2 ?f (?X + x *\<^sub>R ?H) ?H)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 18, template_var 3),
                template_var 2),
              template_app
               (template_hole 17,
                template_app (template_hole 16, template_hole 15)))
            ),
        template_predicate
         (template_app (template_hole 14, template_var 3)),
        template_inequation
         (less_equals,
          template_app
           (template_app (template_hole 12, template_var 1),
            template_app
             (template_app (template_hole 11, template_var 1),
              template_var 0)),
          template_var 3)],
       template_equation
        (template_app
          (template_var 2,
           template_app
            (template_app (template_hole 11, template_var 1),
             template_var 0)),
         template_app
          (template_app
            (template_hole 9,
             template_app
              (template_app
                (template_hole 9,
                 template_app (template_var 2, template_var 1)),
               template_app
                (template_app
                  (template_app
                    (template_app (template_hole 8, template_hole 7),
                     template_var 2),
                   template_var 1),
                 template_var 0))),
           template_app
            (template_app
              (template_hole 6,
               template_app
                (template_app (template_hole 5, template_hole 4),
                 template_hole 3)),
             t_empty))))),
    ("Smooth.higher_differentiable_Taylor",
     "[| 0 < ?n; higher_differentiable_on ?S ?f ?n; open ?S;
         closed_segment ?X (?X + ?H) <= ?S |]
      ==> ((%x. ((1 - x) ^ (?n - 1) / fact (?n - 1)) *\<^sub>R
                nth_derivative ?n ?f (?X + x *\<^sub>R ?H) ?H) has_integral
           ?f (?X + ?H) -
           (SUM i<?n. (1 / fact i) *\<^sub>R nth_derivative i ?f ?X ?H))
           {0..1}",
     template_implication
      ([template_inequation (less_than, template_hole 21, template_var 4),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 20, template_var 3),
                template_var 2),
              template_var 4)
            ),
        template_predicate
         (template_app (template_hole 19, template_var 3)),
        template_inequation
         (less_equals,
          template_app
           (template_app (template_hole 17, template_var 1),
            template_app
             (template_app (template_hole 16, template_var 1),
              template_var 0)),
          template_var 3)],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 15, t_empty),
               template_app
                (template_app
                  (template_hole 4,
                   template_app
                    (template_var 2,
                     template_app
                      (template_app (template_hole 16, template_var 1),
                       template_var 0))),
                 template_app
                  (template_app (template_hole 3, t_empty),
                   template_app (template_hole 2, template_var 4)))),
             template_app
              (template_app (template_hole 1, template_hole 0),
               template_hole 10))
           ))),
    ("Smooth.higher_differentiable_Taylor",
     "[| 0 < ?n; higher_differentiable_on ?S ?f ?n; open ?S;
         closed_segment ?X (?X + ?H) <= ?S |]
      ==> ?f (?X + ?H) =
          (SUM i<?n. (1 / fact i) *\<^sub>R nth_derivative i ?f ?X ?H) +
          integral {0..1}
           (%x. ((1 - x) ^ (?n - 1) / fact (?n - 1)) *\<^sub>R
                nth_derivative ?n ?f (?X + x *\<^sub>R ?H) ?H)",
     template_implication
      ([template_inequation (less_than, template_hole 22, template_var 4),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 21, template_var 3),
                template_var 2),
              template_var 4)
            ),
        template_predicate
         (template_app (template_hole 20, template_var 3)),
        template_inequation
         (less_equals,
          template_app
           (template_app (template_hole 18, template_var 1),
            template_app
             (template_app (template_hole 17, template_var 1),
              template_var 0)),
          template_var 3)],
       template_equation
        (template_app
          (template_var 2,
           template_app
            (template_app (template_hole 17, template_var 1),
             template_var 0)),
         template_app
          (template_app
            (template_hole 15,
             template_app
              (template_app (template_hole 14, t_empty),
               template_app (template_hole 8, template_var 4))),
           template_app
            (template_app
              (template_hole 7,
               template_app
                (template_app (template_hole 6, template_hole 5),
                 template_hole 11)),
             t_empty))))),
    ("Smooth.c1_euclidean_blinfunE",
     "[| !!x. x : ?S ==> (?f has_derivative ?f' x) (at x within ?S);
         !!i. i : Basis ==> continuous_on ?S (%x. ?f' x i);
         !!bf'.
            [| !!x. x : ?S ==>
                    (?f has_derivative blinfun_apply (bf' x))
                     (at x within ?S);
               continuous_on ?S bf';
               !!x. x : ?S ==> blinfun_apply (bf' x) = ?f' x |]
            ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate (template_app (template_hole 10, t_empty)),
        template_predicate (template_app (template_hole 10, t_empty)),
        template_predicate (template_app (template_hole 3, t_empty))],
       template_predicate (template_var 0))),
    ("Smooth.smooth_on_Taylor2E",
     "[| smooth_on UNIV ?f;
         !!g. [| !!Y. ?f Y =
                      ?f ?X + frechet_derivative ?f (at ?X) (Y - ?X) +
                      (SUM i:Basis.
                          SUM j:Basis.
                             (Y - ?X) \<bullet> j * ((Y - ?X) \<bullet> i) *
                             g i j Y);
                 !!i j.
                    [| i : Basis; j : Basis |] ==> smooth_on UNIV (g i j) |]
              ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 14, template_hole 13),
                template_hole 12),
              template_var 2)
            ),
        template_predicate (template_app (template_hole 11, t_empty))],
       template_predicate (template_var 0))),
    ("Smooth.leibniz_rule'",
     "[| convex ?S;
         !!t x.
            [| t : cbox ?a ?b; x : ?S |]
            ==> ((%x. ?f x t) has_derivative ?fx x t) (at x within ?S);
         !!i. i : Basis ==>
              continuous_on (?S \<times> cbox ?a ?b) (%(x, t). ?fx x t i);
         !!x. x : ?S ==> ?f x integrable_on cbox ?a ?b |]
      ==> (%x. integral (cbox ?a ?b) (?f x)) differentiable_on ?S",
     template_implication
      ([template_predicate
         (template_app (template_hole 14, template_var 4)),
        template_predicate (template_app (template_hole 13, t_empty)),
        template_predicate (template_app (template_hole 12, t_empty)),
        template_predicate (template_app (template_hole 12, t_empty))],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, t_empty), template_var 4)
           ))),
    ("Smooth.leibniz_rule'_interval",
     "[| convex ?S;
         !!t x.
            [| t : {?a..?b}; x : ?S |]
            ==> ((%x. ?f x t) has_derivative ?fx x t) (at x within ?S);
         !!i. i : Basis ==>
              continuous_on (?S \<times> {?a..?b}) (%(x, t). ?fx x t i);
         !!x. x : ?S ==> ?f x integrable_on {?a..?b} |]
      ==> (%x. integral {?a..?b} (?f x)) differentiable_on ?S",
     template_implication
      ([template_predicate
         (template_app (template_hole 14, template_var 4)),
        template_predicate (template_app (template_hole 13, t_empty)),
        template_predicate (template_app (template_hole 12, t_empty)),
        template_predicate (template_app (template_hole 12, t_empty))],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, t_empty), template_var 4)
           ))),
    ("Smooth.higher_derivatives_exists",
     "[| higher_differentiable_on ?X ?f ?n; open ?X;
         !!Df. [| !!a h. Df a 0 h = ?f a;
                  !!a h i.
                     [| i < ?n; a : ?X |]
                     ==> ((%a. Df a i ?H) has_derivative Df a (Suc i))
                          (at a);
                  !!a i.
                     [| i <= ?n; a : ?X |]
                     ==> Df a i ?H = nth_derivative i ?f a ?H |]
               ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 15, template_var 4),
                template_var 3),
              template_var 2)
            ),
        template_predicate
         (template_app (template_hole 14, template_var 4)),
        template_predicate (template_app (template_hole 13, t_empty))],
       template_predicate (template_var 0))),
    ("Smooth.multivariate_Taylor_integrable",
     "[| 0 < ?n; !!a x. ?Df a 0 ?H = ?f a;
         !!a i d.
            [| a : closed_segment ?X (?X + ?H); i < ?n |]
            ==> ((%a. ?Df a i ?H) has_derivative ?Df a (Suc i))
                 (at a within ?G);
         closed_segment ?X (?X + ?H) <= ?G |]
      ==> (%x. ((1 - x) ^ (?n - 1) / fact (?n - 1)) *\<^sub>R
               ?Df (?X + x *\<^sub>R ?H) ?n ?H) integrable_on
          {0..1}",
     template_implication
      ([template_inequation (less_than, template_hole 24, template_var 5),
        template_predicate (template_app (template_hole 23, t_empty)),
        template_predicate (template_app (template_hole 23, t_empty)),
        template_inequation
         (less_equals,
          template_app
           (template_app (template_hole 17, template_var 1),
            template_app
             (template_app (template_hole 16, template_var 1),
              template_var 3)),
          template_var 0)],
       template_predicate
        (
           template_app
            (template_app (template_hole 11, t_empty),
             template_app
              (template_app (template_hole 1, template_hole 0),
               template_hole 6))
           ))),
    ("Smooth.leibniz_rule'",
     "[| convex ?S;
         !!t x.
            [| t : cbox ?a ?b; x : ?S |]
            ==> ((%x. ?f x t) has_derivative ?fx x t) (at x within ?S);
         !!i. i : Basis ==>
              continuous_on (?S \<times> cbox ?a ?b) (%(x, t). ?fx x t i);
         !!x. x : ?S ==> ?f x integrable_on cbox ?a ?b; ?x : ?S |]
      ==> ((%x. integral (cbox ?a ?b) (?f x)) has_derivative
           (%v. integral (cbox ?a ?b) (%t. ?fx ?x t v)))
           (at ?x within ?S)",
     template_implication
      ([template_predicate
         (template_app (template_hole 13, template_var 5)),
        template_predicate (template_app (template_hole 12, t_empty)),
        template_predicate (template_app (template_hole 11, t_empty)),
        template_predicate (template_app (template_hole 11, t_empty)),
        template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 0),
              template_var 5)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 7, t_empty), t_empty),
             template_app
              (template_app (template_hole 6, template_var 0),
               template_var 5))
           ))),
    ("Smooth.leibniz_rule'_interval",
     "[| convex ?S;
         !!t x.
            [| t : {?a..?b}; x : ?S |]
            ==> ((%x. ?f x t) has_derivative ?fx x t) (at x within ?S);
         !!i. i : Basis ==>
              continuous_on (?S \<times> {?a..?b}) (%(x, t). ?fx x t i);
         !!x. x : ?S ==> ?f x integrable_on {?a..?b}; ?x : ?S |]
      ==> ((%x. integral {?a..?b} (?f x)) has_derivative
           (%v. integral {?a..?b} (%t. ?fx ?x t v)))
           (at ?x within ?S)",
     template_implication
      ([template_predicate
         (template_app (template_hole 13, template_var 5)),
        template_predicate (template_app (template_hole 12, t_empty)),
        template_predicate (template_app (template_hole 11, t_empty)),
        template_predicate (template_app (template_hole 11, t_empty)),
        template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 0),
              template_var 5)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 7, t_empty), t_empty),
             template_app
              (template_app (template_hole 6, template_var 0),
               template_var 5))
           ))),
    ("Smooth.multivariate_Taylor_has_integral",
     "[| 0 < ?n; !!a x. ?Df a 0 ?H = ?f a;
         !!a i d.
            [| a : closed_segment ?X (?X + ?H); i < ?n |]
            ==> ((%a. ?Df a i ?H) has_derivative ?Df a (Suc i))
                 (at a within ?G);
         closed_segment ?X (?X + ?H) <= ?G |]
      ==> ((%x. ((1 - x) ^ (?n - 1) / fact (?n - 1)) *\<^sub>R
                ?Df (?X + x *\<^sub>R ?H) ?n ?H) has_integral
           ?f (?X + ?H) - (SUM i<?n. (1 / fact i) *\<^sub>R ?Df ?X i ?H))
           {0..1}",
     template_implication
      ([template_inequation (less_than, template_hole 27, template_var 5),
        template_predicate (template_app (template_hole 26, t_empty)),
        template_predicate (template_app (template_hole 26, t_empty)),
        template_inequation
         (less_equals,
          template_app
           (template_app (template_hole 20, template_var 1),
            template_app
             (template_app (template_hole 19, template_var 1),
              template_var 3)),
          template_var 0)],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 14, t_empty),
               template_app
                (template_app
                  (template_hole 4,
                   template_app
                    (template_var 2,
                     template_app
                      (template_app (template_hole 19, template_var 1),
                       template_var 3))),
                 template_app
                  (template_app (template_hole 3, t_empty),
                   template_app (template_hole 2, template_var 5)))),
             template_app
              (template_app (template_hole 1, template_hole 0),
               template_hole 9))
           ))),
    ("Smooth.multivariate_Taylor",
     "[| 0 < ?n; !!a x. ?Df a 0 ?H = ?f a;
         !!a i d.
            [| a : closed_segment ?X (?X + ?H); i < ?n |]
            ==> ((%a. ?Df a i ?H) has_derivative ?Df a (Suc i))
                 (at a within ?G);
         closed_segment ?X (?X + ?H) <= ?G |]
      ==> ?f (?X + ?H) =
          (SUM i<?n. (1 / fact i) *\<^sub>R ?Df ?X i ?H) +
          integral {0..1}
           (%x. ((1 - x) ^ (?n - 1) / fact (?n - 1)) *\<^sub>R
                ?Df (?X + x *\<^sub>R ?H) ?n ?H)",
     template_implication
      ([template_inequation (less_than, template_hole 27, template_var 5),
        template_predicate (template_app (template_hole 26, t_empty)),
        template_predicate (template_app (template_hole 26, t_empty)),
        template_inequation
         (less_equals,
          template_app
           (template_app (template_hole 20, template_var 1),
            template_app
             (template_app (template_hole 19, template_var 1),
              template_var 3)),
          template_var 0)],
       template_equation
        (template_app
          (template_var 2,
           template_app
            (template_app (template_hole 19, template_var 1),
             template_var 3)),
         template_app
          (template_app
            (template_hole 14,
             template_app
              (template_app (template_hole 13, t_empty),
               template_app (template_hole 8, template_var 5))),
           template_app
            (template_app
              (template_hole 7,
               template_app
                (template_app (template_hole 6, template_hole 5),
                 template_hole 10)),
             t_empty)))))]
