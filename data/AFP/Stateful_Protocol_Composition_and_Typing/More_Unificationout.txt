Loading theory "Draft.Miscellaneous" (required by "Draft.More_UnificationTemplates" via "Draft.More_Unification" via "Draft.Messages")
Loading theory "Draft.Templates" (required by "Draft.More_UnificationTemplates" via "Draft.ExtrEqs")
datatype template_term
=
     t_empty
   | template_app of template_term * template_term
   | template_hole of int
   | template_var of int
datatype sign
= equals | greater_equals | greater_than | less_equals | less_than
datatype template
=
     template_bimplication of template * template
   | template_dunno
   | template_equation of template_term * template_term
   | template_implication of template list * template
   | template_inequation of sign * template_term * template_term
   | template_negation of template
   | template_predicate of template_term
constructor t_empty: template_term
constructor template_app: template_term * template_term -> template_term
constructor template_hole: int -> template_term
constructor template_var: int -> template_term
constructor equals: sign
constructor greater_equals: sign
constructor greater_than: sign
constructor less_equals: sign
constructor less_than: sign
constructor template_bimplication: template * template -> template
constructor template_dunno: template
constructor template_equation: template_term * template_term -> template
constructor template_implication: template list * template -> template
constructor template_inequation:
   sign * template_term * template_term -> template
constructor template_negation: template -> template
constructor template_predicate: template_term -> template
val vfs = fn: term -> (indexname * typ) list * (string * typ) list
val indexOf = fn: ''a list -> ''a -> int -> int
val has_eq = fn: term -> bool
val term2template = fn:
   (indexname * typ) list -> (string * typ) list -> term -> template_term
val lemma2predicate = fn: term -> term -> template
val makeTemplatewithContext = fn: term -> term -> template
val lemma2template = fn: term -> template
val thm2template = fn: thm -> template
val tterm2string = fn: template_term -> string
val template2string = fn: template -> string
val t = "height ?t <= size ?t": thm
val th =
   Const ("HOL.Trueprop", "bool => prop") $
     (Const ("Orderings.ord_class.less_eq", "nat => nat => bool") $
       (Const ("Tree.height_class.height", "?'a tree => nat") $
         Var (("t", 0), "?'a tree")) $
       (Const ("Nat.size_class.size", "?'a tree => nat") $
         Var (("t", 0), "?'a tree"))):
   term
### theory "Draft.Templates"
### 0.056s elapsed time, 0.138s cpu time, 0.000s GC time
Loading theory "Draft.ExtrEqs" (required by "Draft.More_UnificationTemplates")
Found termination order: "(%p. size (fst p)) <*mlex*> {}"
### theory "Draft.Miscellaneous"
### 0.290s elapsed time, 0.611s cpu time, 0.021s GC time
Loading theory "Draft.Messages" (required by "Draft.More_UnificationTemplates" via "Draft.More_Unification")
Found termination order: "size <*mlex*> {}"
Found termination order: "{}"
val eqpattern =
   Pattern
    (
       Const ("HOL.Trueprop", "bool => prop") $
         (Const ("HOL.eq", "?'a => ?'a => bool") $
           Var (("_dummy_", 1), "?'a") $ Var (("_dummy_", 2), "?'a"))
       ):
   term Find_Theorems.criterion
val badeqpattern = Pattern (Const ("Pure.eq", "?'a => ?'a => prop")):
   term Find_Theorems.criterion
val undefpattern =
   Pattern
    (
       Const ("HOL.Trueprop", "bool => prop") $
         (Const ("HOL.eq", "?'a => ?'a => bool") $
           Var (("_dummy_", 1), "?'a") $ Const ("HOL.undefined", "?'a"))
       ):
   term Find_Theorems.criterion
val thmpattern =
   Pattern
    (Const ("HOL.Trueprop", "bool => prop") $ Var (("_dummy_", 1), "bool")):
   term Find_Theorems.criterion
val badnames =
   ["*nitpick*", "*Nitpick*", "*full_exhaustive*", "*_def*", "Enum.finite*",
    "*Quickcheck*", "ATP*", "*Nunchaku*", "*Code*", "*BNF*", "*SMT*",
    "*.*.*"]:
   string list
val unwanted_names =
   [(false, Name "*nitpick*"), (false, Name "*Nitpick*"),
    (false, Name "*full_exhaustive*"), (false, Name "*_def*"),
    (false, Name "Enum.finite*"), (false, Name "*Quickcheck*"),
    (false, Name "ATP*"), (false, Name "*Nunchaku*"),
    (false, Name "*Code*"), (false, Name "*BNF*"), (false, Name "*SMT*"),
    (false, Name "*.*.*")]:
   (bool * term Find_Theorems.criterion) list
val has_vars = fn: term -> bool
val get_all_eqs = fn: string -> Proof.context -> (string * thm) list
val get_all_thms = fn: string -> Proof.context -> (string * thm) list
val get_noneq_thms = fn: string -> Proof.context -> (string * thm) list
val template_eqs = fn:
   string -> Proof.context -> (string * thm * template) list
val template_thms = fn:
   string -> Proof.context -> (string * thm * template) list
### theory "Draft.ExtrEqs"
### 0.505s elapsed time, 1.056s cpu time, 0.115s GC time
Found termination order: "{}"
Found termination order: "size <*mlex*> {}"
Found termination order: "size <*mlex*> {}"
Found termination order: "(%p. size (snd p)) <*mlex*> {}"
### theory "Draft.Messages"
### 0.930s elapsed time, 1.483s cpu time, 0.462s GC time
Loading theory "Draft.More_Unification" (required by "Draft.More_UnificationTemplates")
Proofs for inductive predicate(s) "fsubstp"
  Proving monotonicity ...
Proofs for inductive predicate(s) "wf\<^sub>s\<^sub>u\<^sub>b\<^sub>s\<^sub>t_setp"
  Proving monotonicity ...
### theory "Draft.More_Unification"
### 1.270s elapsed time, 1.465s cpu time, 0.277s GC time
Loading theory "Draft.More_UnificationTemplates"
val templateLemmas =
   [("More_Unification.var_comp",
     "Var \<circ>\<^sub>s ?\<sigma> = ?\<sigma>",
     template_equation
      (template_app
        (template_app (template_hole 1, template_hole 0), template_var 0),
       template_var 0)),
    ("More_Unification.var_comp",
     "?\<sigma> \<circ>\<^sub>s Var = ?\<sigma>",
     template_equation
      (template_app
        (template_app (template_hole 1, template_var 0), template_hole 0),
       template_var 0)),
    ("More_Unification.subst_apply_pairs_Var",
     "?F \<cdot>\<^sub>p\<^sub>a\<^sub>i\<^sub>r\<^sub>s Var = ?F",
     template_equation
      (template_app
        (template_app (template_hole 1, template_var 0), template_hole 0),
       template_var 0)),
    ("More_Unification.subst_apply_pairs_nil",
     "[] \<cdot>\<^sub>p\<^sub>a\<^sub>i\<^sub>r\<^sub>s ?\<delta> = []",
     template_equation
      (template_app
        (template_app (template_hole 2, template_hole 1), template_var 0),
       template_hole 0)),
    ("More_Unification.wf_subst_properties",
     "(?\<theta> : wf\<^sub>s\<^sub>u\<^sub>b\<^sub>s\<^sub>t_set) =
      wf\<^sub>s\<^sub>u\<^sub>b\<^sub>s\<^sub>t ?\<theta>",
     template_equation
      (template_app
        (template_app (template_hole 2, template_var 0), template_hole 1),
       template_app (template_hole 0, template_var 0))),
    ("More_Unification.mgu_same_empty", "mgu ?t ?t = Some Var",
     template_equation
      (template_app
        (template_app (template_hole 2, template_var 0), template_var 0),
       template_app (template_hole 1, template_hole 0))),
    ("More_Unification.wf_subst_subst_idem",
     "wf\<^sub>s\<^sub>u\<^sub>b\<^sub>s\<^sub>t ?\<theta> ==>
      subst_idem ?\<theta>",
     template_implication
      ([template_predicate
         (template_app (template_hole 1, template_var 0))],
       template_predicate
        (template_app (template_hole 0, template_var 0)))),
    ("More_Unification.subst_mgt_refl",
     "?\<theta> \<preceq>\<^sub>\<circ> ?\<theta>",
     template_predicate (template_app (template_hole 2, t_empty))),
    ("More_Unification.subst_mgt_bot",
     "Var \<preceq>\<^sub>\<circ> ?\<theta>",
     template_predicate (template_app (template_hole 3, t_empty))),
    ("More_Unification.finite_dom_iff_fsubst",
     "finite (subst_domain ?\<theta>) = (?\<theta> : fsubst)",
     template_equation
      (template_app
        (template_hole 3, template_app (template_hole 2, template_var 0)),
       template_app
        (template_app (template_hole 1, template_var 0), template_hole 0))),
    ("More_Unification.wf_subst_fsubst",
     "wf\<^sub>s\<^sub>u\<^sub>b\<^sub>s\<^sub>t ?\<delta> ==>
      ?\<delta> : fsubst",
     template_implication
      ([template_predicate
         (template_app (template_hole 2, template_var 0))],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, template_var 0),
             template_hole 0)
           ))),
    ("More_Unification.subst_apply_terms_empty",
     "?M \<cdot>\<^sub>s\<^sub>e\<^sub>t Var = ?M",
     template_equation
      (template_app
        (template_app (template_hole 2, t_empty), template_var 0),
       template_var 0)),
    ("More_Unification.subst_all_empty",
     "{} \<cdot>\<^sub>s\<^sub>e\<^sub>t ?\<theta> = {}",
     template_equation
      (template_app
        (template_app (template_hole 3, t_empty), template_hole 1),
       template_hole 0)),
    ("More_Unification.empty_dom_iff_empty_subst",
     "(subst_domain ?\<theta> = {}) = (?\<theta> = Var)",
     template_bimplication
      (template_equation
        (template_app (template_hole 3, template_var 0), template_hole 2),
       template_equation (template_var 0, template_hole 0))),
    ("More_Unification.subst_of_dom_subset",
     "subst_domain (subst_of ?L) <= set (map fst ?L)",
     template_inequation
      (less_equals,
       template_app
        (template_hole 4, template_app (template_hole 3, template_var 0)),
       template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_hole 0),
           template_var 0)))),
    ("More_Unification.finite_subst_img_if_finite_dom",
     "finite (subst_domain ?\<sigma>) ==> finite (range_vars ?\<sigma>)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 2,
              template_app (template_hole 1, template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_hole 2,
             template_app (template_hole 0, template_var 0))
           ))),
    ("More_Unification.finite_subst_img_if_finite_dom'",
     "finite (subst_domain ?\<sigma>) ==> finite (subst_range ?\<sigma>)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 3,
              template_app (template_hole 2, template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 0))
           ))),
    ("More_Unification.subterm_inj_on_imp_inj_on",
     "subterm_inj_on ?f ?A ==> inj_on ?f ?A",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 1), template_var 0)
           ))),
    ("More_Unification.finite_img_if_fsubst",
     "?s : fsubst ==> finite (subst_range ?s)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 0),
              template_hole 2)
            )],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 0))
           ))),
    ("More_Unification.subst_mgt_comp",
     "?\<theta> \<preceq>\<^sub>\<circ>
      ?\<theta> \<circ>\<^sub>s ?\<delta>",
     template_predicate (template_app (template_hole 2, t_empty))),
    ("More_Unification.subst_idemI'",
     "ground (subst_range ?\<sigma>) ==> subst_idem ?\<sigma>",
     template_implication
      ([template_equation
         (template_app
           (template_hole 3,
            template_app (template_hole 2, template_var 0)),
          template_hole 1)],
       template_predicate
        (template_app (template_hole 0, template_var 0)))),
    ("More_Unification.fv\<^sub>p\<^sub>a\<^sub>i\<^sub>r\<^sub>s_subst",
     "fv\<^sub>p\<^sub>a\<^sub>i\<^sub>r\<^sub>s
       (?F \<cdot>\<^sub>p\<^sub>a\<^sub>i\<^sub>r\<^sub>s ?\<theta>) =
      fv\<^sub>s\<^sub>e\<^sub>t
       (?\<theta> ` fv\<^sub>p\<^sub>a\<^sub>i\<^sub>r\<^sub>s ?F)",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app (template_hole 3, template_var 1), template_var 0)),
       template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_var 0),
           template_app (template_hole 0, template_var 1))))),
    ("More_Unification.subst_apply_fv_unfold",
     "fv (?t \<cdot> ?\<delta>) =
      fv\<^sub>s\<^sub>e\<^sub>t (?\<delta> ` fv ?t)",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app (template_hole 3, template_var 1), template_var 0)),
       template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_var 0),
           template_app (template_hole 0, template_var 1))))),
    ("More_Unification.fv\<^sub>p\<^sub>a\<^sub>i\<^sub>r\<^sub>s_step_subst",
     "fv\<^sub>s\<^sub>e\<^sub>t
       (?\<delta> ` fv\<^sub>p\<^sub>a\<^sub>i\<^sub>r\<^sub>s ?F) =
      fv\<^sub>p\<^sub>a\<^sub>i\<^sub>r\<^sub>s
       (?F \<cdot>\<^sub>p\<^sub>a\<^sub>i\<^sub>r\<^sub>s ?\<delta>)",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app (template_hole 3, template_var 1),
           template_app (template_hole 2, template_var 0))),
       template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("More_Unification.subst_dom_insert_finite",
     "finite (subst_domain ?s) = finite (subst_domain (?s(?v := ?t)))",
     template_equation
      (template_app
        (template_hole 2, template_app (template_hole 1, template_var 2)),
       template_app
        (template_hole 2,
         template_app
          (template_hole 1,
           template_app
            (template_app
              (template_app (template_hole 0, template_var 2),
               template_var 1),
             template_var 0))))),
    ("More_Unification.fun_upd_fsubst",
     "(?s(?v := ?t) : fsubst) = (?s : fsubst)",
     template_equation
      (template_app
        (template_app
          (template_hole 2,
           template_app
            (template_app
              (template_app (template_hole 1, template_var 2),
               template_var 1),
             template_var 0)),
         template_hole 0),
       template_app
        (template_app (template_hole 2, template_var 2), template_hole 0))),
    ("More_Unification.subst_img_comp_subset",
     "range_vars (?\<theta>1.0 \<circ>\<^sub>s ?\<theta>2.0)
      <= range_vars ?\<theta>1.0 Un range_vars ?\<theta>2.0",
     template_inequation
      (less_equals,
       template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 0, template_app (template_hole 2, template_var 1)),
         template_app (template_hole 2, template_var 0)))),
    ("More_Unification.subst_sends_fv_to_img",
     "fv (?t \<cdot> ?s) <= fv ?t Un range_vars ?s",
     template_inequation
      (less_equals,
       template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 2, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 1, template_app (template_hole 3, template_var 1)),
         template_app (template_hole 0, template_var 0)))),
    ("More_Unification.finite_dom_subst_exists",
     "finite ?S ==> EX \<sigma>. subst_domain \<sigma> = ?S",
     template_implication
      ([template_predicate
         (template_app (template_hole 3, template_var 0))],
       template_predicate (template_app (template_hole 2, t_empty)))),
    ("More_Unification.wf_subst_reduction",
     "wf\<^sub>s\<^sub>u\<^sub>b\<^sub>s\<^sub>t ?s ==>
      wf\<^sub>s\<^sub>u\<^sub>b\<^sub>s\<^sub>t (rm_var ?v ?s)",
     template_implication
      ([template_predicate
         (template_app (template_hole 2, template_var 1))],
       template_predicate
        (
           template_app
            (template_hole 2,
             template_app
              (template_app
                (template_app (template_hole 1, template_var 1),
                 template_var 0),
               template_app (template_hole 0, template_var 0)))
           ))),
    ("More_Unification.subst_elim_comp",
     "subst_elim ?\<theta> ?v ==>
      subst_elim (?\<delta> \<circ>\<^sub>s ?\<theta>) ?v",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 2),
              template_var 1)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 0),
                 template_var 2)),
             template_var 1)
           ))),
    ("More_Unification.mgu_gives_subst_idem",
     "mgu ?s ?t = Some ?\<theta> ==> subst_idem ?\<theta>",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 2, template_var 2), template_var 1),
          template_app (template_hole 1, template_var 0))],
       template_predicate
        (template_app (template_hole 0, template_var 0)))),
    ("More_Unification.mgu_gives_wellformed_subst",
     "mgu ?s ?t = Some ?\<theta> ==>
      wf\<^sub>s\<^sub>u\<^sub>b\<^sub>s\<^sub>t ?\<theta>",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 2, template_var 2), template_var 1),
          template_app (template_hole 1, template_var 0))],
       template_predicate
        (template_app (template_hole 0, template_var 0)))),
    ("More_Unification.var_self",
     "(%w. if w = ?v then Var ?v else Var w) = Var",
     template_equation (t_empty, template_hole 0)),
    ("More_Unification.rm_vars_empty", "rm_vars {} ?s = ?s",
     template_equation (t_empty, template_var 0)),
    ("More_Unification.subst_domain_subst_Fun_single",
     "subst_domain (Var(?x := Fun ?f ?T)) = {?x}",
     template_equation
      (template_app
        (template_hole 5,
         template_app
          (template_app
            (template_app (template_hole 4, template_hole 3),
             template_var 2),
           template_app
            (template_app (template_hole 2, template_var 1),
             template_var 0))),
       template_app
        (template_app (template_hole 1, template_var 2), template_hole 0))),
    ("More_Unification.subst_inj_on_is_bij_betw",
     "inj_on ?\<theta> (subst_domain ?\<theta>) =
      bij_betw ?\<theta> (subst_domain ?\<theta>) (subst_range ?\<theta>)",
     template_equation
      (template_app
        (template_app (template_hole 3, template_var 0),
         template_app (template_hole 2, template_var 0)),
       template_app
        (template_app
          (template_app (template_hole 1, template_var 0),
           template_app (template_hole 2, template_var 0)),
         template_app (template_hole 0, template_var 0)))),
    ("More_Unification.var_same", "(Var(?v := ?t) = Var) = (?t = Var ?v)",
     template_bimplication
      (template_equation
        (template_app
          (template_app
            (template_app (template_hole 2, template_hole 1),
             template_var 1),
           template_var 0),
         template_hole 1),
       template_equation
        (template_var 0, template_app (template_hole 1, template_var 1)))),
    ("More_Unification.pairs_subst_comp",
     "?F \<cdot>\<^sub>p\<^sub>a\<^sub>i\<^sub>r\<^sub>s
      ?\<delta> \<circ>\<^sub>s ?\<theta> =
      (?F \<cdot>\<^sub>p\<^sub>a\<^sub>i\<^sub>r\<^sub>s
       ?\<delta>) \<cdot>\<^sub>p\<^sub>a\<^sub>i\<^sub>r\<^sub>s
      ?\<theta>",
     template_equation
      (template_app
        (template_app (template_hole 3, template_var 2),
         template_app
          (template_app (template_hole 2, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1)),
         template_var 0))),
    ("More_Unification.subst_idemE",
     "subst_idem ?\<sigma> ==>
      subst_domain ?\<sigma> Int range_vars ?\<sigma> = {}",
     template_implication
      ([template_predicate
         (template_app (template_hole 5, template_var 0))],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app (template_hole 2, template_var 0)),
           template_app (template_hole 1, template_var 0)),
         template_hole 0))),
    ("More_Unification.wf_subst_elim_dom",
     "wf\<^sub>s\<^sub>u\<^sub>b\<^sub>s\<^sub>t ?\<theta> ==>
      ALL v:subst_domain ?\<theta>. subst_elim ?\<theta> v",
     template_implication
      ([template_predicate
         (template_app (template_hole 3, template_var 0))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 2,
               template_app (template_hole 1, template_var 0)),
             t_empty)
           ))),
    ("More_Unification.subst_elimD'",
     "subst_elim ?\<sigma> ?v ==> ?\<sigma> ?v ~= Var ?v",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 1),
              template_var 0)
            )],
       template_negation
        (
           template_equation
            (template_app (template_var 1, template_var 0),
             template_app (template_hole 0, template_var 0))
           ))),
    ("More_Unification.subst_elimD''",
     "subst_elim ?\<sigma> ?v ==> ?v ~: fv (?\<sigma> ?w)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 2),
              template_var 1)
            )],
       template_negation
        (
           template_predicate
            (
               template_app
                (template_app (template_hole 1, template_var 1),
                 template_app
                  (template_hole 0,
                   template_app (template_var 2, template_var 0)))
               )
           ))),
    ("More_Unification.subst_ground_ident",
     "fv ?t = {} ==> ?t \<cdot> ?s = ?t",
     template_implication
      ([template_equation
         (template_app (template_hole 3, template_var 1), template_hole 2)],
       template_equation
        (template_app
          (template_app (template_hole 0, template_var 1), template_var 0),
         template_var 1))),
    ("More_Unification.ground_range_vars",
     "ground (subst_range ?s) ==> range_vars ?s = {}",
     template_implication
      ([template_equation
         (template_app
           (template_hole 3,
            template_app (template_hole 2, template_var 0)),
          template_hole 1)],
       template_equation
        (template_app (template_hole 0, template_var 0), template_hole 1))),
    ("More_Unification.subst_idemI",
     "subst_domain ?\<sigma> Int range_vars ?\<sigma> = {} ==>
      subst_idem ?\<sigma>",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_hole 4,
              template_app (template_hole 3, template_var 0)),
            template_app (template_hole 2, template_var 0)),
          template_hole 1)],
       template_predicate
        (template_app (template_hole 0, template_var 0)))),
    ("More_Unification.interpretation_subst_exists'",
     "EX \<theta>.
         subst_domain \<theta> = ?X & ground (subst_range \<theta>)",
     template_predicate (template_app (template_hole 6, t_empty))),
    ("More_Unification.rm_vars_empty", "rm_vars (set []) ?s = ?s",
     template_equation (t_empty, template_var 0)),
    ("More_Unification.range_vars_subst_Fun_single",
     "range_vars (Var(?x := Fun ?f ?T)) = fv (Fun ?f ?T)",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app
            (template_app (template_hole 3, template_hole 2),
             template_var 2),
           template_app
            (template_app (template_hole 1, template_var 1),
             template_var 0))),
       template_app
        (template_hole 0,
         template_app
          (template_app (template_hole 1, template_var 1),
           template_var 0)))),
    ("More_Unification.subst_idem_iff_self_support",
     "subst_idem ?\<theta> = (?\<theta> supports ?\<theta>)",
     template_equation
      (template_app (template_hole 3, template_var 0),
       template_app (template_hole 2, t_empty))),
    ("More_Unification.subterms_subst_subset",
     "subterms ?t \<cdot>\<^sub>s\<^sub>e\<^sub>t ?\<sigma>
      <= subterms (?t \<cdot> ?\<sigma>)",
     template_inequation
      (less_equals,
       template_app
        (template_app (template_hole 3, t_empty),
         template_app (template_hole 1, template_var 0)),
       template_app
        (template_hole 0,
         template_app
          (template_app (template_hole 2, template_var 0),
           template_var 1)))),
    ("More_Unification.subst_elimD",
     "subst_elim ?\<sigma> ?v ==> ?v ~: fv (?t \<cdot> ?\<sigma>)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 2),
              template_var 1)
            )],
       template_negation
        (
           template_predicate
            (
               template_app
                (template_app (template_hole 2, template_var 1),
                 template_app
                  (template_hole 1,
                   template_app
                    (template_app (template_hole 0, template_var 0),
                     template_var 2)))
               )
           ))),
    ("More_Unification.subst_apply_fv_empty",
     "fv ?t = {} ==> fv (?t \<cdot> ?\<sigma>) = {}",
     template_implication
      ([template_equation
         (template_app (template_hole 5, template_var 1), template_hole 4)],
       template_equation
        (template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 1, template_var 1),
             template_var 0)),
         template_hole 0))),
    ("More_Unification.subst_dom_vars_in_subst",
     "?v : subst_domain ?s ==> ?s ?v ~= Var ?v",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 1),
              template_app (template_hole 3, template_var 0))
            )],
       template_negation
        (
           template_equation
            (template_app (template_var 0, template_var 1),
             template_app (template_hole 0, template_var 1))
           ))),
    ("More_Unification.var_not_in_subst_dom",
     "?v ~: subst_domain ?s ==> ?s ?v = Var ?v",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 3, template_var 1),
                  template_app (template_hole 2, template_var 0))
                )
            )],
       template_equation
        (template_app (template_var 0, template_var 1),
         template_app (template_hole 0, template_var 1)))),
    ("More_Unification.ground_subst_no_var",
     "ground (subst_range ?s) ==> ?x ~: range_vars ?s",
     template_implication
      ([template_equation
         (template_app
           (template_hole 5,
            template_app (template_hole 4, template_var 1)),
          template_hole 3)],
       template_negation
        (
           template_predicate
            (
               template_app
                (template_app (template_hole 1, template_var 0),
                 template_app (template_hole 0, template_var 1))
               )
           ))),
    ("More_Unification.mgu_None_commutes",
     "mgu ?s ?t = None ==> mgu ?t ?s = None",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 1, template_var 1), template_var 0),
          template_hole 0)],
       template_equation
        (template_app
          (template_app (template_hole 1, template_var 0), template_var 1),
         template_hole 0))),
    ("More_Unification.subst_domI",
     "?\<sigma> ?v ~= Var ?v ==> ?v : subst_domain ?\<sigma>",
     template_implication
      ([template_negation
         (
            template_equation
             (template_app (template_var 1, template_var 0),
              template_app (template_hole 2, template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, template_var 0),
             template_app (template_hole 0, template_var 1))
           ))),
    ("More_Unification.mgu_gives_wellformed_MGU",
     "mgu ?s ?t = Some ?\<theta> ==>
      wf\<^sub>M\<^sub>G\<^sub>U ?\<theta> ?s ?t",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 2, template_var 2), template_var 1),
          template_app (template_hole 1, template_var 0))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 0, template_var 0),
               template_var 2),
             template_var 1)
           ))),
    ("More_Unification.subst_apply_fv_unfold'",
     "fv (?t \<cdot> ?\<delta>) = (UN v:fv ?t. fv (?\<delta> v))",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app (template_hole 3, template_var 1), template_var 0)),
       template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, t_empty),
           template_app (template_hole 0, template_var 1))))),
    ("More_Unification.subst_range_subst_Fun_single",
     "subst_range (Var(?x := Fun ?f ?T)) = {Fun ?f ?T}",
     template_equation
      (template_app
        (template_hole 5,
         template_app
          (template_app
            (template_app (template_hole 4, template_hole 3),
             template_var 2),
           template_app
            (template_app (template_hole 2, template_var 1),
             template_var 0))),
       template_app
        (template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 2, template_var 1),
             template_var 0)),
         template_hole 0))),
    ("More_Unification.subst_fv_bound_singleton",
     "fv (?t \<cdot> Var(?v := ?t')) <= fv ?t Un fv ?t'",
     template_inequation
      (less_equals,
       template_app
        (template_hole 4,
         template_app
          (template_app (template_hole 3, template_var 2),
           template_app
            (template_app
              (template_app (template_hole 2, template_hole 1),
               template_var 1),
             template_var 0))),
       template_app
        (template_app
          (template_hole 0, template_app (template_hole 4, template_var 2)),
         template_app (template_hole 4, template_var 0)))),
    ("More_Unification.rm_vars_img_fv_subset",
     "range_vars (rm_vars ?V ?s) <= range_vars ?s",
     template_inequation
      (less_equals, template_app (template_hole 3, t_empty),
       template_app (template_hole 3, template_var 0))),
    ("More_Unification.rm_vars_dom_subset",
     "subst_domain (rm_vars ?V ?s) <= subst_domain ?s",
     template_inequation
      (less_equals, template_app (template_hole 3, t_empty),
       template_app (template_hole 3, template_var 0))),
    ("More_Unification.rm_vars_img_subset",
     "subst_range (rm_vars ?V ?s) <= subst_range ?s",
     template_inequation
      (less_equals, template_app (template_hole 3, t_empty),
       template_app (template_hole 3, template_var 0))),
    ("More_Unification.wf_MGU_is_imgu_singleton",
     "wf\<^sub>M\<^sub>G\<^sub>U ?\<theta> ?s ?t ==>
      is_imgu ?\<theta> {(?s, ?t)}",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 4, template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 3, template_var 2),
             template_app
              (template_app
                (template_hole 2,
                 template_app
                  (template_app (template_hole 1, template_var 1),
                   template_var 0)),
               template_hole 0))
           ))),
    ("More_Unification.subst_mono_fv",
     "?x : fv ?t ==> ?s ?x \<sqsubseteq> ?t \<cdot> ?s",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 2),
              template_app (template_hole 3, template_var 1))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 2,
               template_app (template_var 0, template_var 2)),
             template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 0)))
           ))),
    ("More_Unification.subst_imgI",
     "?\<sigma> ?v ~= Var ?v ==> ?\<sigma> ?v : subst_range ?\<sigma>",
     template_implication
      ([template_negation
         (
            template_equation
             (template_app (template_var 1, template_var 0),
              template_app (template_hole 2, template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 1,
               template_app (template_var 1, template_var 0)),
             template_app (template_hole 0, template_var 1))
           ))),
    ("More_Unification.var_upd_subst_idem",
     "Var ?v ~: subterms ?t ==> subst_idem (Var(?v := ?t))",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app
                   (template_hole 4,
                    template_app (template_hole 3, template_var 1)),
                  template_app (template_hole 2, template_var 0))
                )
            )],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app
              (template_app
                (template_app (template_hole 0, template_hole 3),
                 template_var 1),
               template_var 0))
           ))),
    ("More_Unification.ground_term_subst_domain_fv_subset",
     "fv (?t \<cdot> ?\<delta>) = {} ==> fv ?t <= subst_domain ?\<delta>",
     template_implication
      ([template_equation
         (template_app
           (template_hole 4,
            template_app
             (template_app (template_hole 3, template_var 1),
              template_var 0)),
          template_hole 2)],
       template_inequation
        (less_equals, template_app (template_hole 4, template_var 1),
         template_app (template_hole 0, template_var 0)))),
    ("More_Unification.subterm_inj_on_subset",
     "[| subterm_inj_on ?f ?A; ?B <= ?A |] ==> subterm_inj_on ?f ?B",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 2),
              template_var 1)
            ),
        template_inequation (less_equals, template_var 0, template_var 1)],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, template_var 2), template_var 0)
           ))),
    ("More_Unification.fv_subterms_subst_eq",
     "fv\<^sub>s\<^sub>e\<^sub>t (subterms (?t \<cdot> ?\<theta>)) =
      fv\<^sub>s\<^sub>e\<^sub>t
       (subterms ?t \<cdot>\<^sub>s\<^sub>e\<^sub>t ?\<theta>)",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_hole 3,
           template_app
            (template_app (template_hole 2, template_var 1),
             template_var 0))),
       template_app
        (template_hole 4,
         template_app
          (template_app (template_hole 1, t_empty),
           template_app (template_hole 0, template_var 1))))),
    ("More_Unification.subst_comp_set_image",
     "(?\<delta> \<circ>\<^sub>s ?\<theta>) ` ?X =
      ?\<delta> ` ?X \<cdot>\<^sub>s\<^sub>e\<^sub>t ?\<theta>",
     template_equation
      (template_app
        (template_app
          (template_hole 4,
           template_app
            (template_app (template_hole 3, template_var 2),
             template_var 1)),
         template_var 0),
       template_app
        (template_app (template_hole 2, t_empty),
         template_app
          (template_app (template_hole 0, template_var 2),
           template_var 0)))),
    ("More_Unification.subst_idem_rm_vars",
     "subst_idem ?\<theta> ==> subst_idem (rm_vars ?X ?\<theta>)",
     template_implication
      ([template_predicate
         (template_app (template_hole 3, template_var 1))],
       template_predicate (template_app (template_hole 3, t_empty)))),
    ("More_Unification.subst_all_ground_ident",
     "ground ?M ==> ?M \<cdot>\<^sub>s\<^sub>e\<^sub>t ?s = ?M",
     template_implication
      ([template_equation
         (template_app (template_hole 4, template_var 1), template_hole 3)],
       template_equation
        (template_app
          (template_app (template_hole 1, t_empty), template_var 1),
         template_var 1))),
    ("More_Unification.wf_MGU_dom_bound",
     "wf\<^sub>M\<^sub>G\<^sub>U ?\<theta> ?s ?t ==>
      subst_domain ?\<theta> <= fv ?s Un fv ?t",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 4, template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_inequation
        (less_equals, template_app (template_hole 2, template_var 2),
         template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 1)),
           template_app (template_hole 0, template_var 0))))),
    ("More_Unification.subst_sends_dom_to_img",
     "?v : subst_domain ?\<theta> ==>
      fv (Var ?v \<cdot> ?\<theta>) <= range_vars ?\<theta>",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 1),
              template_app (template_hole 5, template_var 0))
            )],
       template_inequation
        (less_equals,
         template_app
          (template_hole 3,
           template_app
            (template_app
              (template_hole 2,
               template_app (template_hole 1, template_var 1)),
             template_var 0)),
         template_app (template_hole 0, template_var 0)))),
    ("More_Unification.fv\<^sub>p\<^sub>a\<^sub>i\<^sub>r\<^sub>s_subst_fv_subset",
     "?x : fv\<^sub>p\<^sub>a\<^sub>i\<^sub>r\<^sub>s ?F ==>
      fv (?\<theta> ?x)
      <= fv\<^sub>p\<^sub>a\<^sub>i\<^sub>r\<^sub>s
          (?F \<cdot>\<^sub>p\<^sub>a\<^sub>i\<^sub>r\<^sub>s ?\<theta>)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 2),
              template_app (template_hole 4, template_var 1))
            )],
       template_inequation
        (less_equals,
         template_app
          (template_hole 2, template_app (template_var 0, template_var 2)),
         template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 0))))),
    ("More_Unification.fv_subst_subset",
     "?x : fv ?t ==> fv (?\<theta> ?x) <= fv (?t \<cdot> ?\<theta>)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 2),
              template_app (template_hole 3, template_var 1))
            )],
       template_inequation
        (less_equals,
         template_app
          (template_hole 1, template_app (template_var 0, template_var 2)),
         template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 0))))),
    ("More_Unification.subst_mono",
     "?t \<sqsubseteq> ?u ==> ?t \<cdot> ?s \<sqsubseteq> ?u \<cdot> ?s",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 2),
              template_app (template_hole 3, template_var 1))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 2),
                 template_var 0)),
             template_app
              (template_hole 0,
               template_app
                (template_app (template_hole 1, template_var 1),
                 template_var 0)))
           ))),
    ("More_Unification.trm_subst_ident'",
     "?v ~: subst_domain ?\<theta> ==> Var ?v \<cdot> ?\<theta> = Var ?v",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 4, template_var 1),
                  template_app (template_hole 3, template_var 0))
                )
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 1)),
           template_var 0),
         template_app (template_hole 0, template_var 1)))),
    ("More_Unification.subst_comp_notin_dom_eq",
     "?x ~: subst_domain ?\<theta>1.0 ==>
      (?\<theta>1.0 \<circ>\<^sub>s ?\<theta>2.0) ?x = ?\<theta>2.0 ?x",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 3, template_var 2),
                  template_app (template_hole 2, template_var 1))
                )
            )],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 0, template_var 1),
             template_var 0),
           template_var 2),
         template_app (template_var 0, template_var 2)))),
    ("More_Unification.ground_subst_fv_subset",
     "ground (subst_range ?\<theta>) ==>
      fv (?t \<cdot> ?\<theta>) <= fv ?t",
     template_implication
      ([template_equation
         (template_app
           (template_hole 5,
            template_app (template_hole 4, template_var 1)),
          template_hole 3)],
       template_inequation
        (less_equals,
         template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 0),
             template_var 1)),
         template_app (template_hole 1, template_var 0)))),
    ("More_Unification.subst_ground_ident_compose",
     "fv (?\<sigma> ?x) = {} ==>
      (?\<sigma> \<circ>\<^sub>s ?\<theta>) ?x = ?\<sigma> ?x",
     template_implication
      ([template_equation
         (template_app
           (template_hole 3, template_app (template_var 2, template_var 1)),
          template_hole 2)],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 0, template_var 2),
             template_var 0),
           template_var 1),
         template_app (template_var 2, template_var 1)))),
    ("More_Unification.subst_compose_fv",
     "fv (?\<theta> ?x) = {} ==>
      fv ((?\<theta> \<circ>\<^sub>s ?\<sigma>) ?x) = {}",
     template_implication
      ([template_equation
         (template_app
           (template_hole 5, template_app (template_var 2, template_var 1)),
          template_hole 4)],
       template_equation
        (template_app
          (template_hole 2,
           template_app
            (template_app
              (template_app (template_hole 1, template_var 2),
               template_var 0),
             template_var 1)),
         template_hole 0))),
    ("More_Unification.trm_subst_disj",
     "?t \<cdot> ?\<theta> = ?t ==> fv ?t Int subst_domain ?\<theta> = {}",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 5, template_var 1), template_var 0),
          template_var 1)],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app (template_hole 2, template_var 1)),
           template_app (template_hole 1, template_var 0)),
         template_hole 0))),
    ("More_Unification.subst_fv_dom_img_subset",
     "fv ?t <= subst_domain ?\<theta> ==>
      fv (?t \<cdot> ?\<theta>) <= range_vars ?\<theta>",
     template_implication
      ([template_inequation
         (less_equals, template_app (template_hole 3, template_var 1),
          template_app (template_hole 2, template_var 0))],
       template_inequation
        (less_equals,
         template_app
          (template_hole 3,
           template_app
            (template_app (template_hole 1, template_var 1),
             template_var 0)),
         template_app (template_hole 0, template_var 0)))),
    ("More_Unification.subst_fv_imgI",
     "?\<sigma> ?v ~= Var ?v ==> fv (?\<sigma> ?v) <= range_vars ?\<sigma>",
     template_implication
      ([template_negation
         (
            template_equation
             (template_app (template_var 1, template_var 0),
              template_app (template_hole 3, template_var 0))
            )],
       template_inequation
        (less_equals,
         template_app
          (template_hole 1, template_app (template_var 1, template_var 0)),
         template_app (template_hole 0, template_var 1)))),
    ("More_Unification.occs_subst_elim'",
     "Var ?v ~: subterms ?t ==> subst_elim (Var(?v := ?t)) ?v",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app
                   (template_hole 4,
                    template_app (template_hole 3, template_var 1)),
                  template_app (template_hole 2, template_var 0))
                )
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app
                  (template_app (template_hole 0, template_hole 3),
                   template_var 1),
                 template_var 0)),
             template_var 1)
           ))),
    ("More_Unification.subst_to_var_is_var",
     "?t \<cdot> ?s = Var ?v ==> EX w. ?t = Var w",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 4, template_var 2), template_var 1),
          template_app (template_hole 3, template_var 0))],
       template_predicate (template_app (template_hole 2, t_empty)))),
    ("More_Unification.pairs_substI'",
     "subst_domain ?\<theta> Int
      fv\<^sub>p\<^sub>a\<^sub>i\<^sub>r\<^sub>s ?F =
      {} ==>
      ?F \<cdot>\<^sub>p\<^sub>a\<^sub>i\<^sub>r\<^sub>s ?\<theta> = ?F",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_hole 5,
              template_app (template_hole 4, template_var 1)),
            template_app (template_hole 3, template_var 0)),
          template_hole 2)],
       template_equation
        (template_app
          (template_app (template_hole 0, template_var 0), template_var 1),
         template_var 0))),
    ("More_Unification.trm_subst_ident",
     "fv ?t Int subst_domain ?\<theta> = {} ==> ?t \<cdot> ?\<theta> = ?t",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_hole 5,
              template_app (template_hole 4, template_var 1)),
            template_app (template_hole 3, template_var 0)),
          template_hole 2)],
       template_equation
        (template_app
          (template_app (template_hole 0, template_var 1), template_var 0),
         template_var 1))),
    ("More_Unification.subst_elimI",
     "(!!t. ?v ~: fv (t \<cdot> ?\<sigma>)) ==> subst_elim ?\<sigma> ?v",
     template_implication
      ([template_predicate (template_app (template_hole 6, t_empty))],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 0), template_var 1)
           ))),
    ("More_Unification.subst_eqI",
     "(!!t. t \<cdot> ?\<sigma> = t \<cdot> ?\<theta>) ==>
      ?\<sigma> = ?\<theta>",
     template_implication
      ([template_predicate (template_app (template_hole 4, t_empty))],
       template_equation (template_var 1, template_var 0))),
    ("More_Unification.interpretation_subst_idem",
     "interpretation\<^sub>s\<^sub>u\<^sub>b\<^sub>s\<^sub>t ?\<theta> ==>
      subst_idem ?\<theta>",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 7,
                template_app
                 (template_app
                   (template_hole 6,
                    template_app (template_hole 5, template_var 0)),
                  template_hole 4)),
              template_app
               (template_app
                 (template_hole 6,
                  template_app
                   (template_hole 3,
                    template_app (template_hole 2, template_var 0))),
                template_hole 1))
            )],
       template_predicate
        (template_app (template_hole 0, template_var 0)))),
    ("More_Unification.subst_comp_upd1",
     "?\<theta>(?v := ?t) \<circ>\<^sub>s ?\<sigma> =
      (?\<theta> \<circ>\<^sub>s ?\<sigma>)(?v := ?t \<cdot> ?\<sigma>)",
     template_equation
      (template_app
        (template_app
          (template_hole 3,
           template_app
            (template_app
              (template_app (template_hole 2, template_var 3),
               template_var 2),
             template_var 1)),
         template_var 0),
       template_app
        (template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 3, template_var 3),
               template_var 0)),
           template_var 2),
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("More_Unification.rm_vars_dom",
     "subst_domain (rm_vars ?V ?s) = subst_domain ?s - ?V",
     template_equation
      (template_app (template_hole 4, t_empty),
       template_app
        (template_app
          (template_hole 0, template_app (template_hole 4, template_var 0)),
         template_var 1))),
    ("More_Unification.subst_apply_fv_subset",
     "fv ?t <= ?V ==>
      fv (?t \<cdot> ?\<delta>)
      <= fv\<^sub>s\<^sub>e\<^sub>t (?\<delta> ` ?V)",
     template_implication
      ([template_inequation
         (less_equals, template_app (template_hole 5, template_var 2),
          template_var 1)],
       template_inequation
        (less_equals,
         template_app
          (template_hole 3,
           template_app
            (template_app (template_hole 2, template_var 2),
             template_var 0)),
         template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 0),
             template_var 1))))),
    ("More_Unification.mgu_None_is_subst_neq",
     "mgu ?s ?t = None ==> ?s \<cdot> ?\<delta> ~= ?t \<cdot> ?\<delta>",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 4, template_var 2), template_var 1),
          template_hole 3)],
       template_negation
        (
           template_equation
            (template_app
              (template_app (template_hole 0, template_var 2),
               template_var 0),
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0))
           ))),
    ("More_Unification.mgu_subst_domain_range_vars_disjoint",
     "mgu ?s ?t = Some ?\<sigma> ==>
      subst_domain ?\<sigma> Int range_vars ?\<sigma> = {}",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 6, template_var 2), template_var 1),
          template_app (template_hole 5, template_var 0))],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app (template_hole 2, template_var 0)),
           template_app (template_hole 1, template_var 0)),
         template_hole 0))),
    ("More_Unification.subst_elimI'",
     "(!!w. ?v ~: fv (Var w \<cdot> ?\<theta>)) ==>
      subst_elim ?\<theta> ?v",
     template_implication
      ([template_predicate (template_app (template_hole 7, t_empty))],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 0), template_var 1)
           ))),
    ("More_Unification.funs_term_subst",
     "funs_term (?t \<cdot> ?\<theta>) =
      funs_term ?t Un (UN x:fv ?t. funs_term (?\<theta> x))",
     template_equation
      (template_app
        (template_hole 6,
         template_app
          (template_app (template_hole 5, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 4, template_app (template_hole 3, template_var 1)),
         template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 1, t_empty),
             template_app (template_hole 0, template_var 1)))))),
    ("More_Unification.Unifier_in_unifiers_singleton",
     "Unifier ?\<theta> ?s ?t = (?\<theta> : unifiers {(?s, ?t)})",
     template_equation
      (template_app
        (template_app
          (template_hole 6,
           template_app
            (template_app (template_hole 5, template_var 2),
             template_var 1)),
         template_app
          (template_app (template_hole 5, template_var 0), template_var 1)),
       template_app
        (template_app (template_hole 4, template_var 1),
         template_app
          (template_hole 3,
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 2),
                 template_var 0)),
             template_hole 0))))),
    ("More_Unification.subst_fv_unfold_ground_img",
     "range_vars ?s = {} ==> fv (?t \<cdot> ?s) = fv ?t - subst_domain ?s",
     template_implication
      ([template_equation
         (template_app (template_hole 5, template_var 1), template_hole 4)],
       template_equation
        (template_app
          (template_hole 3,
           template_app
            (template_app (template_hole 2, template_var 0),
             template_var 1)),
         template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 3, template_var 0)),
           template_app (template_hole 0, template_var 1))))),
    ("More_Unification.fv_subterms_substI",
     "?y : fv ?t ==>
      ?\<theta> ?y : subterms ?t \<cdot>\<^sub>s\<^sub>e\<^sub>t ?\<theta>",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 2),
              template_app (template_hole 4, template_var 1))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 3,
               template_app (template_var 0, template_var 2)),
             template_app
              (template_app (template_hole 2, t_empty),
               template_app (template_hole 0, template_var 1)))
           ))),
    ("More_Unification.subst_dom_update1",
     "?v ~: subst_domain ?\<sigma> ==>
      subst_domain (rm_var ?v ?\<sigma>) = subst_domain ?\<sigma>",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 4, template_var 1),
                  template_app (template_hole 3, template_var 0))
                )
            )],
       template_equation
        (template_app
          (template_hole 3,
           template_app
            (template_app
              (template_app (template_hole 1, template_var 0),
               template_var 1),
             template_app (template_hole 0, template_var 1))),
         template_app (template_hole 3, template_var 0)))),
    ("More_Unification.fv_subst_subset'",
     "fv ?s <= fv ?t ==>
      fv (?s \<cdot> ?\<theta>) <= fv (?t \<cdot> ?\<theta>)",
     template_implication
      ([template_inequation
         (less_equals, template_app (template_hole 3, template_var 2),
          template_app (template_hole 3, template_var 1))],
       template_inequation
        (less_equals,
         template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 2),
             template_var 0)),
         template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 0))))),
    ("More_Unification.subst_no_occs",
     "Var ?v ~: subterms ?t ==> ?t \<cdot> Var(?v := ?s) = ?t",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app
                   (template_hole 5,
                    template_app (template_hole 4, template_var 2)),
                  template_app (template_hole 3, template_var 1))
                )
            )],
       template_equation
        (template_app
          (template_app (template_hole 1, template_var 1),
           template_app
            (template_app
              (template_app (template_hole 0, template_hole 4),
               template_var 2),
             template_var 0)),
         template_var 1))),
    ("More_Unification.mgu_subst_range_vars",
     "mgu ?s ?t = Some ?\<sigma> ==>
      range_vars ?\<sigma> <= fv ?s Un fv ?t",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 5, template_var 2), template_var 1),
          template_app (template_hole 4, template_var 0))],
       template_inequation
        (less_equals, template_app (template_hole 2, template_var 0),
         template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 2)),
           template_app (template_hole 0, template_var 1))))),
    ("More_Unification.const_subterm_subst",
     "Fun ?c [] \<sqsubseteq> ?t ==>
      Fun ?c [] \<sqsubseteq> ?t \<cdot> ?\<sigma>",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 8,
                template_app
                 (template_app (template_hole 7, template_var 2),
                  template_hole 6)),
              template_app (template_hole 5, template_var 1))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 4,
               template_app
                (template_app (template_hole 3, template_var 2),
                 template_hole 2)),
             template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 0)))
           ))),
    ("More_Unification.Unifier_sym",
     "Unifier ?\<sigma> ?s ?t ==> Unifier ?\<sigma> ?t ?s",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 0, template_var 2), template_var 1),
          template_app
           (template_app (template_hole 0, template_var 0),
            template_var 1))],
       template_equation
        (template_app
          (template_app (template_hole 0, template_var 0), template_var 1),
         template_app
          (template_app (template_hole 0, template_var 2),
           template_var 1)))),
    ("More_Unification.subst_compose_fv'",
     "?y : fv ((?\<theta> \<circ>\<^sub>s ?\<sigma>) ?x) ==>
      EX z. z : fv (?\<theta> ?x)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 3),
              template_app
               (template_hole 2,
                template_app
                 (template_app
                   (template_app (template_hole 1, template_var 2),
                    template_var 1),
                  template_var 0)))
            )],
       template_predicate (template_app (template_hole 0, t_empty)))),
    ("More_Unification.UnifierD",
     "Unifier ?\<sigma> (Fun ?f ?X) (Fun ?g ?Y) ==> ?f = ?g",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_hole 2,
              template_app
               (template_app (template_hole 1, template_var 4),
                template_var 3)),
            template_var 2),
          template_app
           (template_app
             (template_hole 2,
              template_app
               (template_app (template_hole 1, template_var 1),
                template_var 0)),
            template_var 2))],
       template_equation (template_var 4, template_var 1))),
    ("More_Unification.subst_eq_if_eq_vars",
     "(!!v. Var v \<cdot> ?\<theta> = Var v \<cdot> ?\<sigma>) ==>
      ?\<theta> = ?\<sigma>",
     template_implication
      ([template_predicate (template_app (template_hole 5, t_empty))],
       template_equation (template_var 1, template_var 0))),
    ("More_Unification.rm_vars_singleton", "rm_vars {?v} ?s = rm_var ?v ?s",
     template_equation
      (t_empty,
       template_app
        (template_app
          (template_app (template_hole 0, template_var 0), template_var 1),
         template_app (template_hole 1, template_var 1)))),
    ("More_Unification.subst_apply_fv_union",
     "fv\<^sub>s\<^sub>e\<^sub>t (?\<delta> ` ?V) Un
      fv (?t \<cdot> ?\<delta>) =
      fv\<^sub>s\<^sub>e\<^sub>t (?\<delta> ` (?V Un fv ?t))",
     template_equation
      (template_app
        (template_app
          (template_hole 6,
           template_app
            (template_hole 5,
             template_app
              (template_app (template_hole 4, template_var 2),
               template_var 1))),
         template_app
          (template_hole 3,
           template_app
            (template_app (template_hole 2, template_var 0),
             template_var 2))),
       template_app
        (template_hole 5,
         template_app
          (template_app (template_hole 4, template_var 2),
           template_app
            (template_app (template_hole 1, template_var 1),
             template_app (template_hole 0, template_var 0)))))),
    ("More_Unification.rm_vars_dom_eq'",
     "subst_domain (rm_vars (UNIV - ?V) ?s) = subst_domain ?s Int ?V",
     template_equation
      (template_app (template_hole 6, t_empty),
       template_app
        (template_app
          (template_hole 0, template_app (template_hole 6, template_var 0)),
         template_var 1))),
    ("More_Unification.subst_apply_pairs_singleton",
     "[(?t, ?s)] \<cdot>\<^sub>p\<^sub>a\<^sub>i\<^sub>r\<^sub>s ?\<delta> =
      [(?t \<cdot> ?\<delta>, ?s \<cdot> ?\<delta>)]",
     template_equation
      (template_app
        (template_app
          (template_hole 7,
           template_app
            (template_app
              (template_hole 6,
               template_app
                (template_app (template_hole 5, template_var 2),
                 template_var 1)),
             template_hole 4)),
         template_var 0),
       template_app
        (template_app
          (template_hole 3,
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 2),
                 template_var 0)),
             template_app
              (template_app (template_hole 1, template_var 1),
               template_var 0))),
         template_hole 0))),
    ("More_Unification.subst_idem_support",
     "subst_idem ?\<theta> ==>
      ?\<theta> supports ?\<theta> \<circ>\<^sub>s ?\<delta>",
     template_implication
      ([template_predicate
         (template_app (template_hole 4, template_var 1))],
       template_predicate (template_app (template_hole 3, t_empty)))),
    ("More_Unification.subst_set_map",
     "?x : set ?X ==>
      ?x \<cdot> ?s : set (?X \<cdot>\<^sub>l\<^sub>i\<^sub>s\<^sub>t ?s)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 2),
              template_app (template_hole 4, template_var 1))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 3,
               template_app
                (template_app (template_hole 2, template_var 2),
                 template_var 0)),
             template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, t_empty), template_var 1)))
           ))),
    ("More_Unification.subst_dom_update2",
     "?t ~= Var ?v ==>
      subst_domain (?\<sigma>(?v := ?t)) =
      insert ?v (subst_domain ?\<sigma>)",
     template_implication
      ([template_negation
         (
            template_equation
             (template_var 2,
              template_app (template_hole 4, template_var 1))
            )],
       template_equation
        (template_app
          (template_hole 2,
           template_app
            (template_app
              (template_app (template_hole 1, template_var 0),
               template_var 1),
             template_var 2)),
         template_app
          (template_app (template_hole 0, template_var 1),
           template_app (template_hole 2, template_var 0))))),
    ("More_Unification.subst_remove_var",
     "?v ~: fv ?s ==> ?v ~: fv (?t \<cdot> Var(?v := ?s))",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 4, template_var 2),
                  template_app (template_hole 3, template_var 1))
                )
            )],
       template_negation
        (
           template_predicate
            (
               template_app
                (template_app (template_hole 4, template_var 2),
                 template_app
                  (template_hole 3,
                   template_app
                    (template_app (template_hole 2, template_var 0),
                     template_app
                      (template_app
                        (template_app (template_hole 1, template_hole 0),
                         template_var 2),
                       template_var 1))))
               )
           ))),
    ("More_Unification.repl_invariance",
     "?v ~: fv ?t ==> ?t \<cdot> ?s(?v := ?u) = ?t \<cdot> ?s",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 4, template_var 3),
                  template_app (template_hole 3, template_var 2))
                )
            )],
       template_equation
        (template_app
          (template_app (template_hole 1, template_var 2),
           template_app
            (template_app
              (template_app (template_hole 0, template_var 1),
               template_var 3),
             template_var 0)),
         template_app
          (template_app (template_hole 1, template_var 2),
           template_var 1)))),
    ("More_Unification.mgu_var",
     "?x ~: fv ?t ==> mgu (Var ?x) ?t = Some (Var(?x := ?t))",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 6, template_var 1),
                  template_app (template_hole 5, template_var 0))
                )
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app (template_hole 2, template_var 1)),
           template_var 0),
         template_app
          (template_hole 1,
           template_app
            (template_app
              (template_app (template_hole 0, template_hole 2),
               template_var 1),
             template_var 0))))),
    ("More_Unification.subst_inj_is_bij_betw_dom_img_if_ground_img",
     "ground (subst_range ?\<sigma>) ==>
      inj ?\<sigma> =
      bij_betw ?\<sigma> (subst_domain ?\<sigma>) (subst_range ?\<sigma>)",
     template_implication
      ([template_equation
         (template_app
           (template_hole 7,
            template_app (template_hole 6, template_var 0)),
          template_hole 5)],
       template_equation
        (template_app
          (template_app (template_hole 3, template_var 0), template_hole 2),
         template_app
          (template_app
            (template_app (template_hole 1, template_var 0),
             template_app (template_hole 0, template_var 0)),
           template_app (template_hole 6, template_var 0))))),
    ("More_Unification.ground_subst_dom_iff_img",
     "ground (subst_range ?\<sigma>) ==>
      (?x : subst_domain ?\<sigma>) =
      (?\<sigma> ?x : subst_range ?\<sigma>)",
     template_implication
      ([template_equation
         (template_app
           (template_hole 6,
            template_app (template_hole 5, template_var 1)),
          template_hole 4)],
       template_equation
        (template_app
          (template_app (template_hole 2, template_var 0),
           template_app (template_hole 1, template_var 1)),
         template_app
          (template_app
            (template_hole 0,
             template_app (template_var 1, template_var 0)),
           template_app (template_hole 5, template_var 1))))),
    ("More_Unification.ground_subst_fv_subset'",
     "ground (subst_range ?\<theta>) ==>
      fv\<^sub>s\<^sub>e\<^sub>t
       (?M \<cdot>\<^sub>s\<^sub>e\<^sub>t ?\<theta>)
      <= fv\<^sub>s\<^sub>e\<^sub>t ?M",
     template_implication
      ([template_equation
         (template_app
           (template_hole 5,
            template_app (template_hole 4, template_var 1)),
          template_hole 3)],
       template_inequation
        (less_equals,
         template_app
          (template_hole 5,
           template_app
            (template_app (template_hole 1, t_empty), template_var 0)),
         template_app (template_hole 5, template_var 0)))),
    ("More_Unification.subst_img_comp_subset_ground",
     "ground (subst_range ?\<theta>1.0) ==>
      subst_range (?\<theta>1.0 \<circ>\<^sub>s ?\<theta>2.0)
      <= subst_range ?\<theta>1.0 Un subst_range ?\<theta>2.0",
     template_implication
      ([template_equation
         (template_app
           (template_hole 5,
            template_app (template_hole 4, template_var 1)),
          template_hole 3)],
       template_inequation
        (less_equals,
         template_app
          (template_hole 4,
           template_app
            (template_app (template_hole 1, template_var 1),
             template_var 0)),
         template_app
          (template_app
            (template_hole 0,
             template_app (template_hole 4, template_var 1)),
           template_app (template_hole 4, template_var 0))))),
    ("More_Unification.subst_fv_dom_img_subset_set",
     "fv\<^sub>s\<^sub>e\<^sub>t ?M <= subst_domain ?\<theta> ==>
      fv\<^sub>s\<^sub>e\<^sub>t
       (?M \<cdot>\<^sub>s\<^sub>e\<^sub>t ?\<theta>)
      <= range_vars ?\<theta>",
     template_implication
      ([template_inequation
         (less_equals, template_app (template_hole 4, template_var 1),
          template_app (template_hole 3, template_var 0))],
       template_inequation
        (less_equals,
         template_app
          (template_hole 4,
           template_app
            (template_app (template_hole 2, t_empty), template_var 1)),
         template_app (template_hole 0, template_var 0)))),
    ("More_Unification.subst_fv_bounded_if_img_bounded'",
     "range_vars ?\<theta> <= fv\<^sub>s\<^sub>e\<^sub>t ?M ==>
      fv\<^sub>s\<^sub>e\<^sub>t
       (?M \<cdot>\<^sub>s\<^sub>e\<^sub>t ?\<theta>)
      <= fv\<^sub>s\<^sub>e\<^sub>t ?M",
     template_implication
      ([template_inequation
         (less_equals, template_app (template_hole 3, template_var 1),
          template_app (template_hole 2, template_var 0))],
       template_inequation
        (less_equals,
         template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 1, t_empty), template_var 0)),
         template_app (template_hole 2, template_var 0)))),
    ("More_Unification.subst_ground_ident_compose",
     "fv (?t \<cdot> ?\<sigma>) = {} ==>
      ?t \<cdot> ?\<sigma> \<circ>\<^sub>s ?\<theta> =
      ?t \<cdot> ?\<sigma>",
     template_implication
      ([template_equation
         (template_app
           (template_hole 4,
            template_app
             (template_app (template_hole 3, template_var 2),
              template_var 1)),
          template_hole 2)],
       template_equation
        (template_app
          (template_app (template_hole 3, template_var 2),
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 0)),
         template_app
          (template_app (template_hole 3, template_var 2),
           template_var 1)))),
    ("More_Unification.var_renaming_is_Fun_iff",
     "subst_range ?\<delta> <= range Var ==>
      is_Fun ?t = is_Fun (?t \<cdot> ?\<delta>)",
     template_implication
      ([template_inequation
         (less_equals, template_app (template_hole 7, template_var 1),
          template_app
           (template_app (template_hole 6, template_hole 5),
            template_hole 4))],
       template_equation
        (template_app
          (template_hole 2, template_app (template_hole 1, template_var 0)),
         template_app
          (template_hole 2,
           template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 0),
               template_var 1)))))),
    ("More_Unification.fv_Fun_subst_neq",
     "?x : fv (Fun ?f ?T) ==> ?\<sigma> ?x ~= Fun ?f ?T \<cdot> ?\<sigma>",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 3),
              template_app
               (template_hole 4,
                template_app
                 (template_app (template_hole 3, template_var 2),
                  template_var 1)))
            )],
       template_negation
        (
           template_equation
            (template_app (template_var 0, template_var 3),
             template_app
              (template_app
                (template_hole 0,
                 template_app
                  (template_app (template_hole 3, template_var 2),
                   template_var 1)),
               template_var 0))
           ))),
    ("More_Unification.fv\<^sub>p\<^sub>a\<^sub>i\<^sub>r\<^sub>s_subst_obtain_var",
     "?x : fv\<^sub>p\<^sub>a\<^sub>i\<^sub>r\<^sub>s
            (?F \<cdot>\<^sub>p\<^sub>a\<^sub>i\<^sub>r\<^sub>s
             ?\<delta>) ==>
      EX y:fv\<^sub>p\<^sub>a\<^sub>i\<^sub>r\<^sub>s ?F.
         ?x : fv (?\<delta> y)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 2),
              template_app
               (template_hole 3,
                template_app
                 (template_app (template_hole 2, template_var 1),
                  template_var 0)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 1,
               template_app (template_hole 3, template_var 1)),
             t_empty)
           ))),
    ("More_Unification.fv_subst_obtain_var",
     "?x : fv (?t \<cdot> ?\<delta>) ==> EX y:fv ?t. ?x : fv (?\<delta> y)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 2),
              template_app
               (template_hole 2,
                template_app
                 (template_app (template_hole 1, template_var 1),
                  template_var 0)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 0,
               template_app (template_hole 2, template_var 1)),
             t_empty)
           ))),
    ("More_Unification.set_subst_ident",
     "fv\<^sub>s\<^sub>e\<^sub>t ?M Int subst_domain ?\<theta> = {} ==>
      ?M \<cdot>\<^sub>s\<^sub>e\<^sub>t ?\<theta> = ?M",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_hole 6,
              template_app (template_hole 5, template_var 1)),
            template_app (template_hole 4, template_var 0)),
          template_hole 3)],
       template_equation
        (template_app
          (template_app (template_hole 1, t_empty), template_var 1),
         template_var 1))),
    ("More_Unification.mgu_always_unifies",
     "Unifier ?\<theta> ?M ?N ==> EX \<delta>. mgu ?M ?N = Some \<delta>",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 4, template_var 2), template_var 1),
          template_app
           (template_app (template_hole 4, template_var 0),
            template_var 1))],
       template_predicate (template_app (template_hole 3, t_empty)))),
    ("More_Unification.fv\<^sub>p\<^sub>a\<^sub>i\<^sub>r\<^sub>s_subst_subset",
     "fv\<^sub>p\<^sub>a\<^sub>i\<^sub>r\<^sub>s
       (?F \<cdot>\<^sub>p\<^sub>a\<^sub>i\<^sub>r\<^sub>s ?\<delta>)
      <= subst_domain ?\<sigma> ==>
      fv\<^sub>p\<^sub>a\<^sub>i\<^sub>r\<^sub>s ?F
      <= subst_domain ?\<sigma> Un subst_domain ?\<delta>",
     template_implication
      ([template_inequation
         (less_equals,
          template_app
           (template_hole 4,
            template_app
             (template_app (template_hole 3, template_var 2),
              template_var 1)),
          template_app (template_hole 2, template_var 0))],
       template_inequation
        (less_equals, template_app (template_hole 4, template_var 2),
         template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 2, template_var 0)),
           template_app (template_hole 0, template_var 1))))),
    ("More_Unification.ident_comp_subst_trm_if_disj'",
     "fv (?\<theta> ?v) Int subst_domain ?\<sigma> = {} ==>
      (?\<theta> \<circ>\<^sub>s ?\<sigma>) ?v = ?\<theta> ?v",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_hole 5,
              template_app
               (template_hole 4,
                template_app (template_var 2, template_var 1))),
            template_app (template_hole 3, template_var 0)),
          template_hole 2)],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 0, template_var 2),
             template_var 0),
           template_var 1),
         template_app (template_var 2, template_var 1)))),
    ("More_Unification.subst_img_bound",
     "subst_domain ?\<delta> Un range_vars ?\<delta> <= fv ?t ==>
      range_vars ?\<delta> <= fv (?t \<cdot> ?\<delta>)",
     template_implication
      ([template_inequation
         (less_equals,
          template_app
           (template_app
             (template_hole 4,
              template_app (template_hole 3, template_var 1)),
            template_app (template_hole 2, template_var 1)),
          template_app (template_hole 1, template_var 0))],
       template_inequation
        (less_equals, template_app (template_hole 2, template_var 1),
         template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 0),
             template_var 1))))),
    ("More_Unification.interpretation_grounds_all",
     "interpretation\<^sub>s\<^sub>u\<^sub>b\<^sub>s\<^sub>t ?\<theta> ==>
      fv (?\<theta> ?v) = {}",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 7,
                template_app
                 (template_app
                   (template_hole 6,
                    template_app (template_hole 5, template_var 1)),
                  template_hole 4)),
              template_app
               (template_app
                 (template_hole 6,
                  template_app
                   (template_hole 3,
                    template_app (template_hole 2, template_var 1))),
                template_hole 1))
            )],
       template_equation
        (template_app
          (template_hole 0, template_app (template_var 1, template_var 0)),
         template_hole 1))),
    ("More_Unification.subst_cong",
     "[| ?\<sigma> = ?\<sigma>'; ?\<theta> = ?\<theta>' |]
      ==> ?\<sigma> \<circ>\<^sub>s ?\<theta> =
          ?\<sigma>' \<circ>\<^sub>s ?\<theta>'",
     template_implication
      ([template_equation (template_var 3, template_var 2),
        template_equation (template_var 1, template_var 0)],
       template_equation
        (template_app
          (template_app (template_hole 0, template_var 3), template_var 1),
         template_app
          (template_app (template_hole 0, template_var 2),
           template_var 0)))),
    ("More_Unification.mgu_eliminates_dom",
     "[| mgu ?x ?y = Some ?\<theta>; ?v : subst_domain ?\<theta> |]
      ==> subst_elim ?\<theta> ?v",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 4, template_var 3), template_var 2),
          template_app (template_hole 3, template_var 1)),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 0),
              template_app (template_hole 1, template_var 1))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 1), template_var 0)
           ))),
    ("More_Unification.fv_subterms_set_subst'",
     "fv\<^sub>s\<^sub>e\<^sub>t
       (subterms\<^sub>s\<^sub>e\<^sub>t ?M \<cdot>\<^sub>s\<^sub>e\<^sub>t
        ?\<theta>) =
      fv\<^sub>s\<^sub>e\<^sub>t
       (?M \<cdot>\<^sub>s\<^sub>e\<^sub>t ?\<theta>)",
     template_equation
      (template_app
        (template_hole 5,
         template_app
          (template_app (template_hole 4, t_empty),
           template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_hole 0),
               template_var 0)))),
       template_app
        (template_hole 5,
         template_app
          (template_app (template_hole 4, t_empty), template_var 0)))),
    ("More_Unification.rm_vars_subst_eq'",
     "?t \<cdot> ?\<delta> = ?t \<cdot> rm_vars (UNIV - fv ?t) ?\<delta>",
     template_equation
      (template_app
        (template_app (template_hole 6, template_var 1), template_var 0),
       template_app
        (template_app (template_hole 6, template_var 1), t_empty))),
    ("More_Unification.subst_all_mono",
     "?M <= ?M' ==>
      ?M \<cdot>\<^sub>s\<^sub>e\<^sub>t ?s
      <= ?M' \<cdot>\<^sub>s\<^sub>e\<^sub>t ?s",
     template_implication
      ([template_inequation (less_equals, template_var 2, template_var 1)],
       template_inequation
        (less_equals,
         template_app
          (template_app (template_hole 1, t_empty), template_var 2),
         template_app
          (template_app (template_hole 1, t_empty), template_var 1)))),
    ("More_Unification.subst_dom_update3",
     "?t = Var ?v ==>
      subst_domain (?\<sigma>(?v := ?t)) = subst_domain ?\<sigma> - {?v}",
     template_implication
      ([template_equation
         (template_var 2, template_app (template_hole 6, template_var 1))],
       template_equation
        (template_app
          (template_hole 4,
           template_app
            (template_app
              (template_app (template_hole 3, template_var 0),
               template_var 1),
             template_var 2)),
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 4, template_var 0)),
           template_app
            (template_app (template_hole 1, template_var 1),
             template_hole 0))))),
    ("More_Unification.subst_dom_elim",
     "subst_domain ?s Int range_vars ?s = {} ==>
      fv (?t \<cdot> ?s) Int subst_domain ?s = {}",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_hole 5,
              template_app (template_hole 4, template_var 1)),
            template_app (template_hole 3, template_var 1)),
          template_hole 2)],
       template_equation
        (template_app
          (template_app
            (template_hole 5,
             template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 0),
                 template_var 1))),
           template_app (template_hole 4, template_var 1)),
         template_hole 2))),
    ("More_Unification.subst_fv_bounded_if_img_bounded",
     "range_vars ?\<theta> <= fv ?t Un ?V ==>
      fv (?t \<cdot> ?\<theta>) <= fv ?t Un ?V",
     template_implication
      ([template_inequation
         (less_equals, template_app (template_hole 3, template_var 2),
          template_app
           (template_app
             (template_hole 2,
              template_app (template_hole 1, template_var 1)),
            template_var 0))],
       template_inequation
        (less_equals,
         template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 2)),
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0)))),
    ("More_Unification.subst_supportD",
     "?\<theta> supports ?\<delta> ==>
      ?\<theta> \<preceq>\<^sub>\<circ> ?\<delta>",
     template_implication
      ([template_predicate (template_app (template_hole 5, t_empty))],
       template_predicate (template_app (template_hole 2, t_empty)))),
    ("More_Unification.subst_mgt_comp'",
     "?\<theta> \<circ>\<^sub>s ?\<delta> \<preceq>\<^sub>\<circ>
      ?\<sigma> ==>
      ?\<theta> \<preceq>\<^sub>\<circ> ?\<sigma>",
     template_implication
      ([template_predicate (template_app (template_hole 5, t_empty))],
       template_predicate (template_app (template_hole 1, t_empty)))),
    ("More_Unification.interpretation_grounds",
     "interpretation\<^sub>s\<^sub>u\<^sub>b\<^sub>s\<^sub>t ?\<theta> ==>
      fv (?t \<cdot> ?\<theta>) = {}",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 8,
                template_app
                 (template_app
                   (template_hole 7,
                    template_app (template_hole 6, template_var 1)),
                  template_hole 5)),
              template_app
               (template_app
                 (template_hole 7,
                  template_app
                   (template_hole 4,
                    template_app (template_hole 3, template_var 1))),
                template_hole 2))
            )],
       template_equation
        (template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 0),
             template_var 1)),
         template_hole 2))),
    ("More_Unification.UnifierD",
     "Unifier ?\<sigma> (Fun ?f ?X) (Fun ?g ?Y) ==> length ?X = length ?Y",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_hole 3,
              template_app
               (template_app (template_hole 2, template_var 4),
                template_var 3)),
            template_var 2),
          template_app
           (template_app
             (template_hole 3,
              template_app
               (template_app (template_hole 2, template_var 1),
                template_var 0)),
            template_var 2))],
       template_equation
        (template_app (template_hole 0, template_var 3),
         template_app (template_hole 0, template_var 0)))),
    ("More_Unification.fv_in_subst_img",
     "[| ?s ?v = ?t; ?t ~= Var ?v |] ==> fv ?t <= range_vars ?s",
     template_implication
      ([template_equation
         (template_app (template_var 2, template_var 1), template_var 0),
        template_negation
         (
            template_equation
             (template_var 0,
              template_app (template_hole 3, template_var 1))
            )],
       template_inequation
        (less_equals, template_app (template_hole 1, template_var 0),
         template_app (template_hole 0, template_var 2)))),
    ("More_Unification.ground_subst_range_empty_fv",
     "[| ground (subst_range ?\<theta>); ?x : subst_domain ?\<theta> |]
      ==> fv (?\<theta> ?x) = {}",
     template_implication
      ([template_equation
         (template_app
           (template_hole 5,
            template_app (template_hole 4, template_var 1)),
          template_hole 3),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 0),
              template_app (template_hole 1, template_var 1))
            )],
       template_equation
        (template_app
          (template_hole 0, template_app (template_var 1, template_var 0)),
         template_hole 3))),
    ("More_Unification.subst_fv_unfold",
     "fv (?t \<cdot> ?s) =
      fv ?t - subst_domain ?s Un
      fv\<^sub>s\<^sub>e\<^sub>t (?s ` (fv ?t Int subst_domain ?s))",
     template_equation
      (template_app
        (template_hole 7,
         template_app
          (template_app (template_hole 6, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 5,
           template_app
            (template_app
              (template_hole 4,
               template_app (template_hole 7, template_var 1)),
             template_app (template_hole 3, template_var 0))),
         template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 1, template_var 0),
             template_app
              (template_app
                (template_hole 0,
                 template_app (template_hole 7, template_var 1)),
               template_app (template_hole 3, template_var 0))))))),
    ("More_Unification.subst_all_insert",
     "insert ?t ?M \<cdot>\<^sub>s\<^sub>e\<^sub>t ?\<delta> =
      insert (?t \<cdot> ?\<delta>)
       (?M \<cdot>\<^sub>s\<^sub>e\<^sub>t ?\<delta>)",
     template_equation
      (template_app
        (template_app (template_hole 3, t_empty),
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 0,
           template_app
            (template_app (template_hole 2, template_var 1),
             template_var 2)),
         template_app
          (template_app (template_hole 3, t_empty), template_var 0)))),
    ("More_Unification.subterms_subst_subset'",
     "subterms\<^sub>s\<^sub>e\<^sub>t ?M \<cdot>\<^sub>s\<^sub>e\<^sub>t
      ?\<sigma>
      <= subterms\<^sub>s\<^sub>e\<^sub>t
          (?M \<cdot>\<^sub>s\<^sub>e\<^sub>t ?\<sigma>)",
     template_inequation
      (less_equals,
       template_app
        (template_app (template_hole 7, t_empty),
         template_app
          (template_hole 5,
           template_app
            (template_app (template_hole 4, template_hole 3),
             template_var 0))),
       template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_hole 0),
           template_app
            (template_app (template_hole 7, t_empty), template_var 0))))),
    ("More_Unification.subst_all_fv_subset",
     "fv ?t <= fv\<^sub>s\<^sub>e\<^sub>t ?M ==>
      fv (?t \<cdot> ?\<theta>)
      <= fv\<^sub>s\<^sub>e\<^sub>t
          (?M \<cdot>\<^sub>s\<^sub>e\<^sub>t ?\<theta>)",
     template_implication
      ([template_inequation
         (less_equals, template_app (template_hole 6, template_var 2),
          template_app (template_hole 5, template_var 1))],
       template_inequation
        (less_equals,
         template_app
          (template_hole 3,
           template_app
            (template_app (template_hole 2, template_var 2),
             template_var 0)),
         template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, t_empty), template_var 1))))),
    ("More_Unification.rm_vars_apply'",
     "subst_domain ?\<delta> Int ?vs = {} ==>
      rm_vars ?vs ?\<delta> = ?\<delta>",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_hole 6,
              template_app (template_hole 5, template_var 1)),
            template_var 0),
          template_hole 4)],
       template_equation (t_empty, template_var 1))),
    ("More_Unification.mgu_vars_bounded",
     "mgu ?M ?N = Some ?\<sigma> ==>
      subst_domain ?\<sigma> Un range_vars ?\<sigma> <= fv ?M Un fv ?N",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 6, template_var 2), template_var 1),
          template_app (template_hole 5, template_var 0))],
       template_inequation
        (less_equals,
         template_app
          (template_app
            (template_hole 3,
             template_app (template_hole 2, template_var 0)),
           template_app (template_hole 1, template_var 0)),
         template_app
          (template_app
            (template_hole 3,
             template_app (template_hole 0, template_var 2)),
           template_app (template_hole 0, template_var 1))))),
    ("More_Unification.subst_dom_comp_eq",
     "subst_domain ?\<theta> Int range_vars ?\<sigma> = {} ==>
      subst_domain (?\<theta> \<circ>\<^sub>s ?\<sigma>) =
      subst_domain ?\<theta> Un subst_domain ?\<sigma>",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_hole 5,
              template_app (template_hole 4, template_var 1)),
            template_app (template_hole 3, template_var 0)),
          template_hole 2)],
       template_equation
        (template_app
          (template_hole 4,
           template_app
            (template_app (template_hole 1, template_var 1),
             template_var 0)),
         template_app
          (template_app
            (template_hole 0,
             template_app (template_hole 4, template_var 1)),
           template_app (template_hole 4, template_var 0))))),
    ("More_Unification.trm_subst_ident_subterms",
     "fv ?t Int subst_domain ?\<theta> = {} ==>
      subterms ?t \<cdot>\<^sub>s\<^sub>e\<^sub>t ?\<theta> = subterms ?t",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_hole 7,
              template_app (template_hole 6, template_var 1)),
            template_app (template_hole 5, template_var 0)),
          template_hole 4)],
       template_equation
        (template_app
          (template_app (template_hole 2, t_empty),
           template_app (template_hole 0, template_var 1)),
         template_app (template_hole 0, template_var 1)))),
    ("More_Unification.Unifier_excludes_subterm",
     "Unifier ?\<theta> ?t ?u ==> ~ ?t \<sqsubset> ?u",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 4, template_var 2), template_var 1),
          template_app
           (template_app (template_hole 4, template_var 0),
            template_var 1))],
       template_negation
        (
           template_predicate
            (
               template_app
                (template_app
                  (template_hole 2,
                   template_app
                    (template_app (template_hole 1, template_var 2),
                     template_app (template_hole 0, template_var 0))),
                 template_app
                  (template_hole 3,
                   template_app
                    (template_app (template_hole 5, template_var 2),
                     template_var 0)))
               )
           ))),
    ("More_Unification.interpretation_substI",
     "(!!v. fv (?\<theta> v) = {}) ==>
      interpretation\<^sub>s\<^sub>u\<^sub>b\<^sub>s\<^sub>t ?\<theta>",
     template_implication
      ([template_predicate (template_app (template_hole 9, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 4,
               template_app
                (template_app
                  (template_hole 7,
                   template_app (template_hole 3, template_var 0)),
                 template_hole 2)),
             template_app
              (template_app
                (template_hole 7,
                 template_app
                  (template_hole 1,
                   template_app (template_hole 0, template_var 0))),
               template_hole 5))
           ))),
    ("More_Unification.subterm_subst_neq",
     "?t \<sqsubset> ?t' ==> ?t \<cdot> ?s ~= ?t' \<cdot> ?s",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 6,
                template_app
                 (template_app (template_hole 5, template_var 2),
                  template_app (template_hole 4, template_var 1))),
              template_app
               (template_hole 3,
                template_app
                 (template_app (template_hole 2, template_var 2),
                  template_var 1)))
            )],
       template_negation
        (
           template_equation
            (template_app
              (template_app (template_hole 0, template_var 2),
               template_var 0),
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0))
           ))),
    ("More_Unification.interpretation_dom_img_disjoint",
     "interpretation\<^sub>s\<^sub>u\<^sub>b\<^sub>s\<^sub>t ?\<I> ==>
      subst_domain ?\<I> Int range_vars ?\<I> = {}",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 8,
                template_app
                 (template_app
                   (template_hole 7,
                    template_app (template_hole 6, template_var 0)),
                  template_hole 5)),
              template_app
               (template_app
                 (template_hole 7,
                  template_app
                   (template_hole 4,
                    template_app (template_hole 3, template_var 0))),
                template_hole 2))
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 6, template_var 0)),
           template_app (template_hole 0, template_var 0)),
         template_hole 2))),
    ("More_Unification.subst_not_dom_fixed",
     "[| ?v : fv ?t; ?v ~: subst_domain ?s |] ==> ?v : fv (?t \<cdot> ?s)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 2),
              template_app (template_hole 3, template_var 1))
            ),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 4, template_var 2),
                  template_app (template_hole 1, template_var 0))
                )
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 4, template_var 2),
             template_app
              (template_hole 3,
               template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 0)))
           ))),
    ("More_Unification.subst_Var_notin_img",
     "[| ?x ~: range_vars ?s; ?t \<cdot> ?s = Var ?x |] ==> ?t = Var ?x",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 4, template_var 2),
                  template_app (template_hole 3, template_var 1))
                )
            ),
        template_equation
         (template_app
           (template_app (template_hole 1, template_var 0), template_var 1),
          template_app (template_hole 0, template_var 2))],
       template_equation
        (template_var 0, template_app (template_hole 0, template_var 2)))),
    ("More_Unification.subst_dom_comp_inI",
     "[| ?y ~: subst_domain ?\<sigma>; ?y : subst_domain ?\<delta> |]
      ==> ?y : subst_domain (?\<sigma> \<circ>\<^sub>s ?\<delta>)",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 2, template_var 2),
                  template_app (template_hole 1, template_var 1))
                )
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 2),
              template_app (template_hole 1, template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 2, template_var 2),
             template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 0)))
           ))),
    ("More_Unification.subst_apply_dom_ident",
     "[| ?t \<cdot> ?\<theta> = ?t;
         subst_domain ?\<delta> <= subst_domain ?\<theta> |]
      ==> ?t \<cdot> ?\<delta> = ?t",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 2, template_var 2), template_var 1),
          template_var 2),
        template_inequation
         (less_equals, template_app (template_hole 0, template_var 0),
          template_app (template_hole 0, template_var 1))],
       template_equation
        (template_app
          (template_app (template_hole 2, template_var 2), template_var 0),
         template_var 2))),
    ("More_Unification.subst_not_img_fixed",
     "[| ?v : fv (?t \<cdot> ?s); ?v ~: range_vars ?s |] ==> ?v : fv ?t",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 2),
              template_app
               (template_hole 3,
                template_app
                 (template_app (template_hole 2, template_var 1),
                  template_var 0)))
            ),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 4, template_var 2),
                  template_app (template_hole 0, template_var 0))
                )
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 4, template_var 2),
             template_app (template_hole 3, template_var 1))
           ))),
    ("More_Unification.subst_comp_all",
     "?M \<cdot>\<^sub>s\<^sub>e\<^sub>t
      ?\<delta> \<circ>\<^sub>s ?\<theta> =
      ?M \<cdot>\<^sub>s\<^sub>e\<^sub>t
      ?\<delta> \<cdot>\<^sub>s\<^sub>e\<^sub>t
      ?\<theta>",
     template_equation
      (template_app
        (template_app (template_hole 6, t_empty), template_var 0),
       template_app
        (template_app (template_hole 3, t_empty),
         template_app
          (template_app (template_hole 1, t_empty), template_var 0)))),
    ("More_Unification.subst_apply_pairs_pset_subst",
     "set (?F \<cdot>\<^sub>p\<^sub>a\<^sub>i\<^sub>r\<^sub>s ?\<theta>) =
      set ?F \<cdot>\<^sub>p\<^sub>s\<^sub>e\<^sub>t ?\<theta>",
     template_equation
      (template_app
        (template_hole 6,
         template_app
          (template_app (template_hole 5, template_var 1), template_var 0)),
       template_app
        (template_app (template_hole 4, t_empty),
         template_app (template_hole 0, template_var 1)))),
    ("More_Unification.rm_vars_fv_subset",
     "fv (?t \<cdot> rm_vars ?X ?\<theta>)
      <= fv ?t Un fv (?t \<cdot> ?\<theta>)",
     template_inequation
      (less_equals,
       template_app
        (template_hole 5,
         template_app
          (template_app (template_hole 4, template_var 2), t_empty)),
       template_app
        (template_app
          (template_hole 0, template_app (template_hole 5, template_var 2)),
         template_app
          (template_hole 5,
           template_app
            (template_app (template_hole 4, template_var 2),
             template_var 0))))),
    ("More_Unification.nth_map_subst",
     "?i < length ?T ==>
      (?T \<cdot>\<^sub>l\<^sub>i\<^sub>s\<^sub>t ?\<theta>) ! ?i =
      ?T ! ?i \<cdot> ?\<theta>",
     template_implication
      ([template_inequation
         (less_than, template_var 2,
          template_app (template_hole 4, template_var 1))],
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, t_empty), template_var 1)),
           template_var 2),
         template_app
          (template_app
            (template_hole 0,
             template_app
              (template_app (template_hole 2, template_var 1),
               template_var 2)),
           template_var 0)))),
    ("More_Unification.trm_subst_ident_subterms'",
     "?v ~: fv ?t ==>
      subterms ?t \<cdot>\<^sub>s\<^sub>e\<^sub>t Var(?v := ?s) =
      subterms ?t",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 7, template_var 2),
                  template_app (template_hole 6, template_var 1))
                )
            )],
       template_equation
        (template_app
          (template_app (template_hole 4, t_empty),
           template_app (template_hole 0, template_var 1)),
         template_app (template_hole 0, template_var 1)))),
    ("More_Unification.rm_vars_subst_apply_ident",
     "?t \<cdot> ?\<theta> = ?t ==> ?t \<cdot> rm_vars ?vs ?\<theta> = ?t",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 3, template_var 2), template_var 1),
          template_var 2)],
       template_equation
        (template_app
          (template_app (template_hole 3, template_var 2), t_empty),
         template_var 2))),
    ("More_Unification.trm_subst_ident''",
     "(!!x. x : fv ?t ==> ?\<theta> x = Var x) ==>
      ?t \<cdot> ?\<theta> = ?t",
     template_implication
      ([template_predicate (template_app (template_hole 6, t_empty))],
       template_equation
        (template_app
          (template_app (template_hole 0, template_var 1), template_var 0),
         template_var 1))),
    ("More_Unification.ground_img_if_ground_subst",
     "(!!v t. ?s v = t ==> fv t = {}) ==> range_vars ?s = {}",
     template_implication
      ([template_predicate (template_app (template_hole 7, t_empty))],
       template_equation
        (template_app (template_hole 0, template_var 0), template_hole 1))),
    ("More_Unification.subst_fv_dom_ground_if_ground_img",
     "[| fv ?t <= subst_domain ?s; ground (subst_range ?s) |]
      ==> fv (?t \<cdot> ?s) = {}",
     template_implication
      ([template_inequation
         (less_equals, template_app (template_hole 6, template_var 1),
          template_app (template_hole 5, template_var 0)),
        template_equation
         (template_app
           (template_hole 3,
            template_app (template_hole 2, template_var 0)),
          template_hole 1)],
       template_equation
        (template_app
          (template_hole 6,
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 0)),
         template_hole 1))),
    ("More_Unification.fv_subterms_set_subst",
     "fv\<^sub>s\<^sub>e\<^sub>t
       (subterms\<^sub>s\<^sub>e\<^sub>t ?M \<cdot>\<^sub>s\<^sub>e\<^sub>t
        ?\<theta>) =
      fv\<^sub>s\<^sub>e\<^sub>t
       (subterms\<^sub>s\<^sub>e\<^sub>t
         (?M \<cdot>\<^sub>s\<^sub>e\<^sub>t ?\<theta>))",
     template_equation
      (template_app
        (template_hole 8,
         template_app
          (template_app (template_hole 7, t_empty),
           template_app
            (template_hole 5,
             template_app
              (template_app (template_hole 4, template_hole 3),
               template_var 0)))),
       template_app
        (template_hole 8,
         template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 1, template_hole 0),
             template_app
              (template_app (template_hole 7, t_empty),
               template_var 0)))))),
    ("More_Unification.subst_agreement",
     "(?t \<cdot> ?r = ?t \<cdot> ?s) =
      (ALL v:fv ?t. Var v \<cdot> ?r = Var v \<cdot> ?s)",
     template_equation
      (template_app
        (template_app
          (template_hole 4,
           template_app
            (template_app (template_hole 3, template_var 2),
             template_var 1)),
         template_app
          (template_app (template_hole 3, template_var 2), template_var 0)),
       template_app
        (template_app
          (template_hole 2, template_app (template_hole 1, template_var 2)),
         t_empty))),
    ("More_Unification.subst_apply_pair_pair",
     "(?t, ?s) \<cdot>\<^sub>p ?\<I> =
      (?t \<cdot> ?\<I>, ?s \<cdot> ?\<I>)",
     template_equation
      (template_app
        (template_app (template_hole 3, t_empty),
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 1, template_var 1),
             template_var 2)),
         template_app
          (template_app (template_hole 1, template_var 0),
           template_var 2)))),
    ("More_Unification.subst_support_iff_mgt_if_subst_idem",
     "subst_idem ?\<theta> ==>
      (?\<theta> \<preceq>\<^sub>\<circ> ?\<delta>) =
      (?\<theta> supports ?\<delta>)",
     template_implication
      ([template_predicate
         (template_app (template_hole 7, template_var 1))],
       template_equation
        (template_app (template_hole 5, t_empty),
         template_app (template_hole 2, t_empty)))),
    ("More_Unification.wf_subst_support_iff_mgt",
     "wf\<^sub>s\<^sub>u\<^sub>b\<^sub>s\<^sub>t ?\<theta> ==>
      (?\<theta> supports ?\<delta>) =
      (?\<theta> \<preceq>\<^sub>\<circ> ?\<delta>)",
     template_implication
      ([template_predicate
         (template_app (template_hole 7, template_var 1))],
       template_equation
        (template_app (template_hole 5, t_empty),
         template_app (template_hole 2, t_empty)))),
    ("More_Unification.interpretation_grounds_all'",
     "interpretation\<^sub>s\<^sub>u\<^sub>b\<^sub>s\<^sub>t ?\<theta> ==>
      ground (?M \<cdot>\<^sub>s\<^sub>e\<^sub>t ?\<theta>)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 8,
                template_app
                 (template_app
                   (template_hole 7,
                    template_app (template_hole 6, template_var 1)),
                  template_hole 5)),
              template_app
               (template_app
                 (template_hole 7,
                  template_app
                   (template_hole 4,
                    template_app (template_hole 3, template_var 1))),
                template_hole 2))
            )],
       template_equation
        (template_app
          (template_hole 4,
           template_app
            (template_app (template_hole 1, t_empty), template_var 0)),
         template_hole 2))),
    ("More_Unification.subst_img_cong",
     "(!!v t. ?\<theta> v = t ==> ?\<delta> v = t) ==>
      range_vars ?\<theta> <= range_vars ?\<delta>",
     template_implication
      ([template_predicate (template_app (template_hole 5, t_empty))],
       template_inequation
        (less_equals, template_app (template_hole 0, template_var 1),
         template_app (template_hole 0, template_var 0)))),
    ("More_Unification.subst_dom_cong",
     "(!!v t. ?\<theta> v = t ==> ?\<delta> v = t) ==>
      subst_domain ?\<theta> <= subst_domain ?\<delta>",
     template_implication
      ([template_predicate (template_app (template_hole 5, t_empty))],
       template_inequation
        (less_equals, template_app (template_hole 0, template_var 1),
         template_app (template_hole 0, template_var 0)))),
    ("More_Unification.rm_vars_subst_eq",
     "?t \<cdot> ?\<delta> =
      ?t \<cdot>
      rm_vars (subst_domain ?\<delta> - subst_domain ?\<delta> Int fv ?t)
       ?\<delta>",
     template_equation
      (template_app
        (template_app (template_hole 7, template_var 1), template_var 0),
       template_app
        (template_app (template_hole 7, template_var 1), t_empty))),
    ("More_Unification.rm_vars_ground_supports",
     "ground (subst_range ?\<theta>) ==>
      rm_vars ?X ?\<theta> supports ?\<theta>",
     template_implication
      ([template_equation
         (template_app
           (template_hole 8,
            template_app (template_hole 7, template_var 1)),
          template_hole 6)],
       template_predicate (template_app (template_hole 5, t_empty)))),
    ("More_Unification.mgu_eliminates",
     "mgu ?M ?N = Some ?\<sigma> ==>
      (EX v:fv ?M Un fv ?N. subst_elim ?\<sigma> v) | ?\<sigma> = Var",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 8, template_var 2), template_var 1),
          template_app (template_hole 7, template_var 0))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 6,
               template_app
                (template_app
                  (template_hole 5,
                   template_app
                    (template_app
                      (template_hole 4,
                       template_app (template_hole 3, template_var 2)),
                     template_app (template_hole 3, template_var 1))),
                 t_empty)),
             template_app
              (template_app (template_hole 1, template_var 0),
               template_hole 0))
           ))),
    ("More_Unification.subst_img_comp_subset'",
     "?t : subst_range (?\<theta>1.0 \<circ>\<^sub>s ?\<theta>2.0) ==>
      ?t : subst_range ?\<theta>2.0 |
      (EX t':subst_range ?\<theta>1.0. ?t = t' \<cdot> ?\<theta>2.0)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 2),
              template_app
               (template_hole 5,
                template_app
                 (template_app (template_hole 4, template_var 1),
                  template_var 0)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 3,
               template_app
                (template_app (template_hole 6, template_var 2),
                 template_app (template_hole 5, template_var 0))),
             template_app
              (template_app
                (template_hole 2,
                 template_app (template_hole 5, template_var 1)),
               t_empty))
           ))),
    ("More_Unification.subst_comp_eq_if_disjoint_vars",
     "(subst_domain ?\<delta> Un range_vars ?\<delta>) Int
      (subst_domain ?\<gamma> Un range_vars ?\<gamma>) =
      {} ==>
      ?\<gamma> \<circ>\<^sub>s ?\<delta> =
      ?\<delta> \<circ>\<^sub>s ?\<gamma>",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_hole 6,
              template_app
               (template_app
                 (template_hole 5,
                  template_app (template_hole 4, template_var 1)),
                template_app (template_hole 3, template_var 1))),
            template_app
             (template_app
               (template_hole 5,
                template_app (template_hole 4, template_var 0)),
              template_app (template_hole 3, template_var 0))),
          template_hole 2)],
       template_equation
        (template_app
          (template_app (template_hole 0, template_var 0), template_var 1),
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("More_Unification.subst_elim_rm_vars_dest",
     "[| subst_elim ?\<sigma> ?v; ?v ~: ?vs |]
      ==> subst_elim (rm_vars ?vs ?\<sigma>) ?v",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 2),
              template_var 1)
            ),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 2, template_var 1),
                  template_var 0)
                )
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 4, t_empty), template_var 1)
           ))),
    ("More_Unification.subst_idem_comp_upd_eq",
     "[| ?v ~: subst_domain ?\<I>; subst_idem ?\<theta> |]
      ==> ?\<I> \<circ>\<^sub>s ?\<theta> =
          ?\<I>(?v := ?\<theta> ?v) \<circ>\<^sub>s ?\<theta>",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 5, template_var 2),
                  template_app (template_hole 4, template_var 1))
                )
            ),
        template_predicate
         (template_app (template_hole 3, template_var 0))],
       template_equation
        (template_app
          (template_app (template_hole 1, template_var 1), template_var 0),
         template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 2),
               template_app (template_var 0, template_var 2))),
           template_var 0)))),
    ("More_Unification.subst_support_if_mgt_subst_idem",
     "[| ?\<theta> \<preceq>\<^sub>\<circ> ?\<delta>;
         subst_idem ?\<theta> |]
      ==> ?\<theta> supports ?\<delta>",
     template_implication
      ([template_predicate (template_app (template_hole 6, t_empty)),
        template_predicate
         (template_app (template_hole 3, template_var 0))],
       template_predicate (template_app (template_hole 2, t_empty)))),
    ("More_Unification.ident_comp_subst_trm_if_disj",
     "[| subst_domain ?\<sigma> Int range_vars ?\<theta> = {};
         ?v : subst_domain ?\<theta> |]
      ==> (?\<theta> \<circ>\<^sub>s ?\<sigma>) ?v = ?\<theta> ?v",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_hole 6,
              template_app (template_hole 5, template_var 2)),
            template_app (template_hole 4, template_var 1)),
          template_hole 3),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 0),
              template_app (template_hole 5, template_var 1))
            )],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 0, template_var 1),
             template_var 2),
           template_var 0),
         template_app (template_var 1, template_var 0)))),
    ("More_Unification.wf_subst_elim_append",
     "[| wf\<^sub>s\<^sub>u\<^sub>b\<^sub>s\<^sub>t ?\<theta>;
         subst_elim ?\<theta> ?v; ?v ~: fv ?t |]
      ==> subst_elim (?\<theta>(?w := ?t)) ?v",
     template_implication
      ([template_predicate (template_app (template_hole 5, template_var 3)),
        template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 3),
              template_var 2)
            ),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 2, template_var 2),
                  template_app (template_hole 1, template_var 1))
                )
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 4,
               template_app
                (template_app
                  (template_app (template_hole 0, template_var 3),
                   template_var 0),
                 template_var 1)),
             template_var 2)
           ))),
    ("More_Unification.subterms_subst",
     "subterms (?t \<cdot> ?d) =
      (subterms ?t \<cdot>\<^sub>s\<^sub>e\<^sub>t ?d) Un
      subterms\<^sub>s\<^sub>e\<^sub>t (?d ` (fv ?t Int subst_domain ?d))",
     template_equation
      (template_app
        (template_hole 9,
         template_app
          (template_app (template_hole 8, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 7,
           template_app
            (template_app (template_hole 6, t_empty),
             template_app (template_hole 9, template_var 1))),
         template_app
          (template_hole 5,
           template_app
            (template_app (template_hole 4, template_hole 9),
             template_app
              (template_app (template_hole 3, template_var 0),
               template_app
                (template_app
                  (template_hole 2,
                   template_app (template_hole 1, template_var 1)),
                 template_app (template_hole 0, template_var 0)))))))),
    ("More_Unification.rm_vars_img",
     "subst_range (rm_vars ?V ?s) = ?s ` subst_domain (rm_vars ?V ?s)",
     template_equation
      (template_app (template_hole 5, t_empty),
       template_app
        (template_app (template_hole 1, template_var 0),
         template_app (template_hole 0, t_empty)))),
    ("More_Unification.rm_vars_ident",
     "fv ?t Int ?vs = {} ==>
      ?t \<cdot> rm_vars ?vs ?\<theta> = ?t \<cdot> ?\<theta>",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_hole 7,
              template_app (template_hole 6, template_var 2)),
            template_var 1),
          template_hole 5)],
       template_equation
        (template_app
          (template_app (template_hole 3, template_var 2), t_empty),
         template_app
          (template_app (template_hole 3, template_var 2),
           template_var 0)))),
    ("More_Unification.fv_exists_if_unifiable_and_neq",
     "[| ?t ~= ?t'; Unifier ?\<theta> ?t ?t' |] ==> fv ?t Un fv ?t' ~= {}",
     template_implication
      ([template_negation
         (template_equation (template_var 2, template_var 1)),
        template_equation
         (template_app
           (template_app (template_hole 4, template_var 2), template_var 0),
          template_app
           (template_app (template_hole 4, template_var 1),
            template_var 0))],
       template_negation
        (
           template_equation
            (template_app
              (template_app
                (template_hole 2,
                 template_app (template_hole 1, template_var 2)),
               template_app (template_hole 1, template_var 1)),
             template_hole 0)
           ))),
    ("More_Unification.mgu_None_if_neq_ground",
     "[| ?t ~= ?t'; fv ?t = {}; fv ?t' = {} |] ==> mgu ?t ?t' = None",
     template_implication
      ([template_negation
         (template_equation (template_var 1, template_var 0)),
        template_equation
         (template_app (template_hole 4, template_var 1), template_hole 3),
        template_equation
         (template_app (template_hole 4, template_var 0), template_hole 3)],
       template_equation
        (template_app
          (template_app (template_hole 1, template_var 1), template_var 0),
         template_hole 0))),
    ("More_Unification.subst_img_comp_subset''",
     "subterms\<^sub>s\<^sub>e\<^sub>t
       (subst_range (?\<theta>1.0 \<circ>\<^sub>s ?\<theta>2.0))
      <= subterms\<^sub>s\<^sub>e\<^sub>t (subst_range ?\<theta>2.0) Un
         (subterms\<^sub>s\<^sub>e\<^sub>t
           (subst_range ?\<theta>1.0) \<cdot>\<^sub>s\<^sub>e\<^sub>t
          ?\<theta>2.0)",
     template_inequation
      (less_equals,
       template_app
        (template_hole 7,
         template_app
          (template_app (template_hole 6, template_hole 5),
           template_app
            (template_hole 4,
             template_app
              (template_app (template_hole 3, template_var 1),
               template_var 0)))),
       template_app
        (template_app
          (template_hole 2,
           template_app
            (template_hole 7,
             template_app
              (template_app (template_hole 6, template_hole 5),
               template_app (template_hole 4, template_var 0)))),
         template_app
          (template_app (template_hole 1, t_empty),
           template_app
            (template_hole 7,
             template_app
              (template_app (template_hole 6, template_hole 5),
               template_app (template_hole 4, template_var 1))))))),
    ("More_Unification.subst_support_comp'",
     "?\<theta> supports ?\<delta> ==>
      ?\<theta> supports ?\<delta> \<circ>\<^sub>s ?\<sigma>",
     template_implication
      ([template_predicate (template_app (template_hole 3, t_empty))],
       template_predicate (template_app (template_hole 3, t_empty)))),
    ("More_Unification.fv\<^sub>s\<^sub>e\<^sub>t_subst_img_eq",
     "?X Int (subst_domain ?\<delta> Un range_vars ?\<delta>) = {} ==>
      fv\<^sub>s\<^sub>e\<^sub>t (?\<delta> ` (?Y - ?X)) =
      fv\<^sub>s\<^sub>e\<^sub>t (?\<delta> ` ?Y) - ?X",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 7, template_var 2),
            template_app
             (template_app
               (template_hole 6,
                template_app (template_hole 5, template_var 1)),
              template_app (template_hole 4, template_var 1))),
          template_hole 3)],
       template_equation
        (template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 1, template_var 1),
             template_app
              (template_app (template_hole 0, template_var 0),
               template_var 2))),
         template_app
          (template_app
            (template_hole 0,
             template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 1),
                 template_var 0))),
           template_var 2)))),
    ("More_Unification.const_mem_subst_cases'",
     "Fun ?c [] : ?M \<cdot>\<^sub>s\<^sub>e\<^sub>t ?\<theta> ==>
      Fun ?c [] : ?M | Fun ?c [] : subst_range ?\<theta>",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 6,
                template_app
                 (template_app (template_hole 5, template_var 2),
                  template_hole 4)),
              template_app
               (template_app (template_hole 3, t_empty), template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app
                  (template_hole 6,
                   template_app
                    (template_app (template_hole 5, template_var 2),
                     template_hole 4)),
                 template_var 0)),
             template_app
              (template_app
                (template_hole 6,
                 template_app
                  (template_app (template_hole 5, template_var 2),
                   template_hole 4)),
               template_app (template_hole 0, template_var 1)))
           ))),
    ("More_Unification.Unifier_comp",
     "Unifier (?\<theta> \<circ>\<^sub>s ?\<delta>) ?t ?u ==>
      Unifier ?\<delta> (?t \<cdot> ?\<theta>) (?u \<cdot> ?\<theta>)",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 1, template_var 3),
            template_app
             (template_app (template_hole 0, template_var 2),
              template_var 1)),
          template_app
           (template_app (template_hole 1, template_var 0),
            template_app
             (template_app (template_hole 0, template_var 2),
              template_var 1)))],
       template_equation
        (template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 1, template_var 3),
               template_var 2)),
           template_var 1),
         template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 1, template_var 0),
               template_var 2)),
           template_var 1)))),
    ("More_Unification.Unifier_comp'",
     "Unifier ?\<delta> (?t \<cdot> ?\<theta>) (?u \<cdot> ?\<theta>) ==>
      Unifier (?\<theta> \<circ>\<^sub>s ?\<delta>) ?t ?u",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_hole 1,
              template_app
               (template_app (template_hole 1, template_var 3),
                template_var 2)),
            template_var 1),
          template_app
           (template_app
             (template_hole 1,
              template_app
               (template_app (template_hole 1, template_var 0),
                template_var 2)),
            template_var 1))],
       template_equation
        (template_app
          (template_app (template_hole 1, template_var 3),
           template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1)),
         template_app
          (template_app (template_hole 1, template_var 0),
           template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1))))),
    ("More_Unification.Unifier_Fun",
     "Unifier ?\<theta> (Fun ?f (?x # ?X)) (Fun ?g (?y # ?Y)) ==>
      Unifier ?\<theta> ?x ?y",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_hole 2,
              template_app
               (template_app (template_hole 1, template_var 6),
                template_app
                 (template_app (template_hole 0, template_var 5),
                  template_var 4))),
            template_var 3),
          template_app
           (template_app
             (template_hole 2,
              template_app
               (template_app (template_hole 1, template_var 2),
                template_app
                 (template_app (template_hole 0, template_var 1),
                  template_var 0))),
            template_var 3))],
       template_equation
        (template_app
          (template_app (template_hole 2, template_var 5), template_var 3),
         template_app
          (template_app (template_hole 2, template_var 1),
           template_var 3)))),
    ("More_Unification.subst_apply_img_var'",
     "[| ?x : fv (?t \<cdot> ?\<delta>); ?x ~: fv ?t |]
      ==> EX y:fv ?t. ?x : fv (?\<delta> y)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 2),
              template_app
               (template_hole 3,
                template_app
                 (template_app (template_hole 2, template_var 1),
                  template_var 0)))
            ),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 4, template_var 2),
                  template_app (template_hole 3, template_var 1))
                )
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 0,
               template_app (template_hole 3, template_var 1)),
             t_empty)
           ))),
    ("More_Unification.subst_subterm''",
     "?s \<sqsubseteq> ?t \<cdot> ?\<theta> ==>
      (EX u:subterms ?t. ?s = u \<cdot> ?\<theta>) |
      ?s \<sqsubseteq>\<^sub>s\<^sub>e\<^sub>t subst_range ?\<theta>",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 2),
              template_app
               (template_hole 7,
                template_app
                 (template_app (template_hole 6, template_var 1),
                  template_var 0)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 5,
               template_app
                (template_app
                  (template_hole 4,
                   template_app (template_hole 7, template_var 1)),
                 t_empty)),
             template_app
              (template_app (template_hole 8, template_var 2),
               template_app
                (template_hole 2,
                 template_app
                  (template_app (template_hole 1, template_hole 7),
                   template_app (template_hole 0, template_var 0)))))
           ))),
    ("More_Unification.rm_vars_apply",
     "?v : subst_domain (rm_vars ?V ?s) ==> rm_vars ?V ?s ?v = ?s ?v",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 2),
              template_app (template_hole 3, t_empty))
            )],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 4, template_var 2),
                 template_var 1)),
             template_app (template_hole 1, template_var 2)),
           template_app (template_var 0, template_var 2)),
         template_app (template_var 0, template_var 2)))),
    ("More_Unification.subst_comp_upd2",
     "[| ?v ~: subst_domain ?s; ?v ~: range_vars ?s |]
      ==> ?s(?v := ?t) = ?s \<circ>\<^sub>s Var(?v := ?t)",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 6, template_var 2),
                  template_app (template_hole 5, template_var 1))
                )
            ),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 6, template_var 2),
                  template_app (template_hole 4, template_var 1))
                )
            )],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 2, template_var 1),
             template_var 2),
           template_var 0),
         template_app
          (template_app (template_hole 1, template_var 1),
           template_app
            (template_app
              (template_app (template_hole 2, template_hole 0),
               template_var 2),
             template_var 0))))),
    ("More_Unification.subst_img_update",
     "[| ?\<sigma> ?v = Var ?v; ?t ~= Var ?v |]
      ==> range_vars (?\<sigma>(?v := ?t)) = range_vars ?\<sigma> Un fv ?t",
     template_implication
      ([template_equation
         (template_app (template_var 2, template_var 1),
          template_app (template_hole 6, template_var 1)),
        template_negation
         (
            template_equation
             (template_var 0,
              template_app (template_hole 6, template_var 1))
            )],
       template_equation
        (template_app
          (template_hole 3,
           template_app
            (template_app
              (template_app (template_hole 2, template_var 2),
               template_var 1),
             template_var 0)),
         template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 3, template_var 2)),
           template_app (template_hole 0, template_var 0))))),
    ("More_Unification.subst_mgt_trans",
     "[| ?\<theta> \<preceq>\<^sub>\<circ> ?\<delta>;
         ?\<delta> \<preceq>\<^sub>\<circ> ?\<sigma> |]
      ==> ?\<theta> \<preceq>\<^sub>\<circ> ?\<sigma>",
     template_implication
      ([template_predicate (template_app (template_hole 7, t_empty)),
        template_predicate (template_app (template_hole 4, t_empty))],
       template_predicate (template_app (template_hole 1, t_empty)))),
    ("More_Unification.Unifier_mgt",
     "[| Unifier ?\<delta> ?t ?u;
         ?\<delta> \<preceq>\<^sub>\<circ> ?\<theta> |]
      ==> Unifier ?\<theta> ?t ?u",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 3, template_var 3), template_var 2),
          template_app
           (template_app (template_hole 3, template_var 1),
            template_var 2)),
        template_predicate (template_app (template_hole 2, t_empty))],
       template_equation
        (template_app
          (template_app (template_hole 3, template_var 3), template_var 0),
         template_app
          (template_app (template_hole 3, template_var 1),
           template_var 0)))),
    ("More_Unification.Unifier_trm_fv_bound",
     "[| Unifier ?s ?t ?u; ?v : fv ?t |]
      ==> ?v : subst_domain ?s Un range_vars ?s Un fv ?u",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 5, template_var 3), template_var 2),
          template_app
           (template_app (template_hole 5, template_var 1),
            template_var 2)),
        template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 0),
              template_app (template_hole 3, template_var 3))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 4, template_var 0),
             template_app
              (template_app
                (template_hole 2,
                 template_app
                  (template_app
                    (template_hole 2,
                     template_app (template_hole 1, template_var 2)),
                   template_app (template_hole 0, template_var 2))),
               template_app (template_hole 3, template_var 1)))
           ))),
    ("More_Unification.interpretation_comp",
     "interpretation\<^sub>s\<^sub>u\<^sub>b\<^sub>s\<^sub>t ?\<theta> ==>
      interpretation\<^sub>s\<^sub>u\<^sub>b\<^sub>s\<^sub>t
       (?\<sigma> \<circ>\<^sub>s ?\<theta>)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 7,
                template_app
                 (template_app
                   (template_hole 6,
                    template_app (template_hole 5, template_var 1)),
                  template_hole 4)),
              template_app
               (template_app
                 (template_hole 6,
                  template_app
                   (template_hole 3,
                    template_app (template_hole 2, template_var 1))),
                template_hole 1))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 7,
               template_app
                (template_app
                  (template_hole 6,
                   template_app
                    (template_hole 5,
                     template_app
                      (template_app (template_hole 0, template_var 0),
                       template_var 1))),
                 template_hole 4)),
             template_app
              (template_app
                (template_hole 6,
                 template_app
                  (template_hole 3,
                   template_app
                    (template_hole 2,
                     template_app
                      (template_app (template_hole 0, template_var 0),
                       template_var 1)))),
               template_hole 1))
           ))),
    ("More_Unification.interpretation_comp",
     "interpretation\<^sub>s\<^sub>u\<^sub>b\<^sub>s\<^sub>t ?\<theta> ==>
      interpretation\<^sub>s\<^sub>u\<^sub>b\<^sub>s\<^sub>t
       (?\<theta> \<circ>\<^sub>s ?\<sigma>)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 7,
                template_app
                 (template_app
                   (template_hole 6,
                    template_app (template_hole 5, template_var 1)),
                  template_hole 4)),
              template_app
               (template_app
                 (template_hole 6,
                  template_app
                   (template_hole 3,
                    template_app (template_hole 2, template_var 1))),
                template_hole 1))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 7,
               template_app
                (template_app
                  (template_hole 6,
                   template_app
                    (template_hole 5,
                     template_app
                      (template_app (template_hole 0, template_var 1),
                       template_var 0))),
                 template_hole 4)),
             template_app
              (template_app
                (template_hole 6,
                 template_app
                  (template_hole 3,
                   template_app
                    (template_hole 2,
                     template_app
                      (template_app (template_hole 0, template_var 1),
                       template_var 0)))),
               template_hole 1))
           ))),
    ("More_Unification.const_mem_subst_cases",
     "Fun ?c [] : ?M \<cdot>\<^sub>s\<^sub>e\<^sub>t ?\<theta> ==>
      Fun ?c [] : ?M |
      Fun ?c [] : ?\<theta> ` fv\<^sub>s\<^sub>e\<^sub>t ?M",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 10,
                template_app
                 (template_app (template_hole 9, template_var 2),
                  template_hole 8)),
              template_app
               (template_app (template_hole 7, t_empty), template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 5,
               template_app
                (template_app
                  (template_hole 4,
                   template_app
                    (template_app (template_hole 3, template_var 2),
                     template_hole 2)),
                 template_var 0)),
             template_app
              (template_app
                (template_hole 10,
                 template_app
                  (template_app (template_hole 9, template_var 2),
                   template_hole 8)),
               template_app
                (template_app (template_hole 1, template_var 1),
                 template_app (template_hole 0, template_var 0))))
           ))),
    ("More_Unification.rm_vars_fv\<^sub>s\<^sub>e\<^sub>t_subst",
     "?x : fv\<^sub>s\<^sub>e\<^sub>t (rm_vars ?X ?\<theta> ` ?Y) ==>
      ?x : fv\<^sub>s\<^sub>e\<^sub>t (?\<theta> ` ?Y) | ?x : ?X",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 3),
              template_app
               (template_hole 4,
                template_app
                 (template_app (template_hole 3, t_empty), template_var 0)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 0,
               template_app
                (template_app (template_hole 5, template_var 3),
                 template_app
                  (template_hole 4,
                   template_app
                    (template_app (template_hole 3, template_var 1),
                     template_var 0)))),
             template_app
              (template_app (template_hole 5, template_var 3),
               template_var 2))
           ))),
    ("More_Unification.inj_var_ran_subst_is_invertible",
     "[| inj_on ?\<delta> (fv ?t); ?\<delta> ` fv ?t <= range Var |]
      ==> ?t =
          ?t \<cdot>
          ?\<delta> \<circ>\<^sub>s subst_var_inv ?\<delta> (fv ?t)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 9, template_var 1),
              template_app (template_hole 8, template_var 0))
            ),
        template_inequation
         (less_equals,
          template_app
           (template_app (template_hole 6, template_var 1),
            template_app (template_hole 8, template_var 0)),
          template_app
           (template_app (template_hole 6, template_hole 5),
            template_hole 4))],
       template_equation
        (template_var 0,
         template_app
          (template_app (template_hole 2, template_var 0),
           template_app
            (template_app (template_hole 1, template_var 1),
             template_app
              (template_app (template_hole 0, template_var 1),
               template_app (template_hole 8, template_var 0))))))),
    ("More_Unification.occs_subst_elim",
     "~ Var ?v \<sqsubset> ?t ==>
      subst_elim (Var(?v := ?t)) ?v | Var(?v := ?t) = Var",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app
                   (template_hole 8,
                    template_app
                     (template_app
                       (template_hole 7,
                        template_app (template_hole 6, template_var 1)),
                      template_app (template_hole 5, template_var 0))),
                  template_app
                   (template_hole 9,
                    template_app
                     (template_app
                       (template_hole 4,
                        template_app (template_hole 6, template_var 1)),
                      template_var 0)))
                )
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 3,
               template_app
                (template_app
                  (template_hole 2,
                   template_app
                    (template_app
                      (template_app (template_hole 1, template_hole 6),
                       template_var 1),
                     template_var 0)),
                 template_var 1)),
             template_app
              (template_app
                (template_hole 0,
                 template_app
                  (template_app
                    (template_app (template_hole 1, template_hole 6),
                     template_var 1),
                   template_var 0)),
               template_hole 6))
           ))),
    ("More_Unification.Unifier_support",
     "[| Unifier ?\<delta> ?t ?u; ?\<delta> supports ?\<theta> |]
      ==> Unifier ?\<theta> ?t ?u",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 1, template_var 3), template_var 2),
          template_app
           (template_app (template_hole 1, template_var 1),
            template_var 2)),
        template_predicate (template_app (template_hole 0, t_empty))],
       template_equation
        (template_app
          (template_app (template_hole 1, template_var 3), template_var 0),
         template_app
          (template_app (template_hole 1, template_var 1),
           template_var 0)))),
    ("More_Unification.disj_dom_img_var_notin",
     "[| subst_domain ?\<theta> Int range_vars ?\<theta> = {};
         ?\<theta> ?v = ?t; ?t ~= Var ?v |]
      ==> ?v ~: fv ?t",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_hole 8,
              template_app (template_hole 7, template_var 2)),
            template_app (template_hole 6, template_var 2)),
          template_hole 5),
        template_equation
         (template_app (template_var 2, template_var 1), template_var 0),
        template_negation
         (
            template_equation
             (template_var 0,
              template_app (template_hole 2, template_var 1))
            )],
       template_negation
        (
           template_predicate
            (
               template_app
                (template_app (template_hole 1, template_var 1),
                 template_app (template_hole 0, template_var 0))
               )
           ))),
    ("More_Unification.subst_set_idx_map",
     "ALL i:?I. i < length ?T ==>
      (!) ?T ` ?I \<cdot>\<^sub>s\<^sub>e\<^sub>t ?\<delta> =
      (!) (?T \<cdot>\<^sub>l\<^sub>i\<^sub>s\<^sub>t ?\<delta>) ` ?I",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 10, template_var 2), t_empty)
            )],
       template_equation
        (template_app
          (template_app (template_hole 6, t_empty),
           template_app
            (template_app
              (template_hole 4,
               template_app (template_hole 3, template_var 1)),
             template_var 2)),
         template_app
          (template_app
            (template_hole 2,
             template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, t_empty), template_var 1))),
           template_var 2)))),
    ("More_Unification.subst_mono_neq",
     "?t \<sqsubset> ?u ==> ?t \<cdot> ?s \<sqsubset> ?u \<cdot> ?s",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 8,
                template_app
                 (template_app (template_hole 7, template_var 2),
                  template_app (template_hole 6, template_var 1))),
              template_app
               (template_hole 5,
                template_app
                 (template_app (template_hole 4, template_var 2),
                  template_var 1)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 8,
               template_app
                (template_app
                  (template_hole 3,
                   template_app
                    (template_app (template_hole 2, template_var 2),
                     template_var 0)),
                 template_app
                  (template_hole 1,
                   template_app
                    (template_app (template_hole 2, template_var 1),
                     template_var 0)))),
             template_app
              (template_hole 5,
               template_app
                (template_app
                  (template_hole 0,
                   template_app
                    (template_app (template_hole 2, template_var 2),
                     template_var 0)),
                 template_app
                  (template_app (template_hole 2, template_var 1),
                   template_var 0))))
           ))),
    ("More_Unification.Unifier_Fun",
     "Unifier ?\<theta> (Fun ?f (?x # ?X)) (Fun ?g (?y # ?Y)) ==>
      Unifier ?\<theta> (Fun ?f ?X) (Fun ?g ?Y)",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_hole 2,
              template_app
               (template_app (template_hole 1, template_var 6),
                template_app
                 (template_app (template_hole 0, template_var 5),
                  template_var 4))),
            template_var 3),
          template_app
           (template_app
             (template_hole 2,
              template_app
               (template_app (template_hole 1, template_var 2),
                template_app
                 (template_app (template_hole 0, template_var 1),
                  template_var 0))),
            template_var 3))],
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_var 6),
               template_var 4)),
           template_var 3),
         template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_var 2),
               template_var 0)),
           template_var 3)))),
    ("More_Unification.subst_fv_dom_ground_if_ground_img'",
     "[| fv ?t <= subst_domain ?s;
         !!x. x : subst_domain ?s ==> fv (?s x) = {} |]
      ==> fv (?t \<cdot> ?s) = {}",
     template_implication
      ([template_inequation
         (less_equals, template_app (template_hole 6, template_var 1),
          template_app (template_hole 5, template_var 0)),
        template_predicate (template_app (template_hole 4, t_empty))],
       template_equation
        (template_app
          (template_hole 6,
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 0)),
         template_hole 1))),
    ("More_Unification.mgu_img_consts",
     "[| mgu ?s ?t = Some ?\<delta>;
         Fun ?c [] \<sqsubseteq>\<^sub>s\<^sub>e\<^sub>t
         subst_range ?\<delta> |]
      ==> Fun ?c [] : subterms ?s Un subterms ?t",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 9, template_var 3), template_var 2),
          template_app (template_hole 8, template_var 1)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 7,
                template_app
                 (template_app (template_hole 6, template_var 0),
                  template_hole 5)),
              template_app
               (template_hole 4,
                template_app
                 (template_app (template_hole 3, template_hole 2),
                  template_app (template_hole 1, template_var 1))))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 7,
               template_app
                (template_app (template_hole 6, template_var 0),
                 template_hole 5)),
             template_app
              (template_app
                (template_hole 0,
                 template_app (template_hole 2, template_var 3)),
               template_app (template_hole 2, template_var 2)))
           ))),
    ("More_Unification.MGU_nil", "MGU Var ?s ?t = (?s = ?t)",
     template_bimplication
      (template_predicate
        (
           template_app
            (template_app
              (template_hole 8,
               template_app
                (template_app
                  (template_hole 7,
                   template_app
                    (template_app (template_hole 6, template_var 1),
                     template_hole 5)),
                 template_app
                  (template_app (template_hole 6, template_var 0),
                   template_hole 5))),
             template_app (template_hole 4, t_empty))
           ),
       template_equation (template_var 1, template_var 0))),
    ("More_Unification.subst_idx_map",
     "ALL i:set ?I. i < length ?T ==>
      map ((!) ?T) ?I \<cdot>\<^sub>l\<^sub>i\<^sub>s\<^sub>t ?\<delta> =
      map ((!) (?T \<cdot>\<^sub>l\<^sub>i\<^sub>s\<^sub>t ?\<delta>)) ?I",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 10,
                template_app (template_hole 9, template_var 2)),
              t_empty)
            )],
       template_equation
        (template_app
          (template_app (template_hole 5, t_empty),
           template_app
            (template_app
              (template_hole 3,
               template_app (template_hole 2, template_var 1)),
             template_var 2)),
         template_app
          (template_app
            (template_hole 1,
             template_app
              (template_hole 0,
               template_app
                (template_app (template_hole 5, t_empty), template_var 1))),
           template_var 2)))),
    ("More_Unification.pair_subst_ident",
     "(fv ?t Un fv ?t') Int subst_domain ?\<theta> = {} ==>
      (?t, ?t') \<cdot>\<^sub>p ?\<theta> = (?t, ?t')",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_hole 8,
              template_app
               (template_app
                 (template_hole 7,
                  template_app (template_hole 6, template_var 2)),
                template_app (template_hole 6, template_var 1))),
            template_app (template_hole 5, template_var 0)),
          template_hole 4)],
       template_equation
        (template_app
          (template_app (template_hole 2, t_empty),
           template_app
            (template_app (template_hole 1, template_var 2),
             template_var 1)),
         template_app
          (template_app (template_hole 1, template_var 2),
           template_var 1)))),
    ("More_Unification.set_subst_all_ident",
     "fv\<^sub>s\<^sub>e\<^sub>t
       (?M \<cdot>\<^sub>s\<^sub>e\<^sub>t ?\<theta>) Int
      subst_domain ?\<delta> =
      {} ==>
      ?M \<cdot>\<^sub>s\<^sub>e\<^sub>t
      ?\<theta> \<circ>\<^sub>s ?\<delta> =
      ?M \<cdot>\<^sub>s\<^sub>e\<^sub>t ?\<theta>",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_hole 7,
              template_app
               (template_hole 6,
                template_app
                 (template_app (template_hole 5, t_empty),
                  template_var 1))),
            template_app (template_hole 3, template_var 0)),
          template_hole 2)],
       template_equation
        (template_app
          (template_app (template_hole 5, t_empty), template_var 1),
         template_app
          (template_app (template_hole 5, t_empty), template_var 1)))),
    ("More_Unification.mgu_img_consts'",
     "[| mgu ?s ?t = Some ?\<delta>; ?\<delta> ?z = Fun ?c [] |]
      ==> Fun ?c [] \<sqsubseteq> ?s | Fun ?c [] \<sqsubseteq> ?t",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 7, template_var 4), template_var 3),
          template_app (template_hole 6, template_var 2)),
        template_equation
         (template_app (template_var 2, template_var 1),
          template_app
           (template_app (template_hole 4, template_var 0),
            template_hole 3))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app
                  (template_hole 1,
                   template_app
                    (template_app (template_hole 4, template_var 0),
                     template_hole 3)),
                 template_app (template_hole 0, template_var 4))),
             template_app
              (template_app
                (template_hole 1,
                 template_app
                  (template_app (template_hole 4, template_var 0),
                   template_hole 3)),
               template_app (template_hole 0, template_var 3)))
           ))),
    ("More_Unification.subst_Fun_index_eq",
     "[| ?i < length ?T;
         Fun ?f ?T \<cdot> ?\<delta> = Fun ?g ?T' \<cdot> ?\<delta> |]
      ==> ?T ! ?i \<cdot> ?\<delta> = ?T' ! ?i \<cdot> ?\<delta>",
     template_implication
      ([template_inequation
         (less_than, template_var 5,
          template_app (template_hole 4, template_var 4)),
        template_equation
         (template_app
           (template_app
             (template_hole 2,
              template_app
               (template_app (template_hole 1, template_var 3),
                template_var 4)),
            template_var 2),
          template_app
           (template_app
             (template_hole 2,
              template_app
               (template_app (template_hole 1, template_var 1),
                template_var 0)),
            template_var 2))],
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 0, template_var 4),
               template_var 5)),
           template_var 2),
         template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 0, template_var 0),
               template_var 5)),
           template_var 2)))),
    ("More_Unification.wf_subst_single",
     "[| ?v ~: fv ?t; ?\<sigma> ?v = ?t;
         !!w. ?v ~= w ==> ?\<sigma> w = Var w |]
      ==> wf\<^sub>s\<^sub>u\<^sub>b\<^sub>s\<^sub>t ?\<sigma>",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 6, template_var 2),
                  template_app (template_hole 5, template_var 1))
                )
            ),
        template_equation
         (template_app (template_var 0, template_var 2), template_var 1),
        template_predicate (template_app (template_hole 3, t_empty))],
       template_predicate
        (template_app (template_hole 0, template_var 0)))),
    ("More_Unification.wf_subst_compose",
     "[| wf\<^sub>s\<^sub>u\<^sub>b\<^sub>s\<^sub>t ?\<theta>1.0;
         wf\<^sub>s\<^sub>u\<^sub>b\<^sub>s\<^sub>t ?\<theta>2.0;
         subst_domain ?\<theta>1.0 Int subst_domain ?\<theta>2.0 = {};
         subst_domain ?\<theta>1.0 Int range_vars ?\<theta>2.0 = {} |]
      ==> wf\<^sub>s\<^sub>u\<^sub>b\<^sub>s\<^sub>t
           (?\<theta>1.0 \<circ>\<^sub>s ?\<theta>2.0)",
     template_implication
      ([template_predicate (template_app (template_hole 6, template_var 1)),
        template_predicate (template_app (template_hole 6, template_var 0)),
        template_equation
         (template_app
           (template_app
             (template_hole 4,
              template_app (template_hole 3, template_var 1)),
            template_app (template_hole 3, template_var 0)),
          template_hole 2),
        template_equation
         (template_app
           (template_app
             (template_hole 4,
              template_app (template_hole 3, template_var 1)),
            template_app (template_hole 1, template_var 0)),
          template_hole 2)],
       template_predicate
        (
           template_app
            (template_hole 6,
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0))
           ))),
    ("More_Unification.rm_vars_split",
     "ground (subst_range ?\<theta>) ==>
      ?\<theta> =
      rm_vars ?X ?\<theta> \<circ>\<^sub>s
      rm_vars (subst_domain ?\<theta> - ?X) ?\<theta>",
     template_implication
      ([template_equation
         (template_app
           (template_hole 9,
            template_app (template_hole 8, template_var 1)),
          template_hole 7)],
       template_equation
        (template_var 1,
         template_app (template_app (template_hole 5, t_empty), t_empty)))),
    ("More_Unification.subst_img_comp_subset_const'",
     "(?\<delta> \<circ>\<^sub>s ?\<tau>) ?x = Fun ?c [] ==>
      ?\<delta> ?x = Fun ?c [] |
      (EX z. ?\<delta> ?x = Var z & ?\<tau> z = Fun ?c [])",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_app (template_hole 6, template_var 3),
              template_var 2),
            template_var 1),
          template_app
           (template_app (template_hole 5, template_var 0),
            template_hole 4))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 3,
               template_app
                (template_app
                  (template_hole 7,
                   template_app (template_var 3, template_var 1)),
                 template_app
                  (template_app (template_hole 5, template_var 0),
                   template_hole 4))),
             template_app (template_hole 2, t_empty))
           ))),
    ("More_Unification.wf_MGU_nil",
     "MGU Var ?s ?t ==> wf\<^sub>M\<^sub>G\<^sub>U Var ?s ?t",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 9,
                template_app
                 (template_app
                   (template_hole 8,
                    template_app
                     (template_app (template_hole 7, template_var 1),
                      template_hole 6)),
                  template_app
                   (template_app (template_hole 7, template_var 0),
                    template_hole 6))),
              template_app (template_hole 5, t_empty))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 0, template_hole 6),
               template_var 1),
             template_var 0)
           ))),
    ("More_Unification.subst_support_comp_split",
     "[| ?\<theta> \<circ>\<^sub>s ?\<delta> supports ?\<I>;
         subst_domain ?\<theta> Int range_vars ?\<theta> = {} |]
      ==> ?\<theta> supports ?\<I>",
     template_implication
      ([template_predicate (template_app (template_hole 8, t_empty)),
        template_equation
         (template_app
           (template_app
             (template_hole 3,
              template_app (template_hole 2, template_var 2)),
            template_app (template_hole 1, template_var 2)),
          template_hole 0)],
       template_predicate (template_app (template_hole 8, t_empty)))),
    ("More_Unification.subst_support_comp_split",
     "[| ?\<theta> \<circ>\<^sub>s ?\<delta> supports ?\<I>;
         subst_domain ?\<theta> Int subst_domain ?\<delta> = {} |]
      ==> ?\<delta> supports ?\<I>",
     template_implication
      ([template_predicate (template_app (template_hole 7, t_empty)),
        template_equation
         (template_app
           (template_app
             (template_hole 2,
              template_app (template_hole 1, template_var 2)),
            template_app (template_hole 1, template_var 1)),
          template_hole 0)],
       template_predicate (template_app (template_hole 7, t_empty)))),
    ("More_Unification.subst_list_singleton_fv_subset",
     "(UN x:set (subst_list (subst ?v ?t) ?E). fv (fst x) Un fv (snd x))
      <= fv ?t Un (UN x:set ?E. fv (fst x) Un fv (snd x))",
     template_inequation
      (less_equals,
       template_app
        (template_hole 8,
         template_app
          (template_app (template_hole 7, t_empty),
           template_app
            (template_hole 2,
             template_app
              (template_app
                (template_hole 1,
                 template_app
                  (template_app (template_hole 0, template_var 2),
                   template_var 1)),
               template_var 0)))),
       template_app
        (template_app
          (template_hole 6, template_app (template_hole 5, template_var 1)),
         template_app
          (template_hole 8,
           template_app
            (template_app (template_hole 7, t_empty),
             template_app (template_hole 2, template_var 0)))))),
    ("More_Unification.Unifier_subst_idem_subst",
     "[| subst_idem ?r; Unifier ?s (?t \<cdot> ?r) (?u \<cdot> ?r) |]
      ==> Unifier (?r \<circ>\<^sub>s ?s) (?t \<cdot> ?r) (?u \<cdot> ?r)",
     template_implication
      ([template_predicate (template_app (template_hole 3, template_var 3)),
        template_equation
         (template_app
           (template_app
             (template_hole 1,
              template_app
               (template_app (template_hole 1, template_var 2),
                template_var 3)),
            template_var 1),
          template_app
           (template_app
             (template_hole 1,
              template_app
               (template_app (template_hole 1, template_var 0),
                template_var 3)),
            template_var 1))],
       template_equation
        (template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 1, template_var 2),
               template_var 3)),
           template_app
            (template_app (template_hole 0, template_var 3),
             template_var 1)),
         template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 1, template_var 0),
               template_var 3)),
           template_app
            (template_app (template_hole 0, template_var 3),
             template_var 1))))),
    ("More_Unification.rm_vars_fv_img_disj",
     "[| fv ?t Int ?X = {}; ?X Int range_vars ?\<theta> = {} |]
      ==> fv (?t \<cdot> rm_vars ?X ?\<theta>) Int ?X = {}",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_hole 7,
              template_app (template_hole 6, template_var 2)),
            template_var 1),
          template_hole 5),
        template_equation
         (template_app
           (template_app (template_hole 7, template_var 1),
            template_app (template_hole 4, template_var 0)),
          template_hole 5)],
       template_equation
        (template_app
          (template_app
            (template_hole 7,
             template_app
              (template_hole 6,
               template_app
                (template_app (template_hole 3, template_var 2), t_empty))),
           template_var 1),
         template_hole 5))),
    ("More_Unification.MGU_is_mgu_singleton",
     "MGU ?\<theta> ?t ?u = is_mgu ?\<theta> {(?t, ?u)}",
     template_equation
      (template_app
        (template_app
          (template_hole 11,
           template_app
            (template_app
              (template_hole 10,
               template_app
                (template_app (template_hole 9, template_var 2),
                 template_var 1)),
             template_app
              (template_app (template_hole 9, template_var 0),
               template_var 1))),
         template_app (template_hole 8, t_empty)),
       template_app
        (template_app (template_hole 3, template_var 1),
         template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_var 2),
               template_var 0)),
           template_hole 0)))),
    ("More_Unification.MGU_Var3", "MGU Var (Var ?v) (Var ?w) = (?v = ?w)",
     template_bimplication
      (template_predicate
        (
           template_app
            (template_app
              (template_hole 9,
               template_app
                (template_app
                  (template_hole 8,
                   template_app
                    (template_app
                      (template_hole 7,
                       template_app (template_hole 6, template_var 1)),
                     template_hole 6)),
                 template_app
                  (template_app
                    (template_hole 7,
                     template_app (template_hole 6, template_var 0)),
                   template_hole 6))),
             template_app (template_hole 5, t_empty))
           ),
       template_equation (template_var 1, template_var 0))),
    ("More_Unification.mgu_gives_MGU",
     "mgu ?s ?t = Some ?\<theta> ==> MGU ?\<theta> ?s ?t",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 9, template_var 2), template_var 1),
          template_app (template_hole 8, template_var 0))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 7,
               template_app
                (template_app
                  (template_hole 6,
                   template_app
                    (template_app (template_hole 5, template_var 2),
                     template_var 0)),
                 template_app
                  (template_app (template_hole 5, template_var 1),
                   template_var 0))),
             template_app (template_hole 4, t_empty))
           ))),
    ("More_Unification.subst_comp_split",
     "subst_domain ?\<theta> Int range_vars ?\<theta> = {} ==>
      ?\<theta> =
      rm_vars ?V ?\<theta> \<circ>\<^sub>s
      rm_vars (subst_domain ?\<theta> - ?V) ?\<theta>",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_hole 9,
              template_app (template_hole 8, template_var 1)),
            template_app (template_hole 7, template_var 1)),
          template_hole 6)],
       template_equation
        (template_var 1,
         template_app (template_app (template_hole 4, t_empty), t_empty)))),
    ("More_Unification.subst_comp_split",
     "subst_domain ?\<theta> Int range_vars ?\<theta> = {} ==>
      ?\<theta> =
      rm_vars (subst_domain ?\<theta> - ?V) ?\<theta> \<circ>\<^sub>s
      rm_vars ?V ?\<theta>",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_hole 9,
              template_app (template_hole 8, template_var 1)),
            template_app (template_hole 7, template_var 1)),
          template_hole 6)],
       template_equation
        (template_var 1,
         template_app (template_app (template_hole 4, t_empty), t_empty)))),
    ("More_Unification.const_subterm_subst_cases",
     "Fun ?c [] \<sqsubseteq> ?t \<cdot> ?\<sigma> ==>
      Fun ?c [] \<sqsubseteq> ?t |
      (EX x:fv ?t.
          x : subst_domain ?\<sigma> &
          Fun ?c [] \<sqsubseteq> ?\<sigma> x)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 10,
                template_app
                 (template_app (template_hole 9, template_var 2),
                  template_hole 8)),
              template_app
               (template_hole 7,
                template_app
                 (template_app (template_hole 6, template_var 1),
                  template_var 0)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 5,
               template_app
                (template_app
                  (template_hole 10,
                   template_app
                    (template_app (template_hole 9, template_var 2),
                     template_hole 8)),
                 template_app (template_hole 7, template_var 1))),
             template_app
              (template_app
                (template_hole 4,
                 template_app (template_hole 3, template_var 1)),
               t_empty))
           ))),
    ("More_Unification.subst_support_comp",
     "[| ?\<theta> supports ?\<I>; ?\<delta> supports ?\<I> |]
      ==> ?\<theta> \<circ>\<^sub>s ?\<delta> supports ?\<I>",
     template_implication
      ([template_predicate (template_app (template_hole 3, t_empty)),
        template_predicate (template_app (template_hole 3, t_empty))],
       template_predicate (template_app (template_hole 3, t_empty)))),
    ("More_Unification.bij_finite_ground_subst_exists",
     "[| finite ?S; infinite ?U; ground ?U |]
      ==> EX \<sigma>.
             subst_domain \<sigma> = ?S &
             bij_betw \<sigma> (subst_domain \<sigma>)
              (subst_range \<sigma>) &
             subst_range \<sigma> <= ?U",
     template_implication
      ([template_predicate
         (template_app (template_hole 11, template_var 1)),
        template_negation
         (
            template_predicate
             (template_app (template_hole 9, template_var 0))
            ),
        template_equation
         (template_app (template_hole 7, template_var 0), template_hole 6)],
       template_predicate (template_app (template_hole 5, t_empty)))),
    ("More_Unification.subst_fv_dom_img_single",
     "[| ?v ~: fv ?t; ?\<sigma> ?v = ?t;
         !!w. ?v ~= w ==> ?\<sigma> w = Var w |]
      ==> range_vars ?\<sigma> = fv ?t",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 7, template_var 2),
                  template_app (template_hole 6, template_var 1))
                )
            ),
        template_equation
         (template_app (template_var 0, template_var 2), template_var 1),
        template_predicate (template_app (template_hole 4, t_empty))],
       template_equation
        (template_app (template_hole 0, template_var 0),
         template_app (template_hole 6, template_var 1)))),
    ("More_Unification.disj_dom_img_var_notin",
     "[| subst_domain ?\<theta> Int range_vars ?\<theta> = {};
         ?\<theta> ?v = ?t; ?t ~= Var ?v |]
      ==> ALL v:fv (?t \<cdot> ?\<theta>). v ~: subst_domain ?\<theta>",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_hole 10,
              template_app (template_hole 9, template_var 2)),
            template_app (template_hole 8, template_var 2)),
          template_hole 7),
        template_equation
         (template_app (template_var 2, template_var 1), template_var 0),
        template_negation
         (
            template_equation
             (template_var 0,
              template_app (template_hole 4, template_var 1))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 3,
               template_app
                (template_hole 2,
                 template_app
                  (template_app (template_hole 1, template_var 0),
                   template_var 2))),
             t_empty)
           ))),
    ("More_Unification.subterms\<^sub>s\<^sub>e\<^sub>t_subst",
     "?t \<sqsubseteq>\<^sub>s\<^sub>e\<^sub>t
      ?M \<cdot>\<^sub>s\<^sub>e\<^sub>t ?\<theta> ==>
      ?t : subterms\<^sub>s\<^sub>e\<^sub>t
            ?M \<cdot>\<^sub>s\<^sub>e\<^sub>t
           ?\<theta> |
      (EX x:fv\<^sub>s\<^sub>e\<^sub>t ?M. ?t \<sqsubseteq> ?\<theta> x)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 2),
              template_app
               (template_hole 7,
                template_app
                 (template_app (template_hole 6, template_hole 5),
                  template_app
                   (template_app (template_hole 4, t_empty),
                    template_var 0))))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 8, template_var 2),
                 template_app
                  (template_app (template_hole 4, t_empty),
                   template_app
                    (template_hole 7,
                     template_app
                      (template_app (template_hole 6, template_hole 5),
                       template_var 0))))),
             template_app
              (template_app
                (template_hole 1,
                 template_app (template_hole 0, template_var 0)),
               t_empty))
           ))),
    ("More_Unification.pairs_substI",
     "subst_domain ?\<theta> Int
      \<Union> (fv\<^sub>p\<^sub>a\<^sub>i\<^sub>r ` ?M) =
      {} ==>
      ?M \<cdot>\<^sub>p\<^sub>s\<^sub>e\<^sub>t ?\<theta> = ?M",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_hole 12,
              template_app (template_hole 11, template_var 1)),
            template_app
             (template_hole 10,
              template_app
               (template_app
                 (template_hole 9, template_app (template_hole 8, t_empty)),
                template_var 0))),
          template_hole 5)],
       template_equation
        (template_app
          (template_app (template_hole 3, t_empty), template_var 0),
         template_var 0))),
    ("More_Unification.subterms_subst'",
     "ALL x:fv ?t.
         (EX f. ?\<theta> x = Fun f []) | (EX y. ?\<theta> x = Var y) ==>
      subterms (?t \<cdot> ?\<theta>) =
      subterms ?t \<cdot>\<^sub>s\<^sub>e\<^sub>t ?\<theta>",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 12,
                template_app (template_hole 11, template_var 1)),
              t_empty)
            )],
       template_equation
        (template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 1, template_var 1),
             template_var 0)),
         template_app
          (template_app (template_hole 0, t_empty),
           template_app (template_hole 2, template_var 1))))),
    ("More_Unification.MGU_is_Unifier",
     "MGU ?\<sigma> ?t ?u ==> Unifier ?\<sigma> ?t ?u",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 7,
                template_app
                 (template_app
                   (template_hole 6,
                    template_app
                     (template_app (template_hole 5, template_var 2),
                      template_var 1)),
                  template_app
                   (template_app (template_hole 5, template_var 0),
                    template_var 1))),
              template_app (template_hole 4, t_empty))
            )],
       template_equation
        (template_app
          (template_app (template_hole 5, template_var 2), template_var 1),
         template_app
          (template_app (template_hole 5, template_var 0),
           template_var 1)))),
    ("More_Unification.rm_vars_fv_disj",
     "[| fv ?t Int ?X = {}; fv (?t \<cdot> ?\<theta>) Int ?X = {} |]
      ==> fv (?t \<cdot> rm_vars ?X ?\<theta>) Int ?X = {}",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_hole 6,
              template_app (template_hole 5, template_var 2)),
            template_var 1),
          template_hole 4),
        template_equation
         (template_app
           (template_app
             (template_hole 6,
              template_app
               (template_hole 5,
                template_app
                 (template_app (template_hole 3, template_var 2),
                  template_var 0))),
            template_var 1),
          template_hole 4)],
       template_equation
        (template_app
          (template_app
            (template_hole 6,
             template_app
              (template_hole 5,
               template_app
                (template_app (template_hole 3, template_var 2), t_empty))),
           template_var 1),
         template_hole 4))),
    ("More_Unification.Unifier_rm_var",
     "[| Unifier ?\<theta> ?s ?t; ?v ~: fv ?s Un fv ?t |]
      ==> Unifier (rm_var ?v ?\<theta>) ?s ?t",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 6, template_var 3), template_var 2),
          template_app
           (template_app (template_hole 6, template_var 1),
            template_var 2)),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 4, template_var 0),
                  template_app
                   (template_app
                     (template_hole 3,
                      template_app (template_hole 2, template_var 3)),
                    template_app (template_hole 2, template_var 1)))
                )
            )],
       template_equation
        (template_app
          (template_app (template_hole 6, template_var 3),
           template_app
            (template_app
              (template_app (template_hole 1, template_var 2),
               template_var 0),
             template_app (template_hole 0, template_var 0))),
         template_app
          (template_app (template_hole 6, template_var 1),
           template_app
            (template_app
              (template_app (template_hole 1, template_var 2),
               template_var 0),
             template_app (template_hole 0, template_var 0)))))),
    ("More_Unification.subst_fv_dom_img_single",
     "[| ?v ~: fv ?t; ?\<sigma> ?v = ?t;
         !!w. ?v ~= w ==> ?\<sigma> w = Var w |]
      ==> subst_domain ?\<sigma> = {?v}",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 9, template_var 2),
                  template_app (template_hole 8, template_var 1))
                )
            ),
        template_equation
         (template_app (template_var 0, template_var 2), template_var 1),
        template_predicate (template_app (template_hole 6, t_empty))],
       template_equation
        (template_app (template_hole 2, template_var 0),
         template_app
          (template_app (template_hole 1, template_var 2),
           template_hole 0)))),
    ("More_Unification.subst_apply_img_var",
     "[| ?v : fv (?t \<cdot> ?\<delta>); ?v ~: fv ?t;
         !!w. [| w : fv ?t; ?v : fv (?\<delta> w) |] ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 3),
              template_app
               (template_hole 3,
                template_app
                 (template_app (template_hole 2, template_var 2),
                  template_var 1)))
            ),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 4, template_var 3),
                  template_app (template_hole 3, template_var 2))
                )
            ),
        template_predicate (template_app (template_hole 0, t_empty))],
       template_predicate (template_var 0))),
    ("More_Unification.subst_eq_if_disjoint_vars_ground",
     "[| subst_domain ?\<delta> Int subst_domain ?\<xi> = {};
         ground (subst_range ?\<xi>); ground (subst_range ?\<delta>) |]
      ==> ?t \<cdot> ?\<delta> \<cdot> ?\<xi> =
          ?t \<cdot> ?\<xi> \<cdot> ?\<delta>",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_hole 6,
              template_app (template_hole 5, template_var 2)),
            template_app (template_hole 5, template_var 1)),
          template_hole 4),
        template_equation
         (template_app
           (template_hole 3,
            template_app (template_hole 2, template_var 1)),
          template_hole 4),
        template_equation
         (template_app
           (template_hole 3,
            template_app (template_hole 2, template_var 2)),
          template_hole 4)],
       template_equation
        (template_app
          (template_app
            (template_hole 0,
             template_app
              (template_app (template_hole 0, template_var 0),
               template_var 2)),
           template_var 1),
         template_app
          (template_app
            (template_hole 0,
             template_app
              (template_app (template_hole 0, template_var 0),
               template_var 1)),
           template_var 2)))),
    ("More_Unification.subst_set_idx_map'",
     "ALL i:fv\<^sub>s\<^sub>e\<^sub>t ?K. i < length ?T ==>
      ?K \<cdot>\<^sub>s\<^sub>e\<^sub>t
      (!) ?T \<cdot>\<^sub>s\<^sub>e\<^sub>t
      ?\<delta> =
      ?K \<cdot>\<^sub>s\<^sub>e\<^sub>t
      (!) (?T \<cdot>\<^sub>l\<^sub>i\<^sub>s\<^sub>t ?\<delta>)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 13,
                template_app (template_hole 12, template_var 2)),
              t_empty)
            )],
       template_equation
        (template_app
          (template_app (template_hole 8, t_empty),
           template_app
            (template_app (template_hole 6, t_empty), template_var 2)),
         template_app
          (template_app (template_hole 3, t_empty), template_var 2)))),
    ("More_Unification.subst_subterm'",
     "Fun ?f ?T \<sqsubseteq> ?t \<cdot> ?\<theta> ==>
      EX S. length S = length ?T &
            (Fun ?f S \<sqsubseteq> ?t |
             (EX s:subst_range ?\<theta>. Fun ?f S \<sqsubseteq> s))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 10,
                template_app
                 (template_app (template_hole 9, template_var 3),
                  template_var 2)),
              template_app
               (template_hole 8,
                template_app
                 (template_app (template_hole 7, template_var 1),
                  template_var 0)))
            )],
       template_predicate (template_app (template_hole 6, t_empty)))),
    ("More_Unification.rm_vars_fv_obtain",
     "?x : fv (?t \<cdot> rm_vars ?X ?\<theta>) - ?X ==>
      EX y:fv ?t - ?X. ?x : fv (rm_vars ?X ?\<theta> y)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 3),
              template_app
               (template_app
                 (template_hole 5,
                  template_app
                   (template_hole 4,
                    template_app
                     (template_app (template_hole 3, template_var 2),
                      t_empty))),
                template_var 1))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 0,
               template_app
                (template_app
                  (template_hole 5,
                   template_app (template_hole 4, template_var 2)),
                 template_var 1)),
             t_empty)
           ))),
    ("More_Unification.subst_support_comp'",
     "[| ?\<theta> supports ?\<delta>; ?\<sigma> supports ?\<delta> |]
      ==> ?\<theta> supports ?\<sigma> \<circ>\<^sub>s ?\<delta>",
     template_implication
      ([template_predicate (template_app (template_hole 3, t_empty)),
        template_predicate (template_app (template_hole 3, t_empty))],
       template_predicate (template_app (template_hole 3, t_empty)))),
    ("More_Unification.inj_var_ran_unifiable_has_subst_match",
     "[| Unifier ?\<delta> ?t ?s; inj_on ?\<delta> (fv ?t);
         ?\<delta> ` fv ?t <= range Var |]
      ==> ?t =
          ?s \<cdot>
          ?\<delta> \<circ>\<^sub>s subst_var_inv ?\<delta> (fv ?t)",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 8, template_var 2), template_var 1),
          template_app
           (template_app (template_hole 8, template_var 0),
            template_var 1)),
        template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 1),
              template_app (template_hole 6, template_var 2))
            ),
        template_inequation
         (less_equals,
          template_app
           (template_app (template_hole 4, template_var 1),
            template_app (template_hole 6, template_var 2)),
          template_app
           (template_app (template_hole 4, template_hole 3),
            template_hole 2))],
       template_equation
        (template_var 2,
         template_app
          (template_app (template_hole 8, template_var 0),
           template_app
            (template_app (template_hole 1, template_var 1),
             template_app
              (template_app (template_hole 0, template_var 1),
               template_app (template_hole 6, template_var 2))))))),
    ("More_Unification.subst_img_comp_subset'''",
     "subterms\<^sub>s\<^sub>e\<^sub>t
       (subst_range (?\<theta>1.0 \<circ>\<^sub>s ?\<theta>2.0)) -
      range Var
      <= subterms\<^sub>s\<^sub>e\<^sub>t (subst_range ?\<theta>2.0) -
         range Var Un
         (subterms\<^sub>s\<^sub>e\<^sub>t (subst_range ?\<theta>1.0) -
          range Var \<cdot>\<^sub>s\<^sub>e\<^sub>t
          ?\<theta>2.0)",
     template_inequation
      (less_equals,
       template_app
        (template_app
          (template_hole 11,
           template_app
            (template_hole 10,
             template_app
              (template_app (template_hole 9, template_hole 8),
               template_app
                (template_hole 7,
                 template_app
                  (template_app (template_hole 6, template_var 1),
                   template_var 0))))),
         template_app
          (template_app (template_hole 5, template_hole 4),
           template_hole 3)),
       template_app
        (template_app
          (template_hole 2,
           template_app
            (template_app
              (template_hole 11,
               template_app
                (template_hole 10,
                 template_app
                  (template_app (template_hole 9, template_hole 8),
                   template_app (template_hole 7, template_var 0)))),
             template_app
              (template_app (template_hole 5, template_hole 4),
               template_hole 3))),
         template_app
          (template_app (template_hole 1, t_empty),
           template_app
            (template_app
              (template_hole 11,
               template_app
                (template_hole 10,
                 template_app
                  (template_app (template_hole 9, template_hole 8),
                   template_app (template_hole 7, template_var 1)))),
             template_app
              (template_app (template_hole 5, template_hole 4),
               template_hole 3)))))),
    ("More_Unification.subterm_subst_unfold",
     "?t \<sqsubseteq> ?s \<cdot> ?\<theta> ==>
      (EX s'. s' \<sqsubseteq> ?s & ?t = s' \<cdot> ?\<theta>) |
      (EX x:fv ?s. ?t \<sqsubset> ?\<theta> x)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 11, template_var 2),
              template_app
               (template_hole 10,
                template_app
                 (template_app (template_hole 9, template_var 1),
                  template_var 0)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 8, template_app (template_hole 7, t_empty)),
             template_app
              (template_app
                (template_hole 2,
                 template_app (template_hole 1, template_var 1)),
               t_empty))
           ))),
    ("More_Unification.subst_idx_map'",
     "ALL i:fv\<^sub>s\<^sub>e\<^sub>t (set ?K). i < length ?T ==>
      (?K \<cdot>\<^sub>l\<^sub>i\<^sub>s\<^sub>t
       (!) ?T) \<cdot>\<^sub>l\<^sub>i\<^sub>s\<^sub>t
      ?\<delta> =
      ?K \<cdot>\<^sub>l\<^sub>i\<^sub>s\<^sub>t
      (!) (?T \<cdot>\<^sub>l\<^sub>i\<^sub>s\<^sub>t ?\<delta>)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 13,
                template_app
                 (template_hole 12,
                  template_app (template_hole 11, template_var 2))),
              t_empty)
            )],
       template_equation
        (template_app
          (template_app (template_hole 7, t_empty),
           template_app
            (template_app (template_hole 5, t_empty), template_var 2)),
         template_app
          (template_app (template_hole 2, t_empty), template_var 2)))),
    ("More_Unification.MGU_Const1",
     "MGU Var (Fun ?c []) (Fun ?d []) = (?c = ?d)",
     template_bimplication
      (template_predicate
        (
           template_app
            (template_app
              (template_hole 11,
               template_app
                (template_app
                  (template_hole 10,
                   template_app
                    (template_app
                      (template_hole 9,
                       template_app
                        (template_app (template_hole 8, template_var 1),
                         template_hole 7)),
                     template_hole 6)),
                 template_app
                  (template_app
                    (template_hole 9,
                     template_app
                      (template_app (template_hole 8, template_var 0),
                       template_hole 7)),
                   template_hole 6))),
             template_app (template_hole 5, t_empty))
           ),
       template_equation (template_var 1, template_var 0))),
    ("More_Unification.subst_pair_compose",
     "?d \<cdot>\<^sub>p ?\<delta> \<circ>\<^sub>s ?\<I> =
      ?d \<cdot>\<^sub>p ?\<delta> \<cdot>\<^sub>p ?\<I>",
     template_equation
      (template_app
        (template_app (template_hole 8, t_empty), template_var 0),
       template_app
        (template_app (template_hole 4, t_empty),
         template_app
          (template_app (template_hole 2, t_empty), template_var 0)))),
    ("More_Unification.mgu_img_subterm_subst",
     "[| mgu ?s ?t = Some ?\<delta>;
         ?u : subterms\<^sub>s\<^sub>e\<^sub>t (subst_range ?\<delta>) -
              range Var |]
      ==> ?u : subterms ?s Un subterms ?t -
               range Var \<cdot>\<^sub>s\<^sub>e\<^sub>t
               ?\<delta>",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 13, template_var 3),
            template_var 2),
          template_app (template_hole 12, template_var 1)),
        template_predicate
         (
            template_app
             (template_app (template_hole 11, template_var 0),
              template_app
               (template_app
                 (template_hole 10,
                  template_app
                   (template_hole 9,
                    template_app
                     (template_app (template_hole 8, template_hole 7),
                      template_app (template_hole 6, template_var 1)))),
                template_app
                 (template_app (template_hole 5, template_hole 4),
                  template_hole 3)))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 11, template_var 0),
             template_app
              (template_app (template_hole 2, t_empty),
               template_app
                (template_app
                  (template_hole 10,
                   template_app
                    (template_app
                      (template_hole 0,
                       template_app (template_hole 7, template_var 3)),
                     template_app (template_hole 7, template_var 2))),
                 template_app
                  (template_app (template_hole 5, template_hole 4),
                   template_hole 3))))
           ))),
    ("More_Unification.subst_img_comp_subset_const",
     "Fun ?c []
      : subst_range (?\<theta>1.0 \<circ>\<^sub>s ?\<theta>2.0) ==>
      Fun ?c [] : subst_range ?\<theta>2.0 |
      Fun ?c [] : subst_range ?\<theta>1.0 |
      (EX x. Var x : subst_range ?\<theta>1.0 &
             ?\<theta>2.0 x = Fun ?c [])",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 9,
                template_app
                 (template_app (template_hole 8, template_var 2),
                  template_hole 7)),
              template_app
               (template_hole 6,
                template_app
                 (template_app (template_hole 5, template_var 1),
                  template_var 0)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 4,
               template_app
                (template_app
                  (template_hole 9,
                   template_app
                    (template_app (template_hole 8, template_var 2),
                     template_hole 7)),
                 template_app (template_hole 6, template_var 0))),
             template_app
              (template_app
                (template_hole 4,
                 template_app
                  (template_app
                    (template_hole 9,
                     template_app
                      (template_app (template_hole 8, template_var 2),
                       template_hole 7)),
                   template_app (template_hole 6, template_var 1))),
               template_app (template_hole 3, t_empty)))
           ))),
    ("More_Unification.MGU_Const2",
     "MGU ?\<theta> (Fun ?c []) (Fun ?d []) ==> ?c = ?d",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 10,
                template_app
                 (template_app
                   (template_hole 9,
                    template_app
                     (template_app
                       (template_hole 8,
                        template_app
                         (template_app (template_hole 7, template_var 2),
                          template_hole 6)),
                      template_var 1)),
                  template_app
                   (template_app
                     (template_hole 8,
                      template_app
                       (template_app (template_hole 7, template_var 0),
                        template_hole 6)),
                    template_var 1))),
              template_app (template_hole 5, t_empty))
            )],
       template_equation (template_var 2, template_var 0))),
    ("More_Unification.MGU_Fun",
     "MGU ?\<theta> (Fun ?f ?X) (Fun ?g ?Y) ==> ?f = ?g",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 9,
                template_app
                 (template_app
                   (template_hole 8,
                    template_app
                     (template_app
                       (template_hole 7,
                        template_app
                         (template_app (template_hole 6, template_var 4),
                          template_var 3)),
                      template_var 2)),
                  template_app
                   (template_app
                     (template_hole 7,
                      template_app
                       (template_app (template_hole 6, template_var 1),
                        template_var 0)),
                    template_var 2))),
              template_app (template_hole 5, t_empty))
            )],
       template_equation (template_var 4, template_var 1))),
    ("More_Unification.MGUD",
     "MGU ?\<sigma> (Fun ?f ?X) (Fun ?g ?Y) ==> ?f = ?g",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 9,
                template_app
                 (template_app
                   (template_hole 8,
                    template_app
                     (template_app
                       (template_hole 7,
                        template_app
                         (template_app (template_hole 6, template_var 4),
                          template_var 3)),
                      template_var 2)),
                  template_app
                   (template_app
                     (template_hole 7,
                      template_app
                       (template_app (template_hole 6, template_var 1),
                        template_var 0)),
                    template_var 2))),
              template_app (template_hole 5, t_empty))
            )],
       template_equation (template_var 4, template_var 1))),
    ("More_Unification.subterm_subst_not_img_subterm",
     "[| ?t \<sqsubseteq> ?s \<cdot> ?\<I>;
         ~ (EX w:fv ?s. ?t \<sqsubseteq> ?\<I> w) |]
      ==> EX f T. Fun f T \<sqsubseteq> ?s & ?t = Fun f T \<cdot> ?\<I>",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 12, template_var 2),
              template_app
               (template_hole 11,
                template_app
                 (template_app (template_hole 10, template_var 1),
                  template_var 0)))
            ),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app
                   (template_hole 8,
                    template_app (template_hole 7, template_var 1)),
                  t_empty)
                )
            )],
       template_predicate (template_app (template_hole 6, t_empty)))),
    ("More_Unification.bij_finite_const_subst_exists",
     "[| finite ?S; finite ?T; infinite ?U |]
      ==> EX \<sigma>.
             subst_domain \<sigma> = ?S &
             bij_betw \<sigma> (subst_domain \<sigma>)
              (subst_range \<sigma>) &
             subst_range \<sigma> <= (%c. Fun c []) ` (?U - ?T)",
     template_implication
      ([template_predicate
         (template_app (template_hole 13, template_var 2)),
        template_predicate
         (template_app (template_hole 12, template_var 1)),
        template_negation
         (
            template_predicate
             (template_app (template_hole 12, template_var 0))
            )],
       template_predicate (template_app (template_hole 10, t_empty)))),
    ("More_Unification.bij_finite_const_subst_exists'",
     "[| finite ?S; finite ?T; infinite ?U |]
      ==> EX \<sigma>.
             subst_domain \<sigma> = ?S &
             bij_betw \<sigma> (subst_domain \<sigma>)
              (subst_range \<sigma>) &
             subst_range \<sigma> <= (%c. Fun c []) ` ?U - ?T",
     template_implication
      ([template_predicate
         (template_app (template_hole 14, template_var 2)),
        template_predicate
         (template_app (template_hole 13, template_var 1)),
        template_negation
         (
            template_predicate
             (template_app (template_hole 11, template_var 0))
            )],
       template_predicate (template_app (template_hole 10, t_empty)))),
    ("More_Unification.subst_subterm",
     "Fun ?f ?T \<sqsubseteq> ?t \<cdot> ?\<theta> ==>
      (EX S. Fun ?f S \<sqsubseteq> ?t &
             Fun ?f S \<cdot> ?\<theta> = Fun ?f ?T) |
      (EX s:subst_range ?\<theta>. Fun ?f ?T \<sqsubseteq> s)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 9,
                template_app
                 (template_app (template_hole 8, template_var 3),
                  template_var 2)),
              template_app
               (template_hole 7,
                template_app
                 (template_app (template_hole 6, template_var 1),
                  template_var 0)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 5, template_app (template_hole 4, t_empty)),
             template_app
              (template_app
                (template_hole 1,
                 template_app (template_hole 0, template_var 0)),
               t_empty))
           ))),
    ("More_Unification.Unifier_ground_rm_vars",
     "[| ground (subst_range ?s); Unifier (rm_vars ?X ?s) ?t ?t' |]
      ==> Unifier ?s ?t ?t'",
     template_implication
      ([template_equation
         (template_app
           (template_hole 7,
            template_app (template_hole 6, template_var 3)),
          template_hole 5),
        template_equation
         (template_app
           (template_app (template_hole 3, template_var 2), t_empty),
          template_app
           (template_app (template_hole 3, template_var 0), t_empty))],
       template_equation
        (template_app
          (template_app (template_hole 3, template_var 2), template_var 3),
         template_app
          (template_app (template_hole 3, template_var 0),
           template_var 3)))),
    ("More_Unification.subterm_subst_img_subterm",
     "[| ?t \<sqsubseteq> ?s \<cdot> ?\<theta>;
         !!s'. s' \<sqsubseteq> ?s ==> ?t ~= s' \<cdot> ?\<theta> |]
      ==> EX w:fv ?s. ?t \<sqsubset> ?\<theta> w",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 10, template_var 2),
              template_app
               (template_hole 9,
                template_app
                 (template_app (template_hole 8, template_var 1),
                  template_var 0)))
            ),
        template_predicate (template_app (template_hole 7, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 2,
               template_app (template_hole 1, template_var 1)),
             t_empty)
           ))),
    ("More_Unification.subterms_subst_subterm",
     "[| ALL x:fv ?a.
            (EX f. ?\<theta> x = Fun f []) | (EX y. ?\<theta> x = Var y);
         ?b \<sqsubseteq> ?a \<cdot> ?\<theta> |]
      ==> EX c:subterms ?a. c \<cdot> ?\<theta> = ?b",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 12,
                template_app (template_hole 11, template_var 2)),
              t_empty)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 0),
              template_app
               (template_hole 2,
                template_app
                 (template_app (template_hole 1, template_var 2),
                  template_var 1)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 0,
               template_app (template_hole 2, template_var 2)),
             t_empty)
           ))),
    ("More_Unification.unify_list_distinct",
     "[| unify ?E ?B = Some ?U; distinct (map fst ?B);
         (UN x:set ?E. fv (fst x) Un fv (snd x)) Int set (map fst ?B) =
         {} |]
      ==> distinct (map fst ?U)",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 15, template_var 2),
            template_var 1),
          template_app (template_hole 14, template_var 0)),
        template_predicate
         (
            template_app
             (template_hole 13,
              template_app
               (template_app (template_hole 12, template_hole 11),
                template_var 1))
            ),
        template_equation
         (template_app
           (template_app
             (template_hole 9,
              template_app
               (template_hole 8,
                template_app
                 (template_app (template_hole 7, t_empty),
                  template_app (template_hole 2, template_var 2)))),
            template_app
             (template_hole 1,
              template_app
               (template_app (template_hole 12, template_hole 11),
                template_var 1))),
          template_hole 0)],
       template_predicate
        (
           template_app
            (template_hole 13,
             template_app
              (template_app (template_hole 12, template_hole 11),
               template_var 0))
           ))),
    ("More_Unification.MGU_Fun",
     "MGU ?\<theta> (Fun ?f ?X) (Fun ?g ?Y) ==> length ?X = length ?Y",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 10,
                template_app
                 (template_app
                   (template_hole 9,
                    template_app
                     (template_app
                       (template_hole 8,
                        template_app
                         (template_app (template_hole 7, template_var 4),
                          template_var 3)),
                      template_var 2)),
                  template_app
                   (template_app
                     (template_hole 8,
                      template_app
                       (template_app (template_hole 7, template_var 1),
                        template_var 0)),
                    template_var 2))),
              template_app (template_hole 6, t_empty))
            )],
       template_equation
        (template_app (template_hole 0, template_var 3),
         template_app (template_hole 0, template_var 0)))),
    ("More_Unification.MGUD",
     "MGU ?\<sigma> (Fun ?f ?X) (Fun ?g ?Y) ==> length ?X = length ?Y",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 10,
                template_app
                 (template_app
                   (template_hole 9,
                    template_app
                     (template_app
                       (template_hole 8,
                        template_app
                         (template_app (template_hole 7, template_var 4),
                          template_var 3)),
                      template_var 2)),
                  template_app
                   (template_app
                     (template_hole 8,
                      template_app
                       (template_app (template_hole 7, template_var 1),
                        template_var 0)),
                    template_var 2))),
              template_app (template_hole 6, t_empty))
            )],
       template_equation
        (template_app (template_hole 0, template_var 3),
         template_app (template_hole 0, template_var 0)))),
    ("More_Unification.const_subterm_subst_var_obtain",
     "[| Fun ?c [] \<sqsubseteq> ?t \<cdot> ?\<sigma>;
         Fun ?c [] ~: subterms ?t;
         !!x. [| x : fv ?t; Fun ?c [] \<sqsubseteq> ?\<sigma> x |]
              ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 12,
                template_app
                 (template_app (template_hole 11, template_var 3),
                  template_hole 10)),
              template_app
               (template_hole 9,
                template_app
                 (template_app (template_hole 8, template_var 2),
                  template_var 1)))
            ),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app
                   (template_hole 6,
                    template_app
                     (template_app (template_hole 5, template_var 3),
                      template_hole 4)),
                  template_app (template_hole 3, template_var 2))
                )
            ),
        template_predicate (template_app (template_hole 2, t_empty))],
       template_predicate (template_var 0))),
    ("More_Unification.subterms_subst''",
     "ALL x:fv\<^sub>s\<^sub>e\<^sub>t ?M.
         (EX f. ?\<theta> x = Fun f []) | (EX y. ?\<theta> x = Var y) ==>
      subterms\<^sub>s\<^sub>e\<^sub>t
       (?M \<cdot>\<^sub>s\<^sub>e\<^sub>t ?\<theta>) =
      subterms\<^sub>s\<^sub>e\<^sub>t ?M \<cdot>\<^sub>s\<^sub>e\<^sub>t
      ?\<theta>",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 14,
                template_app (template_hole 13, template_var 1)),
              t_empty)
            )],
       template_equation
        (template_app
          (template_hole 4,
           template_app
            (template_app (template_hole 3, template_hole 2),
             template_app
              (template_app (template_hole 1, t_empty), template_var 1))),
         template_app
          (template_app (template_hole 1, t_empty),
           template_app
            (template_hole 4,
             template_app
              (template_app (template_hole 3, template_hole 2),
               template_var 1)))))),
    ("More_Unification.mgu_img_composed_var_term",
     "[| mgu ?s ?t = Some ?\<delta>;
         Fun ?f (map Var ?Z) \<sqsubseteq>\<^sub>s\<^sub>e\<^sub>t
         subst_range ?\<delta> |]
      ==> EX Z'.
             map ?\<delta> Z' = map Var ?Z &
             Fun ?f (map Var Z') : subterms ?s Un subterms ?t",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 13, template_var 4),
            template_var 3),
          template_app (template_hole 12, template_var 2)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 11,
                template_app
                 (template_app (template_hole 10, template_var 1),
                  template_app
                   (template_app (template_hole 9, template_hole 8),
                    template_var 0))),
              template_app
               (template_hole 7,
                template_app
                 (template_app (template_hole 6, template_hole 5),
                  template_app (template_hole 4, template_var 2))))
            )],
       template_predicate (template_app (template_hole 3, t_empty)))),
    ("More_Unification.bij_betw_iteI",
     "[| bij_betw ?f ?A ?B; bij_betw ?g ?C ?D; ?A Int ?C = {};
         ?B Int ?D = {} |]
      ==> bij_betw (%x. if x : ?A then ?f x else ?g x) (?A Un ?C)
           (?B Un ?D)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 10, template_var 5),
                template_var 4),
              template_var 3)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 10, template_var 2),
                template_var 1),
              template_var 0)
            ),
        template_equation
         (template_app
           (template_app (template_hole 8, template_var 4), template_var 1),
          template_hole 7),
        template_equation
         (template_app
           (template_app (template_hole 5, template_var 3), template_var 0),
          template_hole 4)],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 10, t_empty),
               template_app
                (template_app (template_hole 1, template_var 4),
                 template_var 1)),
             template_app
              (template_app (template_hole 0, template_var 3),
               template_var 0))
           ))),
    ("More_Unification.MGU_Var2",
     "?v ~: fv ?t ==> MGU (Var(?v := ?t)) (Var ?v) ?t",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 11, template_var 1),
                  template_app (template_hole 10, template_var 0))
                )
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 9,
               template_app
                (template_app
                  (template_hole 8,
                   template_app
                    (template_app
                      (template_hole 7,
                       template_app (template_hole 6, template_var 1)),
                     template_app
                      (template_app
                        (template_app (template_hole 5, template_hole 6),
                         template_var 1),
                       template_var 0))),
                 template_app
                  (template_app (template_hole 7, template_var 0),
                   template_app
                    (template_app
                      (template_app (template_hole 5, template_hole 6),
                       template_var 1),
                     template_var 0)))),
             template_app (template_hole 4, t_empty))
           ))),
    ("More_Unification.rm_vars_comp",
     "range_vars ?\<delta> Int ?vs = {} ==>
      ?t \<cdot> rm_vars ?vs (?\<delta> \<circ>\<^sub>s ?\<theta>) =
      ?t \<cdot>
      rm_vars ?vs ?\<delta> \<circ>\<^sub>s rm_vars ?vs ?\<theta>",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_hole 8,
              template_app (template_hole 7, template_var 3)),
            template_var 2),
          template_hole 6)],
       template_equation
        (template_app
          (template_app (template_hole 4, template_var 1), t_empty),
         template_app
          (template_app (template_hole 4, template_var 1),
           template_app
            (template_app (template_hole 0, t_empty), t_empty))))),
    ("More_Unification.subst_idem_comp",
     "[| subst_idem ?r; Unifier ?s (?t \<cdot> ?r) (?u \<cdot> ?r);
         !!q. Unifier q (?t \<cdot> ?r) (?u \<cdot> ?r) ==>
              ?s \<circ>\<^sub>s q = q |]
      ==> subst_idem (?r \<circ>\<^sub>s ?s)",
     template_implication
      ([template_predicate (template_app (template_hole 5, template_var 3)),
        template_equation
         (template_app
           (template_app
             (template_hole 3,
              template_app
               (template_app (template_hole 3, template_var 2),
                template_var 3)),
            template_var 1),
          template_app
           (template_app
             (template_hole 3,
              template_app
               (template_app (template_hole 3, template_var 0),
                template_var 3)),
            template_var 1)),
        template_predicate (template_app (template_hole 2, t_empty))],
       template_predicate
        (
           template_app
            (template_hole 5,
             template_app
              (template_app (template_hole 0, template_var 3),
               template_var 1))
           ))),
    ("More_Unification.Unifier_dom_restrict",
     "[| Unifier ?s ?t ?t'; fv ?t Un fv ?t' <= ?S |]
      ==> Unifier (rm_vars (UNIV - ?S) ?s) ?t ?t'",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 8, template_var 3), template_var 2),
          template_app
           (template_app (template_hole 8, template_var 1),
            template_var 2)),
        template_inequation
         (less_equals,
          template_app
           (template_app
             (template_hole 6,
              template_app (template_hole 5, template_var 3)),
            template_app (template_hole 5, template_var 1)),
          template_var 0)],
       template_equation
        (template_app
          (template_app (template_hole 8, template_var 3), t_empty),
         template_app
          (template_app (template_hole 8, template_var 1), t_empty)))),
    ("More_Unification.ground_img_obtain_fun",
     "[| ground (subst_range ?s); ?x : subst_domain ?s;
         !!f T.
            [| ?s ?x = Fun f T; Fun f T : subst_range ?s;
               fv (Fun f T) = {} |]
            ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_equation
         (template_app
           (template_hole 10,
            template_app (template_hole 9, template_var 2)),
          template_hole 8),
        template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 1),
              template_app (template_hole 6, template_var 2))
            ),
        template_predicate (template_app (template_hole 5, t_empty))],
       template_predicate (template_var 0))),
    ("More_Unification.subst_pairs_compose",
     "?D \<cdot>\<^sub>p\<^sub>s\<^sub>e\<^sub>t
      ?\<delta> \<circ>\<^sub>s ?\<I> =
      ?D \<cdot>\<^sub>p\<^sub>s\<^sub>e\<^sub>t
      ?\<delta> \<cdot>\<^sub>p\<^sub>s\<^sub>e\<^sub>t
      ?\<I>",
     template_equation
      (template_app
        (template_app (template_hole 11, t_empty), template_var 0),
       template_app
        (template_app (template_hole 6, t_empty),
         template_app
          (template_app (template_hole 3, t_empty), template_var 0)))),
    ("More_Unification.fsubst_induct",
     "[| finite (subst_domain ?\<delta>); ?P Var;
         !!\<theta> v t.
            [| finite (subst_domain \<theta>); v ~: subst_domain \<theta>;
               t ~= Var v; ?P \<theta> |]
            ==> ?P (\<theta>(v := t)) |]
      ==> ?P ?\<delta>",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 9,
              template_app (template_hole 8, template_var 1))
            ),
        template_predicate (template_app (template_var 0, template_hole 7)),
        template_predicate (template_app (template_hole 6, t_empty))],
       template_predicate (template_app (template_var 0, template_var 1)))),
    ("More_Unification.wf_subst_append",
     "[| wf\<^sub>s\<^sub>u\<^sub>b\<^sub>s\<^sub>t ?\<theta>1.0;
         wf\<^sub>s\<^sub>u\<^sub>b\<^sub>s\<^sub>t ?\<theta>2.0;
         subst_domain ?\<theta>1.0 Int subst_domain ?\<theta>2.0 = {};
         subst_domain ?\<theta>1.0 Int range_vars ?\<theta>2.0 = {};
         range_vars ?\<theta>1.0 Int subst_domain ?\<theta>2.0 = {} |]
      ==> wf\<^sub>s\<^sub>u\<^sub>b\<^sub>s\<^sub>t
           (%v. if ?\<theta>1.0 v = Var v then ?\<theta>2.0 v
                else ?\<theta>1.0 v)",
     template_implication
      ([template_predicate (template_app (template_hole 8, template_var 1)),
        template_predicate (template_app (template_hole 8, template_var 0)),
        template_equation
         (template_app
           (template_app
             (template_hole 6,
              template_app (template_hole 5, template_var 1)),
            template_app (template_hole 5, template_var 0)),
          template_hole 4),
        template_equation
         (template_app
           (template_app
             (template_hole 6,
              template_app (template_hole 5, template_var 1)),
            template_app (template_hole 3, template_var 0)),
          template_hole 4),
        template_equation
         (template_app
           (template_app
             (template_hole 6,
              template_app (template_hole 3, template_var 1)),
            template_app (template_hole 5, template_var 0)),
          template_hole 4)],
       template_predicate (template_app (template_hole 8, t_empty)))),
    ("More_Unification.MGU_Var1",
     "~ Var ?v \<sqsubset> ?t ==> MGU (Var(?v := ?t)) (Var ?v) ?t",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app
                   (template_hole 11,
                    template_app
                     (template_app
                       (template_hole 10,
                        template_app (template_hole 9, template_var 1)),
                      template_app (template_hole 8, template_var 0))),
                  template_app
                   (template_hole 12,
                    template_app
                     (template_app
                       (template_hole 7,
                        template_app (template_hole 9, template_var 1)),
                      template_var 0)))
                )
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 11,
               template_app
                (template_app
                  (template_hole 7,
                   template_app
                    (template_app
                      (template_hole 6,
                       template_app (template_hole 9, template_var 1)),
                     template_app
                      (template_app
                        (template_app (template_hole 5, template_hole 9),
                         template_var 1),
                       template_var 0))),
                 template_app
                  (template_app (template_hole 6, template_var 0),
                   template_app
                    (template_app
                      (template_app (template_hole 5, template_hole 9),
                       template_var 1),
                     template_var 0)))),
             template_app (template_hole 4, t_empty))
           ))),
    ("More_Unification.MGU_sym",
     "MGU ?\<sigma> ?s ?t ==> MGU ?\<sigma> ?t ?s",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 7,
                template_app
                 (template_app
                   (template_hole 6,
                    template_app
                     (template_app (template_hole 5, template_var 2),
                      template_var 1)),
                  template_app
                   (template_app (template_hole 5, template_var 0),
                    template_var 1))),
              template_app (template_hole 4, t_empty))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 7,
               template_app
                (template_app
                  (template_hole 6,
                   template_app
                    (template_app (template_hole 5, template_var 0),
                     template_var 1)),
                 template_app
                  (template_app (template_hole 5, template_var 2),
                   template_var 1))),
             template_app (template_hole 4, t_empty))
           ))),
    ("More_Unification.MGUI",
     "[| Unifier ?\<sigma> ?t ?u;
         !!\<theta>.
            Unifier \<theta> ?t ?u ==>
            ?\<sigma> \<preceq>\<^sub>\<circ> \<theta> |]
      ==> MGU ?\<sigma> ?t ?u",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 7, template_var 2), template_var 1),
          template_app
           (template_app (template_hole 7, template_var 0),
            template_var 1)),
        template_predicate (template_app (template_hole 6, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app
                  (template_hole 8,
                   template_app
                    (template_app (template_hole 7, template_var 2),
                     template_var 1)),
                 template_app
                  (template_app (template_hole 7, template_var 0),
                   template_var 1))),
             template_app (template_hole 1, t_empty))
           ))),
    ("More_Unification.wf\<^sub>s\<^sub>u\<^sub>b\<^sub>s\<^sub>t_induct",
     "[| wf\<^sub>s\<^sub>u\<^sub>b\<^sub>s\<^sub>t ?\<delta>; ?P Var;
         !!\<theta> v t.
            [| wf\<^sub>s\<^sub>u\<^sub>b\<^sub>s\<^sub>t \<theta>;
               ?P \<theta>; v ~: subst_domain \<theta>;
               v ~: range_vars \<theta>;
               fv t Int insert v (subst_domain \<theta>) = {} |]
            ==> ?P (\<theta>(v := t)) |]
      ==> ?P ?\<delta>",
     template_implication
      ([template_predicate
         (template_app (template_hole 14, template_var 1)),
        template_predicate
         (template_app (template_var 0, template_hole 13)),
        template_predicate (template_app (template_hole 12, t_empty))],
       template_predicate (template_app (template_var 0, template_var 1)))),
    ("More_Unification.MGU_mgt",
     "[| MGU ?\<sigma> ?t ?u; MGU ?\<delta> ?t ?u |]
      ==> ?\<sigma> \<preceq>\<^sub>\<circ> ?\<delta>",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 7,
                template_app
                 (template_app
                   (template_hole 6,
                    template_app
                     (template_app (template_hole 5, template_var 3),
                      template_var 2)),
                  template_app
                   (template_app (template_hole 5, template_var 1),
                    template_var 2))),
              template_app (template_hole 4, t_empty))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 7,
                template_app
                 (template_app
                   (template_hole 6,
                    template_app
                     (template_app (template_hole 5, template_var 3),
                      template_var 0)),
                  template_app
                   (template_app (template_hole 5, template_var 1),
                    template_var 0))),
              template_app (template_hole 4, t_empty))
            )],
       template_predicate (template_app (template_hole 2, t_empty)))),
    ("More_Unification.subst_term_list_obtain",
     "[| ALL i<length ?T.
            EX s. ?P (?T ! i) s & ?S ! i = s \<cdot> ?\<delta>;
         length ?T = length ?S |]
      ==> EX U. length ?T = length U &
                (ALL i<length ?T. ?P (?T ! i) (U ! i)) &
                ?S = U \<cdot>\<^sub>l\<^sub>i\<^sub>s\<^sub>t ?\<delta>",
     template_implication
      ([template_predicate (template_app (template_hole 16, t_empty)),
        template_equation
         (template_app (template_hole 13, template_var 3),
          template_app (template_hole 5, template_var 1))],
       template_predicate (template_app (template_hole 4, t_empty)))),
    ("More_Unification.sat_ineq_subterm_inj_subst_aux",
     "[| Unifier ?\<sigma> (?s \<cdot> ?\<I>) (?t \<cdot> ?\<I>);
         ground (subst_range ?\<I>);
         fv ?s Un fv ?t - ?X <= subst_domain ?\<I>;
         subst_domain ?\<I> Int ?X = {} |]
      ==> EX \<delta>.
             subst_domain \<delta> = ?X &
             ground (subst_range \<delta>) &
             Unifier ?\<I> (?s \<cdot> \<delta>) (?t \<cdot> \<delta>)",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_hole 12,
              template_app
               (template_app (template_hole 12, template_var 4),
                template_var 3)),
            template_var 2),
          template_app
           (template_app
             (template_hole 12,
              template_app
               (template_app (template_hole 12, template_var 1),
                template_var 3)),
            template_var 2)),
        template_equation
         (template_app
           (template_hole 10,
            template_app (template_hole 9, template_var 3)),
          template_hole 8),
        template_inequation
         (less_equals,
          template_app
           (template_app
             (template_hole 6,
              template_app
               (template_app
                 (template_hole 5,
                  template_app (template_hole 4, template_var 4)),
                template_app (template_hole 4, template_var 1))),
            template_var 0),
          template_app (template_hole 3, template_var 3)),
        template_equation
         (template_app
           (template_app
             (template_hole 2,
              template_app (template_hole 3, template_var 3)),
            template_var 0),
          template_hole 8)],
       template_predicate (template_app (template_hole 1, t_empty)))),
    ("More_Unification.ineq_subterm_inj_cond_subst",
     "[| ?X Int range_vars ?\<theta> = {};
         ALL f T.
            Fun f T \<sqsubseteq>\<^sub>s\<^sub>e\<^sub>t ?S -->
            T = [] | (EX u:set T. u ~: Var ` ?X) |]
      ==> ALL f T.
             Fun f T \<sqsubseteq>\<^sub>s\<^sub>e\<^sub>t
             ?S \<cdot>\<^sub>s\<^sub>e\<^sub>t ?\<theta> -->
             T = [] | (EX u:set T. u ~: Var ` ?X)",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 20, template_var 2),
            template_app (template_hole 19, template_var 1)),
          template_hole 18),
        template_predicate (template_app (template_hole 17, t_empty))],
       template_predicate (template_app (template_hole 17, t_empty)))),
    ("More_Unification.inj_subst_unif_consts",
     "[| subterm_inj_on ?\<theta> (subst_domain ?\<theta>);
         ALL x:fv ?s Un fv ?t - ?X. EX c. ?\<theta> x = Fun c [];
         subterms\<^sub>s\<^sub>e\<^sub>t (subst_range ?\<theta>) Int
         (subterms ?s Un subterms ?t) =
         {};
         ground (subst_range ?\<theta>); subst_domain ?\<theta> Int ?X = {};
         ground (subst_range ?\<I>);
         subst_domain ?\<I> = subst_domain ?\<theta>;
         Unifier ?\<sigma> (?s \<cdot> ?\<theta>) (?t \<cdot> ?\<theta>) |]
      ==> EX \<delta>.
             Unifier \<delta> (?s \<cdot> ?\<I>) (?t \<cdot> ?\<I>)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 23, template_var 5),
              template_app (template_hole 22, template_var 5))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 21,
                template_app
                 (template_app
                   (template_hole 20,
                    template_app
                     (template_app
                       (template_hole 19,
                        template_app (template_hole 18, template_var 4)),
                      template_app (template_hole 18, template_var 3))),
                  template_var 2)),
              t_empty)
            ),
        template_equation
         (template_app
           (template_app
             (template_hole 12,
              template_app
               (template_hole 11,
                template_app
                 (template_app (template_hole 10, template_hole 9),
                  template_app (template_hole 8, template_var 5)))),
            template_app
             (template_app
               (template_hole 7,
                template_app (template_hole 9, template_var 4)),
              template_app (template_hole 9, template_var 3))),
          template_hole 6),
        template_equation
         (template_app
           (template_hole 4,
            template_app (template_hole 8, template_var 5)),
          template_hole 3),
        template_equation
         (template_app
           (template_app
             (template_hole 2,
              template_app (template_hole 22, template_var 5)),
            template_var 2),
          template_hole 3),
        template_equation
         (template_app
           (template_hole 4,
            template_app (template_hole 8, template_var 1)),
          template_hole 3),
        template_equation
         (template_app (template_hole 22, template_var 1),
          template_app (template_hole 22, template_var 5)),
        template_equation
         (template_app
           (template_app
             (template_hole 1,
              template_app
               (template_app (template_hole 1, template_var 4),
                template_var 5)),
            template_var 0),
          template_app
           (template_app
             (template_hole 1,
              template_app
               (template_app (template_hole 1, template_var 3),
                template_var 5)),
            template_var 0))],
       template_predicate (template_app (template_hole 0, t_empty)))),
    ("More_Unification.inj_subst_unif_comp_terms",
     "[| subterm_inj_on ?\<theta> (subst_domain ?\<theta>);
         ground (subst_range ?\<theta>);
         subterms\<^sub>s\<^sub>e\<^sub>t (subst_range ?\<theta>) Int
         (subterms ?s Un subterms ?t) =
         {};
         fv ?s Un fv ?t - subst_domain ?\<theta> <= ?X;
         ALL f U.
            Fun f U : subterms ?s Un subterms ?t -->
            U = [] | (EX u:set U. u ~: Var ` ?X);
         ground (subst_range ?\<I>);
         subst_domain ?\<I> = subst_domain ?\<theta>;
         Unifier ?\<sigma> (?s \<cdot> ?\<theta>) (?t \<cdot> ?\<theta>) |]
      ==> EX \<delta>.
             Unifier \<delta> (?s \<cdot> ?\<I>) (?t \<cdot> ?\<I>)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 32, template_var 5),
              template_app (template_hole 31, template_var 5))
            ),
        template_equation
         (template_app
           (template_hole 29,
            template_app (template_hole 28, template_var 5)),
          template_hole 27),
        template_equation
         (template_app
           (template_app
             (template_hole 25,
              template_app
               (template_hole 24,
                template_app
                 (template_app (template_hole 23, template_hole 22),
                  template_app (template_hole 28, template_var 5)))),
            template_app
             (template_app
               (template_hole 21,
                template_app (template_hole 22, template_var 4)),
              template_app (template_hole 22, template_var 3))),
          template_hole 20),
        template_inequation
         (less_equals,
          template_app
           (template_app
             (template_hole 18,
              template_app
               (template_app
                 (template_hole 17,
                  template_app (template_hole 16, template_var 4)),
                template_app (template_hole 16, template_var 3))),
            template_app (template_hole 31, template_var 5)),
          template_var 2),
        template_predicate (template_app (template_hole 15, t_empty)),
        template_equation
         (template_app
           (template_hole 29,
            template_app (template_hole 28, template_var 1)),
          template_hole 27),
        template_equation
         (template_app (template_hole 31, template_var 1),
          template_app (template_hole 31, template_var 5)),
        template_equation
         (template_app
           (template_app
             (template_hole 1,
              template_app
               (template_app (template_hole 1, template_var 4),
                template_var 5)),
            template_var 0),
          template_app
           (template_app
             (template_hole 1,
              template_app
               (template_app (template_hole 1, template_var 3),
                template_var 5)),
            template_var 0))],
       template_predicate (template_app (template_hole 0, t_empty)))),
    ("More_Unification.sat_ineq_subterm_inj_subst",
     "[| subterm_inj_on ?\<theta> (subst_domain ?\<theta>);
         ground (subst_range ?\<theta>); subst_domain ?\<theta> Int ?X = {};
         subterms\<^sub>s\<^sub>e\<^sub>t (subst_range ?\<theta>) Int
         (subterms ?s Un subterms ?t) =
         {};
         fv ?s Un fv ?t - subst_domain ?\<theta> <= ?X;
         (ALL x:fv ?s Un fv ?t - ?X. EX c. ?\<theta> x = Fun c []) |
         (ALL f U.
             Fun f U : subterms ?s Un subterms ?t -->
             U = [] | (EX u:set U. u ~: Var ` ?X));
         ALL \<delta>.
            subst_domain \<delta> = ?X & ground (subst_range \<delta>) -->
            ?s \<cdot> \<delta> \<cdot> ?\<I> ~=
            ?t \<cdot> \<delta> \<cdot> ?\<I>;
         fv ?s Un fv ?t - ?X <= subst_domain ?\<I>;
         subst_domain ?\<I> Int ?X = {}; ground (subst_range ?\<I>);
         subst_domain ?\<I> = subst_domain ?\<theta>;
         subst_domain ?\<delta> = ?X; ground (subst_range ?\<delta>) |]
      ==> ?s \<cdot> ?\<delta> \<cdot> ?\<theta> ~=
          ?t \<cdot> ?\<delta> \<cdot> ?\<theta>",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 36, template_var 5),
              template_app (template_hole 35, template_var 5))
            ),
        template_equation
         (template_app
           (template_hole 33,
            template_app (template_hole 32, template_var 5)),
          template_hole 31),
        template_equation
         (template_app
           (template_app
             (template_hole 30,
              template_app (template_hole 35, template_var 5)),
            template_var 4),
          template_hole 31),
        template_equation
         (template_app
           (template_app
             (template_hole 28,
              template_app
               (template_hole 27,
                template_app
                 (template_app (template_hole 26, template_hole 25),
                  template_app (template_hole 32, template_var 5)))),
            template_app
             (template_app
               (template_hole 24,
                template_app (template_hole 25, template_var 3)),
              template_app (template_hole 25, template_var 2))),
          template_hole 23),
        template_inequation
         (less_equals,
          template_app
           (template_app
             (template_hole 21,
              template_app
               (template_app
                 (template_hole 20,
                  template_app (template_hole 19, template_var 3)),
                template_app (template_hole 19, template_var 2))),
            template_app (template_hole 35, template_var 5)),
          template_var 4),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 18,
                template_app
                 (template_app
                   (template_hole 17,
                    template_app
                     (template_app
                       (template_hole 21,
                        template_app
                         (template_app
                           (template_hole 20,
                            template_app
                             (template_hole 19, template_var 3)),
                          template_app (template_hole 19, template_var 2))),
                      template_var 4)),
                  t_empty)),
              template_app (template_hole 12, t_empty))
            ),
        template_predicate (template_app (template_hole 2, t_empty)),
        template_inequation
         (less_equals,
          template_app
           (template_app
             (template_hole 21,
              template_app
               (template_app
                 (template_hole 20,
                  template_app (template_hole 19, template_var 3)),
                template_app (template_hole 19, template_var 2))),
            template_var 4),
          template_app (template_hole 35, template_var 1)),
        template_equation
         (template_app
           (template_app
             (template_hole 30,
              template_app (template_hole 35, template_var 1)),
            template_var 4),
          template_hole 31),
        template_equation
         (template_app
           (template_hole 33,
            template_app (template_hole 32, template_var 1)),
          template_hole 31),
        template_equation
         (template_app (template_hole 35, template_var 1),
          template_app (template_hole 35, template_var 5)),
        template_equation
         (template_app (template_hole 35, template_var 0), template_var 4),
        template_equation
         (template_app
           (template_hole 33,
            template_app (template_hole 32, template_var 0)),
          template_hole 31)],
       template_negation
        (
           template_equation
            (template_app
              (template_app
                (template_hole 0,
                 template_app
                  (template_app (template_hole 0, template_var 3),
                   template_var 0)),
               template_var 5),
             template_app
              (template_app
                (template_hole 0,
                 template_app
                  (template_app (template_hole 0, template_var 2),
                   template_var 0)),
               template_var 5))
           )))]:
   (string * thm * template) list
### theory "Draft.More_UnificationTemplates"
### 0.739s elapsed time, 1.272s cpu time, 0.626s GC time
val it = (): unit
