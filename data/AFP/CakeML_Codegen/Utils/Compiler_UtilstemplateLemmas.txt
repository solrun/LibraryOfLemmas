   [("Compiler_Utils.distinct_sorted_list_of_fset",
     "distinct (sorted_list_of_fset ?S)",
     template_predicate
      (
         template_app
          (template_hole 1, template_app (template_hole 0, template_var 0))
         )),
    ("Compiler_Utils.distinct_sorted_list_of_fmap",
     "distinct (sorted_list_of_fmap ?m)",
     template_predicate
      (
         template_app
          (template_hole 1, template_app (template_hole 0, template_var 0))
         )),
    ("Compiler_Utils.is_fmap_group_by", "is_fmap (fgroup_by ?f ?M)",
     template_predicate
      (
         template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 0))
         )),
    ("Compiler_Utils.is_map_group_by", "is_map (group_by ?f ?M)",
     template_predicate
      (
         template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 0))
         )),
    ("Compiler_Utils.fcompress_eq", "fcompress ?M = ?M",
     template_equation
      (template_app (template_hole 0, template_var 0), template_var 0)),
    ("Compiler_Utils.list_all3_empty", "list_all3 ?P [] [] []",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_app (template_hole 3, template_var 0),
               template_hole 2),
             template_hole 1),
           template_hole 0)
         )),
    ("Compiler_Utils.set_of_map_map_of",
     "set_of_map (map_of ?xs) = set (AList.clearjunk ?xs)",
     template_equation
      (template_app
        (template_hole 3, template_app (template_hole 2, template_var 0)),
       template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)))),
    ("Compiler_Utils.fset_of_fmap_code",
     "fset_of_fmap (fmap_of_list ?x) = fset_of_list (AList.clearjunk ?x)",
     template_equation
      (template_app
        (template_hole 3, template_app (template_hole 2, template_var 0)),
       template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)))),
    ("Compiler_Utils.is_map_fst_inj", "is_map ?S ==> inj_on fst ?S",
     template_implication
      ([template_predicate
         (template_app (template_hole 2, template_var 0))],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, template_hole 0),
             template_var 0)
           ))),
    ("Compiler_Utils.list_all_iff_fset",
     "list_all ?P ?xs = fBall (fset_of_list ?xs) ?P",
     template_equation
      (template_app
        (template_app (template_hole 2, template_var 1), template_var 0),
       template_app
        (template_app
          (template_hole 1, template_app (template_hole 0, template_var 0)),
         template_var 1))),
    ("Compiler_Utils.select_finite", "finite ?S ==> finite (select ?f ?S)",
     template_implication
      ([template_predicate
         (template_app (template_hole 2, template_var 1))],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 0),
               template_var 1))
           ))),
    ("Compiler_Utils.map_drop_delete",
     "map_drop ?k (map_of ?ps) = map_of (AList.delete ?k ?ps)",
     template_equation
      (template_app
        (template_app (template_hole 2, template_var 1),
         template_app (template_hole 1, template_var 0)),
       template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Compiler_Utils.ordered_fmap_set_eq",
     "is_fmap ?S ==> fset_of_list (ordered_fmap ?S) = ?S",
     template_implication
      ([template_predicate
         (template_app (template_hole 3, template_var 0))],
       template_equation
        (template_app
          (template_hole 1, template_app (template_hole 0, template_var 0)),
         template_var 0))),
    ("Compiler_Utils.ordered_fmap_distinct",
     "is_fmap ?S ==> distinct (map fst (ordered_fmap ?S))",
     template_implication
      ([template_predicate
         (template_app (template_hole 4, template_var 0))],
       template_predicate
        (
           template_app
            (template_hole 3,
             template_app
              (template_app (template_hole 2, template_hole 1),
               template_app (template_hole 0, template_var 0)))
           ))),
    ("Compiler_Utils.the_elem_id",
     "finite ?S ==> the_elem' ?S = the_elem ?S",
     template_implication
      ([template_predicate
         (template_app (template_hole 3, template_var 0))],
       template_equation
        (template_app (template_hole 1, template_var 0),
         template_app (template_hole 0, template_var 0)))),
    ("Compiler_Utils.ffUnion_subset_elem",
     "?x |\<in>| ?X ==> ?x |\<subseteq>| ffUnion ?X",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 1),
              template_var 0)
            )],
       template_inequation
        (less_equals, template_var 1,
         template_app (template_hole 0, template_var 0)))),
    ("Compiler_Utils.rel_set_eq_eq", "rel_set (=) ?A ?B ==> ?A = ?B",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_hole 1),
                template_var 1),
              template_var 0)
            )],
       template_equation (template_var 1, template_var 0))),
    ("Compiler_Utils.distinct_is_map",
     "distinct (map fst ?m) ==> is_map (set ?m)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 4,
              template_app
               (template_app (template_hole 3, template_hole 2),
                template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 0))
           ))),
    ("Compiler_Utils.fset_eq_empty_iff",
     "(?M = {||}) = (ALL x. x |\<notin>| ?M)",
     template_equation
      (template_app
        (template_app (template_hole 4, template_var 0), template_hole 3),
       template_app (template_hole 2, t_empty))),
    ("Compiler_Utils.group_by_keys", "fst ` group_by ?f ?M = fst ` ?f ` ?M",
     template_equation
      (template_app
        (template_app (template_hole 5, template_hole 4),
         template_app
          (template_app (template_hole 3, template_var 1), template_var 0)),
       template_app
        (template_app (template_hole 2, template_hole 1),
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Compiler_Utils.fgroup_by_keys",
     "fst |`| fgroup_by ?f ?M = fst |`| ?f |`| ?M",
     template_equation
      (template_app
        (template_app (template_hole 5, template_hole 4),
         template_app
          (template_app (template_hole 3, template_var 1), template_var 0)),
       template_app
        (template_app (template_hole 2, template_hole 1),
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Compiler_Utils.fmimage_fmmap",
     "fmimage (fmmap ?f ?m) ?S = ?f |`| fmimage ?m ?S",
     template_equation
      (template_app
        (template_app
          (template_hole 3,
           template_app
            (template_app (template_hole 2, template_var 2),
             template_var 1)),
         template_var 0),
       template_app
        (template_app (template_hole 1, template_var 2),
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Compiler_Utils.is_fmap_subset",
     "[| is_fmap ?N; ?M |\<subseteq>| ?N |] ==> is_fmap ?M",
     template_implication
      ([template_predicate (template_app (template_hole 1, template_var 1)),
        template_inequation (less_equals, template_var 0, template_var 1)],
       template_predicate
        (template_app (template_hole 1, template_var 0)))),
    ("Compiler_Utils.is_map_subset",
     "[| is_map ?N; ?M <= ?N |] ==> is_map ?M",
     template_implication
      ([template_predicate (template_app (template_hole 1, template_var 1)),
        template_inequation (less_equals, template_var 0, template_var 1)],
       template_predicate
        (template_app (template_hole 1, template_var 0)))),
    ("Compiler_Utils.ordered_fmap_singleton",
     "ordered_fmap {|(?x, ?y)|} = [(?x, ?y)]",
     template_equation
      (template_app
        (template_hole 5,
         template_app
          (template_app
            (template_hole 4,
             template_app
              (template_app (template_hole 3, template_var 1),
               template_var 0)),
           template_hole 2)),
       template_app
        (template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 3, template_var 1),
             template_var 0)),
         template_hole 0))),
    ("Compiler_Utils.ordered_map_singleton",
     "ordered_map {(?x, ?y)} = [(?x, ?y)]",
     template_equation
      (template_app
        (template_hole 5,
         template_app
          (template_app
            (template_hole 4,
             template_app
              (template_app (template_hole 3, template_var 1),
               template_var 0)),
           template_hole 2)),
       template_app
        (template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 3, template_var 1),
             template_var 0)),
         template_hole 0))),
    ("Compiler_Utils.ordered_fmap_list_all",
     "is_fmap ?S ==> list_all ?P (ordered_fmap ?S) = fBall ?S ?P",
     template_implication
      ([template_predicate
         (template_app (template_hole 4, template_var 1))],
       template_equation
        (template_app
          (template_app (template_hole 2, template_var 0),
           template_app (template_hole 1, template_var 1)),
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Compiler_Utils.is_map_transfer",
     "bi_unique ?A ==>
      rel_fun (rel_set (rel_prod (=) ?A)) (=) is_map is_map",
     template_implication
      ([template_predicate
         (template_app (template_hole 7, template_var 0))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_hole 6,
                   template_app
                    (template_hole 5,
                     template_app
                      (template_app (template_hole 4, template_hole 3),
                       template_var 0))),
                 template_hole 2),
               template_hole 1),
             template_hole 0)
           ))),
    ("Compiler_Utils.group_by_nonempty",
     "?M ~= {} ==> group_by ?f ?M ~= {}",
     template_implication
      ([template_negation
         (template_equation (template_var 1, template_hole 3))],
       template_negation
        (
           template_equation
            (template_app
              (template_app (template_hole 1, template_var 0),
               template_var 1),
             template_hole 0)
           ))),
    ("Compiler_Utils.fgroup_by_nonempty",
     "?M ~= {||} ==> fgroup_by ?f ?M ~= {||}",
     template_implication
      ([template_negation
         (template_equation (template_var 1, template_hole 3))],
       template_negation
        (
           template_equation
            (template_app
              (template_app (template_hole 1, template_var 0),
               template_var 1),
             template_hole 0)
           ))),
    ("Compiler_Utils.ffUnion_least_rev",
     "ffUnion ?A |\<subseteq>| ?C ==> fBall ?A (%X. X |\<subseteq>| ?C)",
     template_implication
      ([template_inequation
         (less_equals, template_app (template_hole 1, template_var 1),
          template_var 0)],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 1), t_empty)
           ))),
    ("Compiler_Utils.those_someD",
     "those ?xs = Some ?ys ==> ?xs = map Some ?ys",
     template_implication
      ([template_equation
         (template_app (template_hole 4, template_var 1),
          template_app (template_hole 3, template_var 0))],
       template_equation
        (template_var 1,
         template_app
          (template_app (template_hole 1, template_hole 0),
           template_var 0)))),
    ("Compiler_Utils.ordered_fmap_keys",
     "is_fmap ?S ==>
      map fst (ordered_fmap ?S) = sorted_list_of_fset (fst |`| ?S)",
     template_implication
      ([template_predicate
         (template_app (template_hole 6, template_var 0))],
       template_equation
        (template_app
          (template_app (template_hole 4, template_hole 3),
           template_app (template_hole 2, template_var 0)),
         template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_hole 3),
             template_var 0))))),
    ("Compiler_Utils.ordered_map_set_eq",
     "[| finite ?S; is_map ?S |] ==> set (ordered_map ?S) = ?S",
     template_implication
      ([template_predicate (template_app (template_hole 4, template_var 0)),
        template_predicate
         (template_app (template_hole 3, template_var 0))],
       template_equation
        (template_app
          (template_hole 1, template_app (template_hole 0, template_var 0)),
         template_var 0))),
    ("Compiler_Utils.ordered_map_distinct",
     "[| finite ?S; is_map ?S |] ==> distinct (map fst (ordered_map ?S))",
     template_implication
      ([template_predicate (template_app (template_hole 5, template_var 0)),
        template_predicate
         (template_app (template_hole 4, template_var 0))],
       template_predicate
        (
           template_app
            (template_hole 3,
             template_app
              (template_app (template_hole 2, template_hole 1),
               template_app (template_hole 0, template_var 0)))
           ))),
    ("Compiler_Utils.fpairwise_subset",
     "[| fpairwise ?P ?M; ?N |\<subseteq>| ?M |] ==> fpairwise ?P ?N",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 2),
              template_var 1)
            ),
        template_inequation (less_equals, template_var 0, template_var 1)],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, template_var 2), template_var 0)
           ))),
    ("Compiler_Utils.pairwise_subset",
     "[| Compiler_Utils.pairwise ?P ?M; ?N <= ?M |]
      ==> Compiler_Utils.pairwise ?P ?N",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 2),
              template_var 1)
            ),
        template_inequation (less_equals, template_var 0, template_var 1)],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, template_var 2), template_var 0)
           ))),
    ("Compiler_Utils.fmdom_foldl_add",
     "fmdom (foldl (++\<^sub>f) ?m ?ns) =
      fmdom ?m |\<union>| ffUnion (fmdom |`| fset_of_list ?ns)",
     template_equation
      (template_app
        (template_hole 6,
         template_app
          (template_app
            (template_app (template_hole 5, template_hole 4),
             template_var 1),
           template_var 0)),
       template_app
        (template_app
          (template_hole 3, template_app (template_hole 6, template_var 1)),
         template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 1, template_hole 6),
             template_app (template_hole 0, template_var 0)))))),
    ("Compiler_Utils.fbind_subset_eqI",
     "fBall ?S (%s. ?f s |\<subseteq>| ?T) ==>
      fbind ?S ?f |\<subseteq>| ?T",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 2), t_empty)
            )],
       template_inequation
        (less_equals,
         template_app
          (template_app (template_hole 0, template_var 2), template_var 1),
         template_var 0))),
    ("Compiler_Utils.fpairwise_image",
     "fpairwise ?P (?f |`| ?M) = fpairwise (%x y. ?P (?f x) (?f y)) ?M",
     template_equation
      (template_app
        (template_app (template_hole 2, template_var 2),
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app
        (template_app (template_hole 0, t_empty), template_var 0))),
    ("Compiler_Utils.pairwise_image",
     "Compiler_Utils.pairwise ?P (?f ` ?M) =
      Compiler_Utils.pairwise (%x y. ?P (?f x) (?f y)) ?M",
     template_equation
      (template_app
        (template_app (template_hole 2, template_var 2),
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app
        (template_app (template_hole 0, t_empty), template_var 0))),
    ("Compiler_Utils.is_fmap_image",
     "is_fmap ?M ==> is_fmap ((%(a, b). (a, ?f a b)) |`| ?M)",
     template_implication
      ([template_predicate
         (template_app (template_hole 4, template_var 1))],
       template_predicate
        (
           template_app
            (template_hole 3,
             template_app
              (template_app
                (template_hole 2, template_app (template_hole 1, t_empty)),
               template_var 1))
           ))),
    ("Compiler_Utils.is_map_image",
     "is_map ?M ==> is_map ((%(a, b). (a, ?f a b)) ` ?M)",
     template_implication
      ([template_predicate
         (template_app (template_hole 4, template_var 1))],
       template_predicate
        (
           template_app
            (template_hole 3,
             template_app
              (template_app
                (template_hole 2, template_app (template_hole 1, t_empty)),
               template_var 1))
           ))),
    ("Compiler_Utils.list_allI",
     "(!!x. x : set ?xs ==> ?P x) ==> list_all ?P ?xs",
     template_implication
      ([template_predicate (template_app (template_hole 4, t_empty))],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 0), template_var 1)
           ))),
    ("Compiler_Utils.ordered_fmap_nonempty",
     "[| is_fmap ?S; ordered_fmap ?S ~= [] |] ==> ?S ~= {||}",
     template_implication
      ([template_predicate (template_app (template_hole 6, template_var 0)),
        template_negation
         (
            template_equation
             (template_app (template_hole 3, template_var 0),
              template_hole 2)
            )],
       template_negation
        (template_equation (template_var 0, template_hole 0)))),
    ("Compiler_Utils.set_of_map_upd",
     "set_of_map (map_upd ?k ?v ?m) =
      set_of_map (map_drop ?k ?m) Un {(?k, ?v)}",
     template_equation
      (template_app
        (template_hole 6,
         template_app
          (template_app
            (template_app (template_hole 5, template_var 2),
             template_var 1),
           template_var 0)),
       template_app
        (template_app
          (template_hole 4,
           template_app
            (template_hole 6,
             template_app
              (template_app (template_hole 3, template_var 2),
               template_var 0))),
         template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_var 2),
               template_var 1)),
           template_hole 0)))),
    ("Compiler_Utils.fbind_fun_funion",
     "fbind ?M (%x. ?f x |\<union>| ?g x) =
      fbind ?M ?f |\<union>| fbind ?M ?g",
     template_equation
      (template_app
        (template_app (template_hole 1, template_var 2), t_empty),
       template_app
        (template_app
          (template_hole 0,
           template_app
            (template_app (template_hole 1, template_var 2),
             template_var 1)),
         template_app
          (template_app (template_hole 1, template_var 2),
           template_var 0)))),
    ("Compiler_Utils.rel_fset_refl_strong",
     "(!!x. x |\<in>| ?S ==> ?P x x) ==> rel_fset ?P ?S ?S",
     template_implication
      ([template_predicate (template_app (template_hole 3, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 0, template_var 0),
               template_var 1),
             template_var 1)
           ))),
    ("Compiler_Utils.rel_set_refl_strong",
     "(!!x. x : ?S ==> ?P x x) ==> rel_set ?P ?S ?S",
     template_implication
      ([template_predicate (template_app (template_hole 3, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 0, template_var 0),
               template_var 1),
             template_var 1)
           ))),
    ("Compiler_Utils.ordered_map_list_all",
     "[| finite ?S; is_map ?S |]
      ==> list_all ?P (ordered_map ?S) = Ball ?S ?P",
     template_implication
      ([template_predicate (template_app (template_hole 5, template_var 1)),
        template_predicate
         (template_app (template_hole 4, template_var 1))],
       template_equation
        (template_app
          (template_app (template_hole 2, template_var 0),
           template_app (template_hole 1, template_var 1)),
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Compiler_Utils.ordered_map_keys",
     "[| finite ?S; is_map ?S |]
      ==> map fst (ordered_map ?S) = sorted_list_of_set (fst ` ?S)",
     template_implication
      ([template_predicate (template_app (template_hole 7, template_var 0)),
        template_predicate
         (template_app (template_hole 6, template_var 0))],
       template_equation
        (template_app
          (template_app (template_hole 4, template_hole 3),
           template_app (template_hole 2, template_var 0)),
         template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_hole 3),
             template_var 0))))),
    ("Compiler_Utils.fselect_memberI",
     "[| ?x |\<in>| ?S; ?f ?x = Some ?y |] ==> ?y |\<in>| fselect ?f ?S",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 3),
              template_var 2)
            ),
        template_equation
         (template_app (template_var 1, template_var 3),
          template_app (template_hole 2, template_var 0))],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, template_var 0),
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 2))
           ))),
    ("Compiler_Utils.select_memberI",
     "[| ?x : ?S; ?f ?x = Some ?y |] ==> ?y : select ?f ?S",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 3),
              template_var 2)
            ),
        template_equation
         (template_app (template_var 1, template_var 3),
          template_app (template_hole 2, template_var 0))],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, template_var 0),
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 2))
           ))),
    ("Compiler_Utils.set_of_list_singletonE",
     "[| set ?xs = {?x}; distinct ?xs |] ==> ?xs = [?x]",
     template_implication
      ([template_equation
         (template_app (template_hole 6, template_var 1),
          template_app
           (template_app (template_hole 5, template_var 0),
            template_hole 4)),
        template_predicate
         (template_app (template_hole 3, template_var 1))],
       template_equation
        (template_var 1,
         template_app
          (template_app (template_hole 1, template_var 0),
           template_hole 0)))),
    ("Compiler_Utils.fset_of_list_singletonE",
     "[| fset_of_list ?xs = {|?x|}; distinct ?xs |] ==> ?xs = [?x]",
     template_implication
      ([template_equation
         (template_app (template_hole 6, template_var 1),
          template_app
           (template_app (template_hole 5, template_var 0),
            template_hole 4)),
        template_predicate
         (template_app (template_hole 3, template_var 1))],
       template_equation
        (template_var 1,
         template_app
          (template_app (template_hole 1, template_var 0),
           template_hole 0)))),
    ("Compiler_Utils.ordered_fmap_sound",
     "[| is_fmap ?S; (?a, ?b) : set (ordered_fmap ?S) |]
      ==> (?a, ?b) |\<in>| ?S",
     template_implication
      ([template_predicate (template_app (template_hole 5, template_var 2)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 4,
                template_app
                 (template_app (template_hole 3, template_var 1),
                  template_var 0)),
              template_app
               (template_hole 2,
                template_app (template_hole 1, template_var 2)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 0,
               template_app
                (template_app (template_hole 3, template_var 1),
                 template_var 0)),
             template_var 2)
           ))),
    ("Compiler_Utils.get_map_elem",
     "[| is_map ?M; (?k, ?v) : ?M |] ==> get_map ?M ?k = (?k, ?v)",
     template_implication
      ([template_predicate (template_app (template_hole 4, template_var 2)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 3,
                template_app
                 (template_app (template_hole 2, template_var 1),
                  template_var 0)),
              template_var 2)
            )],
       template_equation
        (template_app
          (template_app (template_hole 0, template_var 2), template_var 1),
         template_app
          (template_app (template_hole 2, template_var 1),
           template_var 0)))),
    ("Compiler_Utils.fMax_le",
     "[| fBall ?M (%x. x <= ?k); ?M ~= {||} |] ==> fMax ?M <= ?k",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 1), t_empty)
            ),
        template_negation
         (template_equation (template_var 1, template_hole 1))],
       template_inequation
        (less_equals, template_app (template_hole 0, template_var 1),
         template_var 0))),
    ("Compiler_Utils.fmax_ex_gr",
     "[| fBex ?X ((<) ?k); ?X ~= {||} |] ==> ?k < fMax ?X",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 1), t_empty)
            ),
        template_negation
         (template_equation (template_var 1, template_hole 1))],
       template_inequation
        (less_than, template_var 0,
         template_app (template_hole 0, template_var 1)))),
    ("Compiler_Utils.fpairwiseD",
     "[| fpairwise ?P ?M; ?m |\<in>| ?M; ?n |\<in>| ?M |] ==> ?P ?m ?n",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 3),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 0, template_var 1),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 0, template_var 0),
              template_var 2)
            )],
       template_predicate
        (
           template_app
            (template_app (template_var 3, template_var 1), template_var 0)
           ))),
    ("Compiler_Utils.pairwiseD",
     "[| Compiler_Utils.pairwise ?P ?M; ?m : ?M; ?n : ?M |] ==> ?P ?m ?n",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 3),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 0, template_var 1),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 0, template_var 0),
              template_var 2)
            )],
       template_predicate
        (
           template_app
            (template_app (template_var 3, template_var 1), template_var 0)
           ))),
    ("Compiler_Utils.disj_cases",
     "[| ?P | ?Q; ?P ==> ?R; ?Q ==> ?R |] ==> ?R",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 0, template_var 2),
              template_var 1)
            ),
        template_implication
         ([template_predicate (template_var 2)],
          template_predicate (template_var 0)),
        template_implication
         ([template_predicate (template_var 1)],
          template_predicate (template_var 0))],
       template_predicate (template_var 0))),
    ("Compiler_Utils.map_of_map_keyed",
     "map_of (map (%(k, v). (k, ?f k v)) ?xs) =
      (%k. map_option (?f k) (map_of ?xs k))",
     template_equation
      (template_app
        (template_hole 5,
         template_app
          (template_app
            (template_hole 4, template_app (template_hole 3, t_empty)),
           template_var 0)),
       t_empty)),
    ("Compiler_Utils.singleton_fset_is",
     "[| fBall ?M (%x. x = ?y); ?M ~= {||} |] ==> ?M = {|?y|}",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 1), t_empty)
            ),
        template_negation
         (template_equation (template_var 1, template_hole 1))],
       template_equation
        (template_var 1,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_hole 1)))),
    ("Compiler_Utils.singleton_set_is",
     "[| ALL x:?M. x = ?y; ?M ~= {} |] ==> ?M = {?y}",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 1), t_empty)
            ),
        template_negation
         (template_equation (template_var 1, template_hole 1))],
       template_equation
        (template_var 1,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_hole 1)))),
    ("Compiler_Utils.map_of_is_map",
     "[| (?k, ?v) : set ?m; is_map (set ?m) |] ==> map_of ?m ?k = Some ?v",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 6,
                template_app
                 (template_app (template_hole 5, template_var 2),
                  template_var 1)),
              template_app (template_hole 4, template_var 0))
            ),
        template_predicate
         (
            template_app
             (template_hole 3,
              template_app (template_hole 4, template_var 0))
            )],
       template_equation
        (template_app
          (template_app (template_hole 1, template_var 0), template_var 2),
         template_app (template_hole 0, template_var 1)))),
    ("Compiler_Utils.ordered_map_nonempty",
     "[| is_map ?S; ordered_map ?S ~= []; finite ?S |] ==> ?S ~= {}",
     template_implication
      ([template_predicate (template_app (template_hole 7, template_var 0)),
        template_negation
         (
            template_equation
             (template_app (template_hole 4, template_var 0),
              template_hole 3)
            ),
        template_predicate
         (template_app (template_hole 2, template_var 0))],
       template_negation
        (template_equation (template_var 0, template_hole 0)))),
    ("Compiler_Utils.fmax_decr",
     "fBex ?X ((<=) ?k) ==> fMax ((%x. x - ?k) |`| ?X) = fMax ?X - ?k",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 1), t_empty)
            )],
       template_equation
        (template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 1, t_empty), template_var 1)),
         template_app
          (template_app
            (template_hole 0,
             template_app (template_hole 2, template_var 1)),
           template_var 0)))),
    ("Compiler_Utils.ordered_fmap_remove",
     "[| is_fmap ?S; ?x |\<in>| ?S |]
      ==> ordered_fmap (?S |-| {|?x|}) = remove1 ?x (ordered_fmap ?S)",
     template_implication
      ([template_predicate (template_app (template_hole 7, template_var 1)),
        template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 0),
              template_var 1)
            )],
       template_equation
        (template_app
          (template_hole 4,
           template_app
            (template_app (template_hole 3, template_var 1),
             template_app
              (template_app (template_hole 2, template_var 0),
               template_hole 1))),
         template_app
          (template_app (template_hole 0, template_var 0),
           template_app (template_hole 4, template_var 1))))),
    ("Compiler_Utils.fgroup_by_nonempty_inner",
     "[| (?b, ?cs) |\<in>| fgroup_by ?f ?as;
         !!c. c |\<in>| ?cs ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 4,
                template_app
                 (template_app (template_hole 3, template_var 4),
                  template_var 3)),
              template_app
               (template_app (template_hole 2, template_var 2),
                template_var 1))
            ),
        template_predicate (template_app (template_hole 1, t_empty))],
       template_predicate (template_var 0))),
    ("Compiler_Utils.group_by_nonempty_inner",
     "[| (?b, ?cs) : group_by ?f ?as; !!c. c : ?cs ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 4,
                template_app
                 (template_app (template_hole 3, template_var 4),
                  template_var 3)),
              template_app
               (template_app (template_hole 2, template_var 2),
                template_var 1))
            ),
        template_predicate (template_app (template_hole 1, t_empty))],
       template_predicate (template_var 0))),
    ("Compiler_Utils.sum_nat_less_single",
     "[| ?y : ?S; ?x < ?f ?y; finite ?S |] ==> ?x < sum ?f ?S",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 3),
              template_var 2)
            ),
        template_inequation
         (less_than, template_var 1,
          template_app (template_var 0, template_var 3)),
        template_predicate
         (template_app (template_hole 1, template_var 2))],
       template_inequation
        (less_than, template_var 1,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 2)))),
    ("Compiler_Utils.sum_nat_le_single",
     "[| ?y : ?S; ?x <= ?f ?y; finite ?S |] ==> ?x <= sum ?f ?S",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 3),
              template_var 2)
            ),
        template_inequation
         (less_equals, template_var 1,
          template_app (template_var 0, template_var 3)),
        template_predicate
         (template_app (template_hole 1, template_var 2))],
       template_inequation
        (less_equals, template_var 1,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 2)))),
    ("Compiler_Utils.fgroup_by_single",
     "[| (?a, ?x) |\<in>| fgroup_by ?f ?s;
         (?a, ?y) |\<in>| fgroup_by ?f ?s |]
      ==> ?x = ?y",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 3,
                template_app
                 (template_app (template_hole 2, template_var 4),
                  template_var 3)),
              template_app
               (template_app (template_hole 1, template_var 2),
                template_var 1))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 3,
                template_app
                 (template_app (template_hole 2, template_var 4),
                  template_var 0)),
              template_app
               (template_app (template_hole 1, template_var 2),
                template_var 1))
            )],
       template_equation (template_var 3, template_var 0))),
    ("Compiler_Utils.group_by_single",
     "[| (?a, ?x) : group_by ?f ?s; (?a, ?y) : group_by ?f ?s |]
      ==> ?x = ?y",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 3,
                template_app
                 (template_app (template_hole 2, template_var 4),
                  template_var 3)),
              template_app
               (template_app (template_hole 1, template_var 2),
                template_var 1))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 3,
                template_app
                 (template_app (template_hole 2, template_var 4),
                  template_var 0)),
              template_app
               (template_app (template_hole 1, template_var 2),
                template_var 1))
            )],
       template_equation (template_var 3, template_var 0))),
    ("Compiler_Utils.is_fmapD",
     "[| is_fmap ?M; (?a, ?b\<^sub>1) |\<in>| ?M;
         (?a, ?b\<^sub>2) |\<in>| ?M |]
      ==> ?b\<^sub>1 = ?b\<^sub>2",
     template_implication
      ([template_predicate (template_app (template_hole 3, template_var 3)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 2,
                template_app
                 (template_app (template_hole 1, template_var 2),
                  template_var 1)),
              template_var 3)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 2,
                template_app
                 (template_app (template_hole 1, template_var 2),
                  template_var 0)),
              template_var 3)
            )],
       template_equation (template_var 1, template_var 0))),
    ("Compiler_Utils.is_mapD",
     "[| is_map ?M; (?a, ?b\<^sub>1) : ?M; (?a, ?b\<^sub>2) : ?M |]
      ==> ?b\<^sub>1 = ?b\<^sub>2",
     template_implication
      ([template_predicate (template_app (template_hole 3, template_var 3)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 2,
                template_app
                 (template_app (template_hole 1, template_var 2),
                  template_var 1)),
              template_var 3)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 2,
                template_app
                 (template_app (template_hole 1, template_var 2),
                  template_var 0)),
              template_var 3)
            )],
       template_equation (template_var 1, template_var 0))),
    ("Compiler_Utils.fpairwiseI",
     "(!!m n. [| m |\<in>| ?M; n |\<in>| ?M |] ==> ?P m n) ==>
      fpairwise ?P ?M",
     template_implication
      ([template_predicate (template_app (template_hole 3, t_empty))],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 0), template_var 1)
           ))),
    ("Compiler_Utils.pairwiseI",
     "(!!m n. [| m : ?M; n : ?M |] ==> ?P m n) ==>
      Compiler_Utils.pairwise ?P ?M",
     template_implication
      ([template_predicate (template_app (template_hole 3, t_empty))],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 0), template_var 1)
           ))),
    ("Compiler_Utils.ordered_map_sound",
     "[| is_map ?S; finite ?S; (?a, ?b) : set (ordered_map ?S) |]
      ==> (?a, ?b) : ?S",
     template_implication
      ([template_predicate (template_app (template_hole 5, template_var 2)),
        template_predicate (template_app (template_hole 4, template_var 2)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 3,
                template_app
                 (template_app (template_hole 2, template_var 1),
                  template_var 0)),
              template_app
               (template_hole 1,
                template_app (template_hole 0, template_var 2)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 3,
               template_app
                (template_app (template_hole 2, template_var 1),
                 template_var 0)),
             template_var 2)
           ))),
    ("Compiler_Utils.max_ex_gr",
     "[| EX x:?X. ?k < x; finite ?X; ?X ~= {} |] ==> ?k < Max ?X",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 1), t_empty)
            ),
        template_predicate (template_app (template_hole 4, template_var 1)),
        template_negation
         (template_equation (template_var 1, template_hole 1))],
       template_inequation
        (less_than, template_var 0,
         template_app (template_hole 0, template_var 1)))),
    ("Compiler_Utils.fgroup_by_sound",
     "[| ?c |\<in>| ?cs; (?b, ?cs) |\<in>| fgroup_by ?f ?as |]
      ==> fBex ?as (%a. ?f a = (?b, ?c))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 4),
              template_var 3)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 5,
                template_app
                 (template_app (template_hole 4, template_var 2),
                  template_var 3)),
              template_app
               (template_app (template_hole 3, template_var 1),
                template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 2, template_var 0), t_empty)
           ))),
    ("Compiler_Utils.group_by_sound",
     "[| ?c : ?cs; (?b, ?cs) : group_by ?f ?as |]
      ==> EX a:?as. ?f a = (?b, ?c)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 4),
              template_var 3)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 5,
                template_app
                 (template_app (template_hole 4, template_var 2),
                  template_var 3)),
              template_app
               (template_app (template_hole 3, template_var 1),
                template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 2, template_var 0), t_empty)
           ))),
    ("Compiler_Utils.prod_fBallI",
     "(!!a b. (a, b) |\<in>| ?M ==> ?P a b) ==> fBall ?M (%(a, b). ?P a b)",
     template_implication
      ([template_predicate (template_app (template_hole 6, t_empty))],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, template_var 1),
             template_app (template_hole 0, t_empty))
           ))),
    ("Compiler_Utils.prod_BallI",
     "(!!a b. (a, b) : ?M ==> ?P a b) ==> ALL (a, b):?M. ?P a b",
     template_implication
      ([template_predicate (template_app (template_hole 6, t_empty))],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, template_var 1),
             template_app (template_hole 0, t_empty))
           ))),
    ("Compiler_Utils.fmpred_foldl",
     "[| fmpred ?P ?init; !!x. x : set ?xs ==> fmpred ?P x |]
      ==> fmpred ?P (foldl (++\<^sub>f) ?init ?xs)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 2),
              template_var 1)
            ),
        template_predicate (template_app (template_hole 4, t_empty))],
       template_predicate
        (
           template_app
            (template_app (template_hole 5, template_var 2),
             template_app
              (template_app
                (template_app (template_hole 1, template_hole 0),
                 template_var 1),
               template_var 0))
           ))),
    ("Compiler_Utils.list_all3_cons",
     "[| list_all3 ?P ?xs ?ys ?zs; ?P ?x ?y ?z |]
      ==> list_all3 ?P (?x # ?xs) (?y # ?ys) (?z # ?zs)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 3, template_var 6),
                  template_var 5),
                template_var 4),
              template_var 3)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_var 6, template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app (template_hole 3, template_var 6),
                 template_app
                  (template_app (template_hole 2, template_var 2),
                   template_var 5)),
               template_app
                (template_app (template_hole 1, template_var 1),
                 template_var 4)),
             template_app
              (template_app (template_hole 0, template_var 0),
               template_var 3))
           ))),
    ("Compiler_Utils.fbindE",
     "[| ?x |\<in>| fbind ?S ?f;
         !!s. [| ?x |\<in>| ?f s; s |\<in>| ?S |] ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 3),
              template_app
               (template_app (template_hole 2, template_var 2),
                template_var 1))
            ),
        template_predicate (template_app (template_hole 1, t_empty))],
       template_predicate (template_var 0))),
    ("Compiler_Utils.max_decr",
     "[| EX x:?X. ?k <= x; finite ?X |]
      ==> (MAX x\<in>?X. x - ?k) = Max ?X - ?k",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 1), t_empty)
            ),
        template_predicate
         (template_app (template_hole 4, template_var 1))],
       template_equation
        (template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 1, t_empty), template_var 1)),
         template_app
          (template_app
            (template_hole 0,
             template_app (template_hole 2, template_var 1)),
           template_var 0)))),
    ("Compiler_Utils.ordered_map_remove",
     "[| is_map ?S; finite ?S; ?x : ?S |]
      ==> ordered_map (?S - {?x}) = remove1 ?x (ordered_map ?S)",
     template_implication
      ([template_predicate (template_app (template_hole 8, template_var 1)),
        template_predicate (template_app (template_hole 7, template_var 1)),
        template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 0),
              template_var 1)
            )],
       template_equation
        (template_app
          (template_hole 4,
           template_app
            (template_app (template_hole 3, template_var 1),
             template_app
              (template_app (template_hole 2, template_var 0),
               template_hole 1))),
         template_app
          (template_app (template_hole 0, template_var 0),
           template_app (template_hole 4, template_var 1))))),
    ("Compiler_Utils.case_prod_twice",
     "(case case ?x of (a, b) => (?g a b, ?h a b) of (x, xa) => ?f x xa) =
      (case ?x of (a, b) => ?f (?g a b) (?h a b))",
     template_equation
      (template_app
        (template_app (template_hole 3, template_var 3),
         template_app
          (template_app (template_hole 2, t_empty), template_var 0)),
       template_app
        (template_app (template_hole 0, t_empty), template_var 0))),
    ("Compiler_Utils.fselect_memberE",
     "[| ?y |\<in>| fselect ?f ?S;
         !!x. [| x |\<in>| ?S; ?f x = Some ?y |] ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 3),
              template_app
               (template_app (template_hole 4, template_var 2),
                template_var 1))
            ),
        template_predicate (template_app (template_hole 3, t_empty))],
       template_predicate (template_var 0))),
    ("Compiler_Utils.select_memberE",
     "[| ?y : select ?f ?S; !!x. [| x : ?S; ?f x = Some ?y |] ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 3),
              template_app
               (template_app (template_hole 4, template_var 2),
                template_var 1))
            ),
        template_predicate (template_app (template_hole 3, t_empty))],
       template_predicate (template_var 0))),
    ("Compiler_Utils.singleton_fset_holds",
     "[| fBall ?M (%x. fBall ?M (%y. ?f x = ?f y)); ?m |\<in>| ?M |]
      ==> ?f ?m = fthe_elem (?f |`| ?M)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 2), t_empty)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 0),
              template_var 2)
            )],
       template_equation
        (template_app (template_var 1, template_var 0),
         template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 2))))),
    ("Compiler_Utils.singleton_set_holds",
     "[| ALL x:?M. ALL y:?M. ?f x = ?f y; ?m : ?M |]
      ==> ?f ?m = the_elem (?f ` ?M)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 2), t_empty)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 0),
              template_var 2)
            )],
       template_equation
        (template_app (template_var 1, template_var 0),
         template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 2))))),
    ("Compiler_Utils.fgroup_byD",
     "[| (?b, ?cs) |\<in>| fgroup_by ?f ?as; ?f ?a = (?b, ?c);
         ?a |\<in>| ?as |]
      ==> ?c |\<in>| ?cs",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 6,
                template_app
                 (template_app (template_hole 5, template_var 5),
                  template_var 4)),
              template_app
               (template_app (template_hole 4, template_var 3),
                template_var 2))
            ),
        template_equation
         (template_app (template_var 3, template_var 1),
          template_app
           (template_app (template_hole 2, template_var 5),
            template_var 0)),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 1),
              template_var 2)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 0), template_var 4)
           ))),
    ("Compiler_Utils.group_byD",
     "[| (?b, ?cs) : group_by ?f ?as; ?f ?a = (?b, ?c); ?a : ?as |]
      ==> ?c : ?cs",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 6,
                template_app
                 (template_app (template_hole 5, template_var 5),
                  template_var 4)),
              template_app
               (template_app (template_hole 4, template_var 3),
                template_var 2))
            ),
        template_equation
         (template_app (template_var 3, template_var 1),
          template_app
           (template_app (template_hole 2, template_var 5),
            template_var 0)),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 1),
              template_var 2)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 0), template_var 4)
           ))),
    ("Compiler_Utils.ordered_fmap_image",
     "is_fmap ?S ==>
      map (%(a, b). (a, ?f a b)) (ordered_fmap ?S) =
      ordered_fmap ((%(a, b). (a, ?f a b)) |`| ?S)",
     template_implication
      ([template_predicate
         (template_app (template_hole 7, template_var 1))],
       template_equation
        (template_app
          (template_app
            (template_hole 5, template_app (template_hole 4, t_empty)),
           template_app (template_hole 2, template_var 1)),
         template_app
          (template_hole 1,
           template_app
            (template_app
              (template_hole 0, template_app (template_hole 4, t_empty)),
             template_var 1))))),
    ("Compiler_Utils.is_fmapI",
     "(!!a b\<^sub>1 b\<^sub>2.
          [| (a, b\<^sub>1) |\<in>| ?M; (a, b\<^sub>2) |\<in>| ?M |]
          ==> b\<^sub>1 = b\<^sub>2) ==>
      is_fmap ?M",
     template_implication
      ([template_predicate (template_app (template_hole 6, t_empty))],
       template_predicate
        (template_app (template_hole 0, template_var 0)))),
    ("Compiler_Utils.is_mapI",
     "(!!a b\<^sub>1 b\<^sub>2.
          [| (a, b\<^sub>1) : ?M; (a, b\<^sub>2) : ?M |]
          ==> b\<^sub>1 = b\<^sub>2) ==>
      is_map ?M",
     template_implication
      ([template_predicate (template_app (template_hole 6, t_empty))],
       template_predicate
        (template_app (template_hole 0, template_var 0)))),
    ("Compiler_Utils.fgroup_byE2",
     "[| (?b, ?cs) |\<in>| fgroup_by ?f ?as;
         !!a. [| a |\<in>| ?as; fst (?f a) = ?b |] ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 6,
                template_app
                 (template_app (template_hole 5, template_var 4),
                  template_var 3)),
              template_app
               (template_app (template_hole 4, template_var 2),
                template_var 1))
            ),
        template_predicate (template_app (template_hole 3, t_empty))],
       template_predicate (template_var 0))),
    ("Compiler_Utils.group_byE2",
     "[| (?b, ?cs) : group_by ?f ?as;
         !!a. [| a : ?as; fst (?f a) = ?b |] ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 6,
                template_app
                 (template_app (template_hole 5, template_var 4),
                  template_var 3)),
              template_app
               (template_app (template_hole 4, template_var 2),
                template_var 1))
            ),
        template_predicate (template_app (template_hole 3, t_empty))],
       template_predicate (template_var 0))),
    ("Compiler_Utils.rel_fsetE1",
     "[| rel_fset ?P ?M ?N; ?x |\<in>| ?M;
         !!y. [| y |\<in>| ?N; ?P ?x y |] ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 3, template_var 4),
                template_var 3),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 1),
              template_var 3)
            ),
        template_predicate (template_app (template_hole 1, t_empty))],
       template_predicate (template_var 0))),
    ("Compiler_Utils.rel_fsetE2",
     "[| rel_fset ?P ?M ?N; ?y |\<in>| ?N;
         !!x. [| x |\<in>| ?M; ?P x ?y |] ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 3, template_var 4),
                template_var 3),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 1),
              template_var 2)
            ),
        template_predicate (template_app (template_hole 1, t_empty))],
       template_predicate (template_var 0))),
    ("Compiler_Utils.fgroup_by_complete",
     "[| ?a |\<in>| ?as;
         !!cs. [| (fst (?f ?a), cs) |\<in>| fgroup_by ?f ?as;
                  snd (?f ?a) |\<in>| cs |]
               ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 3),
              template_var 2)
            ),
        template_predicate (template_app (template_hole 6, t_empty))],
       template_predicate (template_var 0))),
    ("Compiler_Utils.group_by_complete",
     "[| ?a : ?as;
         !!cs. [| (fst (?f ?a), cs) : group_by ?f ?as; snd (?f ?a) : cs |]
               ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 3),
              template_var 2)
            ),
        template_predicate (template_app (template_hole 6, t_empty))],
       template_predicate (template_var 0))),
    ("Compiler_Utils.inj_on_fimage_set_diff",
     "[| inj_on ?f (fset ?C); ?A |\<subseteq>| ?C; ?B |\<subseteq>| ?C |]
      ==> ?f |`| (?A |-| ?B) = ?f |`| ?A |-| ?f |`| ?B",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 3),
              template_app (template_hole 5, template_var 2))
            ),
        template_inequation (less_equals, template_var 1, template_var 2),
        template_inequation (less_equals, template_var 0, template_var 2)],
       template_equation
        (template_app
          (template_app (template_hole 2, template_var 3),
           template_app
            (template_app (template_hole 1, template_var 1),
             template_var 0)),
         template_app
          (template_app
            (template_hole 0,
             template_app
              (template_app (template_hole 2, template_var 3),
               template_var 1)),
           template_app
            (template_app (template_hole 2, template_var 3),
             template_var 0))))),
    ("Compiler_Utils.list_all2_leftE",
     "[| list_all2 ?P ?xs ?ys; ?x : set ?xs;
         !!y. [| y : set ?ys; ?P ?x y |] ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 5, template_var 4),
                template_var 3),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 1),
              template_app (template_hole 3, template_var 3))
            ),
        template_predicate (template_app (template_hole 2, t_empty))],
       template_predicate (template_var 0))),
    ("Compiler_Utils.list_all2_rightE",
     "[| list_all2 ?P ?xs ?ys; ?y : set ?ys;
         !!x. [| x : set ?xs; ?P x ?y |] ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 5, template_var 4),
                template_var 3),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 1),
              template_app (template_hole 3, template_var 2))
            ),
        template_predicate (template_app (template_hole 2, t_empty))],
       template_predicate (template_var 0))),
    ("Compiler_Utils.funion_strictE",
     "[| ?c |\<in>| ?A |\<union>| ?B; ?c |\<in>| ?A ==> ?thesis;
         [| ?c |\<notin>| ?A; ?c |\<in>| ?B |] ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 3),
              template_app
               (template_app (template_hole 1, template_var 2),
                template_var 1))
            ),
        template_implication
         ([template_predicate
            (
               template_app
                (template_app (template_hole 2, template_var 3),
                 template_var 2)
               )],
          template_predicate (template_var 0)),
        template_implication
         ([template_negation
            (
               template_predicate
                (
                   template_app
                    (template_app (template_hole 2, template_var 3),
                     template_var 2)
                   )
               )],
          template_implication
           ([template_predicate
              (
                 template_app
                  (template_app (template_hole 2, template_var 3),
                   template_var 1)
                 )],
            template_predicate (template_var 0)))],
       template_predicate (template_var 0))),
    ("Compiler_Utils.ordered_map_image",
     "[| finite ?S; is_map ?S |]
      ==> map (%(a, b). (a, ?f a b)) (ordered_map ?S) =
          ordered_map ((%(a, b). (a, ?f a b)) ` ?S)",
     template_implication
      ([template_predicate (template_app (template_hole 8, template_var 1)),
        template_predicate
         (template_app (template_hole 7, template_var 1))],
       template_equation
        (template_app
          (template_app
            (template_hole 5, template_app (template_hole 4, t_empty)),
           template_app (template_hole 2, template_var 1)),
         template_app
          (template_hole 1,
           template_app
            (template_app
              (template_hole 0, template_app (template_hole 4, t_empty)),
             template_var 1))))),
    ("Compiler_Utils.fpairwise_weaken",
     "[| fpairwise ?P ?M;
         !!x y. [| x |\<in>| ?M; y |\<in>| ?M; ?P x y |] ==> ?Q x y |]
      ==> fpairwise ?Q ?M",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 2),
              template_var 1)
            ),
        template_predicate (template_app (template_hole 1, t_empty))],
       template_predicate
        (
           template_app
            (template_app (template_hole 2, template_var 0), template_var 1)
           ))),
    ("Compiler_Utils.pairwise_weaken",
     "[| Compiler_Utils.pairwise ?P ?M;
         !!x y. [| x : ?M; y : ?M; ?P x y |] ==> ?Q x y |]
      ==> Compiler_Utils.pairwise ?Q ?M",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 2),
              template_var 1)
            ),
        template_predicate (template_app (template_hole 1, t_empty))],
       template_predicate
        (
           template_app
            (template_app (template_hole 2, template_var 0), template_var 1)
           ))),
    ("Compiler_Utils.rel_fsetI",
     "[| !!x. x |\<in>| ?A ==> fBex ?B (?R x);
         !!y. y |\<in>| ?B ==> fBex ?A (%x. ?R x y) |]
      ==> rel_fset ?R ?A ?B",
     template_implication
      ([template_predicate (template_app (template_hole 7, t_empty)),
        template_predicate (template_app (template_hole 3, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 0, template_var 0),
               template_var 2),
             template_var 1)
           ))),
    ("Compiler_Utils.fset_map_snd_id",
     "(!!a b e. (a, b) : fset ?cs ==> ?f a b = b) ==>
      (%(a, b). (a, ?f a b)) |`| ?cs = ?cs",
     template_implication
      ([template_predicate (template_app (template_hole 10, t_empty))],
       template_equation
        (template_app
          (template_app
            (template_hole 1, template_app (template_hole 0, t_empty)),
           template_var 1),
         template_var 1))),
    ("Compiler_Utils.list_map_snd_id",
     "(!!a b e. (a, b) : set ?cs ==> ?f a b = b) ==>
      map (%(a, b). (a, ?f a b)) ?cs = ?cs",
     template_implication
      ([template_predicate (template_app (template_hole 10, t_empty))],
       template_equation
        (template_app
          (template_app
            (template_hole 1, template_app (template_hole 0, t_empty)),
           template_var 1),
         template_var 1))),
    ("Compiler_Utils.fmmap_total",
     "[| !!k v. fmlookup ?m k = Some v ==> EX v'. ?f v' = v;
         !!m'. ?m = fmmap ?f m' ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate (template_app (template_hole 10, t_empty)),
        template_predicate (template_app (template_hole 2, t_empty))],
       template_predicate (template_var 0))),
    ("Compiler_Utils.fgroup_byE",
     "[| ?c |\<in>| ?cs; (?b, ?cs) |\<in>| fgroup_by ?f ?as;
         !!a. [| a |\<in>| ?as; ?f a = (?b, ?c) |] ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 5),
              template_var 4)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 6,
                template_app
                 (template_app (template_hole 5, template_var 3),
                  template_var 4)),
              template_app
               (template_app (template_hole 4, template_var 2),
                template_var 1))
            ),
        template_predicate (template_app (template_hole 3, t_empty))],
       template_predicate (template_var 0))),
    ("Compiler_Utils.group_byE",
     "[| ?c : ?cs; (?b, ?cs) : group_by ?f ?as;
         !!a. [| a : ?as; ?f a = (?b, ?c) |] ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 5),
              template_var 4)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 6,
                template_app
                 (template_app (template_hole 5, template_var 3),
                  template_var 4)),
              template_app
               (template_app (template_hole 4, template_var 2),
                template_var 1))
            ),
        template_predicate (template_app (template_hole 3, t_empty))],
       template_predicate (template_var 0))),
    ("Compiler_Utils.get_map_map",
     "[| is_map ?S; ?k : fst ` ?S |]
      ==> get_map ((%(a, b). (a, ?f a b)) ` ?S) ?k =
          (case get_map ?S ?k of (a, b) => (a, ?f a b))",
     template_implication
      ([template_predicate (template_app (template_hole 9, template_var 2)),
        template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 1),
              template_app
               (template_app (template_hole 7, template_hole 6),
                template_var 2))
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 4,
             template_app
              (template_app
                (template_hole 3, template_app (template_hole 2, t_empty)),
               template_var 2)),
           template_var 1),
         template_app
          (template_app (template_hole 2, t_empty),
           template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1))))),
    ("Compiler_Utils.rel_set_image_eq",
     "[| rel_set ?P ?A ?B;
         !!a b. [| a : ?A; b : ?B; ?P a b |] ==> ?f a = ?g b |]
      ==> ?f ` ?A = ?g ` ?B",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 8, template_var 4),
                template_var 3),
              template_var 2)
            ),
        template_predicate (template_app (template_hole 7, t_empty))],
       template_equation
        (template_app
          (template_app (template_hole 1, template_var 1), template_var 3),
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 2)))),
    ("Compiler_Utils.rel_fset_image_eq",
     "[| rel_fset ?P ?A ?B;
         !!a b. [| a |\<in>| ?A; b |\<in>| ?B; ?P a b |] ==> ?f a = ?g b |]
      ==> ?f |`| ?A = ?g |`| ?B",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 8, template_var 4),
                template_var 3),
              template_var 2)
            ),
        template_predicate (template_app (template_hole 7, t_empty))],
       template_equation
        (template_app
          (template_app (template_hole 1, template_var 1), template_var 3),
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 2)))),
    ("Compiler_Utils.rel_set_image",
     "[| rel_set ?P ?A ?B;
         !!a b. [| a : ?A; b : ?B; ?P a b |] ==> ?Q (?f a) (?g b) |]
      ==> rel_set ?Q (?f ` ?A) (?g ` ?B)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 7, template_var 5),
                template_var 4),
              template_var 3)
            ),
        template_predicate (template_app (template_hole 6, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 2, template_var 2),
               template_app
                (template_app (template_hole 1, template_var 1),
                 template_var 4)),
             template_app
              (template_app (template_hole 0, template_var 0),
               template_var 3))
           ))),
    ("Compiler_Utils.rel_fset_image",
     "[| rel_fset ?P ?A ?B;
         !!a b.
            [| a |\<in>| ?A; b |\<in>| ?B; ?P a b |] ==> ?Q (?f a) (?g b) |]
      ==> rel_fset ?Q (?f |`| ?A) (?g |`| ?B)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 7, template_var 5),
                template_var 4),
              template_var 3)
            ),
        template_predicate (template_app (template_hole 6, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 2, template_var 2),
               template_app
                (template_app (template_hole 1, template_var 1),
                 template_var 4)),
             template_app
              (template_app (template_hole 0, template_var 0),
               template_var 3))
           ))),
    ("Compiler_Utils.rev_induct2",
     "[| length ?xs = length ?ys; ?P [] [];
         !!x xs y ys.
            [| length xs = length ys; ?P xs ys |]
            ==> ?P (xs @ [x]) (ys @ [y]) |]
      ==> ?P ?xs ?ys",
     template_implication
      ([template_equation
         (template_app (template_hole 11, template_var 2),
          template_app (template_hole 10, template_var 1)),
        template_predicate
         (
            template_app
             (template_app (template_var 0, template_hole 9),
              template_hole 8)
            ),
        template_predicate (template_app (template_hole 7, t_empty))],
       template_predicate
        (
           template_app
            (template_app (template_var 0, template_var 2), template_var 1)
           ))),
    ("Compiler_Utils.list_all3_from_list_all2s",
     "[| list_all2 ?P ?xs ?ys; list_all2 ?Q ?xs ?zs;
         !!x y z.
            [| x : set ?xs; y : set ?ys; z : set ?zs; ?P x y; ?Q x z |]
            ==> ?R x y z |]
      ==> list_all3 ?R ?xs ?ys ?zs",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 11, template_var 5),
                template_var 4),
              template_var 3)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 10, template_var 2),
                template_var 4),
              template_var 1)
            ),
        template_predicate (template_app (template_hole 9, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app (template_hole 0, template_var 0),
                 template_var 4),
               template_var 3),
             template_var 1)
           ))),
    ("Compiler_Utils.list_all3_induct",
     "[| list_all3 ?P ?xs ?ys ?zs; ?Q [] [] [];
         !!x xs y ys z zs.
            [| ?P x y z; ?Q xs ys zs; list_all3 ?P xs ys zs |]
            ==> ?Q (x # xs) (y # ys) (z # zs) |]
      ==> ?Q ?xs ?ys ?zs",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 12, template_var 4),
                  template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_var 0, template_hole 11),
                template_hole 10),
              template_hole 9)
            ),
        template_predicate (template_app (template_hole 8, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_var 0, template_var 3),
               template_var 2),
             template_var 1)
           )))]
