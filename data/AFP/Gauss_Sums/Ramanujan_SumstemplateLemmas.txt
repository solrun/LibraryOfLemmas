   [("Ramanujan_Sums.ramanujan_sum_0_n", "ramanujan_sum 0 ?n = 0",
     template_equation
      (template_app
        (template_app (template_hole 2, template_hole 1), template_var 0),
       template_hole 0)),
    ("Ramanujan_Sums.gen_ramanujan_sum_periodic",
     "periodic_arithmetic (gen_ramanujan_sum ?f ?g ?k) ?k",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app
                (template_app (template_hole 0, template_var 2),
                 template_var 1),
               template_var 0)),
           template_var 0)
         )),
    ("Ramanujan_Sums.ramanujan_sum_1_right",
     "ramanujan_sum ?k (Suc 0) = moebius_mu ?k",
     template_equation
      (template_app
        (template_app (template_hole 3, template_var 0),
         template_app (template_hole 2, template_hole 1)),
       template_app (template_hole 0, template_var 0))),
    ("Ramanujan_Sums.totient_conv_moebius_mu_of_nat",
     "of_nat (totient ?n) = dirichlet_prod moebius_mu of_nat ?n",
     template_equation
      (template_app
        (template_hole 3, template_app (template_hole 2, template_var 0)),
       template_app
        (template_app
          (template_app (template_hole 1, template_hole 0),
           template_hole 3),
         template_var 0))),
    ("Ramanujan_Sums.gen_ramanujan_sum_1_n",
     "gen_ramanujan_sum ?f ?g 1 ?n = ?f 1 * ?g 1",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_app (template_hole 2, template_var 2),
             template_var 1),
           template_hole 1),
         template_var 0),
       template_app
        (template_app
          (template_hole 0, template_app (template_var 2, template_hole 1)),
         template_app (template_var 1, template_hole 1)))),
    ("Ramanujan_Sums.gen_ramanujan_sum_k_1",
     "gen_ramanujan_sum ?f ?g ?k 1 = ?f 1 * ?g ?k",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_app (template_hole 2, template_var 2),
             template_var 1),
           template_var 0),
         template_hole 1),
       template_app
        (template_app
          (template_hole 0, template_app (template_var 2, template_hole 1)),
         template_app (template_var 1, template_var 0)))),
    ("Ramanujan_Sums.dirichlet_prod_neutral_sum",
     "dirichlet_prod_neutral ?n = (SUM k = 1..?n. unity_root ?n (int k))",
     template_equation
      (template_app (template_hole 5, template_var 0),
       template_app
        (template_app (template_hole 4, t_empty),
         template_app
          (template_app (template_hole 1, template_hole 0),
           template_var 0)))),
    ("Ramanujan_Sums.ramanujan_sum_dvd_eq_totient",
     "?k dvd ?n ==> ramanujan_sum ?k ?n = of_nat (totient ?k)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 1),
              template_var 0)
            )],
       template_equation
        (template_app
          (template_app (template_hole 2, template_var 1), template_var 0),
         template_app
          (template_hole 1,
           template_app (template_hole 0, template_var 1))))),
    ("Ramanujan_Sums.ramanujan_sum_conv_gen_ramanujan_sum",
     "0 < ?k ==>
      ramanujan_sum ?k ?n =
      gen_ramanujan_sum (%x. of_nat (id x)) moebius_mu ?k ?n",
     template_implication
      ([template_inequation (less_than, template_hole 6, template_var 1)],
       template_equation
        (template_app
          (template_app (template_hole 4, template_var 1), template_var 0),
         template_app
          (template_app
            (template_app
              (template_app (template_hole 3, t_empty), template_hole 0),
             template_var 1),
           template_var 0)))),
    ("Ramanujan_Sums.moebius_coprime_sum",
     "moebius_mu ?n =
      (SUM k | k : {1..?n} & coprime k ?n. unity_root ?n (int k))",
     template_equation
      (template_app (template_hole 9, template_var 0),
       template_app
        (template_app (template_hole 8, t_empty),
         template_app (template_hole 5, t_empty)))),
    ("Ramanujan_Sums.ramanujan_sum_dirichlet_form",
     "0 < ?k ==>
      ramanujan_sum ?k ?n =
      (SUM d | d dvd gcd ?n ?k. of_nat d * moebius_mu (?k div d))",
     template_implication
      ([template_inequation (less_than, template_hole 10, template_var 1)],
       template_equation
        (template_app
          (template_app (template_hole 8, template_var 1), template_var 0),
         template_app
          (template_app (template_hole 7, t_empty),
           template_app (template_hole 2, t_empty))))),
    ("Ramanujan_Sums.ramanujan_sum_k_n_dirichlet_expr",
     "[| 0 < ?k; 0 < ?n |]
      ==> ramanujan_sum ?k ?n =
          of_nat (totient ?k) * moebius_mu (?k div gcd ?n ?k) /
          of_nat (totient (?k div gcd ?n ?k))",
     template_implication
      ([template_inequation (less_than, template_hole 9, template_var 1),
        template_inequation (less_than, template_hole 9, template_var 0)],
       template_equation
        (template_app
          (template_app (template_hole 7, template_var 1), template_var 0),
         template_app
          (template_app
            (template_hole 6,
             template_app
              (template_app
                (template_hole 5,
                 template_app
                  (template_hole 4,
                   template_app (template_hole 3, template_var 1))),
               template_app
                (template_hole 2,
                 template_app
                  (template_app (template_hole 1, template_var 1),
                   template_app
                    (template_app (template_hole 0, template_var 0),
                     template_var 1))))),
           template_app
            (template_hole 4,
             template_app
              (template_hole 3,
               template_app
                (template_app (template_hole 1, template_var 1),
                 template_app
                  (template_app (template_hole 0, template_var 0),
                   template_var 1)))))))),
    ("Ramanujan_Sums.ramanujan_sum_distrib_right",
     "[| 0 < ?a; (0::?'a) < ?k; 0 < ?m; 0 < ?b; coprime ?b ?m |]
      ==> ramanujan_sum ?m (?a * ?b) = ramanujan_sum ?m ?a",
     template_implication
      ([template_inequation (less_than, template_hole 6, template_var 3),
        template_inequation (less_than, template_hole 4, template_var 2),
        template_inequation (less_than, template_hole 6, template_var 1),
        template_inequation (less_than, template_hole 6, template_var 0),
        template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 0),
              template_var 1)
            )],
       template_equation
        (template_app
          (template_app (template_hole 1, template_var 1),
           template_app
            (template_app (template_hole 0, template_var 3),
             template_var 0)),
         template_app
          (template_app (template_hole 1, template_var 1),
           template_var 3)))),
    ("Ramanujan_Sums.ramanujan_sum_distrib_left",
     "[| 0 < ?a; 0 < ?k; 0 < ?m; coprime ?a ?k; coprime ?m ?k |]
      ==> ramanujan_sum (?m * ?k) ?a = ramanujan_sum ?m ?a * moebius_mu ?k",
     template_implication
      ([template_inequation (less_than, template_hole 6, template_var 2),
        template_inequation (less_than, template_hole 6, template_var 1),
        template_inequation (less_than, template_hole 6, template_var 0),
        template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 0),
              template_var 1)
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app (template_hole 2, template_var 0),
               template_var 1)),
           template_var 2),
         template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 3, template_var 0),
               template_var 2)),
           template_app (template_hole 0, template_var 1))))),
    ("Ramanujan_Sums.gen_ramanujan_sum_distrib_right",
     "[| 0 < ?a; 0 < ?b; 0 < ?m; coprime ?b ?m; multiplicative_function ?f;
         multiplicative_function ?g |]
      ==> gen_ramanujan_sum ?f ?g ?m (?a * ?b) =
          gen_ramanujan_sum ?f ?g ?m ?a",
     template_implication
      ([template_inequation (less_than, template_hole 5, template_var 4),
        template_inequation (less_than, template_hole 5, template_var 3),
        template_inequation (less_than, template_hole 5, template_var 2),
        template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 3),
              template_var 2)
            ),
        template_predicate (template_app (template_hole 3, template_var 1)),
        template_predicate
         (template_app (template_hole 3, template_var 0))],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app (template_hole 1, template_var 1),
               template_var 0),
             template_var 2),
           template_app
            (template_app (template_hole 0, template_var 4),
             template_var 3)),
         template_app
          (template_app
            (template_app
              (template_app (template_hole 1, template_var 1),
               template_var 0),
             template_var 2),
           template_var 4)))),
    ("Ramanujan_Sums.gen_ramanujan_sum_fourier_expansion",
     "0 < ?k ==>
      gen_ramanujan_sum ?f ?g ?k ?n =
      (SUM m<=?k - 1.
       1 / of_nat ?k *
       (SUM d | d dvd gcd m ?k. ?g d * ?f (?k div d) * of_nat d) *
       unity_root ?k (int m * int ?n))",
     template_implication
      ([template_inequation (less_than, template_hole 17, template_var 3)],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app (template_hole 15, template_var 2),
               template_var 1),
             template_var 3),
           template_var 0),
         template_app
          (template_app (template_hole 14, t_empty),
           template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_var 3),
               template_hole 0)))))),
    ("Ramanujan_Sums.gen_ramanujan_sum_distrib_left",
     "[| 0 < ?a; 0 < ?k; 0 < ?m; coprime ?a ?k; coprime ?k ?m;
         multiplicative_function ?f; multiplicative_function ?g |]
      ==> gen_ramanujan_sum ?f ?g (?m * ?k) ?a =
          gen_ramanujan_sum ?f ?g ?m ?a * ?g ?k",
     template_implication
      ([template_inequation (less_than, template_hole 6, template_var 4),
        template_inequation (less_than, template_hole 6, template_var 3),
        template_inequation (less_than, template_hole 6, template_var 2),
        template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 4),
              template_var 3)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 3),
              template_var 2)
            ),
        template_predicate (template_app (template_hole 4, template_var 1)),
        template_predicate
         (template_app (template_hole 4, template_var 0))],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app (template_hole 2, template_var 1),
               template_var 0),
             template_app
              (template_app (template_hole 1, template_var 2),
               template_var 3)),
           template_var 4),
         template_app
          (template_app
            (template_hole 0,
             template_app
              (template_app
                (template_app
                  (template_app (template_hole 2, template_var 1),
                   template_var 0),
                 template_var 2),
               template_var 4)),
           template_app (template_var 0, template_var 3))))),
    ("Ramanujan_Sums.ramanujan_sum_distrib",
     "[| 0 < ?a; 0 < ?k; 0 < ?m; 0 < ?b; coprime ?a ?k; coprime ?b ?m;
         coprime ?m ?k |]
      ==> ramanujan_sum (?m * ?k) (?a * ?b) =
          ramanujan_sum ?m ?a * ramanujan_sum ?k ?b",
     template_implication
      ([template_inequation (less_than, template_hole 5, template_var 3),
        template_inequation (less_than, template_hole 5, template_var 2),
        template_inequation (less_than, template_hole 5, template_var 1),
        template_inequation (less_than, template_hole 5, template_var 0),
        template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 3),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 0),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 1),
              template_var 2)
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_var 1),
               template_var 2)),
           template_app
            (template_app (template_hole 1, template_var 3),
             template_var 0)),
         template_app
          (template_app
            (template_hole 0,
             template_app
              (template_app (template_hole 2, template_var 1),
               template_var 3)),
           template_app
            (template_app (template_hole 2, template_var 2),
             template_var 0))))),
    ("Ramanujan_Sums.sum_coprime_conv_dirichlet_prod_moebius_mu",
     "(!!a b d.
          [| d dvd a; d dvd b |] ==> ?f (a div d) (b div d) = ?f a b) ==>
      (SUM k | k : {1..?n} & coprime k ?n. ?f k ?n) =
      dirichlet_prod moebius_mu (%n. SUM k = 1..n. ?f k n) ?n",
     template_implication
      ([template_predicate (template_app (template_hole 13, t_empty))],
       template_equation
        (template_app
          (template_app (template_hole 8, t_empty),
           template_app (template_hole 7, t_empty)),
         template_app
          (template_app
            (template_app (template_hole 1, template_hole 0), t_empty),
           template_var 0)))),
    ("Ramanujan_Sums.dirichlet_prod_completely_multiplicative_left",
     "[| 0 < ?k; completely_multiplicative_function ?f;
         multiplicative_function ?h;
         !!p. prime p ==> ?f p ~= 0 & ?f p ~= ?h p |]
      ==> dirichlet_prod ?f (%k. moebius_mu k * ?h k) ?k =
          ?f ?k * (PROD p:prime_factors ?k. 1 - ?h p / ?f p)",
     template_implication
      ([template_inequation (less_than, template_hole 17, template_var 2),
        template_predicate
         (template_app (template_hole 16, template_var 1)),
        template_predicate
         (template_app (template_hole 15, template_var 0)),
        template_predicate (template_app (template_hole 14, t_empty))],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 8, template_var 1), t_empty),
           template_var 2),
         template_app
          (template_app
            (template_hole 7,
             template_app (template_var 1, template_var 2)),
           template_app
            (template_app (template_hole 5, t_empty),
             template_app
              (template_hole 1,
               template_app (template_hole 0, template_var 2))))))),
    ("Ramanujan_Sums.gen_ramanujan_sum_distrib",
     "[| 0 < ?a; 0 < ?b; 0 < ?m; 0 < ?k; coprime ?a ?k; coprime ?b ?m;
         coprime ?k ?m; multiplicative_function ?f;
         multiplicative_function ?g |]
      ==> gen_ramanujan_sum ?f ?g (?m * ?k) (?a * ?b) =
          gen_ramanujan_sum ?f ?g ?m ?a * gen_ramanujan_sum ?f ?g ?k ?b",
     template_implication
      ([template_inequation (less_than, template_hole 6, template_var 5),
        template_inequation (less_than, template_hole 6, template_var 4),
        template_inequation (less_than, template_hole 6, template_var 3),
        template_inequation (less_than, template_hole 6, template_var 2),
        template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 5),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 4),
              template_var 3)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 2),
              template_var 3)
            ),
        template_predicate (template_app (template_hole 4, template_var 1)),
        template_predicate
         (template_app (template_hole 4, template_var 0))],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app (template_hole 2, template_var 1),
               template_var 0),
             template_app
              (template_app (template_hole 1, template_var 3),
               template_var 2)),
           template_app
            (template_app (template_hole 1, template_var 5),
             template_var 4)),
         template_app
          (template_app
            (template_hole 0,
             template_app
              (template_app
                (template_app
                  (template_app (template_hole 2, template_var 1),
                   template_var 0),
                 template_var 3),
               template_var 5)),
           template_app
            (template_app
              (template_app
                (template_app (template_hole 2, template_var 1),
                 template_var 0),
               template_var 2),
             template_var 4))))),
    ("Ramanujan_Sums.gen_ramanujan_sum_dirichlet_expr",
     "[| completely_multiplicative_function ?f; multiplicative_function ?h;
         !!p. prime p ==> ?f p ~= 0 & ?f p ~= ?h p; 0 < ?k; 0 < ?n |]
      ==> gen_ramanujan_sum ?f (%k. moebius_mu k * ?h k) ?k ?n =
          dirichlet_prod ?f (%k. moebius_mu k * ?h k) ?k *
          (moebius_mu (?k div gcd ?n ?k) * ?h (?k div gcd ?n ?k)) /
          dirichlet_prod ?f (%k. moebius_mu k * ?h k) (?k div gcd ?n ?k)",
     template_implication
      ([template_predicate
         (template_app (template_hole 16, template_var 3)),
        template_predicate
         (template_app (template_hole 15, template_var 2)),
        template_predicate (template_app (template_hole 14, t_empty)),
        template_inequation (less_than, template_hole 7, template_var 1),
        template_inequation (less_than, template_hole 7, template_var 0)],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app (template_hole 6, template_var 3), t_empty),
             template_var 1),
           template_var 0),
         template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app
                (template_hole 5,
                 template_app
                  (template_app
                    (template_app (template_hole 2, template_var 3),
                     t_empty),
                   template_var 1)),
               template_app
                (template_app
                  (template_hole 5,
                   template_app
                    (template_hole 4,
                     template_app
                      (template_app (template_hole 1, template_var 1),
                       template_app
                        (template_app (template_hole 0, template_var 0),
                         template_var 1)))),
                 template_app
                  (template_var 2,
                   template_app
                    (template_app (template_hole 1, template_var 1),
                     template_app
                      (template_app (template_hole 0, template_var 0),
                       template_var 1)))))),
           template_app
            (template_app
              (template_app (template_hole 2, template_var 3), t_empty),
             template_app
              (template_app (template_hole 1, template_var 1),
               template_app
                (template_app (template_hole 0, template_var 0),
                 template_var 1)))))))]
