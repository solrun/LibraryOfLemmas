   [("More_Matrix.dim_col_conjugate", "dim_col (conjugate ?m) = dim_col ?m",
     template_equation
      (template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("More_Matrix.dim_row_conjugate", "dim_row (conjugate ?m) = dim_row ?m",
     template_equation
      (template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("More_Matrix.dim_col_take_rows",
     "dim_col (take_rows ?A ?inds) = dim_col ?A",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 1))),
    ("More_Matrix.dim_row_take_cols",
     "dim_row (take_cols ?A ?ls) = dim_row ?A",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app (template_hole 1, template_var 1))),
    ("More_Matrix.transpose_conjugate",
     "(conjugate ?A)\<^sup>T = ?A\<^sup>H",
     template_equation
      (template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)),
       template_app
        (template_hole 0, template_app (template_hole 1, template_var 0)))),
    ("More_Matrix.smult_vec_zero",
     "(0::?'a) \<cdot>\<^sub>v ?v = 0\<^sub>v (dim_vec ?v)",
     template_equation
      (template_app
        (template_app (template_hole 3, template_hole 2), template_var 0),
       template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)))),
    ("More_Matrix.sorted_pivot_positions",
     "sorted_wrt (<) (map fst (pivot_positions ?A))",
     template_predicate
      (
         template_app
          (template_app (template_hole 5, template_hole 4),
           template_app
            (template_app (template_hole 3, template_hole 2),
             template_app
              (template_app (template_hole 1, template_hole 0),
               template_var 0)))
         )),
    ("More_Matrix.cols_conjugate",
     "cols (conjugate ?m) = map conjugate (cols ?m)",
     template_equation
      (template_app
        (template_hole 3, template_app (template_hole 2, template_var 0)),
       template_app
        (template_app (template_hole 1, template_hole 0),
         template_app (template_hole 3, template_var 0)))),
    ("More_Matrix.rows_conjugate",
     "rows (conjugate ?m) = map conjugate (rows ?m)",
     template_equation
      (template_app
        (template_hole 3, template_app (template_hole 2, template_var 0)),
       template_app
        (template_app (template_hole 1, template_hole 0),
         template_app (template_hole 3, template_var 0)))),
    ("More_Matrix.cardlt", "card {i. i < ?n} <= ?n",
     template_inequation
      (less_equals,
       template_app
        (template_hole 2, template_app (template_hole 1, t_empty)),
       template_var 0)),
    ("More_Matrix.cols_take_cols_subset",
     "set (cols (take_cols ?A ?inds)) <= set (cols ?A)",
     template_inequation
      (less_equals,
       template_app
        (template_hole 2,
         template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 0))),
       template_app
        (template_hole 2, template_app (template_hole 1, template_var 1)))),
    ("More_Matrix.transpose_rank",
     "vec_space.rank (dim_row ?A) ?A =
      vec_space.rank (dim_col ?A) ?A\<^sup>T",
     template_equation
      (template_app
        (template_app
          (template_hole 3, template_app (template_hole 2, template_var 0)),
         template_var 0),
       template_app
        (template_app
          (template_hole 3, template_app (template_hole 1, template_var 0)),
         template_app (template_hole 0, template_var 0)))),
    ("More_Matrix.dim_kronecker",
     "dim_col (kronecker_product ?A ?B) = dim_col ?A * dim_col ?B",
     template_equation
      (template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 0, template_app (template_hole 2, template_var 1)),
         template_app (template_hole 2, template_var 0)))),
    ("More_Matrix.dim_kronecker",
     "dim_row (kronecker_product ?A ?B) = dim_row ?A * dim_row ?B",
     template_equation
      (template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 0, template_app (template_hole 2, template_var 1)),
         template_app (template_hole 2, template_var 0)))),
    ("More_Matrix.dim_row_append_rows",
     "dim_row (?A @\<^sub>r ?B) = dim_row ?A + dim_row ?B",
     template_equation
      (template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 0, template_app (template_hole 2, template_var 1)),
         template_app (template_hole 2, template_var 0)))),
    ("More_Matrix.cols_mat_mul_map",
     "cols (?A * ?B) = map ((*\<^sub>v) ?A) (cols ?B)",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 2, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 1, template_app (template_hole 0, template_var 1)),
         template_app (template_hole 3, template_var 0)))),
    ("More_Matrix.kronecker_one",
     "kronecker_product (1\<^sub>m ?x) (1\<^sub>m ?y) =
      1\<^sub>m (?x * ?y)",
     template_equation
      (template_app
        (template_app
          (template_hole 2, template_app (template_hole 1, template_var 1)),
         template_app (template_hole 1, template_var 0)),
       template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("More_Matrix.helper", "?x * (?y * ?z) = ?y * ?x * ?z",
     template_equation
      (template_app
        (template_app (template_hole 0, template_var 2),
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 0,
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 2)),
         template_var 0))),
    ("More_Matrix.conjugate_transpose_rank",
     "vec_space.rank (dim_row ?A) ?A =
      vec_space.rank (dim_col ?A) ?A\<^sup>H",
     template_equation
      (template_app
        (template_app
          (template_hole 4, template_app (template_hole 3, template_var 0)),
         template_var 0),
       template_app
        (template_app
          (template_hole 4, template_app (template_hole 2, template_var 0)),
         template_app
          (template_hole 1,
           template_app (template_hole 0, template_var 0))))),
    ("More_Matrix.kronecker_assoc",
     "kronecker_product ?A (kronecker_product ?B ?C) =
      kronecker_product (kronecker_product ?A ?B) ?C",
     template_equation
      (template_app
        (template_app (template_hole 0, template_var 2),
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 0,
           template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1)),
         template_var 0))),
    ("More_Matrix.pivot_positions_form_helper_2",
     "sorted_wrt (<)
       (map fst (pivot_positions_main_gen ?z ?A ?nr ?nc ?i ?j))",
     template_predicate
      (
         template_app
          (template_app (template_hole 4, template_hole 3),
           template_app
            (template_app (template_hole 2, template_hole 1),
             template_app
              (template_app
                (template_app
                  (template_app
                    (template_app
                      (template_app (template_hole 0, template_var 5),
                       template_var 4),
                     template_var 3),
                   template_var 2),
                 template_var 1),
               template_var 0)))
         )),
    ("More_Matrix.length_pivot_positions_dim_row",
     "row_echelon_form ?A ==> length (pivot_positions ?A) <= dim_row ?A",
     template_implication
      ([template_predicate
         (template_app (template_hole 5, template_var 0))],
       template_inequation
        (less_equals,
         template_app
          (template_hole 3,
           template_app
            (template_app (template_hole 2, template_hole 1),
             template_var 0)),
         template_app (template_hole 0, template_var 0)))),
    ("More_Matrix.Units_invertible",
     "?A : Units (ring_mat TYPE(?'a) ?n ?b) ==> invertible_mat ?A",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 2),
              template_app
               (template_hole 3,
                template_app
                 (template_app
                   (template_app (template_hole 2, template_hole 1),
                    template_var 1),
                  template_var 0)))
            )],
       template_predicate
        (template_app (template_hole 0, template_var 2)))),
    ("More_Matrix.cols_mat_mul",
     "set (cols (?A * ?B)) = (*\<^sub>v) ?A ` set (cols ?B)",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_hole 3,
           template_app
            (template_app (template_hole 2, template_var 1),
             template_var 0))),
       template_app
        (template_app
          (template_hole 1, template_app (template_hole 0, template_var 1)),
         template_app
          (template_hole 4,
           template_app (template_hole 3, template_var 0))))),
    ("More_Matrix.invertible_Units",
     "invertible_mat ?A ==>
      ?A : Units (ring_mat TYPE(?'a) (dim_row ?A) ?b)",
     template_implication
      ([template_predicate
         (template_app (template_hole 5, template_var 1))],
       template_predicate
        (
           template_app
            (template_app (template_hole 4, template_var 1),
             template_app
              (template_hole 3,
               template_app
                (template_app
                  (template_app (template_hole 2, template_hole 1),
                   template_app (template_hole 0, template_var 1)),
                 template_var 0)))
           ))),
    ("More_Matrix.cong1",
     "?x = ?y ==> mat_of_cols ?n ?x = mat_of_cols ?n ?y",
     template_implication
      ([template_equation (template_var 2, template_var 1)],
       template_equation
        (template_app
          (template_app (template_hole 0, template_var 0), template_var 2),
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("More_Matrix.less_mult_imp_mod_less",
     "?m < ?n * ?i ==> ?m mod ?i < ?i",
     template_implication
      ([template_inequation
         (less_than, template_var 2,
          template_app
           (template_app (template_hole 1, template_var 1),
            template_var 0))],
       template_inequation
        (less_than,
         template_app
          (template_app (template_hole 0, template_var 2), template_var 0),
         template_var 0))),
    ("More_Matrix.kronecker_invertible",
     "[| invertible_mat ?A; invertible_mat ?B |]
      ==> invertible_mat (kronecker_product ?A ?B)",
     template_implication
      ([template_predicate (template_app (template_hole 1, template_var 1)),
        template_predicate
         (template_app (template_hole 1, template_var 0))],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0))
           ))),
    ("More_Matrix.carrier_vec_conjugate",
     "?m : carrier_mat ?nr ?nc ==> conjugate ?m : carrier_mat ?nr ?nc",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 2),
              template_app
               (template_app (template_hole 1, template_var 1),
                template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 2,
               template_app (template_hole 0, template_var 2)),
             template_app
              (template_app (template_hole 1, template_var 1),
               template_var 0))
           ))),
    ("More_Matrix.nth_filter",
     "?j < length (filter ?P ?ls) ==> ?P (filter ?P ?ls ! ?j)",
     template_implication
      ([template_inequation
         (less_than, template_var 2,
          template_app
           (template_hole 2,
            template_app
             (template_app (template_hole 1, template_var 1),
              template_var 0)))],
       template_predicate
        (
           template_app
            (template_var 1,
             template_app
              (template_app
                (template_hole 0,
                 template_app
                  (template_app (template_hole 1, template_var 1),
                   template_var 0)),
               template_var 2))
           ))),
    ("More_Matrix.col_conjugate",
     "?i < dim_col ?m ==> col (conjugate ?m) ?i = conjugate (col ?m ?i)",
     template_implication
      ([template_inequation
         (less_than, template_var 1,
          template_app (template_hole 4, template_var 0))],
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 0)),
           template_var 1),
         template_app
          (template_hole 0,
           template_app
            (template_app (template_hole 2, template_var 0),
             template_var 1))))),
    ("More_Matrix.row_conjugate",
     "?i < dim_row ?m ==> row (conjugate ?m) ?i = conjugate (row ?m ?i)",
     template_implication
      ([template_inequation
         (less_than, template_var 1,
          template_app (template_hole 4, template_var 0))],
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 0)),
           template_var 1),
         template_app
          (template_hole 0,
           template_app
            (template_app (template_hole 2, template_var 0),
             template_var 1))))),
    ("More_Matrix.invertible_det",
     "?A : carrier_mat ?n ?n ==> invertible_mat ?A = (det ?A ~= (0::?'a))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 1),
              template_app
               (template_app (template_hole 6, template_var 0),
                template_var 0))
            )],
       template_implication
        ([template_predicate
           (template_app (template_hole 4, template_var 1))],
         template_negation
          (
             template_equation
              (template_app (template_hole 1, template_var 1),
               template_hole 0)
             )))),
    ("More_Matrix.gauss_jordan_take_cols",
     "gauss_jordan ?A (take_cols ?A ?inds) = (?C, ?D) ==>
      ?D = take_cols ?C ?inds",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 3, template_var 3),
            template_app
             (template_app (template_hole 2, template_var 3),
              template_var 2)),
          template_app
           (template_app (template_hole 1, template_var 1),
            template_var 0))],
       template_equation
        (template_var 0,
         template_app
          (template_app (template_hole 2, template_var 1),
           template_var 2)))),
    ("More_Matrix.pivot_positions_form_helper_1",
     "(?a, ?b) : set (pivot_positions_main_gen ?z ?A ?nr ?nc ?i ?j) ==>
      ?i <= ?a",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 4,
                template_app
                 (template_app (template_hole 3, template_var 7),
                  template_var 6)),
              template_app
               (template_hole 2,
                template_app
                 (template_app
                   (template_app
                     (template_app
                       (template_app
                         (template_app (template_hole 1, template_var 5),
                          template_var 4),
                        template_var 3),
                      template_var 2),
                    template_var 1),
                  template_var 0)))
            )],
       template_inequation (less_equals, template_var 1, template_var 7))),
    ("More_Matrix.rows_inj",
     "[| dim_col ?A = dim_col ?B; rows ?A = rows ?B |] ==> ?A = ?B",
     template_implication
      ([template_equation
         (template_app (template_hole 3, template_var 1),
          template_app (template_hole 3, template_var 0)),
        template_equation
         (template_app (template_hole 1, template_var 1),
          template_app (template_hole 1, template_var 0))],
       template_equation (template_var 1, template_var 0))),
    ("More_Matrix.arith",
     "[| ?d < ?a; ?c < ?b |] ==> ?b * ?d + ?c < ?a * ?b",
     template_implication
      ([template_inequation (less_than, template_var 3, template_var 2),
        template_inequation (less_than, template_var 1, template_var 0)],
       template_inequation
        (less_than,
         template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 0),
               template_var 3)),
           template_var 1),
         template_app
          (template_app (template_hole 0, template_var 2),
           template_var 0)))),
    ("More_Matrix.inverts_mat_length",
     "[| square_mat ?A; inverts_mat ?A ?B; inverts_mat ?B ?A |]
      ==> dim_col ?B = dim_col ?A",
     template_implication
      ([template_predicate (template_app (template_hole 3, template_var 1)),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 1),
              template_var 0)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 0),
              template_var 1)
            )],
       template_equation
        (template_app (template_hole 0, template_var 0),
         template_app (template_hole 0, template_var 1)))),
    ("More_Matrix.inverts_mat_length",
     "[| square_mat ?A; inverts_mat ?A ?B; inverts_mat ?B ?A |]
      ==> dim_row ?B = dim_row ?A",
     template_implication
      ([template_predicate (template_app (template_hole 3, template_var 1)),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 1),
              template_var 0)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 0),
              template_var 1)
            )],
       template_equation
        (template_app (template_hole 0, template_var 0),
         template_app (template_hole 0, template_var 1)))),
    ("More_Matrix.row_mat_of_cols",
     "?i < ?nr ==>
      row (mat_of_cols ?nr ?ls) ?i = vec (length ?ls) (%j. ?ls ! j $ ?i)",
     template_implication
      ([template_inequation (less_than, template_var 2, template_var 1)],
       template_equation
        (template_app
          (template_app
            (template_hole 5,
             template_app
              (template_app (template_hole 4, template_var 1),
               template_var 0)),
           template_var 2),
         template_app
          (template_app
            (template_hole 3,
             template_app (template_hole 2, template_var 0)),
           t_empty)))),
    ("More_Matrix.append_rows_mat_mul",
     "dim_col ?A = dim_col ?B ==>
      (?A @\<^sub>r ?B) * ?C = ?A * ?C @\<^sub>r ?B * ?C",
     template_implication
      ([template_equation
         (template_app (template_hole 3, template_var 2),
          template_app (template_hole 3, template_var 1))],
       template_equation
        (template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 2),
               template_var 1)),
           template_var 0),
         template_app
          (template_app
            (template_hole 0,
             template_app
              (template_app (template_hole 1, template_var 2),
               template_var 0)),
           template_app
            (template_app (template_hole 1, template_var 1),
             template_var 0))))),
    ("More_Matrix.dim_col_take_cols",
     "(!!j. j : set ?inds ==> j < dim_col ?A) ==>
      dim_col (take_cols ?A ?inds) = length ?inds",
     template_implication
      ([template_predicate (template_app (template_hole 8, t_empty))],
       template_equation
        (template_app
          (template_hole 3,
           template_app
            (template_app (template_hole 1, template_var 0),
             template_var 1)),
         template_app (template_hole 0, template_var 1)))),
    ("More_Matrix.set_obtain_sublist",
     "[| ?S <= set ?ls; !!ss. [| distinct ss; ?S = set ss |] ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_inequation
         (less_equals, template_var 2,
          template_app (template_hole 3, template_var 1)),
        template_predicate (template_app (template_hole 2, t_empty))],
       template_predicate (template_var 0))),
    ("More_Matrix.take_cols_carrier_mat",
     "[| ?A : carrier_mat ?nr ?nc;
         !!n. take_cols ?A ?inds : carrier_mat ?nr n ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 4),
              template_app
               (template_app (template_hole 2, template_var 3),
                template_var 2))
            ),
        template_predicate (template_app (template_hole 1, t_empty))],
       template_predicate (template_var 0))),
    ("More_Matrix.rank_mat_mul_left",
     "[| ?A : carrier_mat ?n ?d; ?B : carrier_mat ?d ?nc |]
      ==> vec_space.rank ?n (?A * ?B) <= vec_space.rank ?d ?B",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 4),
              template_app
               (template_app (template_hole 3, template_var 3),
                template_var 2))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 1),
              template_app
               (template_app (template_hole 3, template_var 2),
                template_var 0))
            )],
       template_inequation
        (less_equals,
         template_app
          (template_app (template_hole 1, template_var 3),
           template_app
            (template_app (template_hole 0, template_var 4),
             template_var 1)),
         template_app
          (template_app (template_hole 1, template_var 2),
           template_var 1)))),
    ("More_Matrix.mat_index_conjugate",
     "[| ?i < dim_row ?m; ?j < dim_col ?m |]
      ==> conjugate ?m $$ (?i, ?j) = conjugate (?m $$ (?i, ?j))",
     template_implication
      ([template_inequation
         (less_than, template_var 2,
          template_app (template_hole 6, template_var 1)),
        template_inequation
         (less_than, template_var 0,
          template_app (template_hole 5, template_var 1))],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app (template_hole 2, template_var 1)),
           template_app
            (template_app (template_hole 1, template_var 2),
             template_var 0)),
         template_app
          (template_hole 0,
           template_app
            (template_app (template_hole 3, template_var 1),
             template_app
              (template_app (template_hole 1, template_var 2),
               template_var 0)))))),
    ("More_Matrix.take_cols_mat_mul",
     "[| ?A : carrier_mat ?nr ?n; ?B : carrier_mat ?n ?nc |]
      ==> ?A * take_cols ?B ?inds = take_cols (?A * ?B) ?inds",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 5),
              template_app
               (template_app (template_hole 3, template_var 4),
                template_var 3))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 2),
              template_app
               (template_app (template_hole 3, template_var 3),
                template_var 1))
            )],
       template_equation
        (template_app
          (template_app (template_hole 1, template_var 5),
           template_app
            (template_app (template_hole 0, template_var 2),
             template_var 0)),
         template_app
          (template_app
            (template_hole 0,
             template_app
              (template_app (template_hole 1, template_var 5),
               template_var 2)),
           template_var 0)))),
    ("More_Matrix.kronecker_distr_left",
     "[| dim_row ?B = dim_row ?C; dim_col ?B = dim_col ?C |]
      ==> kronecker_product ?A (?B + ?C) =
          kronecker_product ?A ?B + kronecker_product ?A ?C",
     template_implication
      ([template_equation
         (template_app (template_hole 4, template_var 2),
          template_app (template_hole 4, template_var 1)),
        template_equation
         (template_app (template_hole 3, template_var 2),
          template_app (template_hole 3, template_var 1))],
       template_equation
        (template_app
          (template_app (template_hole 1, template_var 0),
           template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1)),
         template_app
          (template_app
            (template_hole 0,
             template_app
              (template_app (template_hole 1, template_var 0),
               template_var 2)),
           template_app
            (template_app (template_hole 1, template_var 0),
             template_var 1))))),
    ("More_Matrix.kronecker_distr_right",
     "[| dim_row ?B = dim_row ?C; dim_col ?B = dim_col ?C |]
      ==> kronecker_product (?B + ?C) ?A =
          kronecker_product ?B ?A + kronecker_product ?C ?A",
     template_implication
      ([template_equation
         (template_app (template_hole 4, template_var 2),
          template_app (template_hole 4, template_var 1)),
        template_equation
         (template_app (template_hole 3, template_var 2),
          template_app (template_hole 3, template_var 1))],
       template_equation
        (template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 2),
               template_var 1)),
           template_var 0),
         template_app
          (template_app
            (template_hole 0,
             template_app
              (template_app (template_hole 1, template_var 2),
               template_var 0)),
           template_app
            (template_app (template_hole 1, template_var 1),
             template_var 0))))),
    ("More_Matrix.sum_sum_mod_div",
     "(SUM ia = 0..<?x. sum (?f ia) {0..<?y}) =
      (SUM ia = 0..<?x * ?y. ?f (ia div ?y) (ia mod ?y))",
     template_equation
      (template_app
        (template_app (template_hole 5, t_empty),
         template_app
          (template_app (template_hole 4, template_hole 3),
           template_var 0)),
       template_app
        (template_app (template_hole 5, t_empty),
         template_app
          (template_app (template_hole 4, template_hole 3),
           template_app
            (template_app (template_hole 0, template_var 0),
             template_var 1))))),
    ("More_Matrix.pivot_positions_form",
     "[| row_echelon_form ?A; dim_row ?A <= dim_col ?A |]
      ==> ALL i<length (pivot_positions ?A).
             fst (pivot_positions ?A ! i) = i",
     template_implication
      ([template_predicate
         (template_app (template_hole 12, template_var 0)),
        template_inequation
         (less_equals, template_app (template_hole 10, template_var 0),
          template_app (template_hole 9, template_var 0))],
       template_predicate (template_app (template_hole 8, t_empty)))),
    ("More_Matrix.take_cols_carrier_mat_strict",
     "[| ?A : carrier_mat ?nr ?nc; !!i. i : set ?inds ==> i < ?nc |]
      ==> take_cols ?A ?inds : carrier_mat ?nr (length ?inds)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 3),
              template_app
               (template_app (template_hole 6, template_var 2),
                template_var 1))
            ),
        template_predicate (template_app (template_hole 5, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 7,
               template_app
                (template_app (template_hole 1, template_var 3),
                 template_var 0)),
             template_app
              (template_app (template_hole 6, template_var 2),
               template_app (template_hole 0, template_var 0)))
           ))),
    ("More_Matrix.rref_pivot_positions",
     "[| row_echelon_form ?R; ?R : carrier_mat ?nr ?nc;
         (?i, ?j) : set (pivot_positions ?R) |]
      ==> ?i < ?nr & ?j < ?nc",
     template_implication
      ([template_predicate (template_app (template_hole 9, template_var 4)),
        template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 4),
              template_app
               (template_app (template_hole 7, template_var 3),
                template_var 2))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 6,
                template_app
                 (template_app (template_hole 5, template_var 1),
                  template_var 0)),
              template_app
               (template_hole 4,
                template_app
                 (template_app (template_hole 3, template_hole 2),
                  template_var 4)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 3)),
             template_app
              (template_app (template_hole 0, template_var 0),
               template_var 2))
           ))),
    ("More_Matrix.rref_right_mul",
     "[| row_echelon_form ?A; dim_row ?A <= dim_col ?A |]
      ==> take_cols ?A (map snd (pivot_positions ?A)) *
          take_rows ?A [0..<length (pivot_positions ?A)] =
          ?A",
     template_implication
      ([template_predicate
         (template_app (template_hole 14, template_var 0)),
        template_inequation
         (less_equals, template_app (template_hole 12, template_var 0),
          template_app (template_hole 11, template_var 0))],
       template_equation
        (template_app
          (template_app
            (template_hole 9,
             template_app
              (template_app (template_hole 8, template_var 0),
               template_app
                (template_app (template_hole 7, template_hole 6),
                 template_app
                  (template_app (template_hole 5, template_hole 4),
                   template_var 0)))),
           template_app
            (template_app (template_hole 3, template_var 0),
             template_app
              (template_app (template_hole 2, template_hole 1),
               template_app
                (template_hole 0,
                 template_app
                  (template_app (template_hole 5, template_hole 4),
                   template_var 0))))),
         template_var 0))),
    ("More_Matrix.kronecker_of_mult",
     "[| dim_col ?A = dim_row ?C; dim_col ?B = dim_row ?D |]
      ==> kronecker_product ?A ?B * kronecker_product ?C ?D =
          kronecker_product (?A * ?C) (?B * ?D)",
     template_implication
      ([template_equation
         (template_app (template_hole 4, template_var 3),
          template_app (template_hole 3, template_var 2)),
        template_equation
         (template_app (template_hole 4, template_var 1),
          template_app (template_hole 3, template_var 0))],
       template_equation
        (template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 3),
               template_var 1)),
           template_app
            (template_app (template_hole 0, template_var 2),
             template_var 0)),
         template_app
          (template_app
            (template_hole 0,
             template_app
              (template_app (template_hole 1, template_var 3),
               template_var 2)),
           template_app
            (template_app (template_hole 1, template_var 1),
             template_var 0))))),
    ("More_Matrix.index_mat_mod",
     "0 < ?nr & 0 < ?nc ==>
      mat ?nr ?nc ?f $$ (?i mod ?nr, ?j mod ?nc) =
      ?f (?i mod ?nr, ?j mod ?nc)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 7,
                template_app
                 (template_app (template_hole 6, template_hole 5),
                  template_var 4)),
              template_app
               (template_app (template_hole 6, template_hole 5),
                template_var 3))
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app
                (template_app (template_hole 2, template_var 4),
                 template_var 3),
               template_var 2)),
           template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 4)),
             template_app
              (template_app (template_hole 0, template_var 0),
               template_var 3))),
         template_app
          (template_var 2,
           template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 4)),
             template_app
              (template_app (template_hole 0, template_var 0),
               template_var 3)))))),
    ("More_Matrix.mat_of_cols_mult_mat_vec_permute_list",
     "[| ?f permutes {..<length ?ss}; length ?ss = length ?v |]
      ==> mat_of_cols ?nr (permute_list ?f ?ss) *\<^sub>v
          vec_of_list (permute_list ?f ?v) =
          mat_of_cols ?nr ?ss *\<^sub>v vec_of_list ?v",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 10, template_var 3),
              template_app
               (template_hole 9,
                template_app (template_hole 8, template_var 2)))
            ),
        template_equation
         (template_app (template_hole 8, template_var 2),
          template_app (template_hole 6, template_var 1))],
       template_equation
        (template_app
          (template_app
            (template_hole 4,
             template_app
              (template_app (template_hole 3, template_var 0),
               template_app
                (template_app (template_hole 2, template_var 3),
                 template_var 2))),
           template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 3),
               template_var 1))),
         template_app
          (template_app
            (template_hole 4,
             template_app
              (template_app (template_hole 3, template_var 0),
               template_var 2)),
           template_app (template_hole 1, template_var 1))))),
    ("More_Matrix.pivot_fun_monoton",
     "[| pivot_fun ?A ?f (dim_col ?A); dim_row ?A = ?nr; ?i < ?nr |]
      ==> ?k < ?nr & ?i < ?k --> ?f ?i <= ?f ?k",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 7, template_var 4),
                template_var 3),
              template_app (template_hole 6, template_var 4))
            ),
        template_equation
         (template_app (template_hole 4, template_var 4), template_var 2),
        template_inequation (less_than, template_var 1, template_var 2)],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app
                  (template_hole 1,
                   template_app
                    (template_app (template_hole 3, template_var 0),
                     template_var 2)),
                 template_app
                  (template_app (template_hole 3, template_var 1),
                   template_var 0))),
             template_app
              (template_app
                (template_hole 0,
                 template_app (template_var 3, template_var 1)),
               template_app (template_var 3, template_var 0)))
           ))),
    ("More_Matrix.vec_module_col_helper",
     "0\<^sub>v (dim_row ?A)
      : LinearCombinations.module.span class_ring
         (| carrier = carrier_vec (dim_row ?A), mult = undefined,
            one = undefined, zero = 0\<^sub>v (dim_row ?A), add = (+),
            smult = (\<cdot>\<^sub>v) |)
         (set (cols ?A))",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 23,
             template_app
              (template_hole 22,
               template_app (template_hole 21, template_var 0))),
           template_app
            (template_app
              (template_app
                (template_hole 20,
                 template_app
                  (template_app (template_hole 19, template_hole 18),
                   template_app
                    (template_app
                      (template_app (template_hole 17, template_hole 16),
                       template_hole 15),
                     template_app
                      (template_app
                        (template_app (template_hole 14, template_hole 13),
                         template_hole 12),
                       template_hole 11)))),
               template_app
                (template_app
                  (template_hole 10,
                   template_app
                    (template_hole 9,
                     template_app (template_hole 21, template_var 0))),
                 template_app
                  (template_app
                    (template_app (template_hole 8, template_hole 7),
                     template_hole 6),
                   template_app
                    (template_app
                      (template_app
                        (template_hole 5,
                         template_app
                          (template_hole 22,
                           template_app
                            (template_hole 21, template_var 0))),
                       template_hole 4),
                     template_app
                      (template_app (template_hole 3, template_hole 2),
                       template_hole 11))))),
             template_app
              (template_hole 1,
               template_app (template_hole 0, template_var 0))))
         )),
    ("More_Matrix.row_echelon_form_zero_rows",
     "[| row_echelon_form ?A; dim_row ?A <= dim_col ?A |]
      ==> take_rows ?A [0..<length (pivot_positions ?A)] @\<^sub>r
          0\<^sub>m (dim_row ?A - length (pivot_positions ?A))
           (dim_col ?A) =
          ?A",
     template_implication
      ([template_predicate
         (template_app (template_hole 13, template_var 0)),
        template_inequation
         (less_equals, template_app (template_hole 11, template_var 0),
          template_app (template_hole 10, template_var 0))],
       template_equation
        (template_app
          (template_app
            (template_hole 8,
             template_app
              (template_app (template_hole 7, template_var 0),
               template_app
                (template_app (template_hole 6, template_hole 5),
                 template_app
                  (template_hole 4,
                   template_app
                    (template_app (template_hole 3, template_hole 2),
                     template_var 0))))),
           template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app
                  (template_hole 0,
                   template_app (template_hole 11, template_var 0)),
                 template_app
                  (template_hole 4,
                   template_app
                    (template_app (template_hole 3, template_hole 2),
                     template_var 0)))),
             template_app (template_hole 10, template_var 0))),
         template_var 0))),
    ("More_Matrix.mat_of_cols_cons_mat_vec",
     "[| ?v : carrier_vec (length ?ls); dim_vec ?a = ?nr |]
      ==> mat_of_cols ?nr (?a # ?ls) *\<^sub>v vCons ?m ?v =
          ?m \<cdot>\<^sub>v ?a + mat_of_cols ?nr ?ls *\<^sub>v ?v",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 11, template_var 4),
              template_app
               (template_hole 10,
                template_app (template_hole 9, template_var 3)))
            ),
        template_equation
         (template_app (template_hole 7, template_var 2), template_var 1)],
       template_equation
        (template_app
          (template_app
            (template_hole 5,
             template_app
              (template_app (template_hole 4, template_var 1),
               template_app
                (template_app (template_hole 3, template_var 2),
                 template_var 3))),
           template_app
            (template_app (template_hole 2, template_var 0),
             template_var 4)),
         template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 0),
               template_var 2)),
           template_app
            (template_app
              (template_hole 5,
               template_app
                (template_app (template_hole 4, template_var 1),
                 template_var 3)),
             template_var 4))))),
    ("More_Matrix.vec_module_col",
     "Module.module class_ring
       (module_vec TYPE(?'a) (dim_row ?A)
        (| carrier :=
             LinearCombinations.module.span class_ring
              (module_vec TYPE(?'a) (dim_row ?A)) (set (cols ?A)) |))",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 16,
             template_app
              (template_app (template_hole 15, template_hole 14),
               template_app
                (template_app
                  (template_app (template_hole 13, template_hole 12),
                   template_hole 11),
                 template_app
                  (template_app
                    (template_app (template_hole 10, template_hole 9),
                     template_hole 8),
                   template_hole 7)))),
           template_app
            (template_app (template_hole 6, t_empty),
             template_app
              (template_app (template_hole 4, template_hole 3),
               template_app (template_hole 2, template_var 0))))
         )),
    ("More_Matrix.vec_vs_col",
     "vectorspace class_ring
       (module_vec TYPE(?'a) (dim_row ?A)
        (| carrier :=
             LinearCombinations.module.span class_ring
              (module_vec TYPE(?'a) (dim_row ?A)) (set (cols ?A)) |))",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 16,
             template_app
              (template_app (template_hole 15, template_hole 14),
               template_app
                (template_app
                  (template_app (template_hole 13, template_hole 12),
                   template_hole 11),
                 template_app
                  (template_app
                    (template_app (template_hole 10, template_hole 9),
                     template_hole 8),
                   template_hole 7)))),
           template_app
            (template_app (template_hole 6, t_empty),
             template_app
              (template_app (template_hole 4, template_hole 3),
               template_app (template_hole 2, template_var 0))))
         )),
    ("More_Matrix.mat_mul_conjugate_transpose_vec_eq_0",
     "[| ?A : carrier_mat ?nr ?nc; ?v : carrier_vec ?nr;
         ?A *\<^sub>v (?A\<^sup>H *\<^sub>v ?v) = 0\<^sub>v ?nr |]
      ==> ?A\<^sup>H *\<^sub>v ?v = 0\<^sub>v ?nc",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 3),
              template_app
               (template_app (template_hole 7, template_var 2),
                template_var 1))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 0),
              template_app (template_hole 5, template_var 2))
            ),
        template_equation
         (template_app
           (template_app (template_hole 3, template_var 3),
            template_app
             (template_app
               (template_hole 3,
                template_app
                 (template_hole 2,
                  template_app (template_hole 1, template_var 3))),
              template_var 0)),
          template_app (template_hole 0, template_var 2))],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app
              (template_hole 2,
               template_app (template_hole 1, template_var 3))),
           template_var 0),
         template_app (template_hole 0, template_var 1)))),
    ("More_Matrix.cscalar_prod_conjugate_transpose",
     "[| ?A : carrier_mat ?nr ?nc; ?x : carrier_vec ?nr;
         ?y : carrier_vec ?nc |]
      ==> ?x \<bullet>c (?A *\<^sub>v ?y) =
          (?A\<^sup>H *\<^sub>v ?x) \<bullet>c ?y",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 9, template_var 4),
              template_app
               (template_app (template_hole 8, template_var 3),
                template_var 2))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 1),
              template_app (template_hole 6, template_var 3))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 0),
              template_app (template_hole 6, template_var 2))
            )],
       template_equation
        (template_app
          (template_app (template_hole 4, template_var 1),
           template_app
            (template_hole 3,
             template_app
              (template_app (template_hole 2, template_var 4),
               template_var 0))),
         template_app
          (template_app
            (template_hole 4,
             template_app
              (template_app
                (template_hole 2,
                 template_app
                  (template_hole 1,
                   template_app (template_hole 0, template_var 4))),
               template_var 1)),
           template_app (template_hole 3, template_var 0))))),
    ("More_Matrix.mul_mat_of_cols",
     "[| ?A : carrier_mat ?nr ?n;
         !!j. j < length ?cs ==> ?cs ! j : carrier_vec ?n |]
      ==> ?A * mat_of_cols ?n ?cs =
          mat_of_cols ?nr (map ((*\<^sub>v) ?A) ?cs)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 12, template_var 3),
              template_app
               (template_app (template_hole 11, template_var 2),
                template_var 1))
            ),
        template_predicate (template_app (template_hole 10, t_empty))],
       template_equation
        (template_app
          (template_app (template_hole 3, template_var 3),
           template_app
            (template_app (template_hole 2, template_var 1),
             template_var 0)),
         template_app
          (template_app (template_hole 2, template_var 2),
           template_app
            (template_app
              (template_hole 1,
               template_app (template_hole 0, template_var 3)),
             template_var 0))))),
    ("More_Matrix.row_append_rows",
     "[| dim_col ?A = dim_col ?B; ?i < dim_row ?A + dim_row ?B |]
      ==> row (?A @\<^sub>r ?B) ?i =
          (if ?i < dim_row ?A then row ?A ?i
           else row ?B (?i - dim_row ?A))",
     template_implication
      ([template_equation
         (template_app (template_hole 8, template_var 2),
          template_app (template_hole 8, template_var 1)),
        template_inequation
         (less_than, template_var 0,
          template_app
           (template_app
             (template_hole 6,
              template_app (template_hole 5, template_var 2)),
            template_app (template_hole 5, template_var 1)))],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app (template_hole 2, template_var 2),
               template_var 1)),
           template_var 0),
         template_app
          (template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 7, template_var 0),
                 template_app (template_hole 5, template_var 2))),
             template_app
              (template_app (template_hole 3, template_var 2),
               template_var 0)),
           template_app
            (template_app (template_hole 3, template_var 1),
             template_app
              (template_app (template_hole 0, template_var 0),
               template_app (template_hole 5, template_var 2))))))),
    ("More_Matrix.pivot_positions_contains",
     "[| row_echelon_form ?A; dim_row ?A <= dim_col ?A;
         pivot_fun ?A ?f (dim_col ?A) |]
      ==> ALL i<length (pivot_positions ?A).
             (i, ?f i) : set (pivot_positions ?A)",
     template_implication
      ([template_predicate
         (template_app (template_hole 13, template_var 1)),
        template_inequation
         (less_equals, template_app (template_hole 11, template_var 1),
          template_app (template_hole 10, template_var 1)),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 9, template_var 1),
                template_var 0),
              template_app (template_hole 10, template_var 1))
            )],
       template_predicate (template_app (template_hole 8, t_empty)))),
    ("More_Matrix.take_cols_pivot_eq",
     "[| row_echelon_form ?A; dim_row ?A <= dim_col ?A |]
      ==> take_cols ?A (map snd (pivot_positions ?A)) =
          1\<^sub>m (length (pivot_positions ?A)) @\<^sub>r
          0\<^sub>m (dim_row ?A - length (pivot_positions ?A))
           (length (pivot_positions ?A))",
     template_implication
      ([template_predicate
         (template_app (template_hole 14, template_var 0)),
        template_inequation
         (less_equals, template_app (template_hole 12, template_var 0),
          template_app (template_hole 11, template_var 0))],
       template_equation
        (template_app
          (template_app (template_hole 9, template_var 0),
           template_app
            (template_app (template_hole 8, template_hole 7),
             template_app
              (template_app (template_hole 6, template_hole 5),
               template_var 0))),
         template_app
          (template_app
            (template_hole 4,
             template_app
              (template_hole 3,
               template_app
                (template_hole 2,
                 template_app
                  (template_app (template_hole 6, template_hole 5),
                   template_var 0)))),
           template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app
                  (template_hole 0,
                   template_app (template_hole 12, template_var 0)),
                 template_app
                  (template_hole 2,
                   template_app
                    (template_app (template_hole 6, template_hole 5),
                     template_var 0)))),
             template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 6, template_hole 5),
                 template_var 0))))))),
    ("More_Matrix.distinct_list_subset_nths",
     "[| distinct ?ss; set ?ss <= set ?ls;
         !!ids.
            [| distinct ids; set ids <= {..<length ?ls};
               ?ss = map ((!) ?ls) ids |]
            ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (template_app (template_hole 11, template_var 2)),
        template_inequation
         (less_equals, template_app (template_hole 9, template_var 2),
          template_app (template_hole 9, template_var 1)),
        template_predicate (template_app (template_hole 8, t_empty))],
       template_predicate (template_var 0))),
    ("More_Matrix.helper2",
     "[| ?v : carrier_vec (length ?ss);
         !!x. x : set ?ls ==> dim_vec x = ?nr |]
      ==> mat_of_cols ?nr ?ss *\<^sub>v ?v =
          mat_of_cols ?nr (?ls @ ?ss) *\<^sub>v
          (0\<^sub>v (length ?ls) @\<^sub>v ?v)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 12, template_var 3),
              template_app
               (template_hole 11,
                template_app (template_hole 10, template_var 2)))
            ),
        template_predicate (template_app (template_hole 9, t_empty))],
       template_equation
        (template_app
          (template_app
            (template_hole 4,
             template_app
              (template_app (template_hole 3, template_var 0),
               template_var 2)),
           template_var 3),
         template_app
          (template_app
            (template_hole 4,
             template_app
              (template_app (template_hole 3, template_var 0),
               template_app
                (template_app (template_hole 2, template_var 1),
                 template_var 2))),
           template_app
            (template_app
              (template_hole 1,
               template_app
                (template_hole 0,
                 template_app (template_hole 10, template_var 1))),
             template_var 3))))),
    ("More_Matrix.append_rows_index",
     "[| dim_col ?A = dim_col ?B; ?i < dim_row ?A + dim_row ?B;
         ?j < dim_col ?A |]
      ==> (?A @\<^sub>r ?B) $$ (?i, ?j) =
          (if ?i < dim_row ?A then ?A $$ (?i, ?j)
           else ?B $$ (?i - dim_row ?A, ?j))",
     template_implication
      ([template_equation
         (template_app (template_hole 9, template_var 3),
          template_app (template_hole 9, template_var 2)),
        template_inequation
         (less_than, template_var 1,
          template_app
           (template_app
             (template_hole 7,
              template_app (template_hole 6, template_var 3)),
            template_app (template_hole 6, template_var 2))),
        template_inequation
         (less_than, template_var 0,
          template_app (template_hole 9, template_var 3))],
       template_equation
        (template_app
          (template_app
            (template_hole 4,
             template_app
              (template_app (template_hole 3, template_var 3),
               template_var 2)),
           template_app
            (template_app (template_hole 2, template_var 1),
             template_var 0)),
         template_app
          (template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 8, template_var 1),
                 template_app (template_hole 6, template_var 3))),
             template_app
              (template_app (template_hole 4, template_var 3),
               template_app
                (template_app (template_hole 2, template_var 1),
                 template_var 0))),
           template_app
            (template_app (template_hole 4, template_var 2),
             template_app
              (template_app
                (template_hole 2,
                 template_app
                  (template_app (template_hole 0, template_var 1),
                   template_app (template_hole 6, template_var 3))),
               template_var 0)))))),
    ("More_Matrix.mat_mul_conjugate_transpose_sub_vec_eq_0",
     "[| ?A : carrier_mat ?nr ?nc; distinct ?ss;
         set ?ss <= set (cols ?A\<^sup>H); ?v : carrier_vec (length ?ss);
         ?A *\<^sub>v (mat_of_cols ?nc ?ss *\<^sub>v ?v) = 0\<^sub>v ?nr |]
      ==> mat_of_cols ?nc ?ss *\<^sub>v ?v = 0\<^sub>v ?nc",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 14, template_var 4),
              template_app
               (template_app (template_hole 13, template_var 3),
                template_var 2))
            ),
        template_predicate
         (template_app (template_hole 12, template_var 1)),
        template_inequation
         (less_equals, template_app (template_hole 10, template_var 1),
          template_app
           (template_hole 10,
            template_app
             (template_hole 9,
              template_app
               (template_hole 8,
                template_app (template_hole 7, template_var 4))))),
        template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 0),
              template_app
               (template_hole 5,
                template_app (template_hole 4, template_var 1)))
            ),
        template_equation
         (template_app
           (template_app (template_hole 2, template_var 4),
            template_app
             (template_app
               (template_hole 2,
                template_app
                 (template_app (template_hole 1, template_var 2),
                  template_var 1)),
              template_var 0)),
          template_app (template_hole 0, template_var 3))],
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_var 2),
               template_var 1)),
           template_var 0),
         template_app (template_hole 0, template_var 2)))),
    ("More_Matrix.helper3",
     "[| ?A : carrier_mat ?nr ?nc; distinct ?ss; set ?ss <= set (cols ?A);
         ?v : carrier_vec (length ?ss);
         !!c. [| mat_of_cols ?nr ?ss *\<^sub>v ?v = ?A *\<^sub>v c;
                 dim_vec c = ?nc |]
              ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 14, template_var 5),
              template_app
               (template_app (template_hole 13, template_var 4),
                template_var 3))
            ),
        template_predicate
         (template_app (template_hole 12, template_var 2)),
        template_inequation
         (less_equals, template_app (template_hole 10, template_var 2),
          template_app
           (template_hole 10,
            template_app (template_hole 9, template_var 5))),
        template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 1),
              template_app
               (template_hole 7,
                template_app (template_hole 6, template_var 2)))
            ),
        template_predicate (template_app (template_hole 5, t_empty))],
       template_predicate (template_var 0))),
    ("More_Matrix.subindex_permutation2",
     "[| distinct ?ss; set ?ss <= {..<length ?ls};
         !!f. [| f permutes {..<length ?ls};
                 ?ls =
                 permute_list f
                  (map ((!) ?ls)
                    (filter (%i. i ~: set ?ss) [0..<length ?ls]) @
                   map ((!) ?ls) ?ss) |]
              ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (template_app (template_hole 16, template_var 2)),
        template_inequation
         (less_equals, template_app (template_hole 14, template_var 2),
          template_app
           (template_hole 13,
            template_app (template_hole 12, template_var 1))),
        template_predicate (template_app (template_hole 11, t_empty))],
       template_predicate (template_var 0))),
    ("More_Matrix.subindex_permutation",
     "[| distinct ?ss; set ?ss <= {..<length ?ls};
         !!f. [| f permutes {..<length ?ls};
                 permute_list f ?ls =
                 map ((!) ?ls)
                  (filter (%i. i ~: set ?ss) [0..<length ?ls]) @
                 map ((!) ?ls) ?ss |]
              ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (template_app (template_hole 16, template_var 2)),
        template_inequation
         (less_equals, template_app (template_hole 14, template_var 2),
          template_app
           (template_hole 13,
            template_app (template_hole 12, template_var 1))),
        template_predicate (template_app (template_hole 11, t_empty))],
       template_predicate (template_var 0))),
    ("More_Matrix.kronecker_inverse_index",
     "[| ?r < dim_row ?A; ?s < dim_col ?A; ?v < dim_row ?B;
         ?w < dim_col ?B |]
      ==> kronecker_product ?A ?B $$
          (dim_row ?B * ?r + ?v, dim_col ?B * ?s + ?w) =
          ?A $$ (?r, ?s) * ?B $$ (?v, ?w)",
     template_implication
      ([template_inequation
         (less_than, template_var 5,
          template_app (template_hole 8, template_var 4)),
        template_inequation
         (less_than, template_var 3,
          template_app (template_hole 7, template_var 4)),
        template_inequation
         (less_than, template_var 2,
          template_app (template_hole 8, template_var 1)),
        template_inequation
         (less_than, template_var 0,
          template_app (template_hole 7, template_var 1))],
       template_equation
        (template_app
          (template_app
            (template_hole 5,
             template_app
              (template_app (template_hole 4, template_var 4),
               template_var 1)),
           template_app
            (template_app
              (template_hole 3,
               template_app
                (template_app
                  (template_hole 2,
                   template_app
                    (template_app
                      (template_hole 1,
                       template_app (template_hole 8, template_var 1)),
                     template_var 5)),
                 template_var 2)),
             template_app
              (template_app
                (template_hole 2,
                 template_app
                  (template_app
                    (template_hole 1,
                     template_app (template_hole 7, template_var 1)),
                   template_var 3)),
               template_var 0))),
         template_app
          (template_app
            (template_hole 0,
             template_app
              (template_app (template_hole 5, template_var 4),
               template_app
                (template_app (template_hole 3, template_var 5),
                 template_var 3))),
           template_app
            (template_app (template_hole 5, template_var 1),
             template_app
              (template_app (template_hole 3, template_var 2),
               template_var 0)))))),
    ("More_Matrix.vec_module_col_helper2",
     "[| ?x : LinearCombinations.module.span class_ring
               (| carrier = carrier_vec (dim_row ?A), mult = undefined,
                  one = undefined, zero = 0\<^sub>v (dim_row ?A), add = (+),
                  smult = (\<cdot>\<^sub>v) |)
               (set (cols ?A));
         !!a b v.
            (a + b) \<cdot>\<^sub>v v =
            a \<cdot>\<^sub>v v + b \<cdot>\<^sub>v v |]
      ==> ?a \<cdot>\<^sub>v ?x
          : LinearCombinations.module.span class_ring
             (| carrier = carrier_vec (dim_row ?A), mult = undefined,
                one = undefined, zero = 0\<^sub>v (dim_row ?A), add = (+),
                smult = (\<cdot>\<^sub>v) |)
             (set (cols ?A))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 29, template_var 2),
              template_app
               (template_app
                 (template_app
                   (template_hole 28,
                    template_app
                     (template_app (template_hole 27, template_hole 26),
                      template_app
                       (template_app
                         (template_app (template_hole 25, template_hole 24),
                          template_hole 23),
                        template_app
                         (template_app
                           (template_app
                             (template_hole 22, template_hole 21),
                            template_hole 20),
                          template_hole 19)))),
                  template_app
                   (template_app
                     (template_hole 18,
                      template_app
                       (template_hole 17,
                        template_app (template_hole 16, template_var 1))),
                    template_app
                     (template_app
                       (template_app (template_hole 15, template_hole 14),
                        template_hole 13),
                      template_app
                       (template_app
                         (template_app
                           (template_hole 12,
                            template_app
                             (template_hole 11,
                              template_app
                               (template_hole 16, template_var 1))),
                          template_hole 10),
                        template_app
                         (template_app (template_hole 9, template_hole 8),
                          template_hole 19))))),
                template_app
                 (template_hole 7,
                  template_app (template_hole 6, template_var 1))))
            ),
        template_predicate (template_app (template_hole 5, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 29,
               template_app
                (template_app (template_hole 8, template_var 0),
                 template_var 2)),
             template_app
              (template_app
                (template_app
                  (template_hole 28,
                   template_app
                    (template_app (template_hole 27, template_hole 26),
                     template_app
                      (template_app
                        (template_app (template_hole 25, template_hole 24),
                         template_hole 23),
                       template_app
                        (template_app
                          (template_app
                            (template_hole 22, template_hole 21),
                           template_hole 20),
                         template_hole 19)))),
                 template_app
                  (template_app
                    (template_hole 18,
                     template_app
                      (template_hole 17,
                       template_app (template_hole 16, template_var 1))),
                   template_app
                    (template_app
                      (template_app (template_hole 15, template_hole 14),
                       template_hole 13),
                     template_app
                      (template_app
                        (template_app
                          (template_hole 12,
                           template_app
                            (template_hole 11,
                             template_app
                              (template_hole 16, template_var 1))),
                         template_hole 10),
                       template_app
                        (template_app (template_hole 9, template_hole 8),
                         template_hole 19))))),
               template_app
                (template_hole 7,
                 template_app (template_hole 6, template_var 1))))
           )))]
