   [("Intf_Map.finite_map_rel_trigger",
     "finite_map_rel ?R ==> finite_map_rel ?R",
     template_implication
      ([template_predicate
         (template_app (template_hole 0, template_var 0))],
       template_predicate
        (template_app (template_hole 0, template_var 0)))),
    ("Intf_Map.hom_map1",
     "CONSTRAINT Map.empty (\<langle>?Rk, ?Rv\<rangle>?Rm)",
     template_predicate
      (
         template_app
          (template_app (template_hole 3, t_empty),
           template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 2),
                 template_var 1)),
             template_var 0))
         )),
    ("Intf_Map.hom_map2",
     "CONSTRAINT op_map_size
       (\<langle>?Rk, ?Rv\<rangle>?Rm \<rightarrow> nat_rel)",
     template_predicate
      (
         template_app
          (template_app (template_hole 7, template_hole 6),
           template_app
            (template_app
              (template_hole 5,
               template_app
                (template_app (template_hole 4, template_hole 3),
                 template_app
                  (template_app
                    (template_hole 2,
                     template_app
                      (template_app (template_hole 1, template_var 2),
                       template_var 1)),
                   template_var 0))),
             template_hole 0))
         )),
    ("Intf_Map.hom_map2",
     "CONSTRAINT op_map_isEmpty
       (\<langle>?Rk, ?Rv\<rangle>?Rm \<rightarrow> bool_rel)",
     template_predicate
      (
         template_app
          (template_app (template_hole 7, template_hole 6),
           template_app
            (template_app
              (template_hole 5,
               template_app
                (template_app (template_hole 4, template_hole 3),
                 template_app
                  (template_app
                    (template_hole 2,
                     template_app
                      (template_app (template_hole 1, template_var 2),
                       template_var 1)),
                   template_var 0))),
             template_hole 0))
         )),
    ("Intf_Map.hom_map2",
     "CONSTRAINT op_map_isSng
       (\<langle>?Rk, ?Rv\<rangle>?Rm \<rightarrow> bool_rel)",
     template_predicate
      (
         template_app
          (template_app (template_hole 7, template_hole 6),
           template_app
            (template_app
              (template_hole 5,
               template_app
                (template_app (template_hole 4, template_hole 3),
                 template_app
                  (template_app
                    (template_hole 2,
                     template_app
                      (template_app (template_hole 1, template_var 2),
                       template_var 1)),
                   template_var 0))),
             template_hole 0))
         )),
    ("Intf_Map.hom_map2",
     "CONSTRAINT op_map_size_abort
       (nat_rel \<rightarrow>
        \<langle>?Rk, ?Rv\<rangle>?Rm \<rightarrow> nat_rel)",
     template_predicate
      (
         template_app
          (template_app (template_hole 10, template_hole 9),
           template_app
            (template_app
              (template_hole 8,
               template_app
                (template_app (template_hole 7, template_hole 6),
                 template_hole 5)),
             template_app
              (template_app
                (template_hole 4,
                 template_app
                  (template_app (template_hole 3, template_hole 2),
                   template_app
                    (template_app
                      (template_hole 1,
                       template_app
                        (template_app (template_hole 0, template_var 2),
                         template_var 1)),
                     template_var 0))),
               template_hole 5)))
         )),
    ("Intf_Map.hom_map2",
     "CONSTRAINT op_map_lookup
       (?Rk \<rightarrow>
        \<langle>?Rk, ?Rv\<rangle>?Rm \<rightarrow>
        \<langle>?Rv\<rangle>option_rel)",
     template_predicate
      (
         template_app
          (template_app (template_hole 11, template_hole 10),
           template_app
            (template_app
              (template_hole 9,
               template_app
                (template_app (template_hole 8, template_hole 7),
                 template_var 2)),
             template_app
              (template_app
                (template_hole 6,
                 template_app
                  (template_app (template_hole 5, template_hole 4),
                   template_app
                    (template_app
                      (template_hole 3,
                       template_app
                        (template_app (template_hole 2, template_var 1),
                         template_var 2)),
                     template_var 0))),
               template_app
                (template_app (template_hole 1, template_hole 0),
                 template_var 0))))
         )),
    ("Intf_Map.hom_map2",
     "CONSTRAINT op_map_pick
       (\<langle>?Rk, ?Rv\<rangle>?Rm \<rightarrow>
        \<langle>?Rk \<times>\<^sub>r ?Rv\<rangle>nres_rel)",
     template_predicate
      (
         template_app
          (template_app (template_hole 11, template_hole 10),
           template_app
            (template_app
              (template_hole 9,
               template_app
                (template_app (template_hole 8, template_hole 7),
                 template_app
                  (template_app
                    (template_hole 6,
                     template_app
                      (template_app (template_hole 5, template_var 2),
                       template_var 1)),
                   template_var 0))),
             template_app
              (template_app (template_hole 4, template_hole 3),
               template_app
                (template_app
                  (template_hole 2,
                   template_app
                    (template_app (template_hole 1, template_hole 0),
                     template_var 1)),
                 template_var 0))))
         )),
    ("Intf_Map.hom_map1",
     "CONSTRAINT map_of
       (\<langle>?Rk \<times>\<^sub>r ?Rv\<rangle>list_rel \<rightarrow>
        \<langle>?Rk, ?Rv\<rangle>?Rm)",
     template_predicate
      (
         template_app
          (template_app (template_hole 11, template_hole 10),
           template_app
            (template_app
              (template_hole 9,
               template_app
                (template_app (template_hole 8, template_hole 7),
                 template_app
                  (template_app (template_hole 6, template_hole 5),
                   template_app
                    (template_app
                      (template_hole 4,
                       template_app
                        (template_app (template_hole 3, template_hole 2),
                         template_var 2)),
                     template_var 1)))),
             template_app
              (template_app
                (template_hole 1,
                 template_app
                  (template_app (template_hole 0, template_var 0),
                   template_var 2)),
               template_var 1)))
         )),
    ("Intf_Map.hom_map2",
     "CONSTRAINT op_map_delete
       (?Rk \<rightarrow>
        \<langle>?Rk, ?Rv\<rangle>?Rm \<rightarrow> \<langle>?Rk,
        ?Rv\<rangle>?Rm)",
     template_predicate
      (
         template_app
          (template_app (template_hole 9, template_hole 8),
           template_app
            (template_app
              (template_hole 7,
               template_app
                (template_app (template_hole 6, template_hole 5),
                 template_var 2)),
             template_app
              (template_app
                (template_hole 4,
                 template_app
                  (template_app (template_hole 3, template_hole 2),
                   template_app
                    (template_app
                      (template_hole 1,
                       template_app
                        (template_app (template_hole 0, template_var 1),
                         template_var 2)),
                     template_var 0))),
               template_app
                (template_app
                  (template_hole 1,
                   template_app
                    (template_app (template_hole 0, template_var 1),
                     template_var 2)),
                 template_var 0))))
         )),
    ("Intf_Map.hom_map2",
     "CONSTRAINT op_map_update
       (?Rk \<rightarrow>
        ?Rv \<rightarrow>
        \<langle>?Rk, ?Rv\<rangle>?Rm \<rightarrow> \<langle>?Rk,
        ?Rv\<rangle>?Rm)",
     template_predicate
      (
         template_app
          (template_app (template_hole 12, template_hole 11),
           template_app
            (template_app
              (template_hole 10,
               template_app
                (template_app (template_hole 9, template_hole 8),
                 template_var 2)),
             template_app
              (template_app
                (template_hole 7,
                 template_app
                  (template_app (template_hole 6, template_hole 5),
                   template_var 1)),
               template_app
                (template_app
                  (template_hole 4,
                   template_app
                    (template_app (template_hole 3, template_hole 2),
                     template_app
                      (template_app
                        (template_hole 1,
                         template_app
                          (template_app (template_hole 0, template_var 0),
                           template_var 2)),
                       template_var 1))),
                 template_app
                  (template_app
                    (template_hole 1,
                     template_app
                      (template_app (template_hole 0, template_var 0),
                       template_var 2)),
                   template_var 1)))))
         )),
    ("Intf_Map.hom_map1",
     "CONSTRAINT (++)
       (\<langle>?Rk, ?Rv\<rangle>?Rm \<rightarrow>
        \<langle>?Rk, ?Rv\<rangle>?Rm \<rightarrow> \<langle>?Rk,
        ?Rv\<rangle>?Rm)",
     template_predicate
      (
         template_app
          (template_app (template_hole 9, template_hole 8),
           template_app
            (template_app
              (template_hole 7,
               template_app
                (template_app (template_hole 6, template_hole 5),
                 template_app
                  (template_app
                    (template_hole 4,
                     template_app
                      (template_app (template_hole 3, template_var 2),
                       template_var 1)),
                   template_var 0))),
             template_app
              (template_app
                (template_hole 2,
                 template_app
                  (template_app (template_hole 1, template_hole 0),
                   template_app
                    (template_app
                      (template_hole 4,
                       template_app
                        (template_app (template_hole 3, template_var 2),
                         template_var 1)),
                     template_var 0))),
               template_app
                (template_app
                  (template_hole 4,
                   template_app
                    (template_app (template_hole 3, template_var 2),
                     template_var 1)),
                 template_var 0))))
         )),
    ("Intf_Map.hom_map2",
     "CONSTRAINT op_map_ball
       (\<langle>?Rk, ?Rv\<rangle>?Rm \<rightarrow>
        (?Rk \<times>\<^sub>r ?Rv \<rightarrow> bool_rel) \<rightarrow>
        bool_rel)",
     template_predicate
      (
         template_app
          (template_app (template_hole 16, template_hole 15),
           template_app
            (template_app
              (template_hole 14,
               template_app
                (template_app (template_hole 13, template_hole 12),
                 template_app
                  (template_app
                    (template_hole 11,
                     template_app
                      (template_app (template_hole 10, template_var 2),
                       template_var 1)),
                   template_var 0))),
             template_app
              (template_app
                (template_hole 9,
                 template_app
                  (template_app (template_hole 8, template_hole 7),
                   template_app
                    (template_app
                      (template_hole 6,
                       template_app
                        (template_app (template_hole 5, template_hole 4),
                         template_app
                          (template_app
                            (template_hole 3,
                             template_app
                              (template_app
                                (template_hole 2, template_hole 1),
                               template_var 1)),
                           template_var 0))),
                     template_hole 0))),
               template_hole 0)))
         )),
    ("Intf_Map.hom_map2",
     "CONSTRAINT op_map_bex
       (\<langle>?Rk, ?Rv\<rangle>?Rm \<rightarrow>
        (?Rk \<times>\<^sub>r ?Rv \<rightarrow> bool_rel) \<rightarrow>
        bool_rel)",
     template_predicate
      (
         template_app
          (template_app (template_hole 16, template_hole 15),
           template_app
            (template_app
              (template_hole 14,
               template_app
                (template_app (template_hole 13, template_hole 12),
                 template_app
                  (template_app
                    (template_hole 11,
                     template_app
                      (template_app (template_hole 10, template_var 2),
                       template_var 1)),
                   template_var 0))),
             template_app
              (template_app
                (template_hole 9,
                 template_app
                  (template_app (template_hole 8, template_hole 7),
                   template_app
                    (template_app
                      (template_hole 6,
                       template_app
                        (template_app (template_hole 5, template_hole 4),
                         template_app
                          (template_app
                            (template_hole 3,
                             template_app
                              (template_app
                                (template_hole 2, template_hole 1),
                               template_var 1)),
                           template_var 0))),
                     template_hole 0))),
               template_hole 0)))
         )),
    ("Intf_Map.hom_map2",
     "CONSTRAINT op_map_pick_remove
       (\<langle>?Rk, ?Rv\<rangle>?Rm \<rightarrow>
        \<langle>(?Rk \<times>\<^sub>r ?Rv) \<times>\<^sub>r \<langle>?Rk,
                 ?Rv\<rangle>?Rm\<rangle>nres_rel)",
     template_predicate
      (
         template_app
          (template_app (template_hole 14, template_hole 13),
           template_app
            (template_app
              (template_hole 12,
               template_app
                (template_app (template_hole 11, template_hole 10),
                 template_app
                  (template_app
                    (template_hole 9,
                     template_app
                      (template_app (template_hole 8, template_var 2),
                       template_var 1)),
                   template_var 0))),
             template_app
              (template_app (template_hole 7, template_hole 6),
               template_app
                (template_app
                  (template_hole 5,
                   template_app
                    (template_app (template_hole 4, template_hole 3),
                     template_app
                      (template_app
                        (template_hole 2,
                         template_app
                          (template_app (template_hole 1, template_hole 0),
                           template_var 1)),
                       template_var 0))),
                 template_app
                  (template_app
                    (template_hole 9,
                     template_app
                      (template_app (template_hole 8, template_var 2),
                       template_var 1)),
                   template_var 0)))))
         )),
    ("Intf_Map.hom_map2",
     "CONSTRAINT op_map_restrict
       ((?Rk \<times>\<^sub>r ?Rv \<rightarrow> bool_rel) \<rightarrow>
        \<langle>?Rk, ?Rv\<rangle>?Rm \<rightarrow> \<langle>?Rk,
        ?Rv\<rangle>?Rm)",
     template_predicate
      (
         template_app
          (template_app (template_hole 16, template_hole 15),
           template_app
            (template_app
              (template_hole 14,
               template_app
                (template_app (template_hole 13, template_hole 12),
                 template_app
                  (template_app
                    (template_hole 11,
                     template_app
                      (template_app (template_hole 10, template_hole 9),
                       template_app
                        (template_app
                          (template_hole 8,
                           template_app
                            (template_app
                              (template_hole 7, template_hole 6),
                             template_var 2)),
                         template_var 1))),
                   template_hole 5))),
             template_app
              (template_app
                (template_hole 4,
                 template_app
                  (template_app (template_hole 3, template_hole 2),
                   template_app
                    (template_app
                      (template_hole 1,
                       template_app
                        (template_app (template_hole 0, template_var 0),
                         template_var 2)),
                     template_var 1))),
               template_app
                (template_app
                  (template_hole 1,
                   template_app
                    (template_app (template_hole 0, template_var 0),
                     template_var 2)),
                 template_var 1))))
         )),
    ("Intf_Map.hom_map2",
     "CONSTRAINT op_map_sel
       (\<langle>?Rk, ?Rv\<rangle>?Rm \<rightarrow>
        (?Rk \<rightarrow> ?Rv \<rightarrow> bool_rel) \<rightarrow>
        \<langle>?Rk \<times>\<^sub>r ?Rv\<rangle>nres_rel)",
     template_predicate
      (
         template_app
          (template_app (template_hole 21, template_hole 20),
           template_app
            (template_app
              (template_hole 19,
               template_app
                (template_app (template_hole 18, template_hole 17),
                 template_app
                  (template_app
                    (template_hole 16,
                     template_app
                      (template_app (template_hole 15, template_var 2),
                       template_var 1)),
                   template_var 0))),
             template_app
              (template_app
                (template_hole 14,
                 template_app
                  (template_app (template_hole 13, template_hole 12),
                   template_app
                    (template_app
                      (template_hole 11,
                       template_app
                        (template_app (template_hole 10, template_hole 9),
                         template_var 1)),
                     template_app
                      (template_app
                        (template_hole 8,
                         template_app
                          (template_app (template_hole 7, template_hole 6),
                           template_var 0)),
                       template_hole 5)))),
               template_app
                (template_app (template_hole 4, template_hole 3),
                 template_app
                  (template_app
                    (template_hole 2,
                     template_app
                      (template_app (template_hole 1, template_hole 0),
                       template_var 1)),
                   template_var 0)))))
         )),
    ("Intf_Map.op_map_pick_remove_alt",
     "op_map_pick_remove ?m >>= (%((k, v), m). ?f k v m) =
      SPEC (%(k, v). ?m k = Some v) >>=
      (%(k, v). Let (?m |` (- {k})) (?f k v))",
     template_equation
      (template_app
        (template_app
          (template_hole 15,
           template_app (template_hole 14, template_var 1)),
         template_app
          (template_hole 13, template_app (template_hole 12, t_empty))),
       template_app
        (template_app
          (template_hole 11,
           template_app
            (template_hole 10,
             template_app
              (template_hole 9, template_app (template_hole 8, t_empty)))),
         template_app (template_hole 5, t_empty))))]
