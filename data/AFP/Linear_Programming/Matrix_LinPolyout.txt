Loading theory "Draft.Matrix_LinPoly" (required by "Draft.Matrix_LinPolyTemplates")
Loading theory "Draft.Templates" (required by "Draft.Matrix_LinPolyTemplates" via "Draft.ExtrEqs")
datatype template_term
=
     t_empty
   | template_app of template_term * template_term
   | template_hole of int
   | template_var of int
datatype sign
= equals | greater_equals | greater_than | less_equals | less_than
datatype template
=
     template_bimplication of template * template
   | template_dunno
   | template_equation of template_term * template_term
   | template_implication of template list * template
   | template_inequation of sign * template_term * template_term
   | template_negation of template
   | template_predicate of template_term
constructor t_empty: template_term
constructor template_app: template_term * template_term -> template_term
constructor template_hole: int -> template_term
constructor template_var: int -> template_term
constructor equals: sign
constructor greater_equals: sign
constructor greater_than: sign
constructor less_equals: sign
constructor less_than: sign
constructor template_bimplication: template * template -> template
constructor template_dunno: template
constructor template_equation: template_term * template_term -> template
constructor template_implication: template list * template -> template
constructor template_inequation:
   sign * template_term * template_term -> template
constructor template_negation: template -> template
constructor template_predicate: template_term -> template
val vfs = fn: term -> (indexname * typ) list * (string * typ) list
val indexOf = fn: ''a list -> ''a -> int -> int
val has_eq = fn: term -> bool
val term2template = fn:
   (indexname * typ) list -> (string * typ) list -> term -> template_term
val lemma2predicate = fn: term -> term -> template
val makeTemplatewithContext = fn: term -> term -> template
val lemma2template = fn: term -> template
val thm2template = fn: thm -> template
val tterm2string = fn: template_term -> string
val template2string = fn: template -> string
val t = "height ?t <= size ?t": thm
val th =
   Const ("HOL.Trueprop", "bool => prop") $
     (Const ("Orderings.ord_class.less_eq", "nat => nat => bool") $
       (Const ("Tree.height_class.height", "?'a tree => nat") $
         Var (("t", 0), "?'a tree")) $
       (Const ("Nat.size_class.size", "?'a tree => nat") $
         Var (("t", 0), "?'a tree"))):
   term
### theory "Draft.Templates"
### 0.081s elapsed time, 0.220s cpu time, 0.000s GC time
Loading theory "Draft.ExtrEqs" (required by "Draft.Matrix_LinPolyTemplates")
val eqpattern =
   Pattern
    (
       Const ("HOL.Trueprop", "bool => prop") $
         (Const ("HOL.eq", "?'a => ?'a => bool") $
           Var (("_dummy_", 1), "?'a") $ Var (("_dummy_", 2), "?'a"))
       ):
   term Find_Theorems.criterion
val badeqpattern = Pattern (Const ("Pure.eq", "?'a => ?'a => prop")):
   term Find_Theorems.criterion
val undefpattern =
   Pattern
    (
       Const ("HOL.Trueprop", "bool => prop") $
         (Const ("HOL.eq", "?'a => ?'a => bool") $
           Var (("_dummy_", 1), "?'a") $ Const ("HOL.undefined", "?'a"))
       ):
   term Find_Theorems.criterion
val thmpattern =
   Pattern
    (Const ("HOL.Trueprop", "bool => prop") $ Var (("_dummy_", 1), "bool")):
   term Find_Theorems.criterion
val badnames =
   ["*nitpick*", "*Nitpick*", "*full_exhaustive*", "*_def*", "Enum.finite*",
    "*Quickcheck*", "ATP*", "*Nunchaku*", "*Code*", "*BNF*", "*SMT*",
    "*.*.*"]:
   string list
val unwanted_names =
   [(false, Name "*nitpick*"), (false, Name "*Nitpick*"),
    (false, Name "*full_exhaustive*"), (false, Name "*_def*"),
    (false, Name "Enum.finite*"), (false, Name "*Quickcheck*"),
    (false, Name "ATP*"), (false, Name "*Nunchaku*"),
    (false, Name "*Code*"), (false, Name "*BNF*"), (false, Name "*SMT*"),
    (false, Name "*.*.*")]:
   (bool * term Find_Theorems.criterion) list
val has_vars = fn: term -> bool
val get_all_eqs = fn: string -> Proof.context -> (string * thm) list
val get_all_thms = fn: string -> Proof.context -> (string * thm) list
val get_noneq_thms = fn: string -> Proof.context -> (string * thm) list
val template_eqs = fn:
   string -> Proof.context -> (string * thm * template) list
val template_thms = fn:
   string -> Proof.context -> (string * thm * template) list
### theory "Draft.ExtrEqs"
### 0.533s elapsed time, 1.071s cpu time, 0.049s GC time
Found termination order: "{}"
Found termination order: "{}"
Found termination order: "{}"
Found termination order: "{}"
### theory "Draft.Matrix_LinPoly"
### 1.503s elapsed time, 2.266s cpu time, 0.194s GC time
Loading theory "Draft.Matrix_LinPolyTemplates"
val templateLemmas =
   [("Matrix_LinPoly.vec_to_lpoly_poly_of_vec_eq",
     "vec_to_lpoly ?v = poly_of_vec ?v",
     template_equation
      (template_app (template_hole 1, template_var 0),
       template_app (template_hole 0, template_var 0))),
    ("Matrix_LinPoly.dim_poly_dim_vec_equiv",
     "dim_vec (lpoly_to_vec ?p) = dim_poly ?p",
     template_equation
      (template_app
        (template_hole 2, template_app (template_hole 1, template_var 0)),
       template_app (template_hole 0, template_var 0))),
    ("Matrix_LinPoly.list_to_lpoly_dim_less",
     "dim_poly (list_to_lpoly ?cs) <= length ?cs",
     template_inequation
      (less_equals,
       template_app
        (template_hole 2, template_app (template_hole 1, template_var 0)),
       template_app (template_hole 0, template_var 0))),
    ("Matrix_LinPoly.vec_to_poly_dim_less",
     "dim_poly (vec_to_lpoly ?x) <= dim_vec ?x",
     template_inequation
      (less_equals,
       template_app
        (template_hole 2, template_app (template_hole 1, template_var 0)),
       template_app (template_hole 0, template_var 0))),
    ("Matrix_LinPoly.zero_vector_is_zero_poly",
     "Abstract_Linear_Poly.coeff (vec_to_lpoly (0\<^sub>v ?n)) ?i = 0",
     template_equation
      (template_app
        (template_app
          (template_hole 3,
           template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1))),
         template_var 0),
       template_hole 0)),
    ("Matrix_LinPoly.vars_subset_0_dim_poly",
     "vars ?z <= {0..<dim_poly ?z}",
     template_inequation
      (less_equals, template_app (template_hole 3, template_var 0),
       template_app
        (template_app (template_hole 2, template_hole 1),
         template_app (template_hole 0, template_var 0)))),
    ("Matrix_LinPoly.lpoly_of_v_equals_v_append0",
     "vec_to_lpoly ?v = vec_to_lpoly (?v @\<^sub>v 0\<^sub>v ?a)",
     template_equation
      (template_app (template_hole 2, template_var 1),
       template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_var 1),
           template_app (template_hole 0, template_var 0))))),
    ("Matrix_LinPoly.vars_subset_dim_vec_to_lpoly_dim",
     "vars (vec_to_lpoly ?v) <= {0..<dim_vec ?v}",
     template_inequation
      (less_equals,
       template_app
        (template_hole 4, template_app (template_hole 3, template_var 0)),
       template_app
        (template_app (template_hole 2, template_hole 1),
         template_app (template_hole 0, template_var 0)))),
    ("Matrix_LinPoly.vec_to_lpoly_from_lpoly_coeff_dual1",
     "Abstract_Linear_Poly.coeff (vec_to_lpoly (lpoly_to_vec ?p)) ?i =
      Abstract_Linear_Poly.coeff ?p ?i",
     template_equation
      (template_app
        (template_app
          (template_hole 2,
           template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 1))),
         template_var 0),
       template_app
        (template_app (template_hole 2, template_var 1), template_var 0))),
    ("Matrix_LinPoly.lpoly_to_vec_0_iff_zero_poly",
     "(lpoly_to_vec ?p = 0\<^sub>v 0) = (?p = 0)",
     template_bimplication
      (template_equation
        (template_app (template_hole 4, template_var 0),
         template_app (template_hole 3, template_hole 2)),
       template_equation (template_var 0, template_hole 0))),
    ("Matrix_LinPoly.vec_to_lpoly_eval_dot_prod",
     "vec_to_lpoly ?v \<lbrace> ?x \<rbrace> =
      ?v \<bullet> vec (dim_vec ?v) ?x",
     template_equation
      (template_app
        (template_app
          (template_hole 4, template_app (template_hole 3, template_var 1)),
         template_var 0),
       template_app
        (template_app (template_hole 2, template_var 1),
         template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 1)),
           template_var 0)))),
    ("Matrix_LinPoly.dim_poly_of_append_vec",
     "dim_poly (vec_to_lpoly (?a @\<^sub>v ?b)) <= dim_vec ?a + dim_vec ?b",
     template_inequation
      (less_equals,
       template_app
        (template_hole 4,
         template_app
          (template_hole 3,
           template_app
            (template_app (template_hole 2, template_var 1),
             template_var 0))),
       template_app
        (template_app
          (template_hole 1, template_app (template_hole 0, template_var 1)),
         template_app (template_hole 0, template_var 0)))),
    ("Matrix_LinPoly.all_greater_dim_poly_zero",
     "dim_poly ?p <= ?x ==> Abstract_Linear_Poly.coeff ?p ?x = 0",
     template_implication
      ([template_inequation
         (less_equals, template_app (template_hole 3, template_var 1),
          template_var 0)],
       template_equation
        (template_app
          (template_app (template_hole 1, template_var 1), template_var 0),
         template_hole 0))),
    ("Matrix_LinPoly.outside_list_coeff0",
     "dim_vec ?xs <= ?i ==>
      Abstract_Linear_Poly.coeff (vec_to_lpoly ?xs) ?i = 0",
     template_implication
      ([template_inequation
         (less_equals, template_app (template_hole 4, template_var 1),
          template_var 0)],
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0),
         template_hole 0))),
    ("Matrix_LinPoly.sum_list_map_upto_coeff_limit",
     "length ?L <= ?i ==>
      Abstract_Linear_Poly.coeff (list_to_lpoly ?L) ?i = 0",
     template_implication
      ([template_inequation
         (less_equals, template_app (template_hole 4, template_var 1),
          template_var 0)],
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0),
         template_hole 0))),
    ("Matrix_LinPoly.rat_list_outside_zero",
     "length ?cs <= ?i ==>
      Abstract_Linear_Poly.coeff (list_to_lpoly ?cs) ?i = 0",
     template_implication
      ([template_inequation
         (less_equals, template_app (template_hole 4, template_var 1),
          template_var 0)],
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0),
         template_hole 0))),
    ("Matrix_LinPoly.vars_vec_append_subset",
     "vars (vec_to_lpoly (0\<^sub>v ?n @\<^sub>v ?v))
      <= {?n..<?n + dim_vec ?v}",
     template_inequation
      (less_equals,
       template_app
        (template_hole 6,
         template_app
          (template_hole 5,
           template_app
            (template_app
              (template_hole 4,
               template_app (template_hole 3, template_var 1)),
             template_var 0))),
       template_app
        (template_app (template_hole 2, template_var 1),
         template_app
          (template_app (template_hole 1, template_var 1),
           template_app (template_hole 0, template_var 0))))),
    ("Matrix_LinPoly.coeff_nonzero_dim_vec_non_zero",
     "Abstract_Linear_Poly.coeff (vec_to_lpoly ?v) ?i ~= 0 ==>
      ?i < dim_vec ?v",
     template_implication
      ([template_negation
         (
            template_equation
             (template_app
               (template_app
                 (template_hole 4,
                  template_app (template_hole 3, template_var 1)),
                template_var 0),
              template_hole 2)
            )],
       template_inequation
        (less_than, template_var 0,
         template_app (template_hole 0, template_var 1)))),
    ("Matrix_LinPoly.eval_poly_with_sum",
     "?v \<lbrace> ?X \<rbrace> =
      (SUM x:vars ?v. Abstract_Linear_Poly.coeff ?v x * ?X x)",
     template_equation
      (template_app
        (template_app (template_hole 4, template_var 1), template_var 0),
       template_app
        (template_app (template_hole 3, t_empty),
         template_app (template_hole 0, template_var 1)))),
    ("Matrix_LinPoly.list_to_lpoly_coeff_nth",
     "?i < length ?cs ==>
      Abstract_Linear_Poly.coeff (list_to_lpoly ?cs) ?i = ?cs ! ?i",
     template_implication
      ([template_inequation
         (less_than, template_var 1,
          template_app (template_hole 4, template_var 0))],
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 0)),
           template_var 1),
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("Matrix_LinPoly.vec_to_lin_poly_coeff_access",
     "?x < dim_vec ?y ==>
      ?y $ ?x = Abstract_Linear_Poly.coeff (vec_to_lpoly ?y) ?x",
     template_implication
      ([template_inequation
         (less_than, template_var 1,
          template_app (template_hole 4, template_var 0))],
       template_equation
        (template_app
          (template_app (template_hole 2, template_var 0), template_var 1),
         template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 0)),
           template_var 1)))),
    ("Matrix_LinPoly.lin_poly_to_vec_coeff_access",
     "?x < dim_poly ?y ==>
      lpoly_to_vec ?y $ ?x = Abstract_Linear_Poly.coeff ?y ?x",
     template_implication
      ([template_inequation
         (less_than, template_var 1,
          template_app (template_hole 4, template_var 0))],
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 0)),
           template_var 1),
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("Matrix_LinPoly.matrix_to_lpolies_vec_of_row",
     "?i < dim_row ?A ==>
      matrix_to_lpolies ?A ! ?i = vec_to_lpoly (row ?A ?i)",
     template_implication
      ([template_inequation
         (less_than, template_var 1,
          template_app (template_hole 5, template_var 0))],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app (template_hole 2, template_var 0)),
           template_var 1),
         template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 0),
             template_var 1))))),
    ("Matrix_LinPoly.coeff_nonzero_dim_vec_non_zero",
     "Abstract_Linear_Poly.coeff (vec_to_lpoly ?v) ?i ~= 0 ==>
      ?v $ ?i ~= 0",
     template_implication
      ([template_negation
         (
            template_equation
             (template_app
               (template_app
                 (template_hole 3,
                  template_app (template_hole 2, template_var 1)),
                template_var 0),
              template_hole 1)
            )],
       template_negation
        (
           template_equation
            (template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0),
             template_hole 1)
           ))),
    ("Matrix_LinPoly.valuate_with_dim_poly",
     "?z \<lbrace> ?X \<rbrace> =
      (SUM i = 0..<dim_poly ?z. Abstract_Linear_Poly.coeff ?z i * ?X i)",
     template_equation
      (template_app
        (template_app (template_hole 6, template_var 1), template_var 0),
       template_app
        (template_app (template_hole 5, t_empty),
         template_app
          (template_app (template_hole 2, template_hole 1),
           template_app (template_hole 0, template_var 1))))),
    ("Matrix_LinPoly.vec_to_lpoly_valuate_equiv_dot_prod",
     "dim_vec ?y = dim_vec ?x ==>
      vec_to_lpoly ?y \<lbrace> ($) ?x \<rbrace> = ?y \<bullet> ?x",
     template_implication
      ([template_equation
         (template_app (template_hole 5, template_var 1),
          template_app (template_hole 5, template_var 0))],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app (template_hole 2, template_var 1)),
           template_app (template_hole 1, template_var 0)),
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Matrix_LinPoly.in_dim_and_not_var_zero",
     "?x : {0..<dim_poly ?z} - vars ?z ==>
      Abstract_Linear_Poly.coeff ?z ?x = 0",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 1),
              template_app
               (template_app
                 (template_hole 7,
                  template_app
                   (template_app (template_hole 6, template_hole 5),
                    template_app (template_hole 4, template_var 0))),
                template_app (template_hole 3, template_var 0)))
            )],
       template_equation
        (template_app
          (template_app (template_hole 1, template_var 0), template_var 1),
         template_hole 0))),
    ("Matrix_LinPoly.vec_to_lpoly_from_lpoly_coeff_dual2",
     "?i < dim_vec (lpoly_to_vec (vec_to_lpoly ?v)) ==>
      lpoly_to_vec (vec_to_lpoly ?v) $ ?i = ?v $ ?i",
     template_implication
      ([template_inequation
         (less_than, template_var 1,
          template_app
           (template_hole 4,
            template_app
             (template_hole 3,
              template_app (template_hole 2, template_var 0))))],
       template_equation
        (template_app
          (template_app
            (template_hole 0,
             template_app
              (template_hole 3,
               template_app (template_hole 2, template_var 0))),
           template_var 1),
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("Matrix_LinPoly.dim_poly_greater_ex_coeff",
     "?d < dim_poly ?x ==> EX i>=?d. Abstract_Linear_Poly.coeff ?x i ~= 0",
     template_implication
      ([template_inequation
         (less_than, template_var 1,
          template_app (template_hole 7, template_var 0))],
       template_predicate (template_app (template_hole 6, t_empty)))),
    ("Matrix_LinPoly.vec_coeff_append1",
     "?i : {0..<dim_vec ?a} ==>
      Abstract_Linear_Poly.coeff (vec_to_lpoly (?a @\<^sub>v ?b)) ?i =
      ?a $ ?i",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 2),
              template_app
               (template_app (template_hole 7, template_hole 6),
                template_app (template_hole 5, template_var 1)))
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 1),
                 template_var 0))),
           template_var 2),
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 2)))),
    ("Matrix_LinPoly.dimpoly_all_zero_limit",
     "(!!i. ?d <= i ==> Abstract_Linear_Poly.coeff ?x i = 0) ==>
      dim_poly ?x <= ?d",
     template_implication
      ([template_predicate (template_app (template_hole 6, t_empty))],
       template_inequation
        (less_equals, template_app (template_hole 0, template_var 0),
         template_var 1))),
    ("Matrix_LinPoly.polys_greater_col_zero",
     "[| ?x : set (matrix_to_lpolies ?A); dim_col ?A <= ?j |]
      ==> Abstract_Linear_Poly.coeff ?x ?j = 0",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 2),
              template_app
               (template_hole 6,
                template_app (template_hole 5, template_var 1)))
            ),
        template_inequation
         (less_equals, template_app (template_hole 3, template_var 1),
          template_var 0)],
       template_equation
        (template_app
          (template_app (template_hole 1, template_var 2), template_var 0),
         template_hole 0))),
    ("Matrix_LinPoly.outside_of_col_range_is_0",
     "[| ?i < dim_row ?A; dim_col ?A <= ?j |]
      ==> Abstract_Linear_Poly.coeff (matrix_to_lpolies ?A ! ?i) ?j = 0",
     template_implication
      ([template_inequation
         (less_than, template_var 2,
          template_app (template_hole 7, template_var 1)),
        template_inequation
         (less_equals, template_app (template_hole 5, template_var 1),
          template_var 0)],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app
                (template_hole 2,
                 template_app (template_hole 1, template_var 1)),
               template_var 2)),
           template_var 0),
         template_hole 0))),
    ("Matrix_LinPoly.rl_lpoly_coeff_nth_non_empty",
     "[| ?i < length ?cs; ?cs ~= [] |]
      ==> Abstract_Linear_Poly.coeff (list_to_lpoly ?cs) ?i = ?cs ! ?i",
     template_implication
      ([template_inequation
         (less_than, template_var 1,
          template_app (template_hole 7, template_var 0)),
        template_negation
         (template_equation (template_var 0, template_hole 4))],
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 0)),
           template_var 1),
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("Matrix_LinPoly.eval_poly_with_sum_superset",
     "[| finite ?S; vars ?v <= ?S |]
      ==> ?v \<lbrace> ?X \<rbrace> =
          (SUM x:?S. Abstract_Linear_Poly.coeff ?v x * ?X x)",
     template_implication
      ([template_predicate (template_app (template_hole 7, template_var 2)),
        template_inequation
         (less_equals, template_app (template_hole 5, template_var 1),
          template_var 2)],
       template_equation
        (template_app
          (template_app (template_hole 3, template_var 1), template_var 0),
         template_app
          (template_app (template_hole 2, t_empty), template_var 2)))),
    ("Matrix_LinPoly.vec_coeff_append2",
     "?i : {dim_vec ?a..<dim_vec (?a @\<^sub>v ?b)} ==>
      Abstract_Linear_Poly.coeff (vec_to_lpoly (?a @\<^sub>v ?b)) ?i =
      ?b $ (?i - dim_vec ?a)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 2),
              template_app
               (template_app
                 (template_hole 7,
                  template_app (template_hole 6, template_var 1)),
                template_app
                 (template_hole 6,
                  template_app
                   (template_app (template_hole 5, template_var 1),
                    template_var 0))))
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 5, template_var 1),
                 template_var 0))),
           template_var 2),
         template_app
          (template_app (template_hole 1, template_var 0),
           template_app
            (template_app (template_hole 0, template_var 2),
             template_app (template_hole 6, template_var 1)))))),
    ("Matrix_LinPoly.matrix_to_lpolies_coeff_access",
     "[| ?i < dim_row ?A; ?j < dim_col ?A |]
      ==> Abstract_Linear_Poly.coeff (matrix_to_lpolies ?A ! ?i) ?j =
          ?A $$ (?i, ?j)",
     template_implication
      ([template_inequation
         (less_than, template_var 2,
          template_app (template_hole 7, template_var 1)),
        template_inequation
         (less_than, template_var 0,
          template_app (template_hole 6, template_var 1))],
       template_equation
        (template_app
          (template_app
            (template_hole 4,
             template_app
              (template_app
                (template_hole 3,
                 template_app (template_hole 2, template_var 1)),
               template_var 2)),
           template_var 0),
         template_app
          (template_app (template_hole 1, template_var 1),
           template_app
            (template_app (template_hole 0, template_var 2),
             template_var 0))))),
    ("Matrix_LinPoly.lin_polies_to_rat_mat_coeff_index",
     "[| ?i < length ?L; ?j < max_dim_poly_list ?L |]
      ==> Abstract_Linear_Poly.coeff (?L ! ?i) ?j =
          lin_polies_to_mat ?L $$ (?i, ?j)",
     template_implication
      ([template_inequation
         (less_than, template_var 2,
          template_app (template_hole 7, template_var 1)),
        template_inequation
         (less_than, template_var 0,
          template_app (template_hole 6, template_var 1))],
       template_equation
        (template_app
          (template_app
            (template_hole 4,
             template_app
              (template_app (template_hole 3, template_var 1),
               template_var 2)),
           template_var 0),
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_app
            (template_app (template_hole 0, template_var 2),
             template_var 0))))),
    ("Matrix_LinPoly.addition_over_vec_to_lin_poly",
     "[| ?a < dim_vec ?x; dim_vec ?x = dim_vec ?y |]
      ==> (?x + ?y) $ ?a =
          Abstract_Linear_Poly.coeff (vec_to_lpoly ?x + vec_to_lpoly ?y)
           ?a",
     template_implication
      ([template_inequation
         (less_than, template_var 2,
          template_app (template_hole 7, template_var 1)),
        template_equation
         (template_app (template_hole 7, template_var 1),
          template_app (template_hole 7, template_var 0))],
       template_equation
        (template_app
          (template_app
            (template_hole 4,
             template_app
              (template_app (template_hole 3, template_var 1),
               template_var 0)),
           template_var 2),
         template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app
                (template_hole 1,
                 template_app (template_hole 0, template_var 1)),
               template_app (template_hole 0, template_var 0))),
           template_var 2)))),
    ("Matrix_LinPoly.addition_over_lin_poly_to_vec",
     "[| ?a < dim_poly ?x; dim_poly ?x = dim_poly ?y |]
      ==> (lpoly_to_vec ?x + lpoly_to_vec ?y) $ ?a =
          Abstract_Linear_Poly.coeff (?x + ?y) ?a",
     template_implication
      ([template_inequation
         (less_than, template_var 2,
          template_app (template_hole 7, template_var 1)),
        template_equation
         (template_app (template_hole 7, template_var 1),
          template_app (template_hole 7, template_var 0))],
       template_equation
        (template_app
          (template_app
            (template_hole 4,
             template_app
              (template_app
                (template_hole 3,
                 template_app (template_hole 2, template_var 1)),
               template_app (template_hole 2, template_var 0))),
           template_var 2),
         template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0)),
           template_var 2)))),
    ("Matrix_LinPoly.matrix_to_lpolies_valuate_scalarP",
     "[| ?i < dim_row ?A; dim_col ?A = dim_vec ?x |]
      ==> matrix_to_lpolies ?A ! ?i \<lbrace> ($) ?x \<rbrace> =
          row ?A ?i \<bullet> ?x",
     template_implication
      ([template_inequation
         (less_than, template_var 2,
          template_app (template_hole 10, template_var 1)),
        template_equation
         (template_app (template_hole 8, template_var 1),
          template_app (template_hole 7, template_var 0))],
       template_equation
        (template_app
          (template_app
            (template_hole 5,
             template_app
              (template_app
                (template_hole 4,
                 template_app (template_hole 3, template_var 1)),
               template_var 2)),
           template_app (template_hole 2, template_var 0)),
         template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 2)),
           template_var 0)))),
    ("Matrix_LinPoly.sum_dim_vec_equals_sum_dim_poly",
     "(SUM a = 0..<dim_vec ?A.
       Abstract_Linear_Poly.coeff (vec_to_lpoly ?A) a * ?X a) =
      (SUM a = 0..<dim_poly (vec_to_lpoly ?A).
       Abstract_Linear_Poly.coeff (vec_to_lpoly ?A) a * ?X a)",
     template_equation
      (template_app
        (template_app (template_hole 7, t_empty),
         template_app
          (template_app (template_hole 3, template_hole 2),
           template_app (template_hole 1, template_var 1))),
       template_app
        (template_app (template_hole 7, t_empty),
         template_app
          (template_app (template_hole 3, template_hole 2),
           template_app
            (template_hole 0,
             template_app (template_hole 4, template_var 1)))))),
    ("Matrix_LinPoly.construct_poly_from_lower_dim_poly",
     "[| dim_poly ?x = ?d + 1;
         !!p c.
            [| dim_poly p <= ?d; ?x = p + lp_monom c ?d |] ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_equation
         (template_app (template_hole 8, template_var 2),
          template_app
           (template_app (template_hole 7, template_var 1),
            template_hole 6)),
        template_predicate (template_app (template_hole 5, t_empty))],
       template_predicate (template_var 0))),
    ("Matrix_LinPoly.matrix_to_lpolies_lambda_valuate_scalarP",
     "[| ?i < dim_row ?A; dim_col ?A = dim_vec ?x |]
      ==> matrix_to_lpolies ?A !
          ?i \<lbrace> %i. if i < dim_vec ?x then ?x $ i else 0 \<rbrace> =
          row ?A ?i \<bullet> ?x",
     template_implication
      ([template_inequation
         (less_than, template_var 2,
          template_app (template_hole 12, template_var 1)),
        template_equation
         (template_app (template_hole 10, template_var 1),
          template_app (template_hole 9, template_var 0))],
       template_equation
        (template_app
          (template_app
            (template_hole 7,
             template_app
              (template_app
                (template_hole 6,
                 template_app (template_hole 5, template_var 1)),
               template_var 2)),
           t_empty),
         template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 2)),
           template_var 0))))]:
   (string * thm * template) list
### theory "Draft.Matrix_LinPolyTemplates"
### 1.497s elapsed time, 1.785s cpu time, 0.239s GC time
val it = (): unit
