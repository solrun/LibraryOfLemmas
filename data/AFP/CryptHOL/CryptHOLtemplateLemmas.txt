   [("Misc_CryptHOL.finite_chains_flat_ord", "finite_chains (flat_ord ?x)",
     template_predicate
      (
         template_app
          (template_hole 1, template_app (template_hole 0, template_var 0))
         )),
    ("Misc_CryptHOL.bi_unique_eq_onp", "bi_unique (eq_onp ?P)",
     template_predicate
      (
         template_app
          (template_hole 1, template_app (template_hole 0, template_var 0))
         )),
    ("Misc_CryptHOL.rel_option_eqI", "rel_option (=) ?x ?x",
     template_predicate
      (
         template_app
          (template_app
            (template_app (template_hole 1, template_hole 0),
             template_var 0),
           template_var 0)
         )),
    ("Misc_CryptHOL.bot_fun_least", "(%_. \<bottom>) <= ?x",
     template_inequation (less_equals, t_empty, template_var 0)),
    ("Misc_CryptHOL.rel_pmf_eqI", "rel_pmf (=) ?x ?x",
     template_predicate
      (
         template_app
          (template_app
            (template_app (template_hole 1, template_hole 0),
             template_var 0),
           template_var 0)
         )),
    ("Misc_CryptHOL.le_option_refl", "le_option ?x ?x",
     template_predicate
      (
         template_app
          (template_app
            (template_app (template_hole 1, template_hole 0),
             template_var 0),
           template_var 0)
         )),
    ("Misc_CryptHOL.right_unique_Grp", "right_unique (BNF_Def.Grp ?A ?f)",
     template_predicate
      (
         template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 0))
         )),
    ("Misc_CryptHOL.rsuml_lsumr", "rsuml (lsumr ?x) = ?x",
     template_equation
      (template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)),
       template_var 0)),
    ("Misc_CryptHOL.lsumr_rsuml", "lsumr (rsuml ?x) = ?x",
     template_equation
      (template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)),
       template_var 0)),
    ("Misc_CryptHOL.join_simps", "join_option (Some ?x) = ?x",
     template_equation
      (template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)),
       template_var 0)),
    ("Misc_CryptHOL.sup_option_None", "sup_option None ?y = ?y",
     template_equation
      (template_app
        (template_app (template_hole 1, template_hole 0), template_var 0),
       template_var 0)),
    ("Misc_CryptHOL.sup_option_idem", "sup_option ?x ?x = ?x",
     template_equation
      (template_app
        (template_app (template_hole 0, template_var 0), template_var 0),
       template_var 0)),
    ("Misc_CryptHOL.lprodr_inverse", "rprodl (lprodr ?x) = ?x",
     template_equation
      (template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)),
       template_var 0)),
    ("Misc_CryptHOL.rprodl_inverse", "lprodr (rprodl ?x) = ?x",
     template_equation
      (template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)),
       template_var 0)),
    ("Misc_CryptHOL.sprefix_shift_same", "sprefix ?xs (?xs @- ?ys)",
     template_predicate
      (
         template_app
          (template_app (template_hole 1, template_var 1),
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 0))
         )),
    ("Misc_CryptHOL.sprefix_stake_same", "sprefix (stake ?n ?xs) ?xs",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0)),
           template_var 0)
         )),
    ("Misc_CryptHOL.pred_spmf_return_pmf_None",
     "pred_spmf ?P (return_pmf None)",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 3,
             template_app (template_hole 2, template_var 0)),
           template_app (template_hole 1, template_hole 0))
         )),
    ("Misc_CryptHOL.rel_spmf_eqI", "rel_spmf (=) ?x ?x",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_hole 2,
               template_app (template_hole 1, template_hole 0)),
             template_var 0),
           template_var 0)
         )),
    ("Misc_CryptHOL.Domainp_conversep", "Domainp ?R^--1 = Rangep ?R",
     template_equation
      (template_app
        (template_hole 2, template_app (template_hole 1, template_var 0)),
       template_app (template_hole 0, template_var 0))),
    ("Misc_CryptHOL.set_spmf_mk_lossless",
     "set_spmf (mk_lossless ?p) = set_spmf ?p",
     template_equation
      (template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Misc_CryptHOL.set_spmf_return_pmf",
     "set_spmf (return_pmf ?x) = set_option ?x",
     template_equation
      (template_app
        (template_hole 2, template_app (template_hole 1, template_var 0)),
       template_app (template_hole 0, template_var 0))),
    ("Misc_CryptHOL.join_conv_bind_option", "join_option ?x = ?x >>= id",
     template_equation
      (template_app (template_hole 2, template_var 0),
       template_app
        (template_app (template_hole 1, template_var 0), template_hole 0))),
    ("Misc_CryptHOL.enforce_option_K_False",
     "enforce_option (%_. False) ?x = None",
     template_equation
      (template_app
        (template_app (template_hole 2, t_empty), template_var 0),
       template_hole 0)),
    ("Misc_CryptHOL.enforce_option_K_True",
     "enforce_option (%_. True) ?x = ?x",
     template_equation
      (template_app
        (template_app (template_hole 1, t_empty), template_var 0),
       template_var 0)),
    ("Misc_CryptHOL.Pair_fst_Unity", "(fst ?x, ()) = ?x",
     template_equation
      (template_app
        (template_app
          (template_hole 2, template_app (template_hole 1, template_var 0)),
         template_hole 0),
       template_var 0)),
    ("Misc_CryptHOL.map_the_spmf_of_pmf",
     "map_pmf the (spmf_of_pmf ?p) = ?p",
     template_equation
      (template_app
        (template_app (template_hole 2, template_hole 1),
         template_app (template_hole 0, template_var 0)),
       template_var 0)),
    ("Misc_CryptHOL.mk_lossless_idem",
     "mk_lossless (mk_lossless ?p) = mk_lossless ?p",
     template_equation
      (template_app
        (template_hole 0, template_app (template_hole 0, template_var 0)),
       template_app (template_hole 0, template_var 0))),
    ("Misc_CryptHOL.mk_lossless_return",
     "mk_lossless (return_pmf ?x) = return_pmf ?x",
     template_equation
      (template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)),
       template_app (template_hole 0, template_var 0))),
    ("Misc_CryptHOL.mk_lossless_spmf_of_set",
     "mk_lossless (spmf_of_set ?A) = spmf_of_set ?A",
     template_equation
      (template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)),
       template_app (template_hole 0, template_var 0))),
    ("Misc_CryptHOL.cond_spmf_UNIV", "cond_spmf ?p UNIV = mk_lossless ?p",
     template_equation
      (template_app
        (template_app (template_hole 2, template_var 0), template_hole 1),
       template_app (template_hole 0, template_var 0))),
    ("Misc_CryptHOL.enforce_spmf_K_True", "enforce_spmf (%_. True) ?p = ?p",
     template_equation
      (template_app
        (template_app (template_hole 1, t_empty), template_var 0),
       template_var 0)),
    ("Misc_CryptHOL.monotone_map_option",
     "monotone option_ord option_ord (map_option ?f)",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_hole 5,
               template_app (template_hole 4, template_hole 3)),
             template_app (template_hole 2, template_hole 1)),
           template_app (template_hole 0, template_var 0))
         )),
    ("Misc_CryptHOL.case_option_collapse",
     "(case ?y of None => ?x | _ => ?x) = ?x",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 0, template_var 1), t_empty),
         template_var 0),
       template_var 1)),
    ("Misc_CryptHOL.restrict_relp_False2",
     "?R \<upharpoonleft> ?P \<otimes> (%_. False) = \<bottom>",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 2, template_var 1), template_var 0),
         t_empty),
       template_hole 0)),
    ("Misc_CryptHOL.restrict_relp_False1",
     "?R \<upharpoonleft> (%_. False) \<otimes> ?Q = \<bottom>",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 2, template_var 1), t_empty),
         template_var 0),
       template_hole 0)),
    ("Misc_CryptHOL.nlists_0", "nlists ?A 0 = {[]}",
     template_equation
      (template_app
        (template_app (template_hole 4, template_var 0), template_hole 3),
       template_app
        (template_app (template_hole 2, template_hole 1),
         template_hole 0))),
    ("Misc_CryptHOL.pred_pmf_return", "pred_pmf ?P (return_pmf ?x) = ?P ?x",
     template_equation
      (template_app
        (template_app (template_hole 1, template_var 1),
         template_app (template_hole 0, template_var 0)),
       template_app (template_var 1, template_var 0))),
    ("Misc_CryptHOL.is_empty_image",
     "Set.is_empty (?f ` ?A) = Set.is_empty ?A",
     template_equation
      (template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app (template_hole 0, template_var 0))),
    ("Misc_CryptHOL.in_set_assert_option",
     "(?x : set_option (assert_option ?b)) = ?b",
     template_equation
      (template_app
        (template_app (template_hole 2, template_var 1),
         template_app
          (template_hole 1,
           template_app (template_hole 0, template_var 0))),
       template_var 0)),
    ("Misc_CryptHOL.enforce_return_pmf_None",
     "enforce_spmf ?P (return_pmf None) = return_pmf None",
     template_equation
      (template_app
        (template_app (template_hole 2, template_var 0),
         template_app (template_hole 1, template_hole 0)),
       template_app (template_hole 1, template_hole 0))),
    ("Misc_CryptHOL.enforce_spmf_K_False",
     "enforce_spmf (%_. False) ?p = return_pmf None",
     template_equation
      (template_app
        (template_app (template_hole 3, t_empty), template_var 0),
       template_app (template_hole 1, template_hole 0))),
    ("Misc_CryptHOL.ennreal_real_conv_ennreal_of_enat",
     "ennreal (real ?n) = ennreal_of_enat (enat ?n)",
     template_equation
      (template_app
        (template_hole 3, template_app (template_hole 2, template_var 0)),
       template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)))),
    ("Misc_CryptHOL.in_set_join_option",
     "?x : set_option (join_option (Some (Some ?x)))",
     template_predicate
      (
         template_app
          (template_app (template_hole 4, template_var 0),
           template_app
            (template_hole 3,
             template_app
              (template_hole 2,
               template_app
                (template_hole 1,
                 template_app (template_hole 0, template_var 0)))))
         )),
    ("Misc_CryptHOL.join_option_parametric",
     "rel_fun (rel_option (rel_option ?R)) (rel_option ?R) join_option
       join_option",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_app
                (template_hole 4,
                 template_app
                  (template_hole 3,
                   template_app (template_hole 2, template_var 0))),
               template_app (template_hole 2, template_var 0)),
             template_hole 1),
           template_hole 0)
         )),
    ("Misc_CryptHOL.spmf_of_pmf_parametric",
     "rel_fun (rel_pmf ?A) (rel_spmf ?A) spmf_of_pmf spmf_of_pmf",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_app
                (template_hole 5,
                 template_app (template_hole 4, template_var 0)),
               template_app
                (template_hole 3,
                 template_app (template_hole 2, template_var 0))),
             template_hole 1),
           template_hole 0)
         )),
    ("Misc_CryptHOL.fst_corec_prod", "fst (corec_prod ?f ?g ?s) = ?f ?s",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1),
           template_var 0)),
       template_app (template_var 2, template_var 0))),
    ("Misc_CryptHOL.relcompp_witness_eq",
     "relcompp_witness (=) (=) (?x, ?x) = ?x",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 1, template_hole 2),
           template_hole 2),
         template_app
          (template_app (template_hole 0, template_var 0), template_var 0)),
       template_var 0)),
    ("Misc_CryptHOL.snd_corec_prod", "snd (corec_prod ?f ?g ?s) = ?g ?s",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1),
           template_var 0)),
       template_app (template_var 1, template_var 0))),
    ("Misc_CryptHOL.restrict_relp_True",
     "?R \<upharpoonleft> (%_. True) \<otimes> (%_. True) = ?R",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 1, template_var 0), t_empty),
         t_empty),
       template_var 0)),
    ("Misc_CryptHOL.bind_option_spmf_monad",
     "monad.bind_option (return_pmf None) ?x = (>>=) (return_pmf ?x)",
     template_equation
      (template_app
        (template_app
          (template_hole 4,
           template_app (template_hole 3, template_hole 2)),
         template_var 0),
       template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)))),
    ("Misc_CryptHOL.lossless_return_pmf_iff",
     "lossless_spmf (return_pmf ?x) = (?x ~= None)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 4,
              template_app (template_hole 3, template_var 0))
            )],
       template_negation
        (template_equation (template_var 0, template_hole 0)))),
    ("Misc_CryptHOL.of_nat_le_one_cancel_iff", "(real ?n <= 1) = (?n <= 1)",
     template_equation
      (template_app
        (template_app
          (template_hole 4, template_app (template_hole 3, template_var 0)),
         template_hole 2),
       template_app
        (template_app (template_hole 1, template_var 0), template_hole 0))),
    ("Misc_CryptHOL.bi_unique_Grp",
     "bi_unique (BNF_Def.Grp ?A ?f) = inj_on ?f ?A",
     template_equation
      (template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app
        (template_app (template_hole 0, template_var 0), template_var 1))),
    ("Misc_CryptHOL.left_total_Grp",
     "left_total (BNF_Def.Grp ?A ?f) = (?A = UNIV)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 3,
              template_app
               (template_app (template_hole 2, template_var 1),
                template_var 0))
            )],
       template_equation (template_var 1, template_hole 0))),
    ("Misc_CryptHOL.left_unique_Grp",
     "left_unique (BNF_Def.Grp ?A ?f) = inj_on ?f ?A",
     template_equation
      (template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app
        (template_app (template_hole 0, template_var 0), template_var 1))),
    ("Misc_CryptHOL.bind_conv_join_option",
     "?x >>= ?f = join_option (map_option ?f ?x)",
     template_equation
      (template_app
        (template_app (template_hole 2, template_var 1), template_var 0),
       template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("Misc_CryptHOL.cond_spmf_alt",
     "cond_spmf ?p ?A = mk_lossless (?p \<upharpoonleft> ?A)",
     template_equation
      (template_app
        (template_app (template_hole 2, template_var 1), template_var 0),
       template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Misc_CryptHOL.finite_nlists", "finite ?A ==> finite (nlists ?A ?n)",
     template_implication
      ([template_predicate
         (template_app (template_hole 2, template_var 1))],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0))
           ))),
    ("Misc_CryptHOL.transp_tranclp_id", "transp ?R ==> ?R^++ = ?R",
     template_implication
      ([template_predicate
         (template_app (template_hole 2, template_var 0))],
       template_equation
        (template_app (template_hole 0, template_var 0), template_var 0))),
    ("Misc_CryptHOL.mk_lossless_lossless",
     "lossless_spmf ?p ==> mk_lossless ?p = ?p",
     template_implication
      ([template_predicate
         (template_app (template_hole 2, template_var 0))],
       template_equation
        (template_app (template_hole 0, template_var 0), template_var 0))),
    ("Misc_CryptHOL.mk_lossless_parametric",
     "rel_fun (rel_spmf ?A) (rel_spmf ?A) mk_lossless mk_lossless",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_app
                (template_hole 4,
                 template_app
                  (template_hole 3,
                   template_app (template_hole 2, template_var 0))),
               template_app
                (template_hole 3,
                 template_app (template_hole 2, template_var 0))),
             template_hole 1),
           template_hole 0)
         )),
    ("Misc_CryptHOL.Domainp_Grp",
     "Domainp (BNF_Def.Grp ?A ?f) = (%x. x : ?A)",
     template_equation
      (template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       t_empty)),
    ("Misc_CryptHOL.rel_fun_eq_conversep",
     "rel_fun ?A^--1 (=) = (rel_fun ?A (=))^--1",
     template_bimplication
      (template_predicate
        (
           template_app
            (template_app
              (template_hole 4,
               template_app (template_hole 3, template_var 0)),
             template_hole 2)
           ),
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 0),
               template_hole 2))
           ))),
    ("Misc_CryptHOL.spmf_Domainp_rel",
     "Domainp (rel_spmf ?R) = pred_spmf (Domainp ?R)",
     template_equation
      (template_app
        (template_hole 5,
         template_app
          (template_hole 4,
           template_app (template_hole 3, template_var 0))),
       template_app
        (template_hole 2,
         template_app
          (template_hole 1,
           template_app (template_hole 0, template_var 0))))),
    ("Misc_CryptHOL.card_nlists", "card (nlists ?A ?n) = card ?A ^ ?n",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 2, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 1, template_app (template_hole 0, template_var 1)),
         template_var 0))),
    ("Misc_CryptHOL.set_join_option",
     "set_option (join_option ?x) = \<Union> (set_option ` set_option ?x)",
     template_equation
      (template_app
        (template_hole 4, template_app (template_hole 3, template_var 0)),
       template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_hole 4),
           template_app (template_hole 0, template_var 0))))),
    ("Misc_CryptHOL.set_spmf_eq_empty",
     "(set_spmf ?p = {}) = (?p = return_pmf None)",
     template_bimplication
      (template_equation
        (template_app (template_hole 4, template_var 0), template_hole 3),
       template_equation
        (template_var 0, template_app (template_hole 1, template_hole 0)))),
    ("Misc_CryptHOL.tlength_eq_infinity_iff",
     "(tlength ?xs = \<infinity>) = (~ tfinite ?xs)",
     template_equation
      (template_app
        (template_app
          (template_hole 5, template_app (template_hole 4, template_var 0)),
         template_hole 3),
       template_app
        (template_hole 2,
         template_app
          (template_hole 1,
           template_app (template_hole 0, template_var 0))))),
    ("Misc_CryptHOL.pred_pmf_join",
     "pred_pmf ?P (join_pmf ?p) = pred_pmf (pred_pmf ?P) ?p",
     template_equation
      (template_app
        (template_app (template_hole 2, template_var 1),
         template_app (template_hole 1, template_var 0)),
       template_app
        (template_app
          (template_hole 0, template_app (template_hole 2, template_var 1)),
         template_var 0))),
    ("Misc_CryptHOL.pcr_Some_simps", "pcr_Some ?R ?x (Some ?y) = ?R ?x ?y",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 1, template_var 2), template_var 1),
         template_app (template_hole 0, template_var 0)),
       template_app
        (template_app (template_var 2, template_var 1), template_var 0))),
    ("Misc_CryptHOL.pred_spmf_spmf_of_pmf",
     "pred_spmf ?P (spmf_of_pmf ?p) = pred_pmf ?P ?p",
     template_equation
      (template_app
        (template_app
          (template_hole 3, template_app (template_hole 2, template_var 1)),
         template_app (template_hole 1, template_var 0)),
       template_app
        (template_app (template_hole 0, template_var 1), template_var 0))),
    ("Misc_CryptHOL.Nil_in_nlists", "([] : nlists ?A ?n) = (?n = 0)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_hole 3),
              template_app
               (template_app (template_hole 2, template_var 1),
                template_var 0))
            )],
       template_equation (template_var 0, template_hole 0))),
    ("Misc_CryptHOL.pred_spmf_return",
     "pred_spmf ?P (return_spmf ?x) = ?P ?x",
     template_equation
      (template_app
        (template_app
          (template_hole 3, template_app (template_hole 2, template_var 1)),
         template_app
          (template_hole 1,
           template_app (template_hole 0, template_var 0))),
       template_app (template_var 1, template_var 0))),
    ("Misc_CryptHOL.sup_option_left_idem",
     "sup_option ?x (sup_option ?x ?y) = sup_option ?x ?y",
     template_equation
      (template_app
        (template_app (template_hole 0, template_var 1),
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app
        (template_app (template_hole 0, template_var 1), template_var 0))),
    ("Misc_CryptHOL.lossless_spmfD_set_spmf_nonempty",
     "lossless_spmf ?p ==> set_spmf ?p ~= {}",
     template_implication
      ([template_predicate
         (template_app (template_hole 4, template_var 0))],
       template_negation
        (
           template_equation
            (template_app (template_hole 1, template_var 0),
             template_hole 0)
           ))),
    ("Misc_CryptHOL.rel_fun_conversep",
     "rel_fun ?A^--1 ?B^--1 = (rel_fun ?A ?B)^--1",
     template_equation
      (template_app
        (template_app
          (template_hole 4, template_app (template_hole 3, template_var 1)),
         template_app (template_hole 2, template_var 0)),
       template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Misc_CryptHOL.nlistsp_nlists_eq",
     "nlistsp ?A ?n = (%x. x : nlists ?A ?n)",
     template_equation
      (template_app
        (template_app (template_hole 2, template_var 1), template_var 0),
       t_empty)),
    ("Misc_CryptHOL.option_pred_o_map",
     "pred_option ?P o map_option ?f = pred_option (?P o ?f)",
     template_equation
      (template_app
        (template_app
          (template_hole 4, template_app (template_hole 3, template_var 1)),
         template_app (template_hole 2, template_var 0)),
       template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Misc_CryptHOL.set_assert_option_conv",
     "set_option (assert_option ?b) = (if ?b then {()} else {})",
     template_equation
      (template_app
        (template_hole 5, template_app (template_hole 4, template_var 0)),
       template_app
        (template_app
          (template_app (template_hole 3, template_var 0),
           template_app
            (template_app (template_hole 2, template_hole 1),
             template_hole 0)),
         template_hole 0))),
    ("Misc_CryptHOL.eq_None_iff_not_dom", "(?f ?x = None) = (?x ~: dom ?f)",
     template_equation
      (template_app
        (template_app
          (template_hole 4, template_app (template_var 1, template_var 0)),
         template_hole 3),
       template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_var 0),
           template_app (template_hole 0, template_var 1))))),
    ("Misc_CryptHOL.right_total_Grp",
     "right_total (BNF_Def.Grp ?A ?f) = (?f ` ?A = UNIV)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 4,
              template_app
               (template_app (template_hole 3, template_var 1),
                template_var 0))
            )],
       template_equation
        (template_app
          (template_app (template_hole 1, template_var 0), template_var 1),
         template_hole 0))),
    ("Misc_CryptHOL.mk_lossless_eq_return_pmf_None",
     "(mk_lossless ?p = return_pmf None) = (?p = return_pmf None)",
     template_bimplication
      (template_equation
        (template_app (template_hole 2, template_var 0),
         template_app (template_hole 1, template_hole 0)),
       template_equation
        (template_var 0, template_app (template_hole 1, template_hole 0)))),
    ("Misc_CryptHOL.return_pmf_None_eq_mk_lossless",
     "(return_pmf None = mk_lossless ?p) = (?p = return_pmf None)",
     template_bimplication
      (template_equation
        (template_app (template_hole 2, template_hole 1),
         template_app (template_hole 0, template_var 0)),
       template_equation
        (template_var 0, template_app (template_hole 2, template_hole 1)))),
    ("Misc_CryptHOL.pred_spmf_assert_spmf",
     "pred_spmf ?P (assert_spmf ?b) = (?b --> ?P ())",
     template_equation
      (template_app
        (template_app
          (template_hole 4, template_app (template_hole 3, template_var 1)),
         template_app (template_hole 2, template_var 0)),
       template_app
        (template_app (template_hole 1, template_var 0),
         template_app (template_var 1, template_hole 0)))),
    ("Misc_CryptHOL.in_nlists_UNIV",
     "(?xs : nlists UNIV ?n) = (length ?xs = ?n)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 1),
              template_app
               (template_app (template_hole 3, template_hole 2),
                template_var 0))
            )],
       template_equation
        (template_app (template_hole 0, template_var 1), template_var 0))),
    ("Misc_CryptHOL.rel_prod2_simps", "rel_prod2 ?R ?a (?c, ?b) = ?R ?a ?b",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 1, template_var 3), template_var 2),
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app
        (template_app (template_var 3, template_var 2), template_var 0))),
    ("Misc_CryptHOL.Inl_in_Plus", "(Inl ?x : ?A <+> ?B) = (?x : ?A)",
     template_equation
      (template_app
        (template_app
          (template_hole 3, template_app (template_hole 2, template_var 2)),
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app
        (template_app (template_hole 0, template_var 2), template_var 1))),
    ("Misc_CryptHOL.Inr_in_Plus", "(Inr ?x : ?A <+> ?B) = (?x : ?B)",
     template_equation
      (template_app
        (template_app
          (template_hole 3, template_app (template_hole 2, template_var 2)),
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app
        (template_app (template_hole 0, template_var 2), template_var 0))),
    ("Misc_CryptHOL.map_add_apply",
     "(?m1.0 ++ ?m2.0) ?x = sup_option (?m1.0 ?x) (?m2.0 ?x)",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 1, template_var 2), template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_hole 0, template_app (template_var 2, template_var 0)),
         template_app (template_var 1, template_var 0)))),
    ("Misc_CryptHOL.map_join_option",
     "map_option ?f (join_option ?x) =
      join_option (map_option (map_option ?f) ?x)",
     template_equation
      (template_app
        (template_app (template_hole 3, template_var 1),
         template_app (template_hole 2, template_var 0)),
       template_app
        (template_hole 1,
         template_app
          (template_app
            (template_hole 0,
             template_app (template_hole 3, template_var 1)),
           template_var 0)))),
    ("Misc_CryptHOL.corec_prod_apply",
     "corec_prod ?f ?g ?s = (?f ?s, ?g ?s)",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 1, template_var 2), template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_hole 0, template_app (template_var 2, template_var 0)),
         template_app (template_var 1, template_var 0)))),
    ("Misc_CryptHOL.cond_spmf_fst_map_Pair",
     "cond_spmf_fst (map_spmf (Pair ?x) ?p) ?x = mk_lossless ?p",
     template_equation
      (template_app
        (template_app
          (template_hole 4,
           template_app
            (template_app
              (template_hole 3,
               template_app
                (template_hole 2,
                 template_app (template_hole 1, template_var 1))),
             template_var 0)),
         template_var 1),
       template_app (template_hole 0, template_var 0))),
    ("Misc_CryptHOL.Domainp_rel_fun_le",
     "Domainp (rel_fun ?A ?B) <= pred_fun (Domainp ?A) (Domainp ?B)",
     template_inequation
      (less_equals,
       template_app
        (template_hole 4,
         template_app
          (template_app (template_hole 3, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 2, template_app (template_hole 1, template_var 1)),
         template_app (template_hole 0, template_var 0)))),
    ("Misc_CryptHOL.enforce_pred_id_option",
     "pred_option ?P ?x ==> enforce_option ?P ?x = ?x",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 1),
              template_var 0)
            )],
       template_equation
        (template_app
          (template_app (template_hole 0, template_var 1), template_var 0),
         template_var 0))),
    ("Misc_CryptHOL.nlists_empty_gt0", "0 < ?n ==> nlists {} ?n = {}",
     template_implication
      ([template_inequation (less_than, template_hole 4, template_var 0)],
       template_equation
        (template_app
          (template_app (template_hole 2, template_hole 1), template_var 0),
         template_hole 0))),
    ("Misc_CryptHOL.strict_prefix_setD",
     "strict_prefix ?xs ?ys ==> set ?xs <= set ?ys",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 1),
              template_var 0)
            )],
       template_inequation
        (less_equals, template_app (template_hole 0, template_var 1),
         template_app (template_hole 0, template_var 0)))),
    ("Misc_CryptHOL.mcont_map_option",
     "mcont (flat_lub None) option_ord (flat_lub None) option_ord
       (map_option ?f)",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_app
                (template_app
                  (template_hole 7,
                   template_app (template_hole 6, template_hole 5)),
                 template_app (template_hole 4, template_hole 5)),
               template_app (template_hole 3, template_hole 2)),
             template_app (template_hole 1, template_hole 2)),
           template_app (template_hole 0, template_var 0))
         )),
    ("Misc_CryptHOL.split_apfst",
     "(case apfst ?f ?xy of (x, xa) => ?h x xa) =
      (case ?xy of (x, xa) => (?h o ?f) x xa)",
     template_equation
      (template_app
        (template_app (template_hole 3, template_var 2),
         template_app
          (template_app (template_hole 2, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1)),
         template_var 0))),
    ("Misc_CryptHOL.map_fun2_id",
     "map_fun ?f ?g ?x = ?g o map_fun ?f id ?x",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 3, template_var 2), template_var 1),
         template_var 0),
       template_app
        (template_app (template_hole 2, template_var 1),
         template_app
          (template_app
            (template_app (template_hole 1, template_var 2),
             template_hole 0),
           template_var 0)))),
    ("Misc_CryptHOL.map_fun_id2_in",
     "map_fun ?g ?h ?f = map_fun ?g id (?h o ?f)",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 3, template_var 2), template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_app (template_hole 2, template_var 2), template_hole 1),
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Misc_CryptHOL.vimage2p_conversep",
     "BNF_Def.vimage2p ?f ?g ?R^--1 = (BNF_Def.vimage2p ?g ?f ?R)^--1",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 3, template_var 2), template_var 1),
         template_app (template_hole 2, template_var 0)),
       template_app
        (template_hole 1,
         template_app
          (template_app
            (template_app (template_hole 0, template_var 1),
             template_var 2),
           template_var 0)))),
    ("Misc_CryptHOL.conversep_restrict_relp",
     "(?R \<upharpoonleft> ?P \<otimes> ?Q)^--1 =
      ?R^--1 \<upharpoonleft> ?Q \<otimes> ?P",
     template_equation
      (template_app
        (template_hole 2,
         template_app
          (template_app
            (template_app (template_hole 1, template_var 2),
             template_var 1),
           template_var 0)),
       template_app
        (template_app
          (template_app
            (template_hole 0,
             template_app (template_hole 2, template_var 2)),
           template_var 0),
         template_var 1))),
    ("Misc_CryptHOL.Rangep_Grp",
     "Rangep (BNF_Def.Grp ?A ?f) = (%x. x : ?f ` ?A)",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 2, template_var 1), template_var 0)),
       t_empty)),
    ("Misc_CryptHOL.ord_spmf_conv",
     "ord_spmf ?R = rel_spmf ?R OO ord_spmf (=)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 4,
              template_app (template_hole 3, template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_hole 4,
                 template_app (template_hole 1, template_var 0))),
             template_app
              (template_hole 4,
               template_app (template_hole 3, template_hole 0)))
           ))),
    ("Misc_CryptHOL.set_zip_option",
     "set_option (zip_option ?x ?y) = set_option ?x \<times> set_option ?y",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app (template_hole 3, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 2, template_app (template_hole 1, template_var 1)),
         t_empty))),
    ("Misc_CryptHOL.finite_nlists_iff",
     "finite (nlists ?A ?n) = (finite ?A | ?n = 0)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 5,
              template_app
               (template_app (template_hole 4, template_var 1),
                template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 3,
               template_app (template_hole 2, template_var 1)),
             template_app
              (template_app (template_hole 1, template_var 0),
               template_hole 0))
           ))),
    ("Misc_CryptHOL.lossless_cond_spmf_fst",
     "lossless_spmf (cond_spmf_fst ?p ?x) = (?x : fst ` set_spmf ?p)",
     template_equation
      (template_app
        (template_hole 5,
         template_app
          (template_app (template_hole 4, template_var 1), template_var 0)),
       template_app
        (template_app (template_hole 3, template_var 0),
         template_app
          (template_app (template_hole 2, template_hole 1),
           template_app (template_hole 0, template_var 1))))),
    ("Misc_CryptHOL.join_option_eq_Some",
     "(join_option ?x = Some ?y) = (?x = Some (Some ?y))",
     template_bimplication
      (template_equation
        (template_app (template_hole 3, template_var 1),
         template_app (template_hole 2, template_var 0)),
       template_equation
        (template_var 1,
         template_app
          (template_hole 0,
           template_app (template_hole 2, template_var 0))))),
    ("Misc_CryptHOL.Some_eq_join_option",
     "(Some ?y = join_option ?x) = (?x = Some (Some ?y))",
     template_bimplication
      (template_equation
        (template_app (template_hole 3, template_var 1),
         template_app (template_hole 2, template_var 0)),
       template_equation
        (template_var 0,
         template_app
          (template_hole 0,
           template_app (template_hole 3, template_var 1))))),
    ("Misc_CryptHOL.option_pred_map",
     "pred_option ?P (map_option ?f ?x) = pred_option (?P o ?f) ?x",
     template_equation
      (template_app
        (template_app (template_hole 3, template_var 2),
         template_app
          (template_app (template_hole 2, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1)),
         template_var 0))),
    ("Misc_CryptHOL.pmf_pred_map",
     "pred_pmf ?P (map_pmf ?f ?p) = pred_pmf (?P o ?f) ?p",
     template_equation
      (template_app
        (template_app (template_hole 3, template_var 2),
         template_app
          (template_app (template_hole 2, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1)),
         template_var 0))),
    ("Misc_CryptHOL.sup_option_assoc",
     "sup_option (sup_option ?x ?y) ?z = sup_option ?x (sup_option ?y ?z)",
     template_equation
      (template_app
        (template_app
          (template_hole 0,
           template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1)),
         template_var 0),
       template_app
        (template_app (template_hole 0, template_var 2),
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Misc_CryptHOL.measure_map_pmf_conv_distr",
     "measure_pmf (map_pmf ?f ?p) =
      distr (measure_pmf ?p) (count_space UNIV) ?f",
     template_equation
      (template_app
        (template_hole 5,
         template_app
          (template_app (template_hole 4, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_app
            (template_hole 3,
             template_app (template_hole 2, template_var 0)),
           template_app (template_hole 1, template_hole 0)),
         template_var 1))),
    ("Misc_CryptHOL.return_pmf_bind_option",
     "return_pmf (?x >>= ?f) = return_pmf ?x >>= return_pmf o ?f",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app (template_hole 3, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 2, template_app (template_hole 1, template_var 1)),
         template_app
          (template_app (template_hole 0, template_hole 4),
           template_var 0)))),
    ("Misc_CryptHOL.mk_lossless_map",
     "mk_lossless (map_spmf ?f ?p) = map_spmf ?f (mk_lossless ?p)",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0)),
       template_app
        (template_app
          (template_hole 2, template_app (template_hole 1, template_var 1)),
         template_app (template_hole 0, template_var 0)))),
    ("Misc_CryptHOL.cond_spmf_fst_return_spmf",
     "cond_spmf_fst (return_spmf (?x, ?y)) ?x = return_spmf ?y",
     template_equation
      (template_app
        (template_app
          (template_hole 5,
           template_app
            (template_hole 4,
             template_app
              (template_hole 3,
               template_app
                (template_app (template_hole 2, template_var 1),
                 template_var 0)))),
         template_var 1),
       template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)))),
    ("Misc_CryptHOL.pair_spmf_of_set",
     "pair_spmf (spmf_of_set ?A) (spmf_of_set ?B) =
      spmf_of_set (?A \<times> ?B)",
     template_equation
      (template_app
        (template_app
          (template_hole 4, template_app (template_hole 3, template_var 1)),
         template_app (template_hole 2, template_var 0)),
       template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), t_empty)))),
    ("Misc_CryptHOL.vimage2p_eq",
     "inj ?f ==> BNF_Def.vimage2p ?f ?f (=) = (=)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 0),
              template_hole 4)
            )],
       template_bimplication
        (template_predicate
          (
             template_app
              (template_app
                (template_app (template_hole 2, template_var 0),
                 template_var 0),
               template_hole 1)
             ),
         template_predicate (template_hole 0)))),
    ("Misc_CryptHOL.fun_ordD",
     "fun_ord ?ord ?f ?g ==> ?ord (?f ?x) (?g ?x)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 0, template_var 3),
                template_var 2),
              template_var 1)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_var 3,
               template_app (template_var 2, template_var 0)),
             template_app (template_var 1, template_var 0))
           ))),
    ("Misc_CryptHOL.enforce_pred_id_spmf",
     "pred_spmf ?P ?p ==> enforce_spmf ?P ?p = ?p",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 3,
                template_app (template_hole 2, template_var 1)),
              template_var 0)
            )],
       template_equation
        (template_app
          (template_app (template_hole 0, template_var 1), template_var 0),
         template_var 0))),
    ("Misc_CryptHOL.finite_chainsD",
     "[| finite_chains ?ord; Complete_Partial_Order.chain ?ord ?Y |]
      ==> finite ?Y",
     template_implication
      ([template_predicate (template_app (template_hole 2, template_var 1)),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 1),
              template_var 0)
            )],
       template_predicate
        (template_app (template_hole 0, template_var 0)))),
    ("Misc_CryptHOL.Plus_parametric",
     "rel_fun (rel_set ?A) (rel_fun (rel_set ?B) (rel_set (rel_sum ?A ?B)))
       (<+>) (<+>)",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_app
                (template_hole 7,
                 template_app (template_hole 6, template_var 1)),
               template_app
                (template_app
                  (template_hole 5,
                   template_app (template_hole 4, template_var 0)),
                 template_app
                  (template_hole 3,
                   template_app
                    (template_app (template_hole 2, template_var 1),
                     template_var 0)))),
             template_hole 1),
           template_hole 0)
         )),
    ("Misc_CryptHOL.zip_option_parametric",
     "rel_fun (rel_option ?R)
       (rel_fun (rel_option ?Q) (rel_option (rel_prod ?R ?Q))) zip_option
       zip_option",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_app
                (template_hole 7,
                 template_app (template_hole 6, template_var 1)),
               template_app
                (template_app
                  (template_hole 5,
                   template_app (template_hole 4, template_var 0)),
                 template_app
                  (template_hole 3,
                   template_app
                    (template_app (template_hole 2, template_var 1),
                     template_var 0)))),
             template_hole 1),
           template_hole 0)
         )),
    ("Misc_CryptHOL.nn_integral_spmf_neq_infinity",
     "(\<Sum>\<^sup>+ x. ennreal (spmf ?p x)) ~= \<infinity>",
     template_negation
      (
         template_equation
          (template_app
            (template_app
              (template_hole 6,
               template_app (template_hole 5, template_hole 4)),
             t_empty),
           template_hole 0)
         )),
    ("Misc_CryptHOL.split_corec_prod",
     "(case corec_prod ?f ?g ?s of (x, xa) => ?h x xa) =
      ?h (?f ?s) (?g ?s)",
     template_equation
      (template_app
        (template_app (template_hole 1, template_var 3),
         template_app
          (template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1),
           template_var 0)),
       template_app
        (template_app
          (template_var 3, template_app (template_var 2, template_var 0)),
         template_app (template_var 1, template_var 0)))),
    ("Misc_CryptHOL.nlists_empty",
     "nlists {} ?n = (if ?n = 0 then {[]} else {})",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_hole 6),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 5,
                 template_app
                  (template_app (template_hole 4, template_var 0),
                   template_hole 3)),
               template_app
                (template_app (template_hole 2, template_hole 1),
                 template_hole 0)),
             template_hole 0)
           ))),
    ("Misc_CryptHOL.is_none_filter_option",
     "Option.is_none (filter_option ?P ?x) =
      (Option.is_none ?x | ~ ?P (the ?x))",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app (template_hole 3, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 2, template_app (template_hole 4, template_var 0)),
         template_app
          (template_hole 1,
           template_app
            (template_var 1,
             template_app (template_hole 0, template_var 0)))))),
    ("Misc_CryptHOL.lossless_cond_spmf",
     "lossless_spmf (cond_spmf ?p ?A) = (set_spmf ?p Int ?A ~= {})",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 6,
              template_app
               (template_app (template_hole 5, template_var 1),
                template_var 0))
            )],
       template_negation
        (
           template_equation
            (template_app
              (template_app
                (template_hole 2,
                 template_app (template_hole 1, template_var 1)),
               template_var 0),
             template_hole 0)
           ))),
    ("Misc_CryptHOL.option_pred_bind",
     "pred_option ?P (?x >>= ?f) = pred_option (pred_option ?P o ?f) ?x",
     template_equation
      (template_app
        (template_app (template_hole 3, template_var 2),
         template_app
          (template_app (template_hole 2, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 1,
           template_app
            (template_app
              (template_hole 0,
               template_app (template_hole 3, template_var 2)),
             template_var 0)),
         template_var 1))),
    ("Misc_CryptHOL.pred_pmf_bind",
     "pred_pmf ?P (?p >>= ?f) = pred_pmf (pred_pmf ?P o ?f) ?p",
     template_equation
      (template_app
        (template_app (template_hole 3, template_var 2),
         template_app
          (template_app (template_hole 2, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 1,
           template_app
            (template_app
              (template_hole 0,
               template_app (template_hole 3, template_var 2)),
             template_var 0)),
         template_var 1))),
    ("Misc_CryptHOL.pred_spmf_of_set",
     "pred_spmf ?P (spmf_of_set ?A) = (finite ?A --> Ball ?A ?P)",
     template_equation
      (template_app
        (template_app
          (template_hole 5, template_app (template_hole 4, template_var 1)),
         template_app (template_hole 3, template_var 0)),
       template_app
        (template_app
          (template_hole 2, template_app (template_hole 1, template_var 0)),
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("Misc_CryptHOL.enforce_bind_option",
     "enforce_option ?P (?x >>= ?f) = ?x >>= enforce_option ?P o ?f",
     template_equation
      (template_app
        (template_app (template_hole 2, template_var 2),
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app
        (template_app (template_hole 1, template_var 1),
         template_app
          (template_app
            (template_hole 0,
             template_app (template_hole 2, template_var 2)),
           template_var 0)))),
    ("Misc_CryptHOL.zip_map_option2",
     "zip_option ?x (map_option ?g ?y) =
      map_option (apsnd ?g) (zip_option ?x ?y)",
     template_equation
      (template_app
        (template_app (template_hole 4, template_var 2),
         template_app
          (template_app (template_hole 3, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 2, template_app (template_hole 1, template_var 1)),
         template_app
          (template_app (template_hole 0, template_var 2),
           template_var 0)))),
    ("Misc_CryptHOL.zip_map_option1",
     "zip_option (map_option ?f ?x) ?y =
      map_option (apfst ?f) (zip_option ?x ?y)",
     template_equation
      (template_app
        (template_app
          (template_hole 4,
           template_app
            (template_app (template_hole 3, template_var 2),
             template_var 1)),
         template_var 0),
       template_app
        (template_app
          (template_hole 2, template_app (template_hole 1, template_var 2)),
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Misc_CryptHOL.rprodl_simps", "rprodl ((?a, ?b), ?c) = (?a, ?b, ?c)",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app (template_hole 2, template_var 2),
               template_var 1)),
           template_var 0)),
       template_app
        (template_app (template_hole 1, template_var 2),
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Misc_CryptHOL.lprodr_simps", "lprodr (?a, ?b, ?c) = ((?a, ?b), ?c)",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app (template_hole 3, template_var 2),
           template_app
            (template_app (template_hole 2, template_var 1),
             template_var 0))),
       template_app
        (template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1)),
         template_var 0))),
    ("Misc_CryptHOL.measure_spmf_eq_density",
     "measure_spmf ?p =
      density (count_space UNIV) (%x. ennreal (spmf ?p x))",
     template_equation
      (template_app (template_hole 6, template_var 0),
       template_app
        (template_app
          (template_hole 5,
           template_app (template_hole 4, template_hole 3)),
         t_empty))),
    ("Misc_CryptHOL.enforce_bind_spmf",
     "enforce_spmf ?P (?p >>= ?f) = ?p >>= enforce_spmf ?P o ?f",
     template_equation
      (template_app
        (template_app (template_hole 2, template_var 2),
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app
        (template_app (template_hole 1, template_var 1),
         template_app
          (template_app
            (template_hole 0,
             template_app (template_hole 2, template_var 2)),
           template_var 0)))),
    ("Misc_CryptHOL.transp_inv_image",
     "transp ?r ==> transp (%x y. ?r (?f x) (?f y))",
     template_implication
      ([template_predicate
         (template_app (template_hole 1, template_var 1))],
       template_predicate (template_app (template_hole 0, t_empty)))),
    ("Misc_CryptHOL.card_ran_le_dom",
     "finite (dom ?m) ==> card (ran ?m) <= card (dom ?m)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 5,
              template_app (template_hole 4, template_var 0))
            )],
       template_inequation
        (less_equals,
         template_app
          (template_hole 2, template_app (template_hole 1, template_var 0)),
         template_app
          (template_hole 0,
           template_app (template_hole 4, template_var 0))))),
    ("Misc_CryptHOL.pred_pmf_poisson",
     "0 < ?rate ==> pred_pmf ?P (poisson_pmf ?rate) = All ?P",
     template_implication
      ([template_inequation (less_than, template_hole 4, template_var 1)],
       template_equation
        (template_app
          (template_app (template_hole 2, template_var 0),
           template_app (template_hole 1, template_var 1)),
         template_app (template_hole 0, template_var 0)))),
    ("Misc_CryptHOL.cond_return_pmf",
     "?x : ?A ==> cond_pmf (return_pmf ?x) ?A = return_pmf ?x",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 1),
              template_var 0)
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 1)),
           template_var 0),
         template_app (template_hole 0, template_var 1)))),
    ("Misc_CryptHOL.replicate_in_nlists",
     "?x : ?A ==> replicate ?n ?x : nlists ?A ?n",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 2),
              template_var 1)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 0),
                 template_var 2)),
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0))
           ))),
    ("Misc_CryptHOL.finite_nlistsD",
     "finite (nlists ?A ?n) ==> finite ?A | ?n = 0",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 5,
              template_app
               (template_app (template_hole 4, template_var 1),
                template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 3,
               template_app (template_hole 2, template_var 1)),
             template_app
              (template_app (template_hole 1, template_var 0),
               template_hole 0))
           ))),
    ("Misc_CryptHOL.reflp_fun1",
     "[| is_equality ?A; reflp ?B |] ==> reflp (rel_fun ?A ?B)",
     template_implication
      ([template_predicate (template_app (template_hole 3, template_var 1)),
        template_predicate
         (template_app (template_hole 2, template_var 0))],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0))
           ))),
    ("Misc_CryptHOL.transp_rel_fun",
     "[| is_equality ?Q; transp ?R |] ==> transp (rel_fun ?Q ?R)",
     template_implication
      ([template_predicate (template_app (template_hole 3, template_var 1)),
        template_predicate
         (template_app (template_hole 2, template_var 0))],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0))
           ))),
    ("Misc_CryptHOL.enforce_spmf_parametric",
     "rel_fun (rel_fun ?A (=)) (rel_fun (rel_spmf ?A) (rel_spmf ?A))
       enforce_spmf enforce_spmf",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_app
                (template_hole 7,
                 template_app
                  (template_app (template_hole 6, template_var 0),
                   template_hole 5)),
               template_app
                (template_app
                  (template_hole 4,
                   template_app
                    (template_hole 3,
                     template_app (template_hole 2, template_var 0))),
                 template_app
                  (template_hole 3,
                   template_app (template_hole 2, template_var 0)))),
             template_hole 1),
           template_hole 0)
         )),
    ("Misc_CryptHOL.lprodr_parametric",
     "rel_fun (rel_prod ?A (rel_prod ?B ?C)) (rel_prod (rel_prod ?A ?B) ?C)
       lprodr lprodr",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_app
                (template_hole 6,
                 template_app
                  (template_app (template_hole 5, template_var 2),
                   template_app
                    (template_app (template_hole 4, template_var 1),
                     template_var 0))),
               template_app
                (template_app
                  (template_hole 3,
                   template_app
                    (template_app (template_hole 2, template_var 2),
                     template_var 1)),
                 template_var 0)),
             template_hole 1),
           template_hole 0)
         )),
    ("Misc_CryptHOL.rprodl_parametric",
     "rel_fun (rel_prod (rel_prod ?A ?B) ?C) (rel_prod ?A (rel_prod ?B ?C))
       rprodl rprodl",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_app
                (template_hole 6,
                 template_app
                  (template_app
                    (template_hole 5,
                     template_app
                      (template_app (template_hole 4, template_var 2),
                       template_var 1)),
                   template_var 0)),
               template_app
                (template_app (template_hole 3, template_var 2),
                 template_app
                  (template_app (template_hole 2, template_var 1),
                   template_var 0))),
             template_hole 1),
           template_hole 0)
         )),
    ("Misc_CryptHOL.indicator_single_Some",
     "indicator {Some ?x} (Some ?y) = indicator {?x} ?y",
     template_equation
      (template_app
        (template_app
          (template_hole 6,
           template_app
            (template_app
              (template_hole 5,
               template_app (template_hole 4, template_var 1)),
             template_hole 3)),
         template_app (template_hole 4, template_var 0)),
       template_app
        (template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 1, template_var 1),
             template_hole 0)),
         template_var 0))),
    ("Misc_CryptHOL.rel_witness_fun_eq",
     "rel_witness_fun (=) (=) (?f, ?g) = (%x. (?f x, ?g x))",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 3, template_hole 2),
           template_hole 2),
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       t_empty)),
    ("Misc_CryptHOL.rel_fun_eq_OO",
     "rel_fun (=) ?A OO rel_fun (=) ?B = rel_fun (=) (?A OO ?B)",
     template_bimplication
      (template_predicate
        (
           template_app
            (template_app
              (template_hole 5,
               template_app
                (template_app (template_hole 4, template_hole 3),
                 template_var 1)),
             template_app
              (template_app (template_hole 2, template_hole 3),
               template_var 0))
           ),
       template_predicate
        (
           template_app
            (template_app (template_hole 1, template_hole 3),
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0))
           ))),
    ("Misc_CryptHOL.rel_fun_inf",
     "rel_fun ?Q ?R \<sqinter> rel_fun ?Q ?R' =
      rel_fun ?Q (?R \<sqinter> ?R')",
     template_equation
      (template_app
        (template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 1, template_var 2),
             template_var 1)),
         template_app
          (template_app (template_hole 1, template_var 2), template_var 0)),
       template_app
        (template_app (template_hole 1, template_var 2),
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Misc_CryptHOL.rel_set_Grp",
     "rel_set (BNF_Def.Grp ?A ?f) = BNF_Def.Grp {B. B <= ?A} ((`) ?f)",
     template_equation
      (template_app
        (template_hole 5,
         template_app
          (template_app (template_hole 4, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 3, template_app (template_hole 2, t_empty)),
         template_app (template_hole 0, template_var 0)))),
    ("Misc_CryptHOL.set_spmf_map_pmf",
     "set_spmf (map_pmf ?f ?p) = (UN x:set_pmf ?p. set_option (?f x))",
     template_equation
      (template_app
        (template_hole 5,
         template_app
          (template_app (template_hole 4, template_var 1), template_var 0)),
       template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 2, t_empty),
           template_app (template_hole 0, template_var 0))))),
    ("Misc_CryptHOL.None_eq_join_option",
     "(None = join_option ?x) = (?x = None | ?x = Some None)",
     template_bimplication
      (template_equation
        (template_hole 5, template_app (template_hole 4, template_var 0)),
       template_predicate
        (
           template_app
            (template_app
              (template_hole 3,
               template_app
                (template_app (template_hole 2, template_var 0),
                 template_hole 1)),
             template_app
              (template_app (template_hole 2, template_var 0),
               template_app (template_hole 0, template_hole 5)))
           ))),
    ("Misc_CryptHOL.join_option_eq_None",
     "(join_option ?x = None) = (?x = None | ?x = Some None)",
     template_bimplication
      (template_equation
        (template_app (template_hole 5, template_var 0), template_hole 4),
       template_predicate
        (
           template_app
            (template_app
              (template_hole 3,
               template_app
                (template_app (template_hole 2, template_var 0),
                 template_hole 1)),
             template_app
              (template_app (template_hole 2, template_var 0),
               template_app (template_hole 0, template_hole 4)))
           ))),
    ("Misc_CryptHOL.nlists_eq_empty_iff",
     "(nlists ?A ?n = {}) = (0 < ?n & ?A = {})",
     template_bimplication
      (template_equation
        (template_app
          (template_app (template_hole 6, template_var 1), template_var 0),
         template_hole 5),
       template_predicate
        (
           template_app
            (template_app
              (template_hole 4,
               template_app
                (template_app (template_hole 3, template_hole 2),
                 template_var 0)),
             template_app
              (template_app (template_hole 1, template_var 1),
               template_hole 0))
           ))),
    ("Misc_CryptHOL.restrict_spmf_eq_return_pmf_None",
     "(?p \<upharpoonleft> ?A = return_pmf None) =
      (set_spmf ?p Int ?A = {})",
     template_bimplication
      (template_equation
        (template_app
          (template_app (template_hole 6, template_var 1), template_var 0),
         template_app (template_hole 5, template_hole 4)),
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0),
         template_hole 0))),
    ("Misc_CryptHOL.emeasure_measure_pmf_zero_iff",
     "(emeasure (measure_pmf ?p) ?s = 0) = (set_pmf ?p Int ?s = {})",
     template_bimplication
      (template_equation
        (template_app
          (template_app
            (template_hole 6,
             template_app (template_hole 5, template_var 1)),
           template_var 0),
         template_hole 4),
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0),
         template_hole 0))),
    ("Misc_CryptHOL.ord_spmf_return_spmf",
     "ord_spmf (=) (return_spmf ?x) ?p = (?p = return_spmf ?x)",
     template_bimplication
      (template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 5,
                 template_app (template_hole 4, template_hole 3)),
               template_app
                (template_hole 2,
                 template_app (template_hole 1, template_var 1))),
             template_var 0)
           ),
       template_equation
        (template_var 0,
         template_app
          (template_hole 2,
           template_app (template_hole 1, template_var 1))))),
    ("Misc_CryptHOL.measure_range_Some_eq_weight",
     "measure_pmf.prob ?p (range Some) = weight_spmf ?p",
     template_equation
      (template_app
        (template_app
          (template_hole 7, template_app (template_hole 6, template_var 0)),
         template_app
          (template_app (template_hole 5, template_hole 4),
           template_hole 3)),
       template_app
        (template_app
          (template_hole 2, template_app (template_hole 1, template_var 0)),
         template_app
          (template_hole 0,
           template_app (template_hole 1, template_var 0))))),
    ("Misc_CryptHOL.filter_conv_bind_option",
     "filter_option ?P ?x = ?x >>= (%y. if ?P y then Some y else None)",
     template_equation
      (template_app
        (template_app (template_hole 4, template_var 1), template_var 0),
       template_app
        (template_app (template_hole 3, template_var 0), t_empty))),
    ("Misc_CryptHOL.enforce_map_option",
     "enforce_option ?P (map_option ?f ?x) =
      map_option ?f (enforce_option (?P o ?f) ?x)",
     template_equation
      (template_app
        (template_app (template_hole 3, template_var 2),
         template_app
          (template_app (template_hole 2, template_var 1), template_var 0)),
       template_app
        (template_app (template_hole 2, template_var 1),
         template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 2),
               template_var 1)),
           template_var 0)))),
    ("Misc_CryptHOL.filter_map_option",
     "filter_option ?P (map_option ?f ?x) =
      map_option ?f (filter_option (?P o ?f) ?x)",
     template_equation
      (template_app
        (template_app (template_hole 3, template_var 2),
         template_app
          (template_app (template_hole 2, template_var 1), template_var 0)),
       template_app
        (template_app (template_hole 2, template_var 1),
         template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 2),
               template_var 1)),
           template_var 0)))),
    ("Misc_CryptHOL.apfst_corec_prod",
     "apfst ?h (corec_prod ?f ?g ?s) = corec_prod (?h o ?f) ?g ?s",
     template_equation
      (template_app
        (template_app (template_hole 3, template_var 3),
         template_app
          (template_app
            (template_app (template_hole 2, template_var 2),
             template_var 1),
           template_var 0)),
       template_app
        (template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 3),
               template_var 2)),
           template_var 1),
         template_var 0))),
    ("Misc_CryptHOL.apsnd_corec_prod",
     "apsnd ?h (corec_prod ?f ?g ?s) = corec_prod ?f (?h o ?g) ?s",
     template_equation
      (template_app
        (template_app (template_hole 3, template_var 3),
         template_app
          (template_app
            (template_app (template_hole 2, template_var 2),
             template_var 1),
           template_var 0)),
       template_app
        (template_app
          (template_app (template_hole 1, template_var 2),
           template_app
            (template_app (template_hole 0, template_var 3),
             template_var 1)),
         template_var 0))),
    ("Misc_CryptHOL.bind_spmf_pmf_assoc",
     "?p >>= ?f >>= ?g = ?p >>= (%x. ?f x >>= ?g)",
     template_equation
      (template_app
        (template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 1, template_var 2),
             template_var 1)),
         template_var 0),
       template_app
        (template_app (template_hole 0, template_var 2), t_empty))),
    ("Misc_CryptHOL.rel_spmf_pos_distr",
     "rel_spmf ?A OO rel_spmf ?B <= rel_spmf (?A OO ?B)",
     template_inequation
      (less_equals,
       template_app
        (template_app
          (template_hole 7,
           template_app
            (template_hole 6,
             template_app (template_hole 5, template_var 1))),
         template_app
          (template_hole 4,
           template_app (template_hole 3, template_var 0))),
       template_app
        (template_hole 2,
         template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 0))))),
    ("Misc_CryptHOL.cond_spmf_spmf_of_set",
     "finite ?A ==>
      cond_spmf (spmf_of_set ?A) ?B = spmf_of_set (?A Int ?B)",
     template_implication
      ([template_predicate
         (template_app (template_hole 4, template_var 1))],
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_var 0),
         template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 0))))),
    ("Misc_CryptHOL.enat_add_sub_same2",
     "?b ~= \<infinity> ==> ?a + ?b - ?b = ?a",
     template_implication
      ([template_negation
         (template_equation (template_var 1, template_hole 2))],
       template_equation
        (template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 0),
               template_var 1)),
           template_var 1),
         template_var 0))),
    ("Misc_CryptHOL.set_enforce_option",
     "set_option (enforce_option ?P ?x) = {a: set_option ?x. ?P a}",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app (template_hole 3, template_var 1), template_var 0)),
       template_app (template_hole 2, t_empty))),
    ("Misc_CryptHOL.set_filter_option",
     "set_option (filter_option ?P ?x) = {y: set_option ?x. ?P y}",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app (template_hole 3, template_var 1), template_var 0)),
       template_app (template_hole 2, t_empty))),
    ("Misc_CryptHOL.set_enforce_spmf",
     "set_spmf (enforce_spmf ?P ?p) = {a: set_spmf ?p. ?P a}",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app (template_hole 3, template_var 1), template_var 0)),
       template_app (template_hole 2, t_empty))),
    ("Misc_CryptHOL.set_spmf_try",
     "set_spmf (TRY ?p ELSE ?q) =
      set_spmf ?p Un (if lossless_spmf ?p then {} else set_spmf ?q)",
     template_equation
      (template_app
        (template_hole 5,
         template_app
          (template_app (template_hole 4, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 3, template_app (template_hole 5, template_var 1)),
         template_app
          (template_app
            (template_app
              (template_hole 2,
               template_app (template_hole 1, template_var 1)),
             template_hole 0),
           template_app (template_hole 5, template_var 0))))),
    ("Misc_CryptHOL.lossless_map_pmf",
     "lossless_spmf (map_pmf ?f ?p) = (ALL x:set_pmf ?p. ?f x ~= None)",
     template_equation
      (template_app
        (template_hole 6,
         template_app
          (template_app (template_hole 5, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 4, template_app (template_hole 3, template_var 0)),
         t_empty))),
    ("Misc_CryptHOL.bi_total_Grp",
     "bi_total (BNF_Def.Grp ?A ?f) = (?A = UNIV & surj ?f)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 7,
              template_app
               (template_app (template_hole 6, template_var 1),
                template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 5,
               template_app
                (template_app (template_hole 4, template_var 1),
                 template_hole 3)),
             template_app
              (template_app
                (template_hole 2,
                 template_app
                  (template_app (template_hole 1, template_var 0),
                   template_hole 3)),
               template_hole 0))
           ))),
    ("Misc_CryptHOL.Grp_iff",
     "BNF_Def.Grp ?B ?g ?x ?y = (?y = ?g ?x & ?x : ?B)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 3, template_var 3),
                  template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 0),
                 template_app (template_var 2, template_var 1))),
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 3))
           ))),
    ("Misc_CryptHOL.prefixeq_stake2",
     "prefix ?xs (stake ?n ?ys) = (length ?xs <= ?n & sprefix ?xs ?ys)",
     template_equation
      (template_app
        (template_app (template_hole 5, template_var 2),
         template_app
          (template_app (template_hole 4, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 3,
           template_app
            (template_app
              (template_hole 2,
               template_app (template_hole 1, template_var 2)),
             template_var 1)),
         template_app
          (template_app (template_hole 0, template_var 2),
           template_var 0)))),
    ("Misc_CryptHOL.Some_eq_enforce_option_iff",
     "(Some ?y = enforce_option ?P ?x) = (?x = Some ?y & ?P ?y)",
     template_bimplication
      (template_equation
        (template_app (template_hole 2, template_var 2),
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_predicate
        (
           template_app
            (template_app
              (template_hole 0,
               template_app
                (template_app (template_hole 3, template_var 0),
                 template_app (template_hole 2, template_var 2))),
             template_app (template_var 1, template_var 2))
           ))),
    ("Misc_CryptHOL.Some_eq_filter_option_iff",
     "(Some ?y = filter_option ?P ?x) = (?x = Some ?y & ?P ?y)",
     template_bimplication
      (template_equation
        (template_app (template_hole 2, template_var 2),
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_predicate
        (
           template_app
            (template_app
              (template_hole 0,
               template_app
                (template_app (template_hole 3, template_var 0),
                 template_app (template_hole 2, template_var 2))),
             template_app (template_var 1, template_var 2))
           ))),
    ("Misc_CryptHOL.enforce_option_eq_Some_iff",
     "(enforce_option ?P ?x = Some ?y) = (?x = Some ?y & ?P ?y)",
     template_bimplication
      (template_equation
        (template_app
          (template_app (template_hole 2, template_var 2), template_var 1),
         template_app (template_hole 1, template_var 0)),
       template_predicate
        (
           template_app
            (template_app
              (template_hole 0,
               template_app
                (template_app (template_hole 3, template_var 1),
                 template_app (template_hole 1, template_var 0))),
             template_app (template_var 2, template_var 0))
           ))),
    ("Misc_CryptHOL.filter_option_eq_Some_iff",
     "(filter_option ?P ?x = Some ?y) = (?x = Some ?y & ?P ?y)",
     template_bimplication
      (template_equation
        (template_app
          (template_app (template_hole 2, template_var 2), template_var 1),
         template_app (template_hole 1, template_var 0)),
       template_predicate
        (
           template_app
            (template_app
              (template_hole 0,
               template_app
                (template_app (template_hole 3, template_var 1),
                 template_app (template_hole 1, template_var 0))),
             template_app (template_var 2, template_var 0))
           ))),
    ("Misc_CryptHOL.SUP_enat_eq_0_iff",
     "(\<Squnion> (?f ` ?A) = 0) = (ALL x:?A. ?f x = 0)",
     template_equation
      (template_app
        (template_app
          (template_hole 4,
           template_app
            (template_hole 3,
             template_app
              (template_app (template_hole 2, template_var 1),
               template_var 0))),
         template_hole 1),
       template_app
        (template_app (template_hole 0, template_var 0), t_empty))),
    ("Misc_CryptHOL.cond_spmf_fst_eq_return_None",
     "(cond_spmf_fst ?p ?x = return_pmf None) = (?x ~: fst ` set_spmf ?p)",
     template_equation
      (template_app
        (template_app
          (template_hole 8,
           template_app
            (template_app (template_hole 7, template_var 1),
             template_var 0)),
         template_app (template_hole 6, template_hole 5)),
       template_app
        (template_hole 4,
         template_app
          (template_app (template_hole 3, template_var 0),
           template_app
            (template_app (template_hole 2, template_hole 1),
             template_app (template_hole 0, template_var 1)))))),
    ("Misc_CryptHOL.spmf_pred_map",
     "pred_spmf ?P (map_spmf ?f ?p) = pred_spmf (?P o ?f) ?p",
     template_equation
      (template_app
        (template_app
          (template_hole 6, template_app (template_hole 5, template_var 2)),
         template_app
          (template_app
            (template_hole 4,
             template_app (template_hole 3, template_var 1)),
           template_var 0)),
       template_app
        (template_app
          (template_hole 2,
           template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 2),
               template_var 1))),
         template_var 0))),
    ("Misc_CryptHOL.weight_assert_spmf",
     "weight_spmf (assert_spmf ?b) = indicat_real {True} ?b",
     template_equation
      (template_app
        (template_app
          (template_hole 7,
           template_app
            (template_hole 6,
             template_app (template_hole 5, template_var 0))),
         template_app
          (template_hole 4,
           template_app
            (template_hole 6,
             template_app (template_hole 5, template_var 0)))),
       template_app
        (template_app
          (template_hole 3,
           template_app
            (template_app (template_hole 2, template_hole 1),
             template_hole 0)),
         template_var 0))),
    ("Misc_CryptHOL.zip_conv_bind_option",
     "zip_option ?x ?y = ?x >>= (%x. ?y >>= (%y. Some (x, y)))",
     template_equation
      (template_app
        (template_app (template_hole 4, template_var 1), template_var 0),
       template_app
        (template_app (template_hole 3, template_var 1), t_empty))),
    ("Misc_CryptHOL.return_pmf_map_option_conv_bind",
     "return_pmf (map_option ?f ?x) = return_pmf ?x >>= return_spmf o ?f",
     template_equation
      (template_app
        (template_hole 5,
         template_app
          (template_app (template_hole 4, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 3, template_app (template_hole 2, template_var 0)),
         template_app
          (template_app (template_hole 1, t_empty), template_var 1)))),
    ("Misc_CryptHOL.enforce_return_spmf",
     "enforce_spmf ?P (return_spmf ?x) =
      (if ?P ?x then return_spmf ?x else return_pmf None)",
     template_equation
      (template_app
        (template_app (template_hole 4, template_var 1),
         template_app
          (template_hole 3,
           template_app (template_hole 2, template_var 0))),
       template_app
        (template_app
          (template_app
            (template_hole 1,
             template_app (template_var 1, template_var 0)),
           template_app
            (template_hole 3,
             template_app (template_hole 2, template_var 0))),
         template_app (template_hole 3, template_hole 0)))),
    ("Misc_CryptHOL.bind_spmf_map_pmf",
     "map_pmf ?f ?p >>= ?g = ?p >>= (%x. return_pmf (?f x) >>= ?g)",
     template_equation
      (template_app
        (template_app
          (template_hole 3,
           template_app
            (template_app (template_hole 2, template_var 2),
             template_var 1)),
         template_var 0),
       template_app
        (template_app (template_hole 1, template_var 1), t_empty))),
    ("Misc_CryptHOL.cond_spmf_bind",
     "cond_spmf (?p >>= ?f) ?A =
      mk_lossless (?p >>= (%x. ?f x \<upharpoonleft> ?A))",
     template_equation
      (template_app
        (template_app
          (template_hole 3,
           template_app
            (template_app (template_hole 2, template_var 2),
             template_var 1)),
         template_var 0),
       template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 2, template_var 2), t_empty)))),
    ("Misc_CryptHOL.map_bind_spmf",
     "map_spmf ?f (?p >>= ?g) = ?p >>= map_spmf ?f o ?g",
     template_equation
      (template_app
        (template_app
          (template_hole 4, template_app (template_hole 3, template_var 2)),
         template_app
          (template_app (template_hole 2, template_var 1), template_var 0)),
       template_app
        (template_app (template_hole 1, template_var 1),
         template_app
          (template_app
            (template_hole 0,
             template_app
              (template_hole 4,
               template_app (template_hole 3, template_var 2))),
           template_var 0)))),
    ("Misc_CryptHOL.abs_diff_triangle_ineq2",
     "\<bar>?a - ?b\<bar> <= \<bar>?a - ?c\<bar> + \<bar>?c - ?b\<bar>",
     template_inequation
      (less_equals,
       template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_var 2), template_var 1)),
       template_app
        (template_app
          (template_hole 0,
           template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_var 2),
               template_var 0))),
         template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 1, template_var 0),
             template_var 1))))),
    ("Misc_CryptHOL.measurable_snd_count_space",
     "?A <= ?B ==>
      snd
      : ?M1.0 \<Otimes>\<^sub>M count_space ?A \<rightarrow>\<^sub>M
        count_space ?B",
     template_implication
      ([template_inequation (less_equals, template_var 2, template_var 1)],
       template_predicate
        (
           template_app
            (template_app (template_hole 4, template_hole 3),
             template_app
              (template_app
                (template_hole 2,
                 template_app
                  (template_app (template_hole 1, template_var 0),
                   template_app (template_hole 0, template_var 2))),
               template_app (template_hole 0, template_var 1)))
           ))),
    ("Misc_CryptHOL.map1_rel_witness_option",
     "rel_option ?A ?x ?y ==>
      map_option fst (rel_witness_option (?x, ?y)) = ?x",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 5, template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_equation
        (template_app
          (template_app (template_hole 3, template_hole 2),
           template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0))),
         template_var 1))),
    ("Misc_CryptHOL.map2_rel_witness_option",
     "rel_option ?A ?x ?y ==>
      map_option snd (rel_witness_option (?x, ?y)) = ?y",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 5, template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_equation
        (template_app
          (template_app (template_hole 3, template_hole 2),
           template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0))),
         template_var 0))),
    ("Misc_CryptHOL.rel_spmf_mk_losslessI",
     "rel_spmf ?A ?p ?q ==> rel_spmf ?A (mk_lossless ?p) (mk_lossless ?q)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_hole 3,
                  template_app (template_hole 2, template_var 2)),
                template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 3,
                 template_app (template_hole 2, template_var 2)),
               template_app (template_hole 1, template_var 1)),
             template_app (template_hole 0, template_var 0))
           ))),
    ("Misc_CryptHOL.restrict_relp_DomainpD",
     "Domainp (?R \<upharpoonleft> ?P \<otimes> ?Q) ?x ==>
      Domainp ?R ?x & ?P ?x",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 2,
                template_app
                 (template_app
                   (template_app (template_hole 1, template_var 3),
                    template_var 2),
                  template_var 1)),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 0,
               template_app
                (template_app (template_hole 2, template_var 3),
                 template_var 0)),
             template_app (template_var 2, template_var 0))
           ))),
    ("Misc_CryptHOL.left_unique_vimage2p",
     "[| left_unique ?P; inj ?f |]
      ==> left_unique (BNF_Def.vimage2p ?f ?g ?P)",
     template_implication
      ([template_predicate (template_app (template_hole 4, template_var 2)),
        template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 1),
              template_hole 2)
            )],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app
              (template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 0),
               template_var 2))
           ))),
    ("Misc_CryptHOL.right_unique_vimage2p",
     "[| right_unique ?P; inj ?g |]
      ==> right_unique (BNF_Def.vimage2p ?f ?g ?P)",
     template_implication
      ([template_predicate (template_app (template_hole 4, template_var 2)),
        template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 1),
              template_hole 2)
            )],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app
              (template_app
                (template_app (template_hole 0, template_var 0),
                 template_var 1),
               template_var 2))
           ))),
    ("Misc_CryptHOL.r_r_into_tranclp",
     "[| ?r ?x ?y; ?r ?y ?z |] ==> ?r^++ ?x ?z",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_var 3, template_var 2), template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_var 3, template_var 1), template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 0, template_var 3),
               template_var 2),
             template_var 0)
           ))),
    ("Misc_CryptHOL.nlists_Suc",
     "nlists ?A (Suc ?n) = (UN x:?A. (#) x ` nlists ?A ?n)",
     template_equation
      (template_app
        (template_app (template_hole 5, template_var 1),
         template_app (template_hole 4, template_var 0)),
       template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 2, t_empty), template_var 1)))),
    ("Misc_CryptHOL.lossless_enforce_spmf",
     "lossless_spmf (enforce_spmf ?P ?p) =
      (lossless_spmf ?p & set_spmf ?p <= {x. ?P x})",
     template_equation
      (template_app
        (template_hole 5,
         template_app
          (template_app (template_hole 4, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 3, template_app (template_hole 5, template_var 0)),
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 0)),
           template_app (template_hole 0, t_empty))))),
    ("Misc_CryptHOL.pred_pmf_pair",
     "pred_pmf ?P (pair_pmf ?p ?q) =
      pred_pmf (%x. pred_pmf (?P o Pair x) ?q) ?p",
     template_equation
      (template_app
        (template_app (template_hole 5, template_var 2),
         template_app
          (template_app (template_hole 4, template_var 1), template_var 0)),
       template_app
        (template_app (template_hole 3, t_empty), template_var 1))),
    ("Misc_CryptHOL.pred_spmf_bind",
     "pred_spmf ?P (?p >>= ?f) = pred_spmf (pred_spmf ?P o ?f) ?p",
     template_equation
      (template_app
        (template_app
          (template_hole 5, template_app (template_hole 4, template_var 2)),
         template_app
          (template_app (template_hole 3, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 2,
           template_app
            (template_hole 1,
             template_app
              (template_app
                (template_hole 0,
                 template_app
                  (template_hole 5,
                   template_app (template_hole 4, template_var 2))),
               template_var 0))),
         template_var 1))),
    ("Misc_CryptHOL.map_zip_option",
     "map_option (map_prod ?f ?g) (zip_option ?x ?y) =
      zip_option (map_option ?f ?x) (map_option ?g ?y)",
     template_equation
      (template_app
        (template_app
          (template_hole 5,
           template_app
            (template_app (template_hole 4, template_var 3),
             template_var 2)),
         template_app
          (template_app (template_hole 3, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 1, template_var 3),
             template_var 1)),
         template_app
          (template_app (template_hole 0, template_var 2),
           template_var 0)))),
    ("Misc_CryptHOL.cond_return_spmf",
     "cond_spmf (return_spmf ?x) ?A =
      (if ?x : ?A then return_spmf ?x else return_pmf None)",
     template_equation
      (template_app
        (template_app
          (template_hole 5,
           template_app
            (template_hole 4,
             template_app (template_hole 3, template_var 1))),
         template_var 0),
       template_app
        (template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_var 1),
               template_var 0)),
           template_app
            (template_hole 4,
             template_app (template_hole 3, template_var 1))),
         template_app (template_hole 4, template_hole 0)))),
    ("Misc_CryptHOL.enforce_map_spmf",
     "enforce_spmf ?P (map_spmf ?f ?p) =
      map_spmf ?f (enforce_spmf (?P o ?f) ?p)",
     template_equation
      (template_app
        (template_app (template_hole 4, template_var 2),
         template_app
          (template_app
            (template_hole 3,
             template_app (template_hole 2, template_var 1)),
           template_var 0)),
       template_app
        (template_app
          (template_hole 3, template_app (template_hole 2, template_var 1)),
         template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 2),
               template_var 1)),
           template_var 0)))),
    ("Misc_CryptHOL.if_distrib_bind_spmf1",
     "(if ?b then ?x else ?y) >>= ?f =
      (if ?b then ?x >>= ?f else ?y >>= ?f)",
     template_equation
      (template_app
        (template_app
          (template_hole 2,
           template_app
            (template_app
              (template_app (template_hole 1, template_var 3),
               template_var 2),
             template_var 1)),
         template_var 0),
       template_app
        (template_app
          (template_app (template_hole 0, template_var 3),
           template_app
            (template_app (template_hole 2, template_var 2),
             template_var 0)),
         template_app
          (template_app (template_hole 2, template_var 1),
           template_var 0)))),
    ("Misc_CryptHOL.if_distrib_restrict_spmf1",
     "(if ?b then ?p else ?q) \<upharpoonleft> ?A =
      (if ?b then ?p \<upharpoonleft> ?A else ?q \<upharpoonleft> ?A)",
     template_equation
      (template_app
        (template_app
          (template_hole 1,
           template_app
            (template_app
              (template_app (template_hole 0, template_var 3),
               template_var 2),
             template_var 1)),
         template_var 0),
       template_app
        (template_app
          (template_app (template_hole 0, template_var 3),
           template_app
            (template_app (template_hole 1, template_var 2),
             template_var 0)),
         template_app
          (template_app (template_hole 1, template_var 1),
           template_var 0)))),
    ("Misc_CryptHOL.cond_spmf_fst_inverse",
     "map_spmf fst ?p >>= (%x. map_spmf (Pair x) (cond_spmf_fst ?p x)) =
      ?p",
     template_equation
      (template_app
        (template_app
          (template_hole 7,
           template_app
            (template_app
              (template_hole 6,
               template_app (template_hole 5, template_hole 4)),
             template_var 0)),
         t_empty),
       template_var 0)),
    ("Misc_CryptHOL.pred_pmf_of_multiset",
     "?M ~= {#} ==> pred_pmf ?P (pmf_of_multiset ?M) = Multiset.Ball ?M ?P",
     template_implication
      ([template_negation
         (template_equation (template_var 1, template_hole 5))],
       template_equation
        (template_app
          (template_app (template_hole 3, template_var 0),
           template_app (template_hole 2, template_var 1)),
         template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 1)),
           template_var 0)))),
    ("Misc_CryptHOL.map1_rel_witness_pmf",
     "rel_pmf ?A ?x ?y ==> map_pmf fst (rel_witness_pmf ?A (?x, ?y)) = ?x",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 5, template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_equation
        (template_app
          (template_app (template_hole 3, template_hole 2),
           template_app
            (template_app (template_hole 1, template_var 2),
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0))),
         template_var 1))),
    ("Misc_CryptHOL.map2_rel_witness_pmf",
     "rel_pmf ?A ?x ?y ==> map_pmf snd (rel_witness_pmf ?A (?x, ?y)) = ?y",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 5, template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_equation
        (template_app
          (template_app (template_hole 3, template_hole 2),
           template_app
            (template_app (template_hole 1, template_var 2),
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0))),
         template_var 0))),
    ("Misc_CryptHOL.nth_eq_tlI",
     "?xs ! ?n = ?z ==> (?x # ?xs) ! Suc ?n = ?z",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 2, template_var 3), template_var 2),
          template_var 1)],
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_var 0),
               template_var 3)),
           template_app (template_hole 0, template_var 2)),
         template_var 1))),
    ("Misc_CryptHOL.relcompp_witness",
     "(?A OO ?B) ?x ?y ==> ?A ?x (relcompp_witness ?A ?B (?x, ?y))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 2, template_var 3),
                  template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app (template_var 3, template_var 1),
             template_app
              (template_app
                (template_app (template_hole 1, template_var 3),
                 template_var 2),
               template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 0)))
           ))),
    ("Misc_CryptHOL.relcompp_witness",
     "(?A OO ?B) ?x ?y ==> ?B (relcompp_witness ?A ?B (?x, ?y)) ?y",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 2, template_var 3),
                  template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_var 2,
               template_app
                (template_app
                  (template_app (template_hole 1, template_var 3),
                   template_var 2),
                 template_app
                  (template_app (template_hole 0, template_var 1),
                   template_var 0))),
             template_var 0)
           ))),
    ("Misc_CryptHOL.rel_fun_eq_onpI",
     "eq_onp (pred_fun ?P ?Q) ?f ?g ==>
      rel_fun (eq_onp ?P) (eq_onp ?Q) ?f ?g",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_hole 4,
                  template_app
                   (template_app (template_hole 3, template_var 3),
                    template_var 2)),
                template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_hole 2,
                   template_app (template_hole 1, template_var 3)),
                 template_app (template_hole 0, template_var 2)),
               template_var 1),
             template_var 0)
           ))),
    ("Misc_CryptHOL.integrable_scale_measure",
     "[| integrable ?M ?f; ?r < \<top> |]
      ==> integrable (scale_measure ?r ?M) ?f",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 2),
              template_var 1)
            ),
        template_inequation (less_than, template_var 0, template_hole 1)],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 3,
               template_app
                (template_app (template_hole 0, template_var 0),
                 template_var 2)),
             template_var 1)
           ))),
    ("Misc_CryptHOL.rel_fun_refl",
     "[| ?A <= (=); (=) <= ?B |] ==> (=) <= rel_fun ?A ?B",
     template_implication
      ([template_inequation (less_equals, template_var 1, template_hole 5),
        template_inequation (less_equals, template_hole 3, template_var 0)],
       template_inequation
        (less_equals, template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Misc_CryptHOL.pmf_rel_mono'",
     "[| rel_pmf ?P ?x ?y; ?P <= ?Q |] ==> rel_pmf ?Q ?x ?y",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 1, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_inequation (less_equals, template_var 3, template_var 0)],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 1, template_var 0),
               template_var 2),
             template_var 1)
           ))),
    ("Misc_CryptHOL.run_bind_option_envT",
     "run_env (monad.bind_option (fail_env ?fail) ?x ?f) ?s =
      monad.bind_option ?fail ?x (%y. run_env (?f y) ?s)",
     template_equation
      (template_app
        (template_app
          (template_hole 3,
           template_app
            (template_app
              (template_app
                (template_hole 2,
                 template_app (template_hole 1, template_var 3)),
               template_var 2),
             template_var 1)),
         template_var 0),
       template_app
        (template_app
          (template_app (template_hole 0, template_var 3), template_var 2),
         t_empty))),
    ("Misc_CryptHOL.run_bind_option_stateT",
     "run_state (monad.bind_option (fail_state ?fail) ?x ?f) ?s =
      monad.bind_option ?fail ?x (%y. run_state (?f y) ?s)",
     template_equation
      (template_app
        (template_app
          (template_hole 3,
           template_app
            (template_app
              (template_app
                (template_hole 2,
                 template_app (template_hole 1, template_var 3)),
               template_var 2),
             template_var 1)),
         template_var 0),
       template_app
        (template_app
          (template_app (template_hole 0, template_var 3), template_var 2),
         t_empty))),
    ("Misc_CryptHOL.restrict_relp_restrict_relp",
     "?R \<upharpoonleft> ?P \<otimes> ?Q \<upharpoonleft> ?P' \<otimes> ?Q' =
      ?R \<upharpoonleft> ?P \<sqinter> ?P' \<otimes> ?Q \<sqinter> ?Q'",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app
                (template_app (template_hole 2, template_var 4),
                 template_var 3),
               template_var 2)),
           template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_app (template_hole 2, template_var 4),
           template_app
            (template_app (template_hole 1, template_var 3),
             template_var 1)),
         template_app
          (template_app (template_hole 0, template_var 2),
           template_var 0)))),
    ("Misc_CryptHOL.pred_list_conj",
     "list_all (%x. ?P x & ?Q x) = (%x. list_all ?P x & list_all ?Q x)",
     template_equation (template_app (template_hole 1, t_empty), t_empty)),
    ("Misc_CryptHOL.pred_option_conj",
     "pred_option (%x. ?P x & ?Q x) =
      (%x. pred_option ?P x & pred_option ?Q x)",
     template_equation (template_app (template_hole 1, t_empty), t_empty)),
    ("Misc_CryptHOL.pred_pmf_conj",
     "pred_pmf (%x. ?P x & ?Q x) = (%x. pred_pmf ?P x & pred_pmf ?Q x)",
     template_equation (template_app (template_hole 1, t_empty), t_empty)),
    ("Misc_CryptHOL.enforce_option_eq_None_iff",
     "(enforce_option ?P ?x = None) = (ALL a. ?x = Some a --> ~ ?P a)",
     template_equation
      (template_app
        (template_app
          (template_hole 6,
           template_app
            (template_app (template_hole 5, template_var 1),
             template_var 0)),
         template_hole 4),
       template_app (template_hole 3, t_empty))),
    ("Misc_CryptHOL.sprefix_append",
     "sprefix (?xs @ ?ys) ?zs =
      (sprefix ?xs ?zs & sprefix ?ys (sdrop (length ?xs) ?zs))",
     template_equation
      (template_app
        (template_app
          (template_hole 4,
           template_app
            (template_app (template_hole 3, template_var 2),
             template_var 1)),
         template_var 0),
       template_app
        (template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 4, template_var 2),
             template_var 0)),
         template_app
          (template_app (template_hole 4, template_var 1),
           template_app
            (template_app
              (template_hole 1,
               template_app (template_hole 0, template_var 2)),
             template_var 0))))),
    ("Misc_CryptHOL.restrict_relp_apply",
     "(?R \<upharpoonleft> ?P \<otimes> ?Q) ?x ?y =
      (?R ?x ?y & ?P ?x & ?Q ?y)",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_app
              (template_app (template_hole 1, template_var 4),
               template_var 3),
             template_var 2),
           template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_hole 0,
           template_app
            (template_app (template_var 4, template_var 1),
             template_var 0)),
         template_app
          (template_app
            (template_hole 0,
             template_app (template_var 3, template_var 1)),
           template_app (template_var 2, template_var 0))))),
    ("Misc_CryptHOL.rel_fun_comp",
     "rel_fun ?A ?B (?f o ?g) ?h = rel_fun ?A (%x. ?B (?f x)) ?g ?h",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_app (template_hole 2, template_var 4),
             template_var 3),
           template_app
            (template_app (template_hole 1, template_var 2),
             template_var 1)),
         template_var 0),
       template_app
        (template_app
          (template_app
            (template_app (template_hole 0, template_var 4), t_empty),
           template_var 1),
         template_var 0))),
    ("Misc_CryptHOL.weight_mk_lossless",
     "weight_spmf (mk_lossless ?p) =
      (if ?p = return_pmf None then 0 else 1)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 9,
                template_app
                 (template_hole 8,
                  template_app (template_hole 7, template_var 0))),
              template_app
               (template_hole 6,
                template_app
                 (template_hole 8,
                  template_app (template_hole 7, template_var 0))))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 5,
                 template_app
                  (template_app (template_hole 4, template_var 0),
                   template_app (template_hole 3, template_hole 2))),
               template_hole 1),
             template_hole 0)
           ))),
    ("Misc_CryptHOL.map_corec_prod",
     "map_prod ?f ?g (corec_prod ?h ?k ?s) =
      corec_prod (?f o ?h) (?g o ?k) ?s",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 4, template_var 4), template_var 3),
         template_app
          (template_app
            (template_app (template_hole 3, template_var 2),
             template_var 1),
           template_var 0)),
       template_app
        (template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_var 4),
               template_var 2)),
           template_app
            (template_app (template_hole 0, template_var 3),
             template_var 1)),
         template_var 0))),
    ("Misc_CryptHOL.map_spmf_const",
     "map_spmf (%_. ?x) ?p = scale_spmf (weight_spmf ?p) (return_spmf ?x)",
     template_equation
      (template_app
        (template_app
          (template_hole 7, template_app (template_hole 6, t_empty)),
         template_var 0),
       template_app
        (template_app
          (template_hole 5,
           template_app
            (template_app
              (template_hole 4,
               template_app (template_hole 3, template_var 0)),
             template_app
              (template_hole 2,
               template_app (template_hole 3, template_var 0)))),
         template_app
          (template_hole 1,
           template_app (template_hole 0, template_var 1))))),
    ("Misc_CryptHOL.bind_enforce_spmf",
     "enforce_spmf ?P ?p >>= ?f =
      ?p >>= (%x. if ?P x then ?f x else return_pmf None)",
     template_equation
      (template_app
        (template_app
          (template_hole 4,
           template_app
            (template_app (template_hole 3, template_var 2),
             template_var 1)),
         template_var 0),
       template_app
        (template_app (template_hole 4, template_var 1), t_empty))),
    ("Misc_CryptHOL.cond_spmf_fst_map_Pair'",
     "cond_spmf_fst (map_spmf (%y. (?x, ?f y)) ?p) ?x =
      map_spmf ?f (mk_lossless ?p)",
     template_equation
      (template_app
        (template_app
          (template_hole 6,
           template_app
            (template_app
              (template_hole 5, template_app (template_hole 4, t_empty)),
             template_var 0)),
         template_var 2),
       template_app
        (template_app
          (template_hole 2, template_app (template_hole 1, template_var 1)),
         template_app (template_hole 0, template_var 0)))),
    ("Misc_CryptHOL.dom_subset_ran_iff",
     "finite (ran ?m) ==> (dom ?m <= ran ?m) = (dom ?m = ran ?m)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 5,
              template_app (template_hole 4, template_var 0))
            )],
       template_implication
        ([template_predicate
           (
              template_app
               (template_app
                 (template_hole 2,
                  template_app (template_hole 1, template_var 0)),
                template_app (template_hole 4, template_var 0))
              )],
         template_equation
          (template_app (template_hole 1, template_var 0),
           template_app (template_hole 4, template_var 0))))),
    ("Misc_CryptHOL.ord_spmf_expand",
     "NO_MATCH (=) ?R ==> ord_spmf ?R = rel_spmf ?R OO ord_spmf (=)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_hole 6),
              template_var 0)
            )],
       template_implication
        ([template_predicate
           (
              template_app
               (template_hole 4,
                template_app (template_hole 3, template_var 0))
              )],
         template_predicate
          (
             template_app
              (template_app
                (template_hole 2,
                 template_app
                  (template_hole 4,
                   template_app (template_hole 1, template_var 0))),
               template_app
                (template_hole 4,
                 template_app (template_hole 3, template_hole 0)))
             )))),
    ("Misc_CryptHOL.enat_sub_add",
     "?y <= ?x ==> ?x - ?y + ?z = ?x + ?z - ?y",
     template_implication
      ([template_inequation (less_equals, template_var 2, template_var 1)],
       template_equation
        (template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 2)),
           template_var 0),
         template_app
          (template_app
            (template_hole 0,
             template_app
              (template_app (template_hole 1, template_var 1),
               template_var 0)),
           template_var 2)))),
    ("Misc_CryptHOL.sprefix_shift",
     "length ?xs <= length ?ys ==>
      sprefix ?xs (?ys @- ?zs) = prefix ?xs ?ys",
     template_implication
      ([template_inequation
         (less_equals, template_app (template_hole 4, template_var 2),
          template_app (template_hole 4, template_var 1))],
       template_equation
        (template_app
          (template_app (template_hole 2, template_var 2),
           template_app
            (template_app (template_hole 1, template_var 1),
             template_var 0)),
         template_app
          (template_app (template_hole 0, template_var 2),
           template_var 1)))),
    ("Misc_CryptHOL.ord_spmf_eqD_measure",
     "ord_spmf (=) ?p ?q ==>
      Sigma_Algebra.measure (measure_spmf ?p) ?A
      <= Sigma_Algebra.measure (measure_spmf ?q) ?A",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_hole 5,
                  template_app (template_hole 4, template_hole 3)),
                template_var 2),
              template_var 1)
            )],
       template_inequation
        (less_equals,
         template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 2)),
           template_var 0),
         template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 1)),
           template_var 0)))),
    ("Misc_CryptHOL.map1_rel_witness_pmf'",
     "rel_pmf ?A (fst ?xy) (snd ?xy) ==>
      map_pmf fst (rel_witness_pmf ?A ?xy) = fst ?xy",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 6, template_var 1),
                template_app (template_hole 5, template_var 0)),
              template_app (template_hole 4, template_var 0))
            )],
       template_equation
        (template_app
          (template_app (template_hole 2, template_hole 1),
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 0)),
         template_app (template_hole 5, template_var 0)))),
    ("Misc_CryptHOL.map2_rel_witness_pmf'",
     "rel_pmf ?A (fst ?xy) (snd ?xy) ==>
      map_pmf snd (rel_witness_pmf ?A ?xy) = snd ?xy",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 6, template_var 1),
                template_app (template_hole 5, template_var 0)),
              template_app (template_hole 4, template_var 0))
            )],
       template_equation
        (template_app
          (template_app (template_hole 2, template_hole 1),
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 0)),
         template_app (template_hole 4, template_var 0)))),
    ("Misc_CryptHOL.mono2mono_set_option",
     "monotone ?orda option_ord ?t ==>
      monotone ?orda (<=) (%x. set_option (?t x))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 5, template_var 1),
                template_app (template_hole 4, template_hole 3)),
              t_empty)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 2, template_var 1),
               template_hole 1),
             t_empty)
           ))),
    ("Misc_CryptHOL.relcompp_witness1",
     "(?A OO ?B) (fst ?xy) (snd ?xy) ==>
      ?A (fst ?xy) (relcompp_witness ?A ?B ?xy)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 3, template_var 2),
                  template_var 1),
                template_app (template_hole 2, template_var 0)),
              template_app (template_hole 1, template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_var 2,
               template_app (template_hole 2, template_var 0)),
             template_app
              (template_app
                (template_app (template_hole 0, template_var 2),
                 template_var 1),
               template_var 0))
           ))),
    ("Misc_CryptHOL.relcompp_witness2",
     "(?A OO ?B) (fst ?xy) (snd ?xy) ==>
      ?B (relcompp_witness ?A ?B ?xy) (snd ?xy)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 3, template_var 2),
                  template_var 1),
                template_app (template_hole 2, template_var 0)),
              template_app (template_hole 1, template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_var 1,
               template_app
                (template_app
                  (template_app (template_hole 0, template_var 2),
                   template_var 1),
                 template_var 0)),
             template_app (template_hole 1, template_var 0))
           ))),
    ("Misc_CryptHOL.cond_pmf_singleton",
     "set_pmf ?p Int ?A = {?x} ==> cond_pmf ?p ?A = return_pmf ?x",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_hole 6,
              template_app (template_hole 5, template_var 2)),
            template_var 1),
          template_app
           (template_app (template_hole 4, template_var 0),
            template_hole 3))],
       template_equation
        (template_app
          (template_app (template_hole 1, template_var 2), template_var 1),
         template_app (template_hole 0, template_var 0)))),
    ("Misc_CryptHOL.islE",
     "[| isl ?x; !!l. ?x = Inl l ==> ?thesis |] ==> ?thesis",
     template_implication
      ([template_predicate (template_app (template_hole 3, template_var 1)),
        template_predicate (template_app (template_hole 2, t_empty))],
       template_predicate (template_var 0))),
    ("Misc_CryptHOL.left_total_vimage2p",
     "[| left_total ?P; surj ?g |]
      ==> left_total (BNF_Def.vimage2p ?f ?g ?P)",
     template_implication
      ([template_predicate (template_app (template_hole 6, template_var 2)),
        template_equation
         (template_app
           (template_app (template_hole 4, template_var 1),
            template_hole 3),
          template_hole 2)],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app
              (template_app
                (template_app (template_hole 0, template_var 0),
                 template_var 1),
               template_var 2))
           ))),
    ("Misc_CryptHOL.right_total_vimage2p",
     "[| right_total ?P; surj ?f |]
      ==> right_total (BNF_Def.vimage2p ?f ?g ?P)",
     template_implication
      ([template_predicate (template_app (template_hole 6, template_var 2)),
        template_equation
         (template_app
           (template_app (template_hole 4, template_var 1),
            template_hole 3),
          template_hole 2)],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app
              (template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 0),
               template_var 2))
           ))),
    ("Misc_CryptHOL.pred_rel_pmf",
     "[| pred_pmf ?P ?p; rel_pmf ?R ?p ?q |]
      ==> pred_pmf (Imagep ?R ?P) ?q",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 3),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 1),
                template_var 2),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 3)),
             template_var 0)
           ))),
    ("Misc_CryptHOL.disjoint_notin1",
     "[| ?A Int ?B = {}; ?x : ?B |] ==> ?x ~: ?A",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 3, template_var 2), template_var 1),
          template_hole 2),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 0),
              template_var 1)
            )],
       template_negation
        (
           template_predicate
            (
               template_app
                (template_app (template_hole 1, template_var 0),
                 template_var 2)
               )
           ))),
    ("Misc_CryptHOL.pred_spmf_cond",
     "pred_spmf ?P (cond_spmf ?p ?A) = pred_spmf (%x. x : ?A --> ?P x) ?p",
     template_equation
      (template_app
        (template_app
          (template_hole 4, template_app (template_hole 3, template_var 2)),
         template_app
          (template_app (template_hole 2, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 4, template_app (template_hole 3, t_empty)),
         template_var 1))),
    ("Misc_CryptHOL.rel_fun_curry",
     "rel_fun ?A (rel_fun ?B ?C) ?f ?g =
      rel_fun (rel_prod ?A ?B) ?C (%(x, y). ?f x y) (%(x, y). ?g x y)",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_app (template_hole 5, template_var 4),
             template_app
              (template_app (template_hole 4, template_var 3),
               template_var 2)),
           template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_app
            (template_app
              (template_hole 3,
               template_app
                (template_app (template_hole 2, template_var 4),
                 template_var 3)),
             template_var 2),
           template_app (template_hole 1, template_var 1)),
         template_app (template_hole 0, template_var 0)))),
    ("Misc_CryptHOL.spmf_mk_lossless",
     "spmf (mk_lossless ?p) ?x = spmf ?p ?x / weight_spmf ?p",
     template_equation
      (template_app
        (template_app
          (template_hole 6, template_app (template_hole 5, template_var 1)),
         template_app (template_hole 4, template_var 0)),
       template_app
        (template_app
          (template_hole 3,
           template_app
            (template_app (template_hole 6, template_var 1),
             template_app (template_hole 4, template_var 0))),
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 1)),
           template_app
            (template_hole 0,
             template_app (template_hole 1, template_var 1)))))),
    ("Misc_CryptHOL.bind_spmf_pmf_commute",
     "?p >>= (%x. ?q >>= ?f x) = ?q >>= (%y. ?p >>= (%x. ?f x y))",
     template_equation
      (template_app
        (template_app (template_hole 1, template_var 2), t_empty),
       template_app
        (template_app (template_hole 0, template_var 1), t_empty))),
    ("Misc_CryptHOL.Quotient_set_rel_eq",
     "Quotient ?R ?Abs ?Rep ?T ==>
      rel_fun (rel_set ?T) (rel_fun (rel_set ?T) (=)) (rel_set ?R) (=)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 6, template_var 3),
                  template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_hole 5,
                   template_app (template_hole 4, template_var 0)),
                 template_app
                  (template_app
                    (template_hole 3,
                     template_app (template_hole 4, template_var 0)),
                   template_hole 2)),
               template_app (template_hole 1, template_var 3)),
             template_hole 0)
           ))),
    ("Misc_CryptHOL.map_eqI",
     "ALL x:dom ?m Un dom ?m'. ?m x = ?m' x ==> ?m = ?m'",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 4,
                template_app
                 (template_app
                   (template_hole 3,
                    template_app (template_hole 2, template_var 1)),
                  template_app (template_hole 2, template_var 0))),
              t_empty)
            )],
       template_equation (template_var 1, template_var 0))),
    ("Misc_CryptHOL.inj_on_map_sum",
     "[| inj_on ?f ?A; inj_on ?g ?B |]
      ==> inj_on (map_sum ?f ?g) (?A <+> ?B)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 3),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 3),
                 template_var 1)),
             template_app
              (template_app (template_hole 0, template_var 2),
               template_var 0))
           ))),
    ("Misc_CryptHOL.map_le_Some1D",
     "[| ?m \<subseteq>\<^sub>m ?m'; ?m ?x = Some ?y |]
      ==> ?m' ?x = Some ?y",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 3),
              template_var 2)
            ),
        template_equation
         (template_app (template_var 3, template_var 1),
          template_app (template_hole 0, template_var 0))],
       template_equation
        (template_app (template_var 2, template_var 1),
         template_app (template_hole 0, template_var 0)))),
    ("Misc_CryptHOL.pred_pmf_geometric",
     "[| 0 < ?p; ?p < 1 |] ==> pred_pmf ?P (geometric_pmf ?p) = All ?P",
     template_implication
      ([template_inequation (less_than, template_hole 5, template_var 1),
        template_inequation (less_than, template_var 1, template_hole 4)],
       template_equation
        (template_app
          (template_app (template_hole 2, template_var 0),
           template_app (template_hole 1, template_var 1)),
         template_app (template_hole 0, template_var 0)))),
    ("Misc_CryptHOL.pred_pmf_bernoulli",
     "[| 0 < ?p; ?p < 1 |] ==> pred_pmf ?P (bernoulli_pmf ?p) = All ?P",
     template_implication
      ([template_inequation (less_than, template_hole 5, template_var 1),
        template_inequation (less_than, template_var 1, template_hole 4)],
       template_equation
        (template_app
          (template_app (template_hole 2, template_var 0),
           template_app (template_hole 1, template_var 1)),
         template_app (template_hole 0, template_var 0)))),
    ("Misc_CryptHOL.if_False_eq",
     "[| ?b ==> False; ?e = ?e' |] ==> (if ?b then ?t else ?e) = ?e'",
     template_implication
      ([template_implication
         ([template_predicate (template_var 3)],
          template_predicate (template_hole 2)),
        template_equation (template_var 2, template_var 1)],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 0, template_var 3),
             template_var 0),
           template_var 2),
         template_var 1))),
    ("Misc_CryptHOL.inj_on_fun_updD",
     "[| inj_on (?f(?x := ?y)) ?A; ?x ~: ?A |] ==> inj_on ?f ?A",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 3,
                template_app
                 (template_app
                   (template_app (template_hole 2, template_var 3),
                    template_var 2),
                  template_var 1)),
              template_var 0)
            ),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 0, template_var 2),
                  template_var 0)
                )
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 3, template_var 3), template_var 0)
           ))),
    ("Misc_CryptHOL.pred_spmf_pair",
     "pred_spmf ?P (pair_spmf ?p ?q) =
      pred_spmf (%x. pred_spmf (?P o Pair x) ?q) ?p",
     template_equation
      (template_app
        (template_app
          (template_hole 8, template_app (template_hole 7, template_var 2)),
         template_app
          (template_app (template_hole 6, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 5, template_app (template_hole 4, t_empty)),
         template_var 1))),
    ("Misc_CryptHOL.rel_fun_comp",
     "rel_fun ?A ?B ?f (?g o ?h) = rel_fun ?A (%x y. ?B x (?g y)) ?f ?h",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_app (template_hole 2, template_var 4),
             template_var 3),
           template_var 2),
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_app
            (template_app (template_hole 0, template_var 4), t_empty),
           template_var 2),
         template_var 0))),
    ("Misc_CryptHOL.ord_spmf_return_spmf1",
     "ord_spmf ?R (return_spmf ?x) ?p =
      (lossless_spmf ?p & (ALL y:set_spmf ?p. ?R ?x y))",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_hole 7,
             template_app (template_hole 6, template_var 2)),
           template_app
            (template_hole 5,
             template_app (template_hole 4, template_var 1))),
         template_var 0),
       template_app
        (template_app
          (template_hole 3, template_app (template_hole 2, template_var 0)),
         template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 0)),
           t_empty)))),
    ("Misc_CryptHOL.zip_option_eq_Some_iff",
     "(zip_option ?x ?y = Some (?a, ?b)) = (?x = Some ?a & ?y = Some ?b)",
     template_bimplication
      (template_equation
        (template_app
          (template_app (template_hole 7, template_var 3), template_var 2),
         template_app
          (template_hole 6,
           template_app
            (template_app (template_hole 5, template_var 1),
             template_var 0))),
       template_predicate
        (
           template_app
            (template_app
              (template_hole 4,
               template_app
                (template_app (template_hole 3, template_var 3),
                 template_app (template_hole 2, template_var 1))),
             template_app
              (template_app (template_hole 1, template_var 2),
               template_app (template_hole 0, template_var 0)))
           ))),
    ("Misc_CryptHOL.Cons_in_nlists_Suc",
     "(?x # ?xs : nlists ?A (Suc ?n)) = (?x : ?A & ?xs : nlists ?A ?n)",
     template_equation
      (template_app
        (template_app
          (template_hole 5,
           template_app
            (template_app (template_hole 4, template_var 3),
             template_var 2)),
         template_app
          (template_app (template_hole 3, template_var 1),
           template_app (template_hole 2, template_var 0))),
       template_app
        (template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 3),
             template_var 1)),
         template_app
          (template_app (template_hole 5, template_var 2),
           template_app
            (template_app (template_hole 3, template_var 1),
             template_var 0))))),
    ("Misc_CryptHOL.measure_cond_spmf",
     "Sigma_Algebra.measure (measure_spmf (cond_spmf ?p ?A)) ?B =
      Sigma_Algebra.measure (measure_spmf ?p) (?A Int ?B) /
      Sigma_Algebra.measure (measure_spmf ?p) ?A",
     template_equation
      (template_app
        (template_app
          (template_hole 4,
           template_app
            (template_hole 3,
             template_app
              (template_app (template_hole 2, template_var 2),
               template_var 1))),
         template_var 0),
       template_app
        (template_app
          (template_hole 1,
           template_app
            (template_app
              (template_hole 4,
               template_app (template_hole 3, template_var 2)),
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0))),
         template_app
          (template_app
            (template_hole 4,
             template_app (template_hole 3, template_var 2)),
           template_var 1)))),
    ("Misc_CryptHOL.if_distrib_map_spmf",
     "map_spmf ?f (if ?b then ?p else ?q) =
      (if ?b then map_spmf ?f ?p else map_spmf ?f ?q)",
     template_equation
      (template_app
        (template_app
          (template_hole 3, template_app (template_hole 2, template_var 3)),
         template_app
          (template_app
            (template_app (template_hole 1, template_var 2),
             template_var 1),
           template_var 0)),
       template_app
        (template_app
          (template_app (template_hole 0, template_var 2),
           template_app
            (template_app
              (template_hole 3,
               template_app (template_hole 2, template_var 3)),
             template_var 1)),
         template_app
          (template_app
            (template_hole 3,
             template_app (template_hole 2, template_var 3)),
           template_var 0)))),
    ("Misc_CryptHOL.bind_bind_conv_pair_spmf",
     "?p >>= (%x. ?q >>= ?f x) = pair_spmf ?p ?q >>= (%(x, y). ?f x y)",
     template_equation
      (template_app
        (template_app (template_hole 4, template_var 2), t_empty),
       template_app
        (template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 1, template_var 2),
             template_var 1)),
         template_app (template_hole 0, t_empty)))),
    ("Misc_CryptHOL.if_distrib_bind_spmf2",
     "?x >>= (%y. if ?b then ?f y else ?g y) =
      (if ?b then ?x >>= ?f else ?x >>= ?g)",
     template_equation
      (template_app
        (template_app (template_hole 1, template_var 3), t_empty),
       template_app
        (template_app
          (template_app (template_hole 0, template_var 2),
           template_app
            (template_app (template_hole 1, template_var 3),
             template_var 1)),
         template_app
          (template_app (template_hole 1, template_var 3),
           template_var 0)))),
    ("Misc_CryptHOL.if_distribs",
     "exec_gpv ?callee (if ?b then ?x else ?y) ?s =
      (if ?b then exec_gpv ?callee ?x ?s else exec_gpv ?callee ?y ?s)",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 2, template_var 4),
           template_app
            (template_app
              (template_app (template_hole 1, template_var 3),
               template_var 2),
             template_var 1)),
         template_var 0),
       template_app
        (template_app
          (template_app (template_hole 0, template_var 3),
           template_app
            (template_app
              (template_app (template_hole 2, template_var 4),
               template_var 2),
             template_var 0)),
         template_app
          (template_app
            (template_app (template_hole 2, template_var 4),
             template_var 1),
           template_var 0)))),
    ("Misc_CryptHOL.emeasure_cond_spmf",
     "emeasure (measure_spmf (cond_spmf ?p ?A)) ?B =
      emeasure (measure_spmf ?p) (?A Int ?B) /
      emeasure (measure_spmf ?p) ?A",
     template_equation
      (template_app
        (template_app
          (template_hole 4,
           template_app
            (template_hole 3,
             template_app
              (template_app (template_hole 2, template_var 2),
               template_var 1))),
         template_var 0),
       template_app
        (template_app
          (template_hole 1,
           template_app
            (template_app
              (template_hole 4,
               template_app (template_hole 3, template_var 2)),
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0))),
         template_app
          (template_app
            (template_hole 4,
             template_app (template_hole 3, template_var 2)),
           template_var 1)))),
    ("Misc_CryptHOL.if_distribs",
     "map_gpv ?f ?g (if ?b then ?gpv else ?gpv') =
      (if ?b then map_gpv ?f ?g ?gpv else map_gpv ?f ?g ?gpv')",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 2, template_var 4), template_var 3),
         template_app
          (template_app
            (template_app (template_hole 1, template_var 2),
             template_var 1),
           template_var 0)),
       template_app
        (template_app
          (template_app (template_hole 0, template_var 2),
           template_app
            (template_app
              (template_app (template_hole 2, template_var 4),
               template_var 3),
             template_var 1)),
         template_app
          (template_app
            (template_app (template_hole 2, template_var 4),
             template_var 3),
           template_var 0)))),
    ("Misc_CryptHOL.if_distribs",
     "?gpv >>= (%y. if ?b then ?f y else ?g y) =
      (if ?b then ?gpv >>= ?f else ?gpv >>= ?g)",
     template_equation
      (template_app
        (template_app (template_hole 1, template_var 3), t_empty),
       template_app
        (template_app
          (template_app (template_hole 0, template_var 2),
           template_app
            (template_app (template_hole 1, template_var 3),
             template_var 1)),
         template_app
          (template_app (template_hole 1, template_var 3),
           template_var 0)))),
    ("Misc_CryptHOL.mono2mono_return_pmf",
     "monotone ?orda option_ord ?t ==>
      monotone ?orda (ord_spmf (=)) (%x. return_pmf (?t x))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 7, template_var 1),
                template_app (template_hole 6, template_hole 5)),
              t_empty)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 4, template_var 1),
               template_app
                (template_hole 3,
                 template_app (template_hole 2, template_hole 1))),
             t_empty)
           ))),
    ("Misc_CryptHOL.mono2mono_map_option",
     "monotone ?orda option_ord ?t ==>
      monotone ?orda option_ord (%x. map_option ?f1 (?t x))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 6, template_var 2),
                template_app (template_hole 5, template_hole 4)),
              t_empty)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 3, template_var 2),
               template_app (template_hole 2, template_hole 1)),
             t_empty)
           ))),
    ("Misc_CryptHOL.rel_fun_map_fun1",
     "rel_fun (BNF_Def.Grp UNIV ?h)^--1 ?A ?f ?g ==>
      rel_fun (=) ?A (map_fun ?h id ?f) ?g",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_hole 7,
                    template_app
                     (template_hole 6,
                      template_app
                       (template_app (template_hole 5, template_hole 4),
                        template_var 3))),
                  template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app (template_hole 3, template_hole 2),
                 template_var 2),
               template_app
                (template_app
                  (template_app (template_hole 1, template_var 3),
                   template_hole 0),
                 template_var 1)),
             template_var 0)
           ))),
    ("Misc_CryptHOL.pred_pmf_of_set",
     "[| finite ?A; ?A ~= {} |]
      ==> pred_pmf ?P (pmf_of_set ?A) = Ball ?A ?P",
     template_implication
      ([template_predicate (template_app (template_hole 7, template_var 1)),
        template_negation
         (template_equation (template_var 1, template_hole 4))],
       template_equation
        (template_app
          (template_app (template_hole 2, template_var 0),
           template_app (template_hole 1, template_var 1)),
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Misc_CryptHOL.map_le_fun_upd2",
     "[| ?f \<subseteq>\<^sub>m ?g; ?x ~: dom ?f |]
      ==> ?f \<subseteq>\<^sub>m ?g(?x := ?y)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 3),
              template_var 2)
            ),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 2, template_var 1),
                  template_app (template_hole 1, template_var 3))
                )
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 4, template_var 3),
             template_app
              (template_app
                (template_app (template_hole 0, template_var 2),
                 template_var 1),
               template_var 0))
           ))),
    ("Misc_CryptHOL.rel_pmf_OO_trans",
     "[| rel_pmf ?R ?p ?q; rel_pmf ?S ?q ?r |]
      ==> rel_pmf (?R OO ?S) ?p ?r",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 3, template_var 4),
                template_var 3),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 1),
                template_var 2),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 1,
                 template_app
                  (template_app (template_hole 0, template_var 4),
                   template_var 1)),
               template_var 3),
             template_var 0)
           ))),
    ("Misc_CryptHOL.countable_lfp",
     "[| !!Y. countable Y ==> countable (?F Y); sup_continuous ?F |]
      ==> countable (lfp ?F)",
     template_implication
      ([template_predicate (template_app (template_hole 4, t_empty)),
        template_predicate
         (template_app (template_hole 1, template_var 0))],
       template_predicate
        (
           template_app
            (template_hole 2,
             template_app (template_hole 0, template_var 0))
           ))),
    ("Misc_CryptHOL.pred_sum_conj1",
     "pred_sum (%x. ?P x & ?Q x) ?R =
      (%x. pred_sum ?P ?R x & pred_sum ?Q ?R x)",
     template_equation
      (template_app
        (template_app (template_hole 1, t_empty), template_var 0),
       t_empty)),
    ("Misc_CryptHOL.pred_sum_conj2",
     "pred_sum ?P (%x. ?Q x & ?R x) =
      (%x. pred_sum ?P ?Q x & pred_sum ?P ?R x)",
     template_equation
      (template_app
        (template_app (template_hole 1, template_var 2), t_empty),
       t_empty)),
    ("Misc_CryptHOL.option_rel_map_restrict_relp1",
     "rel_option (?R \<upharpoonleft> ?P \<otimes> ?Q) (map_option ?f ?x) =
      rel_option (?R o ?f \<upharpoonleft> ?P o ?f \<otimes> ?Q) ?x",
     template_equation
      (template_app
        (template_app
          (template_hole 4,
           template_app
            (template_app
              (template_app (template_hole 3, template_var 4),
               template_var 3),
             template_var 2)),
         template_app
          (template_app (template_hole 2, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 4,
           template_app
            (template_app
              (template_app
                (template_hole 3,
                 template_app
                  (template_app (template_hole 1, template_var 4),
                   template_var 1)),
               template_app
                (template_app (template_hole 0, template_var 3),
                 template_var 1)),
             template_var 2)),
         template_var 0))),
    ("Misc_CryptHOL.restrict_rel_prod2",
     "rel_prod ?R (?S \<upharpoonleft> ?I1.0 \<otimes> ?I2.0) =
      rel_prod ?R
       ?S \<upharpoonleft> pred_prod (%_. True)
                            ?I1.0 \<otimes> pred_prod (%_. True) ?I2.0",
     template_equation
      (template_app
        (template_app (template_hole 5, template_var 3),
         template_app
          (template_app
            (template_app (template_hole 4, template_var 2),
             template_var 1),
           template_var 0)),
       template_app
        (template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app (template_hole 5, template_var 3),
               template_var 2)),
           template_app
            (template_app (template_hole 2, t_empty), template_var 1)),
         template_app
          (template_app (template_hole 0, t_empty), template_var 0)))),
    ("Misc_CryptHOL.restrict_rel_prod1",
     "rel_prod (?R \<upharpoonleft> ?I1.0 \<otimes> ?I2.0) ?S =
      rel_prod ?R
       ?S \<upharpoonleft> pred_prod ?I1.0
                            (%_. True) \<otimes> pred_prod ?I2.0
            (%_. True)",
     template_equation
      (template_app
        (template_app
          (template_hole 5,
           template_app
            (template_app
              (template_app (template_hole 4, template_var 3),
               template_var 2),
             template_var 1)),
         template_var 0),
       template_app
        (template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app (template_hole 5, template_var 3),
               template_var 0)),
           template_app
            (template_app (template_hole 2, template_var 2), t_empty)),
         template_app
          (template_app (template_hole 0, template_var 1), t_empty)))),
    ("Misc_CryptHOL.pred_prod_conj1",
     "pred_prod (%x. ?P x & ?Q x) ?R =
      (%x. pred_prod ?P ?R x & pred_prod ?Q ?R x)",
     template_equation
      (template_app
        (template_app (template_hole 1, t_empty), template_var 0),
       t_empty)),
    ("Misc_CryptHOL.pred_prod_conj2",
     "pred_prod ?P (%x. ?Q x & ?R x) =
      (%x. pred_prod ?P ?Q x & pred_prod ?P ?R x)",
     template_equation
      (template_app
        (template_app (template_hole 1, template_var 2), t_empty),
       t_empty)),
    ("Misc_CryptHOL.pmf_rel_map_restrict_relp1",
     "rel_pmf (?R \<upharpoonleft> ?P \<otimes> ?Q) (map_pmf ?f ?p) =
      rel_pmf (?R o ?f \<upharpoonleft> ?P o ?f \<otimes> ?Q) ?p",
     template_equation
      (template_app
        (template_app
          (template_hole 4,
           template_app
            (template_app
              (template_app (template_hole 3, template_var 4),
               template_var 3),
             template_var 2)),
         template_app
          (template_app (template_hole 2, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 4,
           template_app
            (template_app
              (template_app
                (template_hole 3,
                 template_app
                  (template_app (template_hole 1, template_var 4),
                   template_var 1)),
               template_app
                (template_app (template_hole 0, template_var 3),
                 template_var 1)),
             template_var 2)),
         template_var 0))),
    ("Misc_CryptHOL.pred_spmf_conj",
     "pred_spmf (%x. ?P x & ?Q x) = (%x. pred_spmf ?P x & pred_spmf ?Q x)",
     template_equation
      (template_app
        (template_hole 2, template_app (template_hole 1, t_empty)),
       t_empty)),
    ("Misc_CryptHOL.Inl_eq_map_sum_iff",
     "(Inl ?x = map_sum ?f ?g ?y) = (EX z. ?y = Inl z & ?x = ?f z)",
     template_equation
      (template_app
        (template_app
          (template_hole 7, template_app (template_hole 6, template_var 3)),
         template_app
          (template_app
            (template_app (template_hole 5, template_var 2),
             template_var 1),
           template_var 0)),
       template_app (template_hole 4, t_empty))),
    ("Misc_CryptHOL.Inr_eq_map_sum_iff",
     "(Inr ?x = map_sum ?f ?g ?y) = (EX z. ?y = Inr z & ?x = ?g z)",
     template_equation
      (template_app
        (template_app
          (template_hole 7, template_app (template_hole 6, template_var 3)),
         template_app
          (template_app
            (template_app (template_hole 5, template_var 2),
             template_var 1),
           template_var 0)),
       template_app (template_hole 4, t_empty))),
    ("Misc_CryptHOL.measure_pair_spmf_times",
     "Sigma_Algebra.measure (measure_spmf (pair_spmf ?p ?q))
       (?A \<times> ?B) =
      Sigma_Algebra.measure (measure_spmf ?p) ?A *
      Sigma_Algebra.measure (measure_spmf ?q) ?B",
     template_equation
      (template_app
        (template_app
          (template_hole 8,
           template_app
            (template_hole 7,
             template_app
              (template_app (template_hole 6, template_var 3),
               template_var 2))),
         template_app
          (template_app (template_hole 5, template_var 1), t_empty)),
       template_app
        (template_app
          (template_hole 4,
           template_app
            (template_app
              (template_hole 3,
               template_app (template_hole 2, template_var 3)),
             template_var 1)),
         template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 2)),
           template_var 0)))),
    ("Misc_CryptHOL.pred_fun_parametric",
     "bi_total ?A ==>
      rel_fun (rel_fun ?A (=))
       (rel_fun (rel_fun ?B (=)) (rel_fun (rel_fun ?A ?B) (=))) pred_fun
       pred_fun",
     template_implication
      ([template_predicate
         (template_app (template_hole 9, template_var 1))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_hole 8,
                   template_app
                    (template_app (template_hole 7, template_var 1),
                     template_hole 6)),
                 template_app
                  (template_app
                    (template_hole 5,
                     template_app
                      (template_app (template_hole 4, template_var 0),
                       template_hole 6)),
                   template_app
                    (template_app
                      (template_hole 3,
                       template_app
                        (template_app (template_hole 2, template_var 1),
                         template_var 0)),
                     template_hole 6))),
               template_hole 1),
             template_hole 0)
           ))),
    ("Misc_CryptHOL.set_spmf_map_pmf_MATCH",
     "NO_MATCH (map_option ?g) ?f ==>
      set_spmf (map_pmf ?f ?p) = (UN x:set_pmf ?p. set_option (?f x))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 8,
                template_app (template_hole 7, template_var 2)),
              template_var 1)
            )],
       template_equation
        (template_app
          (template_hole 5,
           template_app
            (template_app (template_hole 4, template_var 1),
             template_var 0)),
         template_app
          (template_hole 3,
           template_app
            (template_app (template_hole 2, t_empty),
             template_app (template_hole 0, template_var 0)))))),
    ("Misc_CryptHOL.eSuc_SUP",
     "?A ~= {} ==>
      eSuc (\<Squnion> (?f ` ?A)) = (\<Squnion>x\<in>?A. eSuc (?f x))",
     template_implication
      ([template_negation
         (template_equation (template_var 1, template_hole 4))],
       template_equation
        (template_app
          (template_hole 2,
           template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 0),
               template_var 1))),
         template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, t_empty), template_var 1))))),
    ("Misc_CryptHOL.bind_spmf_of_set",
     "[| finite ?A; ?A ~= {} |]
      ==> spmf_of_set ?A >>= ?f = pmf_of_set ?A >>= ?f",
     template_implication
      ([template_predicate (template_app (template_hole 8, template_var 1)),
        template_negation
         (template_equation (template_var 1, template_hole 5))],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app (template_hole 2, template_var 1)),
           template_var 0),
         template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 1)),
           template_var 0)))),
    ("Misc_CryptHOL.bi_unique_vimage2p",
     "[| bi_unique ?P; inj ?f; inj ?g |]
      ==> bi_unique (BNF_Def.vimage2p ?f ?g ?P)",
     template_implication
      ([template_predicate (template_app (template_hole 6, template_var 2)),
        template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 1),
              template_hole 4)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 0),
              template_hole 2)
            )],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app
              (template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 0),
               template_var 2))
           ))),
    ("Misc_CryptHOL.restrict_relpI",
     "[| ?R ?x ?y; ?P ?x; ?Q ?y |]
      ==> (?R \<upharpoonleft> ?P \<otimes> ?Q) ?x ?y",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_var 4, template_var 3), template_var 2)
            ),
        template_predicate (template_app (template_var 1, template_var 3)),
        template_predicate (template_app (template_var 0, template_var 2))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 0, template_var 4),
                   template_var 1),
                 template_var 0),
               template_var 3),
             template_var 2)
           ))),
    ("Misc_CryptHOL.restrict_rel_prod",
     "rel_prod (?R \<upharpoonleft> ?I1.0 \<otimes> ?I2.0)
       (?S \<upharpoonleft> ?I1' \<otimes> ?I2') =
      rel_prod ?R
       ?S \<upharpoonleft> pred_prod ?I1.0
                            ?I1' \<otimes> pred_prod ?I2.0 ?I2'",
     template_equation
      (template_app
        (template_app
          (template_hole 5,
           template_app
            (template_app
              (template_app (template_hole 4, template_var 5),
               template_var 4),
             template_var 3)),
         template_app
          (template_app
            (template_app (template_hole 3, template_var 2),
             template_var 1),
           template_var 0)),
       template_app
        (template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 5, template_var 5),
               template_var 2)),
           template_app
            (template_app (template_hole 1, template_var 4),
             template_var 1)),
         template_app
          (template_app (template_hole 0, template_var 3),
           template_var 0)))),
    ("Misc_CryptHOL.pred_spmf_try",
     "pred_spmf ?P (TRY ?p ELSE ?q) =
      (pred_spmf ?P ?p & (~ lossless_spmf ?p --> pred_spmf ?P ?q))",
     template_equation
      (template_app
        (template_app
          (template_hole 6, template_app (template_hole 5, template_var 2)),
         template_app
          (template_app (template_hole 4, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 3,
           template_app
            (template_app
              (template_hole 6,
               template_app (template_hole 5, template_var 2)),
             template_var 1)),
         template_app
          (template_app
            (template_hole 2,
             template_app
              (template_hole 1,
               template_app (template_hole 0, template_var 1))),
           template_app
            (template_app
              (template_hole 6,
               template_app (template_hole 5, template_var 2)),
             template_var 0))))),
    ("Misc_CryptHOL.idiff_enat_eq_enat_iff",
     "(?x - enat ?n = enat ?m) = (EX k. ?x = enat k & k - ?n = ?m)",
     template_equation
      (template_app
        (template_app
          (template_hole 6,
           template_app
            (template_app (template_hole 5, template_var 2),
             template_app (template_hole 4, template_var 1))),
         template_app (template_hole 4, template_var 0)),
       template_app (template_hole 3, t_empty))),
    ("Misc_CryptHOL.rel_option_restrict_relp_iff",
     "rel_option (?R \<upharpoonleft> ?P \<otimes> ?Q) ?x ?y =
      (rel_option ?R ?x ?y & pred_option ?P ?x & pred_option ?Q ?y)",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_hole 4,
             template_app
              (template_app
                (template_app (template_hole 3, template_var 4),
                 template_var 3),
               template_var 2)),
           template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_hole 2,
           template_app
            (template_app
              (template_app (template_hole 4, template_var 4),
               template_var 1),
             template_var 0)),
         template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_var 3),
               template_var 1)),
           template_app
            (template_app (template_hole 0, template_var 2),
             template_var 0))))),
    ("Misc_CryptHOL.rel_pmf_restrict_relp_iff",
     "rel_pmf (?R \<upharpoonleft> ?P \<otimes> ?Q) ?x ?y =
      (rel_pmf ?R ?x ?y & pred_pmf ?P ?x & pred_pmf ?Q ?y)",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_hole 4,
             template_app
              (template_app
                (template_app (template_hole 3, template_var 4),
                 template_var 3),
               template_var 2)),
           template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_hole 2,
           template_app
            (template_app
              (template_app (template_hole 4, template_var 4),
               template_var 1),
             template_var 0)),
         template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_var 3),
               template_var 1)),
           template_app
            (template_app (template_hole 0, template_var 2),
             template_var 0))))),
    ("Misc_CryptHOL.set_rel_witness_pmf",
     "rel_pmf ?A ?x ?y ==>
      set_pmf (rel_witness_pmf ?A (?x, ?y)) <= {(a, b). ?A a b}",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 6, template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_inequation
        (less_equals,
         template_app
          (template_hole 4,
           template_app
            (template_app (template_hole 3, template_var 2),
             template_app
              (template_app (template_hole 2, template_var 1),
               template_var 0))),
         template_app
          (template_hole 1, template_app (template_hole 0, t_empty))))),
    ("Misc_CryptHOL.bind_pmf_spmf_assoc",
     "?g None = return_pmf None ==>
      ?p >>= ?f >>= ?g = ?p >>= (%x. ?f x >>= ?g)",
     template_implication
      ([template_equation
         (template_app (template_var 2, template_hole 5),
          template_app (template_hole 4, template_hole 3))],
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_var 1),
               template_var 0)),
           template_var 2),
         template_app
          (template_app (template_hole 0, template_var 1), t_empty)))),
    ("Misc_CryptHOL.try_spmf_bind_out1",
     "(!!x. lossless_spmf (?f x)) ==>
      TRY ?p ELSE ?q >>= ?f = TRY ?p >>= ?f ELSE (?q >>= ?f)",
     template_implication
      ([template_predicate (template_app (template_hole 6, t_empty))],
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_var 1),
               template_var 0)),
           template_var 2),
         template_app
          (template_app
            (template_hole 0,
             template_app
              (template_app (template_hole 2, template_var 1),
               template_var 2)),
           template_app
            (template_app (template_hole 2, template_var 0),
             template_var 2))))),
    ("Misc_CryptHOL.set_rel_witness_pmf'",
     "rel_pmf ?A (fst ?xy) (snd ?xy) ==>
      set_pmf (rel_witness_pmf ?A ?xy) <= {(a, b). ?A a b}",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 7, template_var 1),
                template_app (template_hole 6, template_var 0)),
              template_app (template_hole 5, template_var 0))
            )],
       template_inequation
        (less_equals,
         template_app
          (template_hole 3,
           template_app
            (template_app (template_hole 2, template_var 1),
             template_var 0)),
         template_app
          (template_hole 1, template_app (template_hole 0, t_empty))))),
    ("Misc_CryptHOL.map_option_mono",
     "monotone option.le_fun option_ord ?B ==>
      monotone option.le_fun option_ord (%f. map_option ?g (?B f))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_hole 9,
                  template_app
                   (template_hole 8,
                    template_app (template_hole 7, template_hole 6))),
                template_app (template_hole 5, template_hole 4)),
              template_var 1)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 3,
                 template_app
                  (template_hole 8,
                   template_app (template_hole 7, template_hole 6))),
               template_app (template_hole 2, template_hole 1)),
             t_empty)
           ))),
    ("Misc_CryptHOL.set_rel_witness_option",
     "[| rel_option ?A ?x ?y;
         (?a, ?b) : set_option (rel_witness_option (?x, ?y)) |]
      ==> ?A ?a ?b",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 5, template_var 4),
                template_var 3),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 4,
                template_app
                 (template_app (template_hole 3, template_var 1),
                  template_var 0)),
              template_app
               (template_hole 2,
                template_app
                 (template_hole 1,
                  template_app
                   (template_app (template_hole 0, template_var 3),
                    template_var 2))))
            )],
       template_predicate
        (
           template_app
            (template_app (template_var 4, template_var 1), template_var 0)
           ))),
    ("Misc_CryptHOL.sprefix_same_imp_eq",
     "[| sprefix ?xs ?ys; sprefix ?xs' ?ys; length ?xs = length ?xs' |]
      ==> ?xs = ?xs'",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 0),
              template_var 1)
            ),
        template_equation
         (template_app (template_hole 1, template_var 2),
          template_app (template_hole 1, template_var 0))],
       template_equation (template_var 2, template_var 0))),
    ("Misc_CryptHOL.restrict_relp_parametric",
     "rel_fun (rel_fun ?A (rel_fun ?B (=)))
       (rel_fun (rel_fun ?A (=))
         (rel_fun (rel_fun ?B (=)) (rel_fun ?A (rel_fun ?B (=)))))
       restrict_relp restrict_relp",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_app
                (template_hole 8,
                 template_app
                  (template_app (template_hole 7, template_var 1),
                   template_app
                    (template_app (template_hole 6, template_var 0),
                     template_hole 5))),
               template_app
                (template_app
                  (template_hole 4,
                   template_app
                    (template_app (template_hole 3, template_var 1),
                     template_hole 5)),
                 template_app
                  (template_app
                    (template_hole 2,
                     template_app
                      (template_app (template_hole 6, template_var 0),
                       template_hole 5)),
                   template_app
                    (template_app (template_hole 7, template_var 1),
                     template_app
                      (template_app (template_hole 6, template_var 0),
                       template_hole 5))))),
             template_hole 1),
           template_hole 0)
         )),
    ("Misc_CryptHOL.map_spmf_eq_map_spmf_iff",
     "(map_spmf ?f ?p = map_spmf ?g ?q) =
      rel_spmf (%x y. ?f x = ?g y) ?p ?q",
     template_equation
      (template_app
        (template_app
          (template_hole 7,
           template_app
            (template_app
              (template_hole 6,
               template_app (template_hole 5, template_var 3)),
             template_var 2)),
         template_app
          (template_app
            (template_hole 4,
             template_app (template_hole 3, template_var 1)),
           template_var 0)),
       template_app
        (template_app
          (template_app
            (template_hole 2, template_app (template_hole 1, t_empty)),
           template_var 2),
         template_var 0))),
    ("Misc_CryptHOL.fun_ord_parametric",
     "bi_total ?C ==>
      rel_fun (rel_fun ?A (rel_fun ?B (=)))
       (rel_fun (rel_fun ?C ?A) (rel_fun (rel_fun ?C ?B) (=))) fun_ord
       fun_ord",
     template_implication
      ([template_predicate
         (template_app (template_hole 10, template_var 2))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_hole 9,
                   template_app
                    (template_app (template_hole 8, template_var 1),
                     template_app
                      (template_app (template_hole 7, template_var 0),
                       template_hole 6))),
                 template_app
                  (template_app
                    (template_hole 5,
                     template_app
                      (template_app (template_hole 4, template_var 2),
                       template_var 1)),
                   template_app
                    (template_app
                      (template_hole 3,
                       template_app
                        (template_app (template_hole 2, template_var 2),
                         template_var 0)),
                     template_hole 6))),
               template_hole 1),
             template_hole 0)
           ))),
    ("Misc_CryptHOL.mcont2mcont_set_option",
     "mcont ?lub ?ord (flat_lub None) option_ord ?t ==>
      mcont ?lub ?ord \<Union> (<=) (%x. set_option (?t x))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 7, template_var 2),
                    template_var 1),
                  template_app (template_hole 6, template_hole 5)),
                template_app (template_hole 4, template_hole 5)),
              t_empty)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 3, template_var 2),
                   template_var 1),
                 template_hole 2),
               template_hole 1),
             t_empty)
           ))),
    ("Misc_CryptHOL.image_set_spmf_eq",
     "ASSUMPTION (map_spmf ?f ?p = map_spmf ?g ?q) ==>
      ?f ` set_spmf ?p = ?g ` set_spmf ?q",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 10,
              template_app
               (template_app
                 (template_hole 9,
                  template_app
                   (template_app
                     (template_hole 8,
                      template_app (template_hole 7, template_var 3)),
                    template_var 2)),
                template_app
                 (template_app
                   (template_hole 6,
                    template_app (template_hole 5, template_var 1)),
                  template_var 0)))
            )],
       template_equation
        (template_app
          (template_app (template_hole 3, template_var 3),
           template_app (template_hole 2, template_var 2)),
         template_app
          (template_app (template_hole 1, template_var 1),
           template_app (template_hole 0, template_var 0))))),
    ("Misc_CryptHOL.cond_pmf_of_set",
     "[| finite ?A; ?A Int ?B ~= {} |]
      ==> cond_pmf (pmf_of_set ?A) ?B = pmf_of_set (?A Int ?B)",
     template_implication
      ([template_predicate (template_app (template_hole 7, template_var 1)),
        template_negation
         (
            template_equation
             (template_app
               (template_app (template_hole 4, template_var 1),
                template_var 0),
              template_hole 3)
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 1)),
           template_var 0),
         template_app
          (template_hole 0,
           template_app
            (template_app (template_hole 4, template_var 1),
             template_var 0))))),
    ("Misc_CryptHOL.rel_spmf_OO_trans",
     "[| rel_spmf ?R ?p ?q; rel_spmf ?S ?q ?r |]
      ==> rel_spmf (?R OO ?S) ?p ?r",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_hole 6,
                  template_app (template_hole 5, template_var 4)),
                template_var 3),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_hole 4,
                  template_app (template_hole 3, template_var 1)),
                template_var 2),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 2,
                 template_app
                  (template_hole 1,
                   template_app
                    (template_app (template_hole 0, template_var 4),
                     template_var 1))),
               template_var 3),
             template_var 0)
           ))),
    ("Misc_CryptHOL.rel_fun_Grp",
     "rel_fun (BNF_Def.Grp UNIV ?h)^--1 (BNF_Def.Grp ?A ?g) =
      BNF_Def.Grp {f. f ` range ?h <= ?A} (map_fun ?h ?g)",
     template_equation
      (template_app
        (template_app
          (template_hole 10,
           template_app
            (template_hole 9,
             template_app
              (template_app (template_hole 8, template_hole 7),
               template_var 2))),
         template_app
          (template_app (template_hole 6, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 5, template_app (template_hole 4, t_empty)),
         template_app
          (template_app (template_hole 0, template_var 2),
           template_var 0)))),
    ("Misc_CryptHOL.spmf_rel_map_restrict_relp1",
     "rel_spmf (?R \<upharpoonleft> ?P \<otimes> ?Q) (map_spmf ?f ?p) =
      rel_spmf (?R o ?f \<upharpoonleft> ?P o ?f \<otimes> ?Q) ?p",
     template_equation
      (template_app
        (template_app
          (template_hole 6,
           template_app
            (template_hole 5,
             template_app
              (template_app
                (template_app (template_hole 4, template_var 4),
                 template_var 3),
               template_var 2))),
         template_app
          (template_app
            (template_hole 3,
             template_app (template_hole 2, template_var 1)),
           template_var 0)),
       template_app
        (template_app
          (template_hole 6,
           template_app
            (template_hole 5,
             template_app
              (template_app
                (template_app
                  (template_hole 4,
                   template_app
                    (template_app (template_hole 1, template_var 4),
                     template_var 1)),
                 template_app
                  (template_app (template_hole 0, template_var 3),
                   template_var 1)),
               template_var 2))),
         template_var 0))),
    ("Misc_CryptHOL.map_spmf_eq_map_spmfI",
     "rel_spmf (%x y. ?f x = ?g y) ?p ?q ==>
      map_spmf ?f ?p = map_spmf ?g ?q",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_hole 7, template_app (template_hole 6, t_empty)),
                template_var 1),
              template_var 0)
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app (template_hole 2, template_var 3)),
           template_var 1),
         template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 2)),
           template_var 0)))),
    ("Misc_CryptHOL.integral_scale_measure",
     "[| integrable ?M ?f; ?r < \<top> |]
      ==> integral\<^sup>L (scale_measure ?r ?M) ?f =
          enn2real ?r * integral\<^sup>L ?M ?f",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 2),
              template_var 1)
            ),
        template_inequation (less_than, template_var 0, template_hole 5)],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app (template_hole 2, template_var 0),
               template_var 2)),
           template_var 1),
         template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 0)),
           template_app
            (template_app (template_hole 3, template_var 2),
             template_var 1))))),
    ("Misc_CryptHOL.GrpE",
     "[| BNF_Def.Grp ?A ?f ?x ?y; [| ?y = ?f ?x; ?x : ?A |] ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 2, template_var 4),
                  template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_implication
         ([template_equation
            (template_var 1,
             template_app (template_var 3, template_var 2))],
          template_implication
           ([template_predicate
              (
                 template_app
                  (template_app (template_hole 0, template_var 2),
                   template_var 4)
                 )],
            template_predicate (template_var 0)))],
       template_predicate (template_var 0))),
    ("Misc_CryptHOL.option_rel_map_restrict_relp2",
     "rel_option (?R \<upharpoonleft> ?P \<otimes> ?Q) ?x
       (map_option ?g ?y) =
      rel_option ((%x. ?R x o ?g) \<upharpoonleft> ?P \<otimes> ?Q o ?g) ?x
       ?y",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_hole 5,
             template_app
              (template_app
                (template_app (template_hole 4, template_var 5),
                 template_var 4),
               template_var 3)),
           template_var 2),
         template_app
          (template_app (template_hole 3, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app
                (template_app (template_hole 1, t_empty), template_var 4),
               template_app
                (template_app (template_hole 0, template_var 3),
                 template_var 1))),
           template_var 2),
         template_var 0))),
    ("Misc_CryptHOL.pmf_rel_map_restrict_relp2",
     "rel_pmf (?R \<upharpoonleft> ?P \<otimes> ?Q) ?p (map_pmf ?g ?q) =
      rel_pmf ((%x. ?R x o ?g) \<upharpoonleft> ?P \<otimes> ?Q o ?g) ?p
       ?q",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_hole 5,
             template_app
              (template_app
                (template_app (template_hole 4, template_var 5),
                 template_var 4),
               template_var 3)),
           template_var 2),
         template_app
          (template_app (template_hole 3, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app
                (template_app (template_hole 1, t_empty), template_var 4),
               template_app
                (template_app (template_hole 0, template_var 3),
                 template_var 1))),
           template_var 2),
         template_var 0))),
    ("Misc_CryptHOL.monotone_parametric",
     "bi_total ?A ==>
      rel_fun (rel_fun ?A (rel_fun ?A (=)))
       (rel_fun (rel_fun ?B (rel_fun ?B (=))) (rel_fun (rel_fun ?A ?B) (=)))
       monotone monotone",
     template_implication
      ([template_predicate
         (template_app (template_hole 11, template_var 1))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_hole 10,
                   template_app
                    (template_app (template_hole 9, template_var 1),
                     template_app
                      (template_app (template_hole 8, template_var 1),
                       template_hole 7))),
                 template_app
                  (template_app
                    (template_hole 6,
                     template_app
                      (template_app (template_hole 5, template_var 0),
                       template_app
                        (template_app (template_hole 4, template_var 0),
                         template_hole 7))),
                   template_app
                    (template_app
                      (template_hole 3,
                       template_app
                        (template_app (template_hole 2, template_var 1),
                         template_var 0)),
                     template_hole 7))),
               template_hole 1),
             template_hole 0)
           ))),
    ("Misc_CryptHOL.SUP_enat_add_right",
     "?I ~= {} ==>
      (\<Squnion>i\<in>?I. ?c + ?f i) = ?c + \<Squnion> (?f ` ?I)",
     template_implication
      ([template_negation
         (template_equation (template_var 2, template_hole 4))],
       template_equation
        (template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 1, t_empty), template_var 2)),
         template_app
          (template_app (template_hole 0, template_var 1),
           template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, t_empty),
               template_var 2)))))),
    ("Misc_CryptHOL.SUP_enat_add_left",
     "?I ~= {} ==>
      (\<Squnion>i\<in>?I. ?f i + ?c) = \<Squnion> (?f ` ?I) + ?c",
     template_implication
      ([template_negation
         (template_equation (template_var 2, template_hole 4))],
       template_equation
        (template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 1, t_empty), template_var 2)),
         template_app
          (template_app
            (template_hole 0,
             template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, t_empty), template_var 2))),
           template_var 0)))),
    ("Misc_CryptHOL.rel_witness_option1",
     "rel_option ?A ?x ?y ==>
      rel_option (%a (a', b). a = a' & ?A a' b) ?x
       (rel_witness_option (?x, ?y))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 6, template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 5, t_empty), template_var 1),
             template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 0)))
           ))),
    ("Misc_CryptHOL.rel_witness_option2",
     "rel_option ?A ?x ?y ==>
      rel_option (%(a, b') b. b = b' & ?A a b')
       (rel_witness_option (?x, ?y)) ?y",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 6, template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 5, template_app (template_hole 4, t_empty)),
               template_app
                (template_hole 1,
                 template_app
                  (template_app (template_hole 0, template_var 1),
                   template_var 0))),
             template_var 0)
           ))),
    ("Misc_CryptHOL.ord_spmf_measureD",
     "ord_spmf ?R ?p ?q ==>
      Sigma_Algebra.measure (measure_spmf ?p) ?A
      <= Sigma_Algebra.measure (measure_spmf ?q) {y. EX x:?A. ?R x y}",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_hole 6,
                  template_app (template_hole 5, template_var 3)),
                template_var 2),
              template_var 1)
            )],
       template_inequation
        (less_equals,
         template_app
          (template_app
            (template_hole 3,
             template_app (template_hole 2, template_var 2)),
           template_var 0),
         template_app
          (template_app
            (template_hole 3,
             template_app (template_hole 2, template_var 1)),
           template_app (template_hole 1, t_empty))))),
    ("Misc_CryptHOL.nn_integral_measure_spmf_conv_measure_pmf",
     "?f : borel_measurable (count_space UNIV) ==>
      integral\<^sup>N (measure_spmf ?p) ?f =
      integral\<^sup>N (restrict_space (measure_pmf ?p) (range Some))
       (?f o the)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 14, template_var 1),
              template_app
               (template_app
                 (template_hole 13,
                  template_app (template_hole 12, template_hole 11)),
                template_hole 10))
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 8,
             template_app (template_hole 7, template_var 0)),
           template_var 1),
         template_app
          (template_app
            (template_hole 6,
             template_app
              (template_app
                (template_hole 5,
                 template_app (template_hole 4, template_var 0)),
               template_app
                (template_app (template_hole 3, template_hole 2),
                 template_hole 11))),
           template_app
            (template_app (template_hole 1, template_var 1),
             template_hole 0))))),
    ("Misc_CryptHOL.mcont2mcont_return_pmf",
     "mcont ?lub ?ord (flat_lub None) option_ord ?t ==>
      mcont ?lub ?ord lub_spmf (ord_spmf (=)) (%x. return_pmf (?t x))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 9, template_var 2),
                    template_var 1),
                  template_app (template_hole 8, template_hole 7)),
                template_app (template_hole 6, template_hole 7)),
              t_empty)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 5, template_var 2),
                   template_var 1),
                 template_hole 4),
               template_app
                (template_hole 3,
                 template_app (template_hole 2, template_hole 1))),
             t_empty)
           ))),
    ("Misc_CryptHOL.ord_spmf_bind_pmfI1",
     "(!!x. x : set_pmf ?p ==> ord_spmf ?R (?f x) ?q) ==>
      ord_spmf ?R (?p >>= ?f) ?q",
     template_implication
      ([template_predicate (template_app (template_hole 6, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 2,
                 template_app (template_hole 1, template_var 2)),
               template_app
                (template_app (template_hole 0, template_var 3),
                 template_var 1)),
             template_var 0)
           ))),
    ("Misc_CryptHOL.ord_spmf_bind_spmfI1",
     "(!!x. x : set_spmf ?p ==> ord_spmf ?R (?f x) ?q) ==>
      ord_spmf ?R (?p >>= ?f) ?q",
     template_implication
      ([template_predicate (template_app (template_hole 6, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 2,
                 template_app (template_hole 1, template_var 2)),
               template_app
                (template_app (template_hole 0, template_var 3),
                 template_var 1)),
             template_var 0)
           ))),
    ("Misc_CryptHOL.pcr_SomeE",
     "[| pcr_Some ?R ?x ?y; !!z. [| ?y = Some z; ?R ?x z |] ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 3, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate (template_app (template_hole 2, t_empty))],
       template_predicate (template_var 0))),
    ("Misc_CryptHOL.bi_total_vimage2p",
     "[| bi_total ?P; surj ?f; surj ?g |]
      ==> bi_total (BNF_Def.vimage2p ?f ?g ?P)",
     template_implication
      ([template_predicate
         (template_app (template_hole 10, template_var 2)),
        template_equation
         (template_app
           (template_app (template_hole 8, template_var 1),
            template_hole 7),
          template_hole 6),
        template_equation
         (template_app
           (template_app (template_hole 4, template_var 0),
            template_hole 3),
          template_hole 2)],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app
              (template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 0),
               template_var 2))
           ))),
    ("Misc_CryptHOL.rel_option_restrict_relpI",
     "[| rel_option ?R ?x ?y; pred_option ?P ?x; pred_option ?Q ?y |]
      ==> rel_option (?R \<upharpoonleft> ?P \<otimes> ?Q) ?x ?y",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 3, template_var 4),
                template_var 3),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 1),
              template_var 3)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 0),
              template_var 2)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 3,
                 template_app
                  (template_app
                    (template_app (template_hole 0, template_var 4),
                     template_var 1),
                   template_var 0)),
               template_var 3),
             template_var 2)
           ))),
    ("Misc_CryptHOL.rel_pmf_restrict_relpI",
     "[| rel_pmf ?R ?x ?y; pred_pmf ?P ?x; pred_pmf ?Q ?y |]
      ==> rel_pmf (?R \<upharpoonleft> ?P \<otimes> ?Q) ?x ?y",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 3, template_var 4),
                template_var 3),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 1),
              template_var 3)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 0),
              template_var 2)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 3,
                 template_app
                  (template_app
                    (template_app (template_hole 0, template_var 4),
                     template_var 1),
                   template_var 0)),
               template_var 3),
             template_var 2)
           ))),
    ("Misc_CryptHOL.Cons_in_nlists_iff",
     "(?x # ?xs : nlists ?A ?n) =
      (EX n'. ?n = Suc n' & ?x : ?A & ?xs : nlists ?A n')",
     template_equation
      (template_app
        (template_app
          (template_hole 7,
           template_app
            (template_app (template_hole 6, template_var 3),
             template_var 2)),
         template_app
          (template_app (template_hole 5, template_var 1), template_var 0)),
       template_app (template_hole 4, t_empty))),
    ("Misc_CryptHOL.rel_spmf_restrict_relp_iff",
     "rel_spmf (?R \<upharpoonleft> ?P \<otimes> ?Q) ?x ?y =
      (rel_spmf ?R ?x ?y & pred_spmf ?P ?x & pred_spmf ?Q ?y)",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_hole 7,
             template_app
              (template_hole 6,
               template_app
                (template_app
                  (template_app (template_hole 5, template_var 4),
                   template_var 3),
                 template_var 2))),
           template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_hole 4,
           template_app
            (template_app
              (template_app
                (template_hole 7,
                 template_app (template_hole 6, template_var 4)),
               template_var 1),
             template_var 0)),
         template_app
          (template_app
            (template_hole 4,
             template_app
              (template_app
                (template_hole 3,
                 template_app (template_hole 2, template_var 3)),
               template_var 1)),
           template_app
            (template_app
              (template_hole 1,
               template_app (template_hole 0, template_var 2)),
             template_var 0))))),
    ("Misc_CryptHOL.rel_witness_pmf1",
     "rel_pmf ?A ?p ?q ==>
      rel_pmf (%a (a', b). a = a' & ?A a' b) ?p
       (rel_witness_pmf ?A (?p, ?q))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 6, template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 5, t_empty), template_var 1),
             template_app
              (template_app (template_hole 1, template_var 2),
               template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 0)))
           ))),
    ("Misc_CryptHOL.rel_witness_pmf2",
     "rel_pmf ?A ?p ?q ==>
      rel_pmf (%(a, b') b. b = b' & ?A a b') (rel_witness_pmf ?A (?p, ?q))
       ?q",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 6, template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 5, template_app (template_hole 4, t_empty)),
               template_app
                (template_app (template_hole 1, template_var 2),
                 template_app
                  (template_app (template_hole 0, template_var 1),
                   template_var 0))),
             template_var 0)
           ))),
    ("Misc_CryptHOL.pred_pmf_cond",
     "set_pmf ?p Int ?A ~= {} ==>
      pred_pmf ?P (cond_pmf ?p ?A) = pred_pmf (%x. x : ?A --> ?P x) ?p",
     template_implication
      ([template_negation
         (
            template_equation
             (template_app
               (template_app
                 (template_hole 7,
                  template_app (template_hole 6, template_var 2)),
                template_var 1),
              template_hole 5)
            )],
       template_equation
        (template_app
          (template_app (template_hole 3, template_var 0),
           template_app
            (template_app (template_hole 2, template_var 2),
             template_var 1)),
         template_app
          (template_app (template_hole 3, t_empty), template_var 2)))),
    ("Misc_CryptHOL.mcont2mcont_map_option",
     "mcont ?lub ?ord (flat_lub None) option_ord ?t ==>
      mcont ?lub ?ord (flat_lub None) option_ord
       (%x. map_option ?f1 (?t x))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 8, template_var 3),
                    template_var 2),
                  template_app (template_hole 7, template_hole 6)),
                template_app (template_hole 5, template_hole 6)),
              t_empty)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 4, template_var 3),
                   template_var 2),
                 template_app (template_hole 3, template_hole 2)),
               template_app (template_hole 1, template_hole 2)),
             t_empty)
           ))),
    ("Misc_CryptHOL.pred_countable_Ex1",
     "(!!i. Measurable.pred ?M (?P i)) ==>
      Measurable.pred ?M (%x. EX! i. ?P i x)",
     template_implication
      ([template_predicate (template_app (template_hole 6, t_empty))],
       template_predicate
        (
           template_app
            (template_app (template_hole 4, t_empty),
             template_app
              (template_app (template_hole 3, template_var 0),
               template_app (template_hole 2, template_hole 1)))
           ))),
    ("Misc_CryptHOL.rel_pmf_bind_reflI",
     "(!!x. x : set_pmf ?p ==> rel_pmf ?R (?f x) (?g x)) ==>
      rel_pmf ?R (?p >>= ?f) (?p >>= ?g)",
     template_implication
      ([template_predicate (template_app (template_hole 6, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 2, template_var 2),
               template_app
                (template_app (template_hole 1, template_var 3),
                 template_var 1)),
             template_app
              (template_app (template_hole 0, template_var 3),
               template_var 0))
           ))),
    ("Misc_CryptHOL.bi_unique_rel_set_bij_betw",
     "[| bi_unique ?R; rel_set ?R ?A ?B |]
      ==> EX f. bij_betw f ?A ?B & (ALL x:?A. ?R x (f x))",
     template_implication
      ([template_predicate (template_app (template_hole 5, template_var 2)),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 4, template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_predicate (template_app (template_hole 3, t_empty)))),
    ("Misc_CryptHOL.option_pred_mono_strong",
     "[| pred_option ?P ?x; !!a. [| a : set_option ?x; ?P a |] ==> ?P' a |]
      ==> pred_option ?P' ?x",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 2),
              template_var 1)
            ),
        template_predicate (template_app (template_hole 2, t_empty))],
       template_predicate
        (
           template_app
            (template_app (template_hole 3, template_var 0), template_var 1)
           ))),
    ("Misc_CryptHOL.pmf_pred_mono_strong",
     "[| pred_pmf ?P ?p; !!a. [| a : set_pmf ?p; ?P a |] ==> ?P' a |]
      ==> pred_pmf ?P' ?p",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 2),
              template_var 1)
            ),
        template_predicate (template_app (template_hole 2, t_empty))],
       template_predicate
        (
           template_app
            (template_app (template_hole 3, template_var 0), template_var 1)
           ))),
    ("Misc_CryptHOL.restrict_relp_mono",
     "[| ?R <= ?R'; ?P <= ?P'; ?Q <= ?Q' |]
      ==> ?R \<upharpoonleft> ?P \<otimes> ?Q
          <= ?R' \<upharpoonleft> ?P' \<otimes> ?Q'",
     template_implication
      ([template_inequation (less_equals, template_var 5, template_var 4),
        template_inequation (less_equals, template_var 3, template_var 2),
        template_inequation (less_equals, template_var 1, template_var 0)],
       template_inequation
        (less_equals,
         template_app
          (template_app
            (template_app (template_hole 0, template_var 5),
             template_var 3),
           template_var 1),
         template_app
          (template_app
            (template_app (template_hole 0, template_var 4),
             template_var 2),
           template_var 0)))),
    ("Misc_CryptHOL.rel_fun_Grp_copy_Abs",
     "type_definition ?Rep ?Abs ?A ==>
      rel_fun (BNF_Def.Grp ?A ?Abs) (BNF_Def.Grp ?B ?g) =
      BNF_Def.Grp {f. f ` ?A <= ?B} (map_fun ?Rep ?g)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 9, template_var 4),
                template_var 3),
              template_var 2)
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 7,
             template_app
              (template_app (template_hole 6, template_var 2),
               template_var 3)),
           template_app
            (template_app (template_hole 5, template_var 1),
             template_var 0)),
         template_app
          (template_app
            (template_hole 4, template_app (template_hole 3, t_empty)),
           template_app
            (template_app (template_hole 0, template_var 4),
             template_var 0))))),
    ("Misc_CryptHOL.list_all2_append'",
     "length ?us = length ?vs ==>
      list_all2 ?P (?xs @ ?us) (?ys @ ?vs) =
      (list_all2 ?P ?xs ?ys & list_all2 ?P ?us ?vs)",
     template_implication
      ([template_equation
         (template_app (template_hole 6, template_var 4),
          template_app (template_hole 5, template_var 3))],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 3, template_var 2),
             template_app
              (template_app (template_hole 2, template_var 1),
               template_var 4)),
           template_app
            (template_app (template_hole 1, template_var 0),
             template_var 3)),
         template_app
          (template_app
            (template_hole 0,
             template_app
              (template_app
                (template_app (template_hole 3, template_var 2),
                 template_var 1),
               template_var 0)),
           template_app
            (template_app
              (template_app (template_hole 3, template_var 2),
               template_var 4),
             template_var 3))))),
    ("Misc_CryptHOL.Least_le_Least",
     "[| ?Q ?x; !!x. ?Q x ==> EX y<=x. ?P y |] ==> Least ?P <= Least ?Q",
     template_implication
      ([template_predicate (template_app (template_var 2, template_var 1)),
        template_predicate (template_app (template_hole 4, t_empty))],
       template_inequation
        (less_equals, template_app (template_hole 0, template_var 0),
         template_app (template_hole 0, template_var 2)))),
    ("Misc_CryptHOL.restrict_relpE",
     "[| (?R \<upharpoonleft> ?P \<otimes> ?Q) ?x ?y;
         [| ?R ?x ?y; ?P ?x; ?Q ?y |] ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 0, template_var 5),
                    template_var 4),
                  template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_implication
         ([template_predicate
            (
               template_app
                (template_app (template_var 5, template_var 2),
                 template_var 1)
               )],
          template_implication
           ([template_predicate
              (template_app (template_var 4, template_var 2))],
            template_implication
             ([template_predicate
                (template_app (template_var 3, template_var 1))],
              template_predicate (template_var 0))))],
       template_predicate (template_var 0))),
    ("Misc_CryptHOL.countable_lfp_apply",
     "[| !!Y x. (!!x. countable (Y x)) ==> countable (?F Y x);
         sup_continuous ?F |]
      ==> countable (lfp ?F ?x)",
     template_implication
      ([template_predicate (template_app (template_hole 5, t_empty)),
        template_predicate
         (template_app (template_hole 1, template_var 1))],
       template_predicate
        (
           template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0))
           ))),
    ("Misc_CryptHOL.in_nlists_Suc_iff",
     "(?xs : nlists ?A (Suc ?n)) =
      (EX x xs'. ?xs = x # xs' & x : ?A & xs' : nlists ?A ?n)",
     template_equation
      (template_app
        (template_app (template_hole 8, template_var 2),
         template_app
          (template_app (template_hole 7, template_var 1),
           template_app (template_hole 6, template_var 0))),
       template_app (template_hole 5, t_empty))),
    ("Misc_CryptHOL.spmf_rel_map_restrict_relp2",
     "rel_spmf (?R \<upharpoonleft> ?P \<otimes> ?Q) ?p (map_spmf ?g ?q) =
      rel_spmf ((%x. ?R x o ?g) \<upharpoonleft> ?P \<otimes> ?Q o ?g) ?p
       ?q",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_hole 8,
             template_app
              (template_hole 7,
               template_app
                (template_app
                  (template_app (template_hole 6, template_var 5),
                   template_var 4),
                 template_var 3))),
           template_var 2),
         template_app
          (template_app
            (template_hole 5,
             template_app (template_hole 4, template_var 1)),
           template_var 0)),
       template_app
        (template_app
          (template_app
            (template_hole 3,
             template_app
              (template_hole 2,
               template_app
                (template_app
                  (template_app (template_hole 1, t_empty), template_var 4),
                 template_app
                  (template_app (template_hole 0, template_var 3),
                   template_var 1)))),
           template_var 2),
         template_var 0))),
    ("Misc_CryptHOL.weight_enforce_spmf",
     "weight_spmf (enforce_spmf ?P ?p) =
      weight_spmf ?p - Sigma_Algebra.measure (measure_spmf ?p) {x. ~ ?P x}",
     template_equation
      (template_app
        (template_app
          (template_hole 6,
           template_app
            (template_hole 5,
             template_app
              (template_app (template_hole 4, template_var 1),
               template_var 0))),
         template_app
          (template_hole 3,
           template_app
            (template_hole 5,
             template_app
              (template_app (template_hole 4, template_var 1),
               template_var 0)))),
       template_app
        (template_app
          (template_hole 2,
           template_app
            (template_app
              (template_hole 6,
               template_app (template_hole 5, template_var 0)),
             template_app
              (template_hole 3,
               template_app (template_hole 5, template_var 0)))),
         template_app
          (template_app
            (template_hole 6,
             template_app (template_hole 5, template_var 0)),
           template_app (template_hole 1, t_empty))))),
    ("Misc_CryptHOL.rel_witness_spmf1",
     "rel_spmf ?A ?p ?q ==>
      rel_spmf (%a (a', b). a = a' & ?A a' b) ?p
       (rel_witness_spmf ?A (?p, ?q))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_hole 8,
                  template_app (template_hole 7, template_var 2)),
                template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 6, template_app (template_hole 5, t_empty)),
               template_var 1),
             template_app
              (template_app (template_hole 1, template_var 2),
               template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 0)))
           ))),
    ("Misc_CryptHOL.rel_witness_spmf2",
     "rel_spmf ?A ?p ?q ==>
      rel_spmf (%(a, b') b. b = b' & ?A a b') (rel_witness_spmf ?A (?p, ?q))
       ?q",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_hole 8,
                  template_app (template_hole 7, template_var 2)),
                template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 6,
                 template_app
                  (template_hole 5,
                   template_app (template_hole 4, t_empty))),
               template_app
                (template_app (template_hole 1, template_var 2),
                 template_app
                  (template_app (template_hole 0, template_var 1),
                   template_var 0))),
             template_var 0)
           ))),
    ("Misc_CryptHOL.map_le_map_upd2",
     "[| ?f \<subseteq>\<^sub>m ?g; !!y'. ?f ?x = Some y' ==> y' = ?y |]
      ==> ?f \<subseteq>\<^sub>m ?g(?x |-> ?y)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 3),
              template_var 2)
            ),
        template_predicate (template_app (template_hole 4, t_empty))],
       template_predicate
        (
           template_app
            (template_app (template_hole 5, template_var 3),
             template_app
              (template_app
                (template_app (template_hole 0, template_var 2),
                 template_var 1),
               template_app (template_hole 2, template_var 0)))
           ))),
    ("Misc_CryptHOL.spmf_pred_mono_strong",
     "[| pred_spmf ?P ?p; !!a. [| a : set_spmf ?p; ?P a |] ==> ?P' a |]
      ==> pred_spmf ?P' ?p",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 4,
                template_app (template_hole 3, template_var 2)),
              template_var 1)
            ),
        template_predicate (template_app (template_hole 2, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 4,
               template_app (template_hole 3, template_var 0)),
             template_var 1)
           ))),
    ("Misc_CryptHOL.if_mono_cong",
     "[| ?b ==> ?x <= ?x'; ~ ?b ==> ?y <= ?y' |]
      ==> (if ?b then ?x else ?y) <= (if ?b then ?x' else ?y')",
     template_implication
      ([template_implication
         ([template_predicate (template_var 4)],
          template_inequation
           (less_equals, template_var 3, template_var 2)),
        template_implication
         ([template_negation (template_predicate (template_var 4))],
          template_inequation
           (less_equals, template_var 1, template_var 0))],
       template_inequation
        (less_equals,
         template_app
          (template_app
            (template_app (template_hole 0, template_var 4),
             template_var 3),
           template_var 1),
         template_app
          (template_app
            (template_app (template_hole 0, template_var 4),
             template_var 2),
           template_var 0)))),
    ("Misc_CryptHOL.iadd_SUP_le_iff",
     "(?n + \<Squnion> (?f ` ?A) <= ?y) =
      (if ?A = {} then ?n <= ?y else ALL x:?A. ?n + ?f x <= ?y)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 7,
                template_app
                 (template_app (template_hole 6, template_var 3),
                  template_app
                   (template_hole 5,
                    template_app
                     (template_app (template_hole 4, t_empty),
                      template_var 1)))),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 3,
                 template_app
                  (template_app (template_hole 2, template_var 1),
                   template_hole 1)),
               template_app
                (template_app (template_hole 7, template_var 3),
                 template_var 0)),
             template_app
              (template_app (template_hole 0, template_var 1), t_empty))
           ))),
    ("Misc_CryptHOL.SUP_iadd_le_iff",
     "(\<Squnion> (?f ` ?A) + ?n <= ?y) =
      (if ?A = {} then ?n <= ?y else ALL x:?A. ?f x + ?n <= ?y)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 7,
                template_app
                 (template_app
                   (template_hole 6,
                    template_app
                     (template_hole 5,
                      template_app
                       (template_app (template_hole 4, t_empty),
                        template_var 2))),
                  template_var 1)),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 3,
                 template_app
                  (template_app (template_hole 2, template_var 2),
                   template_hole 1)),
               template_app
                (template_app (template_hole 7, template_var 1),
                 template_var 0)),
             template_app
              (template_app (template_hole 0, template_var 2), t_empty))
           ))),
    ("Misc_CryptHOL.measure_cond_pmf",
     "set_pmf ?p Int ?A ~= {} ==>
      measure_pmf.prob (cond_pmf ?p ?A) ?B =
      measure_pmf.prob ?p (?A Int ?B) / measure_pmf.prob ?p ?A",
     template_implication
      ([template_negation
         (
            template_equation
             (template_app
               (template_app
                 (template_hole 7,
                  template_app (template_hole 6, template_var 2)),
                template_var 1),
              template_hole 5)
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 2),
                 template_var 1))),
           template_var 0),
         template_app
          (template_app
            (template_hole 0,
             template_app
              (template_app
                (template_hole 3,
                 template_app (template_hole 2, template_var 2)),
               template_app
                (template_app (template_hole 7, template_var 1),
                 template_var 0))),
           template_app
            (template_app
              (template_hole 3,
               template_app (template_hole 2, template_var 2)),
             template_var 1))))),
    ("Misc_CryptHOL.emeasure_cond_pmf",
     "set_pmf ?p Int ?A ~= {} ==>
      emeasure (measure_pmf (cond_pmf ?p ?A)) ?B =
      emeasure (measure_pmf ?p) (?A Int ?B) / emeasure (measure_pmf ?p) ?A",
     template_implication
      ([template_negation
         (
            template_equation
             (template_app
               (template_app
                 (template_hole 7,
                  template_app (template_hole 6, template_var 2)),
                template_var 1),
              template_hole 5)
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 2),
                 template_var 1))),
           template_var 0),
         template_app
          (template_app
            (template_hole 0,
             template_app
              (template_app
                (template_hole 3,
                 template_app (template_hole 2, template_var 2)),
               template_app
                (template_app (template_hole 7, template_var 1),
                 template_var 0))),
           template_app
            (template_app
              (template_hole 3,
               template_app (template_hole 2, template_var 2)),
             template_var 1))))),
    ("Misc_CryptHOL.pred_prod_mono'",
     "[| !!x. ?A x --> ?A' x; !!y. ?B y --> ?B' y |]
      ==> pred_prod ?A ?B ?xy --> pred_prod ?A' ?B' ?xy",
     template_implication
      ([template_predicate (template_app (template_hole 4, t_empty)),
        template_predicate (template_app (template_hole 1, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app
                  (template_app (template_hole 0, template_var 4),
                   template_var 2),
                 template_var 0)),
             template_app
              (template_app
                (template_app (template_hole 0, template_var 3),
                 template_var 1),
               template_var 0))
           ))),
    ("Misc_CryptHOL.if_cong_then",
     "[| ?b = ?b'; ?b' ==> ?t = ?t'; ?e = ?e' |]
      ==> (if ?b then ?t else ?e) = (if ?b' then ?t' else ?e')",
     template_implication
      ([template_equation (template_var 5, template_var 4),
        template_implication
         ([template_predicate (template_var 4)],
          template_equation (template_var 3, template_var 2)),
        template_equation (template_var 1, template_var 0)],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 0, template_var 5),
             template_var 3),
           template_var 1),
         template_app
          (template_app
            (template_app (template_hole 0, template_var 4),
             template_var 2),
           template_var 0)))),
    ("Misc_CryptHOL.rel_spmf_restrict_relpI",
     "[| rel_spmf ?R ?p ?q; pred_spmf ?P ?p; pred_spmf ?Q ?q |]
      ==> rel_spmf (?R \<upharpoonleft> ?P \<otimes> ?Q) ?p ?q",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_hole 6,
                  template_app (template_hole 5, template_var 4)),
                template_var 3),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 4,
                template_app (template_hole 3, template_var 1)),
              template_var 3)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 2,
                template_app (template_hole 1, template_var 0)),
              template_var 2)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 6,
                 template_app
                  (template_hole 5,
                   template_app
                    (template_app
                      (template_app (template_hole 0, template_var 4),
                       template_var 1),
                     template_var 0))),
               template_var 3),
             template_var 2)
           ))),
    ("Misc_CryptHOL.rel_spmf_if_distrib",
     "rel_spmf ?R (if ?b then ?x else ?y) (if ?b then ?x' else ?y') =
      ((?b --> rel_spmf ?R ?x ?x') & (~ ?b --> rel_spmf ?R ?y ?y'))",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_hole 6,
             template_app (template_hole 5, template_var 5)),
           template_app
            (template_app
              (template_app (template_hole 4, template_var 4),
               template_var 3),
             template_var 2)),
         template_app
          (template_app
            (template_app (template_hole 3, template_var 4),
             template_var 1),
           template_var 0)),
       template_app
        (template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 1, template_var 4),
             template_app
              (template_app
                (template_app
                  (template_hole 6,
                   template_app (template_hole 5, template_var 5)),
                 template_var 3),
               template_var 1))),
         template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 4)),
           template_app
            (template_app
              (template_app
                (template_hole 6,
                 template_app (template_hole 5, template_var 5)),
               template_var 2),
             template_var 0))))),
    ("Misc_CryptHOL.rel_fun_refl_strong",
     "[| ?A <= (=); !!x. x : ?f ` {x. Domainp ?A x} ==> ?B x x |]
      ==> rel_fun ?A ?B ?f ?f",
     template_implication
      ([template_inequation (less_equals, template_var 2, template_hole 6),
        template_predicate (template_app (template_hole 5, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app (template_hole 0, template_var 2),
                 template_var 0),
               template_var 1),
             template_var 1)
           ))),
    ("Misc_CryptHOL.rel_option_restrict_relpE",
     "[| rel_option (?R \<upharpoonleft> ?P \<otimes> ?Q) ?x ?y;
         [| rel_option ?R ?x ?y; pred_option ?P ?x; pred_option ?Q ?y |]
         ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_hole 3,
                  template_app
                   (template_app
                     (template_app (template_hole 2, template_var 5),
                      template_var 4),
                    template_var 3)),
                template_var 2),
              template_var 1)
            ),
        template_implication
         ([template_predicate
            (
               template_app
                (template_app
                  (template_app (template_hole 3, template_var 5),
                   template_var 2),
                 template_var 1)
               )],
          template_implication
           ([template_predicate
              (
                 template_app
                  (template_app (template_hole 1, template_var 4),
                   template_var 2)
                 )],
            template_implication
             ([template_predicate
                (
                   template_app
                    (template_app (template_hole 0, template_var 3),
                     template_var 1)
                   )],
              template_predicate (template_var 0))))],
       template_predicate (template_var 0))),
    ("Misc_CryptHOL.rel_pmf_restrict_relpE",
     "[| rel_pmf (?R \<upharpoonleft> ?P \<otimes> ?Q) ?x ?y;
         [| rel_pmf ?R ?x ?y; pred_pmf ?P ?x; pred_pmf ?Q ?y |]
         ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_hole 3,
                  template_app
                   (template_app
                     (template_app (template_hole 2, template_var 5),
                      template_var 4),
                    template_var 3)),
                template_var 2),
              template_var 1)
            ),
        template_implication
         ([template_predicate
            (
               template_app
                (template_app
                  (template_app (template_hole 3, template_var 5),
                   template_var 2),
                 template_var 1)
               )],
          template_implication
           ([template_predicate
              (
                 template_app
                  (template_app (template_hole 1, template_var 4),
                   template_var 2)
                 )],
            template_implication
             ([template_predicate
                (
                   template_app
                    (template_app (template_hole 0, template_var 3),
                     template_var 1)
                   )],
              template_predicate (template_var 0))))],
       template_predicate (template_var 0))),
    ("Misc_CryptHOL.le_option_bind_mono",
     "[| le_option ?x ?y;
         !!a. a : set_option ?x ==> le_option (?f a) (?g a) |]
      ==> le_option (?x >>= ?f) (?y >>= ?g)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 7, template_hole 6),
                template_var 3),
              template_var 2)
            ),
        template_predicate (template_app (template_hole 5, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 2, template_hole 1),
               template_app
                (template_app (template_hole 0, template_var 3),
                 template_var 1)),
             template_app
              (template_app (template_hole 0, template_var 2),
               template_var 0))
           ))),
    ("Misc_CryptHOL.mcont_finite_chains",
     "[| finite_chains ?ord; monotone ?ord ?ord' ?f;
         class.ccpo ?lub ?ord (mk_less ?ord);
         class.ccpo ?lub' ?ord' (mk_less ?ord') |]
      ==> mcont ?lub ?ord ?lub' ?ord' ?f",
     template_implication
      ([template_predicate (template_app (template_hole 6, template_var 4)),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 5, template_var 4),
                template_var 3),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 4, template_var 1),
                template_var 4),
              template_app (template_hole 3, template_var 4))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 0),
                template_var 3),
              template_app (template_hole 1, template_var 3))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 0, template_var 1),
                   template_var 4),
                 template_var 0),
               template_var 3),
             template_var 2)
           ))),
    ("Misc_CryptHOL.pair_pmf_of_set",
     "[| finite ?A; ?A ~= {}; finite ?B; ?B ~= {} |]
      ==> pair_pmf (pmf_of_set ?A) (pmf_of_set ?B) =
          pmf_of_set (?A \<times> ?B)",
     template_implication
      ([template_predicate
         (template_app (template_hole 12, template_var 1)),
        template_negation
         (template_equation (template_var 1, template_hole 9)),
        template_predicate (template_app (template_hole 8, template_var 0)),
        template_negation
         (template_equation (template_var 0, template_hole 6))],
       template_equation
        (template_app
          (template_app
            (template_hole 4,
             template_app (template_hole 3, template_var 1)),
           template_app (template_hole 2, template_var 0)),
         template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 1), t_empty))))),
    ("Misc_CryptHOL.disjointpD",
     "[| disjointp ?xs; (?xs ! ?n) ?x; (?xs ! ?m) ?x; ?n < length ?xs;
         ?m < length ?xs |]
      ==> ?n = ?m",
     template_implication
      ([template_predicate (template_app (template_hole 4, template_var 3)),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 3, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 3, template_var 3),
                template_var 0),
              template_var 1)
            ),
        template_inequation
         (less_than, template_var 2,
          template_app (template_hole 1, template_var 3)),
        template_inequation
         (less_than, template_var 0,
          template_app (template_hole 1, template_var 3))],
       template_equation (template_var 2, template_var 0))),
    ("Misc_CryptHOL.rel_set_comp_Grp",
     "rel_set ?R =
      (BNF_Def.Grp {x. x <= {(x, y). ?R x y}} ((`) fst))^--1 OO
      BNF_Def.Grp {x. x <= {(x, y). ?R x y}} ((`) snd)",
     template_equation
      (template_app (template_hole 12, template_var 0),
       template_app
        (template_app
          (template_hole 11,
           template_app
            (template_hole 10,
             template_app
              (template_app
                (template_hole 9, template_app (template_hole 8, t_empty)),
               template_app (template_hole 4, template_hole 3)))),
         template_app
          (template_app
            (template_hole 2, template_app (template_hole 8, t_empty)),
           template_app (template_hole 1, template_hole 0))))),
    ("Misc_CryptHOL.rel_spmf_restrict_relpE",
     "[| rel_spmf (?R \<upharpoonleft> ?P \<otimes> ?Q) ?x ?y;
         [| rel_spmf ?R ?x ?y; pred_spmf ?P ?x; pred_spmf ?Q ?y |]
         ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_hole 6,
                  template_app
                   (template_hole 5,
                    template_app
                     (template_app
                       (template_app (template_hole 4, template_var 5),
                        template_var 4),
                      template_var 3))),
                template_var 2),
              template_var 1)
            ),
        template_implication
         ([template_predicate
            (
               template_app
                (template_app
                  (template_app
                    (template_hole 6,
                     template_app (template_hole 5, template_var 5)),
                   template_var 2),
                 template_var 1)
               )],
          template_implication
           ([template_predicate
              (
                 template_app
                  (template_app
                    (template_hole 3,
                     template_app (template_hole 2, template_var 4)),
                   template_var 2)
                 )],
            template_implication
             ([template_predicate
                (
                   template_app
                    (template_app
                      (template_hole 1,
                       template_app (template_hole 0, template_var 3)),
                     template_var 1)
                   )],
              template_predicate (template_var 0))))],
       template_predicate (template_var 0))),
    ("Misc_CryptHOL.cond_spmf_fst_map_Pair1",
     "[| ?x : set_spmf ?p; inj_on ?f (set_spmf ?p) |]
      ==> cond_spmf_fst (map_spmf (%x. (?f x, ?g x)) ?p) (?f ?x) =
          return_spmf (?g (inv_into (set_spmf ?p) ?f (?f ?x)))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 10, template_var 3),
              template_app (template_hole 9, template_var 2))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 1),
              template_app (template_hole 9, template_var 2))
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 6,
             template_app
              (template_app
                (template_hole 5, template_app (template_hole 4, t_empty)),
               template_var 2)),
           template_app (template_var 1, template_var 3)),
         template_app
          (template_hole 2,
           template_app
            (template_hole 1,
             template_app
              (template_var 0,
               template_app
                (template_app
                  (template_app
                    (template_hole 0,
                     template_app (template_hole 9, template_var 2)),
                   template_var 1),
                 template_app (template_var 1, template_var 3)))))))),
    ("Misc_CryptHOL.rel_spmf_restrict_relpI'",
     "[| rel_spmf (%x y. ?P x --> ?Q y --> ?R x y) ?p ?q; pred_spmf ?P ?p;
         pred_spmf ?Q ?q |]
      ==> rel_spmf (?R \<upharpoonleft> ?P \<otimes> ?Q) ?p ?q",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_hole 7, template_app (template_hole 6, t_empty)),
                template_var 1),
              template_var 0)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 4,
                template_app (template_hole 3, template_var 4)),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 2,
                template_app (template_hole 1, template_var 3)),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 7,
                 template_app
                  (template_hole 6,
                   template_app
                    (template_app
                      (template_app (template_hole 0, template_var 2),
                       template_var 4),
                     template_var 3))),
               template_var 1),
             template_var 0)
           ))),
    ("Misc_CryptHOL.rel_spmf_restrict_spmfI",
     "rel_spmf (%x y. x : ?A & y : ?B & ?R x y | x ~: ?A & y ~: ?B) ?p
       ?q ==>
      rel_spmf ?R (?p \<upharpoonleft> ?A) (?q \<upharpoonleft> ?B)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_hole 8, template_app (template_hole 7, t_empty)),
                template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 8,
                 template_app (template_hole 7, template_var 2)),
               template_app
                (template_app (template_hole 1, template_var 1),
                 template_var 4)),
             template_app
              (template_app (template_hole 0, template_var 0),
               template_var 3))
           ))),
    ("Misc_CryptHOL.spmf_rel_mono_strong",
     "[| rel_spmf ?A ?f ?g;
         !!x y. [| x : set_spmf ?f; y : set_spmf ?g; ?A x y |] ==> ?B x y |]
      ==> rel_spmf ?B ?f ?g",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_hole 7,
                  template_app (template_hole 6, template_var 3)),
                template_var 2),
              template_var 1)
            ),
        template_predicate (template_app (template_hole 5, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 7,
                 template_app (template_hole 6, template_var 0)),
               template_var 2),
             template_var 1)
           ))),
    ("Misc_CryptHOL.inv_into_map_sum",
     "[| ?x : ?f ` ?A <+> ?g ` ?B; inj_on ?f ?A; inj_on ?g ?B |]
      ==> inv_into (?A <+> ?B) (map_sum ?f ?g) ?x =
          map_sum (inv_into ?A ?f) (inv_into ?B ?g) ?x",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 12, template_var 4),
              template_app
               (template_app
                 (template_hole 11,
                  template_app
                   (template_app (template_hole 10, template_var 3),
                    template_var 2)),
                template_app
                 (template_app (template_hole 9, template_var 1),
                  template_var 0)))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 3),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 1),
              template_var 0)
            )],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_hole 5,
               template_app
                (template_app (template_hole 4, template_var 2),
                 template_var 0)),
             template_app
              (template_app (template_hole 3, template_var 3),
               template_var 1)),
           template_var 4),
         template_app
          (template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 2),
                 template_var 3)),
             template_app
              (template_app (template_hole 0, template_var 0),
               template_var 1)),
           template_var 4)))),
    ("Misc_CryptHOL.restrict_relp_mono'",
     "[| (?R \<upharpoonleft> ?P \<otimes> ?Q) ?x ?y;
         [| ?R ?x ?y; ?P ?x; ?Q ?y |] ==> ?R' ?x ?y &&& ?P' ?x &&& ?Q' ?y |]
      ==> (?R' \<upharpoonleft> ?P' \<otimes> ?Q') ?x ?y",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 1, template_var 7),
                    template_var 6),
                  template_var 5),
                template_var 4),
              template_var 3)
            ),
        template_implication
         ([template_predicate
            (
               template_app
                (template_app (template_var 7, template_var 4),
                 template_var 3)
               )],
          template_implication
           ([template_predicate
              (template_app (template_var 6, template_var 4))],
            template_implication
             ([template_predicate
                (template_app (template_var 5, template_var 3))],
              template_predicate
               (
                  template_app
                   (template_app
                     (template_hole 0,
                      template_app
                       (template_hole 2,
                        template_app
                         (template_app (template_var 2, template_var 4),
                          template_var 3))),
                    template_app
                     (template_app
                       (template_hole 0,
                        template_app
                         (template_hole 2,
                          template_app (template_var 1, template_var 4))),
                      template_app
                       (template_hole 2,
                        template_app (template_var 0, template_var 3))))
                  ))))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 1, template_var 2),
                   template_var 1),
                 template_var 0),
               template_var 4),
             template_var 3)
           ))),
    ("Misc_CryptHOL.restrict_relp_cong_simp",
     "[| ?P = ?P'; ?Q = ?Q';
         !!x y. ?P x =simp=> ?Q y =simp=> ?R x y = ?R' x y |]
      ==> ?R \<upharpoonleft> ?P \<otimes> ?Q =
          ?R' \<upharpoonleft> ?P' \<otimes> ?Q'",
     template_implication
      ([template_equation (template_var 5, template_var 4),
        template_equation (template_var 3, template_var 2),
        template_predicate (template_app (template_hole 5, t_empty))],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 0, template_var 1),
             template_var 5),
           template_var 3),
         template_app
          (template_app
            (template_app (template_hole 0, template_var 0),
             template_var 4),
           template_var 2)))),
    ("Misc_CryptHOL.restrict_relp_cong",
     "[| ?P = ?P'; ?Q = ?Q'; !!x y. [| ?P x; ?Q y |] ==> ?R x y = ?R' x y |]
      ==> ?R \<upharpoonleft> ?P \<otimes> ?Q =
          ?R' \<upharpoonleft> ?P' \<otimes> ?Q'",
     template_implication
      ([template_equation (template_var 5, template_var 4),
        template_equation (template_var 3, template_var 2),
        template_predicate (template_app (template_hole 4, t_empty))],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 0, template_var 1),
             template_var 5),
           template_var 3),
         template_app
          (template_app
            (template_app (template_hole 0, template_var 0),
             template_var 4),
           template_var 2)))),
    ("Misc_CryptHOL.integral_measure_spmf",
     "[| finite ?A;
         !!a. [| a : set_spmf ?M; ?f a ~= (0::?'b) |] ==> a : ?A |]
      ==> integral\<^sup>L (measure_spmf ?M) ?f =
          (SUM a:?A. spmf ?M a *\<^sub>R ?f a)",
     template_implication
      ([template_predicate
         (template_app (template_hole 12, template_var 2)),
        template_predicate (template_app (template_hole 11, t_empty))],
       template_equation
        (template_app
          (template_app
            (template_hole 5,
             template_app (template_hole 4, template_var 1)),
           t_empty),
         template_app
          (template_app (template_hole 3, t_empty), template_var 2)))),
    ("Misc_CryptHOL.disjointpD'",
     "[| disjointp ?xs; ?P ?x; ?Q ?x; ?xs ! ?n = ?P; ?xs ! ?m = ?Q;
         ?n < length ?xs; ?m < length ?xs |]
      ==> ?n = ?m",
     template_implication
      ([template_predicate (template_app (template_hole 5, template_var 5)),
        template_predicate (template_app (template_var 4, template_var 3)),
        template_predicate (template_app (template_var 2, template_var 3)),
        template_equation
         (template_app
           (template_app (template_hole 3, template_var 5), template_var 1),
          template_var 4),
        template_equation
         (template_app
           (template_app (template_hole 3, template_var 5), template_var 0),
          template_var 2),
        template_inequation
         (less_than, template_var 1,
          template_app (template_hole 1, template_var 5)),
        template_inequation
         (less_than, template_var 0,
          template_app (template_hole 1, template_var 5))],
       template_equation (template_var 1, template_var 0))),
    ("Misc_CryptHOL.fixp_rolling",
     "[| class.ccpo ?lub1.0 ?leq1.0 (mk_less ?leq1.0);
         class.ccpo ?lub2.0 ?leq2.0 (mk_less ?leq2.0);
         monotone ?leq1.0 ?leq2.0 ?f; monotone ?leq2.0 ?leq1.0 ?g |]
      ==> ccpo.fixp ?lub1.0 ?leq1.0 (%x. ?g (?f x)) =
          ?g (ccpo.fixp ?lub2.0 ?leq2.0 (%x. ?f (?g x)))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 8, template_var 5),
                template_var 4),
              template_app (template_hole 7, template_var 4))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 6, template_var 3),
                template_var 2),
              template_app (template_hole 5, template_var 2))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 4, template_var 4),
                template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 3, template_var 2),
                template_var 4),
              template_var 0)
            )],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 1, template_var 5),
             template_var 4),
           t_empty),
         template_app
          (template_var 0,
           template_app
            (template_app
              (template_app (template_hole 0, template_var 3),
               template_var 2),
             t_empty))))),
    ("Misc_CryptHOL.rel_witness_fun1",
     "[| rel_fun (?A OO ?A') ?B ?f ?g; left_unique ?A; right_total ?A;
         right_unique ?A'; left_total ?A' |]
      ==> rel_fun ?A (%x (x', y). x = x' & ?B x' y) ?f
           (rel_witness_fun ?A ?A' (?f, ?g))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_hole 11,
                    template_app
                     (template_app (template_hole 10, template_var 4),
                      template_var 3)),
                  template_var 2),
                template_var 1),
              template_var 0)
            ),
        template_predicate (template_app (template_hole 9, template_var 4)),
        template_predicate (template_app (template_hole 8, template_var 4)),
        template_predicate (template_app (template_hole 7, template_var 3)),
        template_predicate
         (template_app (template_hole 6, template_var 3))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app (template_hole 5, template_var 4), t_empty),
               template_var 1),
             template_app
              (template_app
                (template_app (template_hole 1, template_var 4),
                 template_var 3),
               template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 0)))
           ))),
    ("Misc_CryptHOL.rel_witness_fun2",
     "[| rel_fun (?A OO ?A') ?B ?f ?g; left_unique ?A; right_total ?A;
         right_unique ?A'; left_total ?A' |]
      ==> rel_fun ?A' (%(x, y') y. y = y' & ?B x y')
           (rel_witness_fun ?A ?A' (?f, ?g)) ?g",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_hole 11,
                    template_app
                     (template_app (template_hole 10, template_var 4),
                      template_var 3)),
                  template_var 2),
                template_var 1),
              template_var 0)
            ),
        template_predicate (template_app (template_hole 9, template_var 4)),
        template_predicate (template_app (template_hole 8, template_var 4)),
        template_predicate (template_app (template_hole 7, template_var 3)),
        template_predicate
         (template_app (template_hole 6, template_var 3))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app (template_hole 5, template_var 3),
                 template_app (template_hole 4, t_empty)),
               template_app
                (template_app
                  (template_app (template_hole 1, template_var 4),
                   template_var 3),
                 template_app
                  (template_app (template_hole 0, template_var 1),
                   template_var 0))),
             template_var 0)
           ))),
    ("Misc_CryptHOL.rel_spmf_bindI'",
     "[| rel_spmf ?A ?p ?q;
         !!x y.
            [| ?A x y; x : set_spmf ?p; y : set_spmf ?q |]
            ==> rel_spmf ?B (?f x) (?g y) |]
      ==> rel_spmf ?B (?p >>= ?f) (?q >>= ?g)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_hole 11,
                  template_app (template_hole 10, template_var 5)),
                template_var 4),
              template_var 3)
            ),
        template_predicate (template_app (template_hole 9, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 3,
                 template_app (template_hole 2, template_var 2)),
               template_app
                (template_app (template_hole 1, template_var 4),
                 template_var 1)),
             template_app
              (template_app (template_hole 0, template_var 3),
               template_var 0))
           ))),
    ("Misc_CryptHOL.eadd_gfp_partial_function_mono",
     "[| monotone (fun_ord (%x y. y <= x)) (%x y. y <= x) ?f;
         monotone (fun_ord (%x y. y <= x)) (%x y. y <= x) ?g |]
      ==> monotone (fun_ord (%x y. y <= x)) (%x y. y <= x)
           (%x. ?f x + ?g x)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_hole 4, template_app (template_hole 3, t_empty)),
                t_empty),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_hole 4, template_app (template_hole 3, t_empty)),
                t_empty),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 4, template_app (template_hole 3, t_empty)),
               t_empty),
             t_empty)
           ))),
    ("Misc_CryptHOL.nn_integral_indicator_map",
     "[| ?f : ?M \<rightarrow>\<^sub>M ?N; {x: space ?N. ?P x} : sets ?N |]
      ==> \<integral>\<^sup>+ x. indicator {x: space ?N. ?P x} (?f x)
                             \<partial>?M =
          emeasure ?M {x: space ?M. ?P (?f x)}",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 14, template_var 3),
              template_app
               (template_app (template_hole 13, template_var 2),
                template_var 1))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 12, template_app (template_hole 11, t_empty)),
              template_app (template_hole 7, template_var 1))
            )],
       template_equation
        (template_app
          (template_app (template_hole 5, template_var 2), t_empty),
         template_app
          (template_app (template_hole 3, template_var 2),
           template_app (template_hole 2, t_empty))))),
    ("Misc_CryptHOL.fixp_lfp_parametric_eq",
     "[| !!x. lfp.mono_body (%f. ?F f x); !!x. lfp.mono_body (%f. ?G f x);
         rel_fun (rel_fun ?A (=)) (rel_fun ?A (=)) ?F ?G |]
      ==> rel_fun ?A (=) (lfp.fixp_fun ?F) (lfp.fixp_fun ?G)",
     template_implication
      ([template_predicate (template_app (template_hole 15, t_empty)),
        template_predicate (template_app (template_hole 10, t_empty)),
        template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_hole 7,
                    template_app
                     (template_app (template_hole 6, template_var 0),
                      template_hole 5)),
                  template_app
                   (template_app (template_hole 6, template_var 0),
                    template_hole 5)),
                template_var 2),
              template_var 1)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app (template_hole 6, template_var 0),
                 template_hole 5),
               template_app
                (template_app
                  (template_app
                    (template_hole 4,
                     template_app (template_hole 3, template_hole 2)),
                   template_app (template_hole 12, template_hole 11)),
                 template_var 2)),
             template_app
              (template_app
                (template_app
                  (template_hole 1,
                   template_app (template_hole 0, template_hole 2)),
                 template_app (template_hole 8, template_hole 11)),
               template_var 1))
           ))),
    ("Misc_CryptHOL.rel_fun_mono_strong",
     "[| rel_fun ?A ?B ?f ?g; ?A' <= ?A;
         !!x y.
            [| x : ?f ` {x. Domainp ?A' x}; y : ?g ` {x. Rangep ?A' x};
               ?B x y |]
            ==> ?B' x y |]
      ==> rel_fun ?A' ?B' ?f ?g",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 11, template_var 5),
                  template_var 4),
                template_var 3),
              template_var 2)
            ),
        template_inequation (less_equals, template_var 1, template_var 5),
        template_predicate (template_app (template_hole 9, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app (template_hole 11, template_var 1),
                 template_var 0),
               template_var 3),
             template_var 2)
           ))),
    ("Misc_CryptHOL.rel_spmf_of_setI",
     "[| !!X. X <= ?A ==>
              card ?B * card X <= card ?A * card {y: ?B. EX x:X. ?R x y};
         finite' ?A = finite' ?B |]
      ==> rel_spmf ?R (spmf_of_set ?A) (spmf_of_set ?B)",
     template_implication
      ([template_predicate (template_app (template_hole 22, t_empty)),
        template_bimplication
         (template_predicate
           (
              template_app
               (template_app
                 (template_hole 14,
                  template_app (template_hole 10, template_var 2)),
                template_app
                 (template_hole 9,
                  template_app
                   (template_app (template_hole 8, template_var 2),
                    template_hole 7)))
              ),
          template_predicate
           (
              template_app
               (template_app
                 (template_hole 14,
                  template_app (template_hole 6, template_var 1)),
                template_app
                 (template_hole 9,
                  template_app
                   (template_app (template_hole 5, template_var 1),
                    template_hole 4)))
              ))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 3,
                 template_app (template_hole 2, template_var 0)),
               template_app (template_hole 1, template_var 2)),
             template_app (template_hole 0, template_var 1))
           ))),
    ("Misc_CryptHOL.rel_pmf_of_setI",
     "[| ?A ~= {}; finite ?A; ?B ~= {}; finite ?B;
         !!X. X <= ?A ==>
              card ?B * card X <= card ?A * card {y: ?B. EX x:X. ?R x y} |]
      ==> rel_pmf ?R (pmf_of_set ?A) (pmf_of_set ?B)",
     template_implication
      ([template_negation
         (template_equation (template_var 2, template_hole 17)),
        template_predicate
         (template_app (template_hole 16, template_var 2)),
        template_negation
         (template_equation (template_var 1, template_hole 14)),
        template_predicate
         (template_app (template_hole 13, template_var 1)),
        template_predicate (template_app (template_hole 12, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 2, template_var 0),
               template_app (template_hole 1, template_var 2)),
             template_app (template_hole 0, template_var 1))
           ))),
    ("Misc_CryptHOL.parallel_fixp_induct_strong",
     "[| class.ccpo ?luba ?orda (mk_less ?orda);
         class.ccpo ?lubb ?ordb (mk_less ?ordb);
         ccpo.admissible (prod_lub ?luba ?lubb) (rel_prod ?orda ?ordb)
          (%x. ?P (fst x) (snd x));
         monotone ?orda ?orda ?f; monotone ?ordb ?ordb ?g;
         ?P (?luba {}) (?lubb {});
         !!x y.
            [| ?orda x (ccpo.fixp ?luba ?orda ?f);
               ?ordb y (ccpo.fixp ?lubb ?ordb ?g); ?P x y |]
            ==> ?P (?f x) (?g y) |]
      ==> ?P (ccpo.fixp ?luba ?orda ?f) (ccpo.fixp ?lubb ?ordb ?g)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 16, template_var 6),
                template_var 5),
              template_app (template_hole 15, template_var 5))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 14, template_var 4),
                template_var 3),
              template_app (template_hole 13, template_var 3))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_hole 12,
                  template_app
                   (template_app (template_hole 11, template_var 6),
                    template_var 4)),
                template_app
                 (template_app (template_hole 10, template_var 5),
                  template_var 3)),
              t_empty)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 7, template_var 5),
                template_var 5),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 6, template_var 3),
                template_var 3),
              template_var 0)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_var 2,
                template_app (template_var 6, template_hole 5)),
              template_app (template_var 4, template_hole 4))
            ),
        template_predicate (template_app (template_hole 3, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_var 2,
               template_app
                (template_app
                  (template_app (template_hole 1, template_var 6),
                   template_var 5),
                 template_var 1)),
             template_app
              (template_app
                (template_app (template_hole 0, template_var 4),
                 template_var 3),
               template_var 0))
           )))]
