   [("GPV_Expectation.pgen_lossless_gpv_Done",
     "pgen_lossless_gpv ?fail ?\<I>
       (Generative_Probabilistic_Value.Done ?x)",
     template_predicate
      (
         template_app
          (template_app
            (template_app (template_hole 1, template_var 2),
             template_var 1),
           template_app (template_hole 0, template_var 0))
         )),
    ("GPV_Expectation.weight_gpv_Fail", "weight_gpv ?\<I> Fail = 0",
     template_equation
      (template_app
        (template_app (template_hole 2, template_var 0), template_hole 1),
       template_hole 0)),
    ("GPV_Expectation.weight_gpv_nonneg", "0 <= weight_gpv ?\<I> ?gpv",
     template_inequation
      (less_equals, template_hole 1,
       template_app
        (template_app (template_hole 0, template_var 1), template_var 0))),
    ("GPV_Expectation.weight_gpv_Done",
     "weight_gpv ?\<I> (Generative_Probabilistic_Value.Done ?x) = 1",
     template_equation
      (template_app
        (template_app (template_hole 2, template_var 1),
         template_app (template_hole 1, template_var 0)),
       template_hole 0)),
    ("GPV_Expectation.monotone_ennreal_add1",
     "monotone (<=) (<=) (%x. x + ?y)",
     template_predicate
      (
         template_app
          (template_app
            (template_app (template_hole 2, template_hole 1),
             template_hole 1),
           t_empty)
         )),
    ("GPV_Expectation.monotone_ennreal_add2", "monotone (<=) (<=) ((+) ?x)",
     template_predicate
      (
         template_app
          (template_app
            (template_app (template_hole 2, template_hole 1),
             template_hole 1),
           t_empty)
         )),
    ("GPV_Expectation.monotone_times_ennreal1",
     "monotone (<=) (<=) (%x. x * ?y)",
     template_predicate
      (
         template_app
          (template_app
            (template_app (template_hole 2, template_hole 1),
             template_hole 1),
           t_empty)
         )),
    ("GPV_Expectation.monotone_times_ennreal2",
     "monotone (<=) (<=) ((*) ?y)",
     template_predicate
      (
         template_app
          (template_app
            (template_app (template_hole 2, template_hole 1),
             template_hole 1),
           t_empty)
         )),
    ("GPV_Expectation.expectation_gpv_Fail",
     "expectation_gpv ?fail ?\<I> ?f Fail = ?fail",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_app (template_hole 1, template_var 2),
             template_var 1),
           template_var 0),
         template_hole 0),
       template_var 2)),
    ("GPV_Expectation.pgen_lossless_gpv_Fail",
     "pgen_lossless_gpv ?fail ?\<I> Fail = (?fail = 1)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 3, template_var 1),
                template_var 0),
              template_hole 2)
            )],
       template_equation (template_var 1, template_hole 0))),
    ("GPV_Expectation.mcont_times_ennreal2",
     "mcont Sup (<=) Sup (<=) (%y. y * ?x)",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_app
                (template_app (template_hole 3, template_hole 2),
                 template_hole 1),
               template_hole 2),
             template_hole 1),
           t_empty)
         )),
    ("GPV_Expectation.mcont_times_ennreal1",
     "mcont Sup (<=) Sup (<=) ((*) ?x)",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_app
                (template_app (template_hole 3, template_hole 2),
                 template_hole 1),
               template_hole 2),
             template_hole 1),
           t_empty)
         )),
    ("GPV_Expectation.expectation_gpv_Done",
     "expectation_gpv ?fail ?\<I> ?f
       (Generative_Probabilistic_Value.Done ?x) =
      ?f ?x",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_app (template_hole 1, template_var 3),
             template_var 2),
           template_var 1),
         template_app (template_hole 0, template_var 0)),
       template_app (template_var 1, template_var 0))),
    ("GPV_Expectation.monotone_nn_integral_spmf",
     "monotone (ord_spmf (=)) (<=)
       (%p. integral\<^sup>N (measure_spmf p) ?f)",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_hole 6,
               template_app
                (template_hole 5,
                 template_app (template_hole 4, template_hole 3))),
             template_hole 2),
           t_empty)
         )),
    ("GPV_Expectation.pmf_map_spmf_None",
     "pmf (map_spmf ?f ?p) None = pmf ?p None",
     template_equation
      (template_app
        (template_app
          (template_hole 5,
           template_app
            (template_app
              (template_hole 4,
               template_app (template_hole 3, template_var 1)),
             template_var 0)),
         template_hole 2),
       template_app
        (template_app (template_hole 1, template_var 0), template_hole 0))),
    ("GPV_Expectation.weight_gpv_le_1",
     "?\<I> \<turnstile>g ?gpv \<surd> ==> weight_gpv ?\<I> ?gpv <= 1",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 1),
              template_var 0)
            )],
       template_inequation
        (less_equals,
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0),
         template_hole 0))),
    ("GPV_Expectation.ennreal_leI",
     "?x <= enn2real ?y ==> ennreal ?x <= ?y",
     template_implication
      ([template_inequation
         (less_equals, template_var 1,
          template_app (template_hole 2, template_var 0))],
       template_inequation
        (less_equals, template_app (template_hole 0, template_var 1),
         template_var 0))),
    ("GPV_Expectation.nn_integral_spmf_parametric",
     "rel_fun (rel_spmf ?A) (rel_fun (rel_fun ?A (=)) (=)) nn_integral_spmf
       nn_integral_spmf",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_app
                (template_hole 7,
                 template_app
                  (template_hole 6,
                   template_app (template_hole 5, template_var 0))),
               template_app
                (template_app
                  (template_hole 4,
                   template_app
                    (template_app (template_hole 3, template_var 0),
                     template_hole 2)),
                 template_hole 2)),
             template_hole 1),
           template_hole 0)
         )),
    ("GPV_Expectation.weight_spmf'_parametric",
     "rel_fun (rel_spmf ?A) (=) ??.GPV_Expectation.weight_spmf'
       ??.GPV_Expectation.weight_spmf'",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_app
                (template_hole 5,
                 template_app
                  (template_hole 4,
                   template_app (template_hole 3, template_var 0))),
               template_hole 2),
             t_empty),
           t_empty)
         )),
    ("GPV_Expectation.weight_gpv_lift_spmf",
     "weight_gpv ?\<I> (lift_spmf ?p) = weight_spmf ?p",
     template_equation
      (template_app
        (template_app (template_hole 4, template_var 1),
         template_app (template_hole 3, template_var 0)),
       template_app
        (template_app
          (template_hole 2, template_app (template_hole 1, template_var 0)),
         template_app
          (template_hole 0,
           template_app (template_hole 1, template_var 0))))),
    ("GPV_Expectation.cont_nn_integral_spmf",
     "cont lub_spmf (ord_spmf (=)) Sup (<=)
       (%p. integral\<^sup>N (measure_spmf p) ?f)",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_app
                (template_app (template_hole 8, template_hole 7),
                 template_app
                  (template_hole 6,
                   template_app (template_hole 5, template_hole 4))),
               template_hole 3),
             template_hole 2),
           t_empty)
         )),
    ("GPV_Expectation.mcont_nn_integral_spmf",
     "mcont lub_spmf (ord_spmf (=)) Sup (<=)
       (%p. integral\<^sup>N (measure_spmf p) ?f)",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_app
                (template_app (template_hole 8, template_hole 7),
                 template_app
                  (template_hole 6,
                   template_app (template_hole 5, template_hole 4))),
               template_hole 3),
             template_hole 2),
           t_empty)
         )),
    ("GPV_Expectation.pgen_lossless_gpv_lift_spmf",
     "pgen_lossless_gpv ?fail ?\<I> (lift_spmf ?p) =
      (lossless_spmf ?p | ?fail = 1)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 5, template_var 2),
                template_var 1),
              template_app (template_hole 4, template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 3,
               template_app (template_hole 2, template_var 0)),
             template_app
              (template_app (template_hole 1, template_var 2),
               template_hole 0))
           ))),
    ("GPV_Expectation.pgen_lossless_gpv_map_gpv_id",
     "pgen_lossless_gpv ?fail ?\<I> (map_gpv ?f id ?gpv) =
      pgen_lossless_gpv ?fail ?\<I> ?gpv",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 3, template_var 3), template_var 2),
         template_app
          (template_app
            (template_app (template_hole 2, template_var 1),
             template_hole 1),
           template_var 0)),
       template_app
        (template_app
          (template_app (template_hole 0, template_var 3), template_var 2),
         template_var 0))),
    ("GPV_Expectation.pgen_lossless_left_gpv",
     "pgen_lossless_gpv ?fail (?\<I> \<oplus>\<^sub>\<I> ?\<I>')
       (left_gpv ?gpv) =
      pgen_lossless_gpv ?fail ?\<I> ?gpv",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 3, template_var 3),
           template_app
            (template_app (template_hole 2, template_var 2),
             template_var 1)),
         template_app (template_hole 1, template_var 0)),
       template_app
        (template_app
          (template_app (template_hole 0, template_var 3), template_var 2),
         template_var 0))),
    ("GPV_Expectation.pgen_lossless_right_gpv",
     "pgen_lossless_gpv ?fail (?\<I> \<oplus>\<^sub>\<I> ?\<I>')
       (right_gpv ?gpv) =
      pgen_lossless_gpv ?fail ?\<I>' ?gpv",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 3, template_var 3),
           template_app
            (template_app (template_hole 2, template_var 2),
             template_var 1)),
         template_app (template_hole 1, template_var 0)),
       template_app
        (template_app
          (template_app (template_hole 0, template_var 3), template_var 1),
         template_var 0))),
    ("GPV_Expectation.pgen_lossless_gpv_parametric",
     "rel_fun (=) (rel_fun (rel_\<I> ?C (=)) (rel_fun (rel_gpv ?A ?C) (=)))
       pgen_lossless_gpv pgen_lossless_gpv",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_app (template_hole 9, template_hole 8),
               template_app
                (template_app
                  (template_hole 7,
                   template_app
                    (template_app (template_hole 6, template_var 1),
                     template_hole 5)),
                 template_app
                  (template_app
                    (template_hole 4,
                     template_app
                      (template_app (template_hole 3, template_var 0),
                       template_var 1)),
                   template_hole 2))),
             template_hole 1),
           template_hole 0)
         )),
    ("GPV_Expectation.pgen_lossless_gpv_parametric'",
     "rel_fun (=)
       (rel_fun (rel_\<I> ?C ?R) (rel_fun (rel_gpv'' ?A ?C ?R) (=)))
       pgen_lossless_gpv pgen_lossless_gpv",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_app (template_hole 8, template_hole 7),
               template_app
                (template_app
                  (template_hole 6,
                   template_app
                    (template_app (template_hole 5, template_var 2),
                     template_var 1)),
                 template_app
                  (template_app
                    (template_hole 4,
                     template_app
                      (template_app
                        (template_app (template_hole 3, template_var 0),
                         template_var 2),
                       template_var 1)),
                   template_hole 2))),
             template_hole 1),
           template_hole 0)
         )),
    ("GPV_Expectation.expectation_left_gpv",
     "expectation_gpv ?fail (?\<I> \<oplus>\<^sub>\<I> ?\<I>') ?f
       (left_gpv ?gpv) =
      expectation_gpv ?fail ?\<I> ?f ?gpv",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_app (template_hole 3, template_var 4),
             template_app
              (template_app (template_hole 2, template_var 3),
               template_var 2)),
           template_var 1),
         template_app (template_hole 1, template_var 0)),
       template_app
        (template_app
          (template_app
            (template_app (template_hole 0, template_var 4),
             template_var 3),
           template_var 1),
         template_var 0))),
    ("GPV_Expectation.expectation_right_gpv",
     "expectation_gpv ?fail (?\<I> \<oplus>\<^sub>\<I> ?\<I>') ?f
       (right_gpv ?gpv) =
      expectation_gpv ?fail ?\<I>' ?f ?gpv",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_app (template_hole 3, template_var 4),
             template_app
              (template_app (template_hole 2, template_var 3),
               template_var 2)),
           template_var 1),
         template_app (template_hole 1, template_var 0)),
       template_app
        (template_app
          (template_app
            (template_app (template_hole 0, template_var 4),
             template_var 2),
           template_var 1),
         template_var 0))),
    ("GPV_Expectation.expectation_gpv_top_pfinite",
     "pfinite_gpv ?\<I> ?gpv ==>
      expectation_gpv \<top> ?\<I> (%_. \<top>) ?gpv = \<top>",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 4, template_hole 3),
                template_var 1),
              template_var 0)
            )],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app (template_hole 1, template_hole 0),
               template_var 1),
             t_empty),
           template_var 0),
         template_hole 0))),
    ("GPV_Expectation.pgen_lossless_gpvD",
     "pgen_lossless_gpv ?fail ?\<I> ?gpv ==>
      expectation_gpv ?fail ?\<I> (%_. 1) ?gpv = 1",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 3, template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app (template_hole 1, template_var 2),
               template_var 1),
             t_empty),
           template_var 0),
         template_hole 0))),
    ("GPV_Expectation.pgen_lossless_gpvI",
     "expectation_gpv ?fail ?\<I> (%_. 1) ?gpv = 1 ==>
      pgen_lossless_gpv ?fail ?\<I> ?gpv",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_app
               (template_app (template_hole 2, template_var 2),
                template_var 1),
              t_empty),
            template_var 0),
          template_hole 1)],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 0, template_var 2),
               template_var 1),
             template_var 0)
           ))),
    ("GPV_Expectation.finite_imp_pfinite_gpv",
     "[| finite_gpv ?\<I> ?gpv; ?\<I> \<turnstile>g ?gpv \<surd> |]
      ==> pfinite_gpv ?\<I> ?gpv",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 1),
              template_var 0)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 1, template_hole 0),
               template_var 1),
             template_var 0)
           ))),
    ("GPV_Expectation.plossless_gpv_lossless_spmfD",
     "[| plossless_gpv ?\<I> ?gpv; ?\<I> \<turnstile>g ?gpv \<surd> |]
      ==> lossless_spmf (the_gpv ?gpv)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 4, template_hole 3),
                template_var 1),
              template_var 0)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 0))
           ))),
    ("GPV_Expectation.expectation_gpv_const_le",
     "?\<I> \<turnstile>g ?gpv \<surd> ==>
      expectation_gpv ?fail ?\<I> (%_. ?c) ?gpv <= max ?c ?fail",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 3),
              template_var 2)
            )],
       template_inequation
        (less_equals,
         template_app
          (template_app
            (template_app
              (template_app (template_hole 1, template_var 1),
               template_var 3),
             t_empty),
           template_var 2),
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("GPV_Expectation.ennreal_mult_le_self2I",
     "(0 < ?y ==> ?x <= 1) ==> ?x * ?y <= ?y",
     template_implication
      ([template_implication
         ([template_inequation
            (less_than, template_hole 3, template_var 1)],
          template_inequation
           (less_equals, template_var 0, template_hole 1))],
       template_inequation
        (less_equals,
         template_app
          (template_app (template_hole 0, template_var 0), template_var 1),
         template_var 1))),
    ("GPV_Expectation.lossless_imp_plossless_gpv",
     "[| lossless_gpv ?\<I> ?gpv; ?\<I> \<turnstile>g ?gpv \<surd> |]
      ==> plossless_gpv ?\<I> ?gpv",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 4, template_hole 3),
                template_var 1),
              template_var 0)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 1, template_hole 0),
               template_var 1),
             template_var 0)
           ))),
    ("GPV_Expectation.plossless_gpv_map_gpv'",
     "pgen_lossless_gpv ?b ?\<I> (map_gpv' ?f ?g ?h ?gpv) =
      pgen_lossless_gpv ?b (map_\<I> ?g ?h ?\<I>) ?gpv",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 3, template_var 5), template_var 4),
         template_app
          (template_app
            (template_app
              (template_app (template_hole 2, template_var 3),
               template_var 2),
             template_var 1),
           template_var 0)),
       template_app
        (template_app
          (template_app (template_hole 1, template_var 5),
           template_app
            (template_app
              (template_app (template_hole 0, template_var 2),
               template_var 1),
             template_var 4)),
         template_var 0))),
    ("GPV_Expectation.enn2real_leD",
     "[| enn2real ?x < ?y; ?x ~= \<top> |] ==> ?x < ennreal ?y",
     template_implication
      ([template_inequation
         (less_than, template_app (template_hole 5, template_var 1),
          template_var 0),
        template_negation
         (template_equation (template_var 1, template_hole 2))],
       template_inequation
        (less_than, template_var 1,
         template_app (template_hole 0, template_var 0)))),
    ("GPV_Expectation.expectation_gpv_parametric",
     "rel_fun (=)
       (rel_fun (rel_\<I> ?C (=))
         (rel_fun (rel_fun ?A (=)) (rel_fun (rel_gpv ?A ?C) (=))))
       expectation_gpv expectation_gpv",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_app (template_hole 10, template_hole 9),
               template_app
                (template_app
                  (template_hole 8,
                   template_app
                    (template_app (template_hole 7, template_var 1),
                     template_hole 6)),
                 template_app
                  (template_app
                    (template_hole 5,
                     template_app
                      (template_app (template_hole 4, template_var 0),
                       template_hole 9)),
                   template_app
                    (template_app
                      (template_hole 3,
                       template_app
                        (template_app (template_hole 2, template_var 0),
                         template_var 1)),
                     template_hole 9)))),
             template_hole 1),
           template_hole 0)
         )),
    ("GPV_Expectation.expectation_gpv_try_gpv",
     "expectation_gpv ?fail ?\<I> ?f (TRY ?gpv ELSE ?gpv') =
      expectation_gpv (expectation_gpv ?fail ?\<I> ?f ?gpv') ?\<I> ?f ?gpv",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_app (template_hole 1, template_var 4),
             template_var 3),
           template_var 2),
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app
                  (template_app
                    (template_app (template_hole 1, template_var 4),
                     template_var 3),
                   template_var 2),
                 template_var 0)),
             template_var 3),
           template_var 2),
         template_var 1))),
    ("GPV_Expectation.expectation_gpv_cong_fail",
     "colossless_gpv ?\<I> ?gpv ==>
      expectation_gpv ?fail ?\<I> ?f ?gpv =
      expectation_gpv ?fail' ?\<I> ?f ?gpv",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 3, template_hole 2),
                template_var 4),
              template_var 3)
            )],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app (template_hole 0, template_var 2),
               template_var 4),
             template_var 1),
           template_var 3),
         template_app
          (template_app
            (template_app
              (template_app (template_hole 0, template_var 0),
               template_var 4),
             template_var 1),
           template_var 3)))),
    ("GPV_Expectation.expectation_gpv_parametric'",
     "rel_fun (=)
       (rel_fun (rel_\<I> ?C ?R)
         (rel_fun (rel_fun ?A (=)) (rel_fun (rel_gpv'' ?A ?C ?R) (=))))
       expectation_gpv expectation_gpv",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_app (template_hole 9, template_hole 8),
               template_app
                (template_app
                  (template_hole 7,
                   template_app
                    (template_app (template_hole 6, template_var 2),
                     template_var 1)),
                 template_app
                  (template_app
                    (template_hole 5,
                     template_app
                      (template_app (template_hole 4, template_var 0),
                       template_hole 8)),
                   template_app
                    (template_app
                      (template_hole 3,
                       template_app
                        (template_app
                          (template_app (template_hole 2, template_var 0),
                           template_var 2),
                         template_var 1)),
                     template_hole 8)))),
             template_hole 1),
           template_hole 0)
         )),
    ("GPV_Expectation.expectation_gpv_bind",
     "expectation_gpv ?fail ?\<I> ?f (?gpv >>= ?g) =
      expectation_gpv ?fail ?\<I> (expectation_gpv ?fail ?\<I> ?f o ?g)
       ?gpv",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_app (template_hole 3, template_var 4),
             template_var 3),
           template_var 2),
         template_app
          (template_app (template_hole 2, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_app
            (template_app (template_hole 1, template_var 4),
             template_var 3),
           template_app
            (template_app
              (template_hole 0,
               template_app
                (template_app
                  (template_app (template_hole 3, template_var 4),
                   template_var 3),
                 template_var 2)),
             template_var 0)),
         template_var 1))),
    ("GPV_Expectation.expectation_gpv_restrict_gpv",
     "?\<I> \<turnstile>g ?gpv \<surd> ==>
      expectation_gpv ?fail ?\<I> ?f (restrict_gpv ?\<I> ?gpv) =
      expectation_gpv ?fail ?\<I> ?f ?gpv",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 3),
              template_var 2)
            )],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app (template_hole 1, template_var 1),
               template_var 3),
             template_var 0),
           template_app
            (template_app (template_hole 0, template_var 3),
             template_var 2)),
         template_app
          (template_app
            (template_app
              (template_app (template_hole 1, template_var 1),
               template_var 3),
             template_var 0),
           template_var 2)))),
    ("GPV_Expectation.plossless_iff_colossless_pfinite",
     "?\<I> \<turnstile>g ?gpv \<surd> ==>
      plossless_gpv ?\<I> ?gpv =
      (colossless_gpv ?\<I> ?gpv & pfinite_gpv ?\<I> ?gpv)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 1),
              template_var 0)
            )],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 5, template_hole 4),
             template_var 1),
           template_var 0),
         template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app
                (template_app (template_hole 2, template_hole 1),
                 template_var 1),
               template_var 0)),
           template_app
            (template_app
              (template_app (template_hole 5, template_hole 0),
               template_var 1),
             template_var 0))))),
    ("GPV_Expectation.mono2mono_nn_integral_spmf",
     "monotone ?orda (ord_spmf (=)) ?t ==>
      monotone ?orda (<=) (%x. integral\<^sup>N (measure_spmf (?t x)) ?f1)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 7, template_var 2),
                template_app
                 (template_hole 6,
                  template_app (template_hole 5, template_hole 4))),
              t_empty)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 3, template_var 2),
               template_hole 2),
             t_empty)
           ))),
    ("GPV_Expectation.expectation_gpv_no_results",
     "[| results_gpv ?\<I> ?gpv = {}; ?\<I> \<turnstile>g ?gpv \<surd> |]
      ==> expectation_gpv 0 ?\<I> ?f ?gpv = 0",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 5, template_var 2), template_var 1),
          template_hole 4),
        template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 2),
              template_var 1)
            )],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app (template_hole 1, template_hole 0),
               template_var 2),
             template_var 0),
           template_var 1),
         template_hole 0))),
    ("GPV_Expectation.expectation_gpv_lift_spmf",
     "expectation_gpv ?fail ?\<I> ?f (lift_spmf ?p) =
      integral\<^sup>N (measure_spmf ?p) ?f +
      ?fail * ennreal (pmf ?p None)",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_app (template_hole 8, template_var 3),
             template_var 2),
           template_var 1),
         template_app (template_hole 7, template_var 0)),
       template_app
        (template_app
          (template_hole 6,
           template_app
            (template_app
              (template_hole 5,
               template_app (template_hole 4, template_var 0)),
             t_empty)),
         template_app
          (template_app (template_hole 3, template_var 3),
           template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_var 0),
               template_hole 0)))))),
    ("GPV_Expectation.expectation_gpv_Pause",
     "expectation_gpv ?fail ?\<I> ?f
       (Generative_Probabilistic_Value.Pause ?out ?c) =
      (\<Sqinter>r\<in>responses_\<I> ?\<I> ?out.
          expectation_gpv ?fail ?\<I> ?f (?c r))",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_app (template_hole 4, template_var 4),
             template_var 3),
           template_var 2),
         template_app
          (template_app (template_hole 3, template_var 1), template_var 0)),
       template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, t_empty),
           template_app
            (template_app (template_hole 0, template_var 3),
             template_var 1))))),
    ("GPV_Expectation.expectation_gpv_map_gpv'",
     "expectation_gpv ?fail ?\<I> ?f (map_gpv' ?g ?h ?k ?gpv) =
      expectation_gpv ?fail (map_\<I> ?h ?k ?\<I>) (?f o ?g) ?gpv",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_app (template_hole 4, template_var 6),
             template_var 5),
           template_var 4),
         template_app
          (template_app
            (template_app
              (template_app (template_hole 3, template_var 3),
               template_var 2),
             template_var 1),
           template_var 0)),
       template_app
        (template_app
          (template_app
            (template_app (template_hole 2, template_var 6),
             template_app
              (template_app
                (template_app (template_hole 1, template_var 2),
                 template_var 1),
               template_var 5)),
           template_app
            (template_app (template_hole 0, template_var 4),
             template_var 3)),
         template_var 0))),
    ("GPV_Expectation.le_enn2realI",
     "[| ennreal ?x <= ?y; ?y = \<top> ==> ?x <= 0 |]
      ==> ?x <= enn2real ?y",
     template_implication
      ([template_inequation
         (less_equals, template_app (template_hole 5, template_var 1),
          template_var 0),
        template_implication
         ([template_equation (template_var 0, template_hole 3)],
          template_inequation
           (less_equals, template_var 1, template_hole 1))],
       template_inequation
        (less_equals, template_var 1,
         template_app (template_hole 0, template_var 0)))),
    ("GPV_Expectation.pfinite_gpv_mono",
     "[| pfinite_gpv ?\<I> ?gpv; ?\<I> <= ?\<I>';
         ?\<I> \<turnstile>g ?gpv \<surd> |]
      ==> pfinite_gpv ?\<I>' ?gpv",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 3, template_hole 2),
                template_var 2),
              template_var 1)
            ),
        template_inequation (less_equals, template_var 2, template_var 0),
        template_predicate
         (
            template_app
             (template_app (template_hole 0, template_var 2),
              template_var 1)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 3, template_hole 2),
               template_var 0),
             template_var 1)
           ))),
    ("GPV_Expectation.plossless_gpv_mono",
     "[| plossless_gpv ?\<I> ?gpv; ?\<I> <= ?\<I>';
         ?\<I> \<turnstile>g ?gpv \<surd> |]
      ==> plossless_gpv ?\<I>' ?gpv",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 3, template_hole 2),
                template_var 2),
              template_var 1)
            ),
        template_inequation (less_equals, template_var 2, template_var 0),
        template_predicate
         (
            template_app
             (template_app (template_hole 0, template_var 2),
              template_var 1)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 3, template_hole 2),
               template_var 0),
             template_var 1)
           ))),
    ("GPV_Expectation.nn_integral_try_spmf",
     "integral\<^sup>N (measure_spmf (TRY ?p ELSE ?q)) ?f =
      integral\<^sup>N (measure_spmf ?p) ?f +
      integral\<^sup>N (measure_spmf ?q) ?f * ennreal (pmf ?p None)",
     template_equation
      (template_app
        (template_app
          (template_hole 7,
           template_app
            (template_hole 6,
             template_app
              (template_app (template_hole 5, template_var 2),
               template_var 1))),
         template_var 0),
       template_app
        (template_app
          (template_hole 4,
           template_app
            (template_app
              (template_hole 7,
               template_app (template_hole 6, template_var 2)),
             template_var 0)),
         template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app
                (template_hole 7,
                 template_app (template_hole 6, template_var 1)),
               template_var 0)),
           template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_var 2),
               template_hole 0)))))),
    ("GPV_Expectation.nn_integral_mono_lfp",
     "(!!x. lfp.mono_body (%f. ?F f x)) ==>
      lfp.mono_body (%f. integral\<^sup>N ?M (?F f))",
     template_implication
      ([template_predicate (template_app (template_hole 5, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 3,
                 template_app (template_hole 2, template_hole 1)),
               template_hole 1),
             t_empty)
           ))),
    ("GPV_Expectation.expectation_gpv_mono",
     "[| ?fail <= ?fail'; ?f <= ?g |]
      ==> expectation_gpv ?fail ?\<I> ?f ?gpv
          <= expectation_gpv ?fail' ?\<I> ?g ?gpv",
     template_implication
      ([template_inequation (less_equals, template_var 5, template_var 4),
        template_inequation (less_equals, template_var 3, template_var 2)],
       template_inequation
        (less_equals,
         template_app
          (template_app
            (template_app
              (template_app (template_hole 0, template_var 5),
               template_var 1),
             template_var 3),
           template_var 0),
         template_app
          (template_app
            (template_app
              (template_app (template_hole 0, template_var 4),
               template_var 1),
             template_var 2),
           template_var 0)))),
    ("GPV_Expectation.expectation_gpv_\<I>_mono",
     "[| ?\<I> <= ?\<I>'; ?\<I> \<turnstile>g ?gpv \<surd> |]
      ==> expectation_gpv ?fail ?\<I> ?f ?gpv
          <= expectation_gpv ?fail ?\<I>' ?f ?gpv",
     template_implication
      ([template_inequation (less_equals, template_var 4, template_var 3),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 4),
              template_var 2)
            )],
       template_inequation
        (less_equals,
         template_app
          (template_app
            (template_app
              (template_app (template_hole 0, template_var 1),
               template_var 4),
             template_var 0),
           template_var 2),
         template_app
          (template_app
            (template_app
              (template_app (template_hole 0, template_var 1),
               template_var 3),
             template_var 0),
           template_var 2)))),
    ("GPV_Expectation.pfinite_INF_le_expectation_gpv",
     "pfinite_gpv ?\<I> ?gpv ==>
      min (\<Sqinter> (?f ` results_gpv ?\<I> ?gpv)) ?fail
      <= expectation_gpv ?fail ?\<I> ?f ?gpv",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 7, template_hole 6),
                template_var 3),
              template_var 2)
            )],
       template_inequation
        (less_equals,
         template_app
          (template_app
            (template_hole 4,
             template_app
              (template_hole 3,
               template_app
                (template_app (template_hole 2, t_empty),
                 template_app
                  (template_app (template_hole 1, template_var 3),
                   template_var 2)))),
           template_var 0),
         template_app
          (template_app
            (template_app
              (template_app (template_hole 0, template_var 0),
               template_var 3),
             template_var 1),
           template_var 2)))),
    ("GPV_Expectation.INF_UNION",
     "\<Sqinter> (?f ` \<Union> (?B ` ?A)) =
      (\<Sqinter>x\<in>?A. \<Sqinter> (?f ` ?B x))",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app (template_hole 3, t_empty),
           template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, t_empty), template_var 0)))),
       template_app
        (template_hole 4,
         template_app
          (template_app (template_hole 0, t_empty), template_var 0)))),
    ("GPV_Expectation.mcont2mcont_nn_integral_spmf",
     "mcont ?lub ?ord lub_spmf (ord_spmf (=)) ?t ==>
      mcont ?lub ?ord Sup (<=)
       (%x. integral\<^sup>N (measure_spmf (?t x)) ?f1)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 9, template_var 3),
                    template_var 2),
                  template_hole 8),
                template_app
                 (template_hole 7,
                  template_app (template_hole 6, template_hole 5))),
              t_empty)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 4, template_var 3),
                   template_var 2),
                 template_hole 3),
               template_hole 2),
             t_empty)
           ))),
    ("GPV_Expectation.ereal_INF_cmult",
     "0 < ?c ==>
      (\<Sqinter>i\<in>?I. ereal ?c * ?f i) =
      ereal ?c * \<Sqinter> (?f ` ?I)",
     template_implication
      ([template_inequation (less_than, template_hole 5, template_var 2)],
       template_equation
        (template_app
          (template_hole 3,
           template_app
            (template_app (template_hole 2, t_empty), template_var 0)),
         template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 2)),
           template_app
            (template_hole 3,
             template_app
              (template_app (template_hole 2, t_empty),
               template_var 0)))))),
    ("GPV_Expectation.ereal_INF_multc",
     "0 < ?c ==>
      (\<Sqinter>i\<in>?I. ?f i * ereal ?c) =
      \<Sqinter> (?f ` ?I) * ereal ?c",
     template_implication
      ([template_inequation (less_than, template_hole 5, template_var 2)],
       template_equation
        (template_app
          (template_hole 3,
           template_app
            (template_app (template_hole 2, t_empty), template_var 0)),
         template_app
          (template_app
            (template_hole 1,
             template_app
              (template_hole 3,
               template_app
                (template_app (template_hole 2, t_empty), template_var 0))),
           template_app (template_hole 0, template_var 2))))),
    ("GPV_Expectation.INF_mono_lfp",
     "(!!x. lfp.mono_body (%f. ?F f x)) ==>
      lfp.mono_body (%f. \<Sqinter> (?F f ` ?M))",
     template_implication
      ([template_predicate (template_app (template_hole 6, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 4,
                 template_app (template_hole 3, template_hole 2)),
               template_hole 2),
             t_empty)
           ))),
    ("GPV_Expectation.ennreal_add_partial_function_mono",
     "[| monotone (fun_ord (<=)) (<=) ?f; monotone (fun_ord (<=)) (<=) ?g |]
      ==> monotone (fun_ord (<=)) (<=) (%x. ?f x + ?g x)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_hole 4,
                  template_app (template_hole 3, template_hole 2)),
                template_hole 1),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_hole 4,
                  template_app (template_hole 3, template_hole 2)),
                template_hole 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 4,
                 template_app (template_hole 3, template_hole 2)),
               template_hole 1),
             t_empty)
           ))),
    ("GPV_Expectation.nn_integral_mono2mono",
     "(!!x. x : space ?M ==> monotone ?ord (<=) (%f. ?F f x)) ==>
      monotone ?ord (<=) (%f. integral\<^sup>N ?M (?F f))",
     template_implication
      ([template_predicate (template_app (template_hole 6, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 2, template_var 1),
               template_hole 1),
             t_empty)
           ))),
    ("GPV_Expectation.plossless_INF_le_expectation_gpv",
     "[| plossless_gpv ?\<I> ?gpv; ?\<I> \<turnstile>g ?gpv \<surd> |]
      ==> \<Sqinter> (?f ` results_gpv ?\<I> ?gpv)
          <= expectation_gpv ?fail ?\<I> ?f ?gpv",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 7, template_hole 6),
                template_var 3),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 3),
              template_var 2)
            )],
       template_inequation
        (less_equals,
         template_app
          (template_hole 3,
           template_app
            (template_app (template_hole 2, t_empty),
             template_app
              (template_app (template_hole 1, template_var 3),
               template_var 2))),
         template_app
          (template_app
            (template_app
              (template_app (template_hole 0, template_var 0),
               template_var 3),
             template_var 1),
           template_var 2)))),
    ("GPV_Expectation.mono2mono_ennreal_add",
     "[| monotone ?orda (<=) ?t; monotone ?orda (<=) ?t' |]
      ==> monotone ?orda (<=) (%x. ?t x + ?t' x)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 2),
                template_hole 1),
              t_empty)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 2),
                template_hole 1),
              t_empty)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 2, template_var 2),
               template_hole 1),
             t_empty)
           ))),
    ("GPV_Expectation.mono2mono_times_ennreal",
     "[| monotone ?orda (<=) ?t; monotone ?orda (<=) ?t' |]
      ==> monotone ?orda (<=) (%x. ?t x * ?t' x)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 2),
                template_hole 1),
              t_empty)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 2),
                template_hole 1),
              t_empty)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 2, template_var 2),
               template_hole 1),
             t_empty)
           ))),
    ("GPV_Expectation.pgen_lossless_gpv_mono",
     "[| pgen_lossless_gpv ?fail ?\<I> ?gpv; ?\<I> <= ?\<I>';
         ?\<I> \<turnstile>g ?gpv \<surd>; ?fail <= 1 |]
      ==> pgen_lossless_gpv ?fail ?\<I>' ?gpv",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 4, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_inequation (less_equals, template_var 2, template_var 0),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 2),
              template_var 1)
            ),
        template_inequation (less_equals, template_var 3, template_hole 0)],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 4, template_var 3),
               template_var 0),
             template_var 1)
           ))),
    ("GPV_Expectation.plossless_gpv_mk_lossless_gpv",
     "[| plossless_gpv ?\<I> ?gpv; ?\<I> \<turnstile>g ?gpv \<surd>;
         outs_\<I> ?\<I> = outs_\<I> ?\<I>' |]
      ==> plossless_gpv ?\<I>'
           (mk_lossless_gpv (responses_\<I> ?\<I>) ?x ?gpv)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 6, template_hole 5),
                template_var 3),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 3),
              template_var 2)
            ),
        template_equation
         (template_app (template_hole 2, template_var 3),
          template_app (template_hole 2, template_var 1))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 6, template_hole 5),
               template_var 1),
             template_app
              (template_app
                (template_app
                  (template_hole 1,
                   template_app (template_hole 0, template_var 3)),
                 template_var 0),
               template_var 2))
           ))),
    ("GPV_Expectation.weight_spmf_mcont2mcont",
     "mcont ?lub ?ord lub_spmf (ord_spmf (=)) ?t ==>
      mcont ?lub ?ord Sup (<=) (%x. ennreal (weight_spmf (?t x)))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 11, template_var 2),
                    template_var 1),
                  template_hole 10),
                template_app
                 (template_hole 9,
                  template_app (template_hole 8, template_hole 7))),
              t_empty)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 6, template_var 2),
                   template_var 1),
                 template_hole 5),
               template_hole 4),
             t_empty)
           ))),
    ("GPV_Expectation.pgen_lossless_gpv_bindI",
     "[| pgen_lossless_gpv ?fail ?\<I> ?gpv;
         !!x. x : results_gpv ?\<I> ?gpv ==>
              pgen_lossless_gpv ?fail ?\<I> (?f x) |]
      ==> pgen_lossless_gpv ?fail ?\<I> (?gpv >>= ?f)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 5, template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate (template_app (template_hole 4, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 1, template_var 3),
               template_var 2),
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0))
           ))),
    ("GPV_Expectation.pgen_lossless_gpv_PauseI",
     "[| ?out : outs_\<I> ?\<I>;
         !!r. r : responses_\<I> ?\<I> ?out ==>
              pgen_lossless_gpv ?fail ?\<I> (?c r) |]
      ==> pgen_lossless_gpv ?fail ?\<I>
           (Generative_Probabilistic_Value.Pause ?out ?c)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 3),
              template_app (template_hole 5, template_var 2))
            ),
        template_predicate (template_app (template_hole 4, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 1, template_var 1),
               template_var 2),
             template_app
              (template_app (template_hole 0, template_var 3),
               template_var 0))
           ))),
    ("GPV_Expectation.expectation_gpv_mk_lossless_gpv",
     "[| ?\<I>' \<turnstile>g ?gpv \<surd>;
         outs_\<I> ?\<I> = outs_\<I> ?\<I>' |]
      ==> expectation_gpv 0 ?\<I>' (%_. ?y) ?gpv
          <= expectation_gpv 0 ?\<I> (%_. ?y)
              (mk_lossless_gpv (responses_\<I> ?\<I>') ?x ?gpv)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 4),
              template_var 3)
            ),
        template_equation
         (template_app (template_hole 5, template_var 2),
          template_app (template_hole 5, template_var 4))],
       template_inequation
        (less_equals,
         template_app
          (template_app
            (template_app
              (template_app (template_hole 3, template_hole 2),
               template_var 4),
             t_empty),
           template_var 3),
         template_app
          (template_app
            (template_app
              (template_app (template_hole 3, template_hole 2),
               template_var 2),
             t_empty),
           template_app
            (template_app
              (template_app
                (template_hole 1,
                 template_app (template_hole 0, template_var 4)),
               template_var 0),
             template_var 3))))),
    ("GPV_Expectation.expectation_gpv_cmult",
     "[| 0 < ?c; ?c ~= \<top> |]
      ==> ?c * expectation_gpv ?fail ?\<I> ?f ?gpv =
          expectation_gpv (?c * ?fail) ?\<I> (%x. ?c * ?f x) ?gpv",
     template_implication
      ([template_inequation (less_than, template_hole 5, template_var 4),
        template_negation
         (template_equation (template_var 4, template_hole 2))],
       template_equation
        (template_app
          (template_app (template_hole 1, template_var 4),
           template_app
            (template_app
              (template_app
                (template_app (template_hole 0, template_var 3),
                 template_var 2),
               template_var 1),
             template_var 0)),
         template_app
          (template_app
            (template_app
              (template_app
                (template_hole 0,
                 template_app
                  (template_app (template_hole 1, template_var 4),
                   template_var 3)),
               template_var 2),
             t_empty),
           template_var 0)))),
    ("GPV_Expectation.enn2real_INF",
     "[| ?A ~= {}; ALL x:?A. ?f x < \<top> |]
      ==> enn2real (\<Sqinter> (?f ` ?A)) =
          (\<Sqinter>x\<in>?A. enn2real (?f x))",
     template_implication
      ([template_negation
         (template_equation (template_var 1, template_hole 9)),
        template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 1), t_empty)
            )],
       template_equation
        (template_app
          (template_hole 4,
           template_app
            (template_hole 3,
             template_app
              (template_app (template_hole 2, t_empty), template_var 1))),
         template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, t_empty), template_var 1))))),
    ("GPV_Expectation.mcont2mcont_times_ennreal",
     "[| mcont ?lub ?ord Sup (<=) ?f; mcont ?lub ?ord Sup (<=) ?g |]
      ==> mcont ?lub ?ord Sup (<=) (%x. ?f x * ?g x)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 3, template_var 3),
                    template_var 2),
                  template_hole 2),
                template_hole 1),
              t_empty)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 3, template_var 3),
                    template_var 2),
                  template_hole 2),
                template_hole 1),
              t_empty)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 3, template_var 3),
                   template_var 2),
                 template_hole 2),
               template_hole 1),
             t_empty)
           ))),
    ("GPV_Expectation.pfinite_gpv_ContD",
     "[| pfinite_gpv ?\<I> ?gpv; IO ?out ?c : set_spmf (the_gpv ?gpv);
         ?input : responses_\<I> ?\<I> ?out;
         ?\<I> \<turnstile>g ?gpv \<surd> |]
      ==> pfinite_gpv ?\<I> (?c ?input)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 8, template_hole 7),
                template_var 4),
              template_var 3)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 6,
                template_app
                 (template_app (template_hole 5, template_var 2),
                  template_var 1)),
              template_app
               (template_hole 4,
                template_app (template_hole 3, template_var 3)))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 0),
              template_app
               (template_app (template_hole 1, template_var 4),
                template_var 2))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 0, template_var 4),
              template_var 3)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 8, template_hole 7),
               template_var 4),
             template_app (template_var 1, template_var 0))
           ))),
    ("GPV_Expectation.plossless_gpv_ContD",
     "[| plossless_gpv ?\<I> ?gpv; IO ?out ?c : set_spmf (the_gpv ?gpv);
         ?input : responses_\<I> ?\<I> ?out;
         ?\<I> \<turnstile>g ?gpv \<surd> |]
      ==> plossless_gpv ?\<I> (?c ?input)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 8, template_hole 7),
                template_var 4),
              template_var 3)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 6,
                template_app
                 (template_app (template_hole 5, template_var 2),
                  template_var 1)),
              template_app
               (template_hole 4,
                template_app (template_hole 3, template_var 3)))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 0),
              template_app
               (template_app (template_hole 1, template_var 4),
                template_var 2))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 0, template_var 4),
              template_var 3)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 8, template_hole 7),
               template_var 4),
             template_app (template_var 1, template_var 0))
           ))),
    ("GPV_Expectation.weight_gpv_Pause",
     "(!!r. r : responses_\<I> ?\<I> ?out ==>
            ?\<I> \<turnstile>g ?c r \<surd>) ==>
      weight_gpv ?\<I> (Generative_Probabilistic_Value.Pause ?out ?c) =
      (if ?out : outs_\<I> ?\<I>
       then \<Sqinter>r\<in>responses_\<I> ?\<I> ?out.
               weight_gpv ?\<I> (?c r)
       else 0)",
     template_implication
      ([template_predicate (template_app (template_hole 13, t_empty))],
       template_equation
        (template_app
          (template_app (template_hole 7, template_var 2),
           template_app
            (template_app (template_hole 6, template_var 1),
             template_var 0)),
         template_app
          (template_app
            (template_app
              (template_hole 5,
               template_app
                (template_app (template_hole 4, template_var 1),
                 template_app (template_hole 3, template_var 2))),
             template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, t_empty),
                 template_app
                  (template_app (template_hole 10, template_var 2),
                   template_var 1)))),
           template_hole 0)))),
    ("GPV_Expectation.expectation_gpv_mono_strong",
     "[| ~ colossless_gpv ?\<I> ?gpv ==> ?fail <= ?fail';
         !!x. x : results_gpv ?\<I> ?gpv ==> ?f x <= ?g x |]
      ==> expectation_gpv ?fail ?\<I> ?f ?gpv
          <= expectation_gpv ?fail' ?\<I> ?g ?gpv",
     template_implication
      ([template_implication
         ([template_negation
            (
               template_predicate
                (
                   template_app
                    (template_app
                      (template_app (template_hole 6, template_hole 5),
                       template_var 5),
                     template_var 4)
                   )
               )],
          template_inequation
           (less_equals, template_var 3, template_var 2)),
        template_predicate (template_app (template_hole 3, t_empty))],
       template_inequation
        (less_equals,
         template_app
          (template_app
            (template_app
              (template_app (template_hole 0, template_var 3),
               template_var 5),
             template_var 1),
           template_var 4),
         template_app
          (template_app
            (template_app
              (template_app (template_hole 0, template_var 2),
               template_var 5),
             template_var 0),
           template_var 4)))),
    ("GPV_Expectation.expectation_gpv_cong",
     "[| ?fail = ?fail'; ?\<I> = ?\<I>'; ?gpv = ?gpv';
         !!x. x : results_gpv ?\<I>' ?gpv' ==> ?f x = ?g x |]
      ==> expectation_gpv ?fail ?\<I> ?f ?gpv =
          expectation_gpv ?fail' ?\<I>' ?g ?gpv'",
     template_implication
      ([template_equation (template_var 7, template_var 6),
        template_equation (template_var 5, template_var 4),
        template_equation (template_var 3, template_var 2),
        template_predicate (template_app (template_hole 3, t_empty))],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app (template_hole 0, template_var 7),
               template_var 5),
             template_var 1),
           template_var 3),
         template_app
          (template_app
            (template_app
              (template_app (template_hole 0, template_var 6),
               template_var 4),
             template_var 0),
           template_var 2)))),
    ("GPV_Expectation.weight_exec_gpv",
     "[| !!s x. x : outs_\<I> ?\<I> ==> lossless_spmf (?callee s x);
         ?\<I> \<turnstile>g ?gpv \<surd>;
         !!s. ?\<I> \<turnstile>c ?callee s \<surd> |]
      ==> weight_gpv ?\<I> ?gpv <= weight_spmf (exec_gpv ?callee ?gpv ?s)",
     template_implication
      ([template_predicate (template_app (template_hole 13, t_empty)),
        template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 3),
              template_var 1)
            ),
        template_predicate (template_app (template_hole 13, t_empty))],
       template_inequation
        (less_equals,
         template_app
          (template_app (template_hole 4, template_var 3), template_var 1),
         template_app
          (template_app
            (template_hole 3,
             template_app
              (template_hole 2,
               template_app
                (template_app
                  (template_app (template_hole 1, template_var 2),
                   template_var 1),
                 template_var 0))),
           template_app
            (template_hole 0,
             template_app
              (template_hole 2,
               template_app
                (template_app
                  (template_app (template_hole 1, template_var 2),
                   template_var 1),
                 template_var 0))))))),
    ("GPV_Expectation.expectation_gpv_le_exec_gpv",
     "[| !!s x. x : outs_\<I> ?\<I> ==> lossless_spmf (?callee s x);
         ?\<I> \<turnstile>g ?gpv \<surd>;
         !!s. ?\<I> \<turnstile>c ?callee s \<surd> |]
      ==> expectation_gpv 0 ?\<I> ?f ?gpv
          <= \<integral>\<^sup>+ (x, s). ?f x
                                \<partial>measure_spmf
     (exec_gpv ?callee ?gpv ?s)",
     template_implication
      ([template_predicate (template_app (template_hole 14, t_empty)),
        template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 4),
              template_var 2)
            ),
        template_predicate (template_app (template_hole 14, t_empty))],
       template_inequation
        (less_equals,
         template_app
          (template_app
            (template_app
              (template_app (template_hole 5, template_hole 4),
               template_var 4),
             template_var 1),
           template_var 2),
         template_app
          (template_app
            (template_hole 3,
             template_app
              (template_hole 2,
               template_app
                (template_app
                  (template_app (template_hole 1, template_var 3),
                   template_var 2),
                 template_var 0))),
           template_app (template_hole 0, t_empty))))),
    ("GPV_Expectation.plossless_exec_gpv",
     "[| plossless_gpv ?\<I> ?gpv; ?\<I> \<turnstile>g ?gpv \<surd>;
         !!s x. x : outs_\<I> ?\<I> ==> lossless_spmf (?callee s x);
         !!s x.
            x : outs_\<I> ?\<I> ==>
            set_spmf (?callee s x)
            <= responses_\<I> ?\<I> x \<times> UNIV |]
      ==> lossless_spmf (exec_gpv ?callee ?gpv ?s)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 14, template_hole 13),
                template_var 3),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 12, template_var 3),
              template_var 2)
            ),
        template_predicate (template_app (template_hole 11, t_empty)),
        template_predicate (template_app (template_hole 11, t_empty))],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app
              (template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 2),
               template_var 0))
           ))),
    ("GPV_Expectation.INF_mult_left_ennreal",
     "[| ?I = {} ==> ?c ~= 0;
         [| ?c = \<top>; EX i:?I. 0 < ?f i |]
         ==> EX p>0. ALL i:?I. p <= ?f i |]
      ==> ?c * \<Sqinter> (?f ` ?I) = (\<Sqinter>i\<in>?I. ?c * ?f i)",
     template_implication
      ([template_implication
         ([template_equation (template_var 2, template_hole 13)],
          template_negation
           (template_equation (template_var 1, template_hole 10))),
        template_implication
         ([template_equation (template_var 1, template_hole 9)],
          template_implication
           ([template_predicate
              (
                 template_app
                  (template_app (template_hole 8, template_var 2), t_empty)
                 )],
            template_predicate (template_app (template_hole 6, t_empty))))],
       template_equation
        (template_app
          (template_app (template_hole 2, template_var 1),
           template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, t_empty), template_var 2))),
         template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, t_empty), template_var 2))))),
    ("GPV_Expectation.expectation_gpv_fixp_induct",
     "[| lfp.admissible ?P; ?P (%_. 0);
         !!expectation_gpv'.
            [| !!gpv.
                  expectation_gpv' gpv
                  <= expectation_gpv ?fail ?\<I> ?f gpv;
               ?P expectation_gpv' |]
            ==> ?P (%gpv. \<integral>\<^sup>+ generat.
         (case generat of Pure x => ?f x
          | IO out c =>
              \<Sqinter>r\<in>responses_\<I> ?\<I> out.
                 expectation_gpv' (c r))
       \<partial>measure_spmf (the_gpv gpv) +
                          ?fail * ennreal (pmf (the_gpv gpv) None)) |]
      ==> ?P (expectation_gpv ?fail ?\<I> ?f)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_hole 20,
                  template_app (template_hole 19, template_hole 18)),
                template_app (template_hole 17, template_hole 16)),
              template_var 3)
            ),
        template_predicate (template_app (template_var 3, t_empty)),
        template_predicate (template_app (template_hole 14, t_empty))],
       template_predicate
        (
           template_app
            (template_var 3,
             template_app
              (template_app
                (template_app (template_hole 12, template_var 2),
                 template_var 1),
               template_var 0))
           ))),
    ("GPV_Expectation.plossless_inline",
     "[| plossless_gpv ?\<I> ?gpv; ?\<I> \<turnstile>g ?gpv \<surd>;
         !!s x. x : outs_\<I> ?\<I> ==> plossless_gpv ?\<I>' (?callee s x);
         !!s x.
            x : outs_\<I> ?\<I> ==>
            results_gpv ?\<I>' (?callee s x)
            <= responses_\<I> ?\<I> x \<times> UNIV;
         !!s x.
            x : outs_\<I> ?\<I> ==>
            ?\<I>' \<turnstile>g ?callee s x \<surd> |]
      ==> plossless_gpv ?\<I>' (inline ?callee ?gpv ?s)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 15, template_hole 14),
                template_var 4),
              template_var 3)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 13, template_var 4),
              template_var 3)
            ),
        template_predicate (template_app (template_hole 12, t_empty)),
        template_predicate (template_app (template_hole 12, t_empty)),
        template_predicate (template_app (template_hole 12, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 1, template_hole 14),
               template_var 2),
             template_app
              (template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 3),
               template_var 0))
           ))),
    ("GPV_Expectation.expectation_gpv_le_inline",
     "[| !!s x. x : outs_\<I> ?\<I> ==> plossless_gpv ?\<I>' (?callee s x);
         !!s x.
            x : outs_\<I> ?\<I> ==>
            results_gpv ?\<I>' (?callee s x)
            <= responses_\<I> ?\<I> x \<times> UNIV;
         ?\<I> \<turnstile>g ?gpv \<surd>;
         !!s x.
            x : outs_\<I> ?\<I> ==>
            ?\<I>' \<turnstile>g ?callee s x \<surd> |]
      ==> expectation_gpv 0 ?\<I> ?f ?gpv
          <= expectation_gpv 0 ?\<I>' (%(x, s). ?f x)
              (inline ?callee ?gpv ?s)",
     template_implication
      ([template_predicate (template_app (template_hole 18, t_empty)),
        template_predicate (template_app (template_hole 18, t_empty)),
        template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 5),
              template_var 2)
            ),
        template_predicate (template_app (template_hole 18, t_empty))],
       template_inequation
        (less_equals,
         template_app
          (template_app
            (template_app
              (template_app (template_hole 3, template_hole 12),
               template_var 5),
             template_var 1),
           template_var 2),
         template_app
          (template_app
            (template_app
              (template_app (template_hole 2, template_hole 12),
               template_var 4),
             template_app (template_hole 1, t_empty)),
           template_app
            (template_app
              (template_app (template_hole 0, template_var 3),
               template_var 2),
             template_var 0)))))]
