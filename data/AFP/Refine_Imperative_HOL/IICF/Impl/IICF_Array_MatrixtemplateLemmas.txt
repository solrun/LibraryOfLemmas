   [("IICF_Array_Matrix.is_amtx_precise",
     "precise (IICF_Array_Matrix.is_amtx ?N ?M)",
     template_predicate
      (
         template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 0))
         )),
    ("IICF_Array_Matrix.IS_ID_imp_PRES_ZERO_UNIQUE",
     "IS_ID ?A ==> PRES_ZERO_UNIQUE ?A",
     template_implication
      ([template_predicate
         (template_app (template_hole 1, template_var 0))],
       template_predicate
        (template_app (template_hole 0, template_var 0)))),
    ("IICF_Array_Matrix.amtx_fold_lin_get",
     "?m (?i div ?M, ?i mod ?M) = op_amtx_lin_get ?M ?m ?i",
     template_equation
      (template_app
        (template_var 2,
         template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app (template_hole 2, template_var 1),
               template_var 0)),
           template_app
            (template_app (template_hole 1, template_var 1),
             template_var 0))),
       template_app
        (template_app
          (template_app (template_hole 0, template_var 0), template_var 2),
         template_var 1))),
    ("IICF_Array_Matrix.mtx_dflt_rl",
     "<emp> amtx_dflt ?N ?M ?k
      <IICF_Array_Matrix.is_amtx ?N ?M (op_amtx_dfltNxM ?N ?M ?k)>",
     template_predicate
      (
         template_app
          (template_app
            (template_app (template_hole 4, template_hole 3),
             template_app
              (template_app
                (template_app (template_hole 2, template_var 2),
                 template_var 1),
               template_var 0)),
           template_app
            (template_app
              (template_app (template_hole 1, template_var 2),
               template_var 1),
             template_app
              (template_app
                (template_app (template_hole 0, template_var 2),
                 template_var 1),
               template_var 0)))
         )),
    ("IICF_Array_Matrix.amtx_fold_lin_set",
     "?m((?i div ?M, ?i mod ?M) := ?x) = op_amtx_lin_set ?M ?m ?i ?x",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 4, template_var 3),
           template_app
            (template_app
              (template_hole 3,
               template_app
                (template_app (template_hole 2, template_var 2),
                 template_var 1)),
             template_app
              (template_app (template_hole 1, template_var 2),
               template_var 1))),
         template_var 0),
       template_app
        (template_app
          (template_app
            (template_app (template_hole 0, template_var 1),
             template_var 3),
           template_var 2),
         template_var 0))),
    ("IICF_Array_Matrix.mtx_copy_aref",
     "(amtx_copy, RETURN o op_mtx_copy)
      : (IICF_Array_Matrix.is_amtx ?N
          ?M)\<^sup>k \<rightarrow>\<^sub>a IICF_Array_Matrix.is_amtx ?N
       ?M",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 9,
             template_app
              (template_app (template_hole 8, template_hole 7),
               template_app
                (template_app (template_hole 6, template_hole 5),
                 template_hole 4))),
           template_app
            (template_app
              (template_app (template_hole 3, t_empty),
               template_app
                (template_app
                  (template_hole 1,
                   template_app
                    (template_app (template_hole 0, template_var 1),
                     template_var 0)),
                 template_hole 2)),
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0)))
         )),
    ("IICF_Array_Matrix.amtx_copy_hnr_mop",
     "(amtx_copy, mop_mtx_copy)
      : (amtx_assn ?N ?M
          ?A)\<^sup>k \<rightarrow>\<^sub>a amtx_assn ?N ?M ?A",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 7,
             template_app
              (template_app (template_hole 6, template_hole 5),
               template_hole 4)),
           template_app
            (template_app
              (template_app (template_hole 3, t_empty),
               template_app
                (template_app
                  (template_hole 1,
                   template_app
                    (template_app
                      (template_app (template_hole 0, template_var 2),
                       template_var 1),
                     template_var 0)),
                 template_hole 2)),
             template_app
              (template_app
                (template_app (template_hole 0, template_var 2),
                 template_var 1),
               template_var 0)))
         )),
    ("IICF_Array_Matrix.diagonal_nonzero_ltN",
     "(?a, ?b) : mtx_nonzero (IICF_Array_Matrix.diagonalN ?N ?k) ==>
      ?a < ?N & ?b < ?N",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 5,
                template_app
                 (template_app (template_hole 4, template_var 3),
                  template_var 2)),
              template_app
               (template_hole 3,
                template_app
                 (template_app (template_hole 2, template_var 1),
                  template_var 0)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 3),
                 template_var 1)),
             template_app
              (template_app (template_hole 0, template_var 2),
               template_var 1))
           ))),
    ("IICF_Array_Matrix.is_amtx_bounded",
     "rdomp (IICF_Array_Matrix.is_amtx ?N ?M) ?m ==>
      mtx_nonzero ?m <= {0..<?N} \<times> {0..<?M}",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 6,
                template_app
                 (template_app (template_hole 5, template_var 2),
                  template_var 1)),
              template_var 0)
            )],
       template_inequation
        (less_equals, template_app (template_hole 3, template_var 0),
         template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_hole 0),
               template_var 2)),
           t_empty)))),
    ("IICF_Array_Matrix.amtx_copy_hnr",
     "(amtx_copy, RETURN o op_mtx_copy)
      : (amtx_assn ?N ?M
          ?A)\<^sup>k \<rightarrow>\<^sub>a amtx_assn ?N ?M ?A",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 9,
             template_app
              (template_app (template_hole 8, template_hole 7),
               template_app
                (template_app (template_hole 6, template_hole 5),
                 template_hole 4))),
           template_app
            (template_app
              (template_app (template_hole 3, t_empty),
               template_app
                (template_app
                  (template_hole 1,
                   template_app
                    (template_app
                      (template_app (template_hole 0, template_var 2),
                       template_var 1),
                     template_var 0)),
                 template_hole 2)),
             template_app
              (template_app
                (template_app (template_hole 0, template_var 2),
                 template_var 1),
               template_var 0)))
         )),
    ("IICF_Array_Matrix.mtx_idx_valid",
     "[| ?i < ?N; ?j < ?M |] ==> ?i * ?M + ?j < ?N * ?M",
     template_implication
      ([template_inequation (less_than, template_var 3, template_var 2),
        template_inequation (less_than, template_var 1, template_var 0)],
       template_inequation
        (less_than,
         template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 3),
               template_var 0)),
           template_var 1),
         template_app
          (template_app (template_hole 0, template_var 2),
           template_var 0)))),
    ("IICF_Array_Matrix.mtx_copy_rl",
     "<IICF_Array_Matrix.is_amtx ?N ?M ?c ?mtx> amtx_copy ?mtx
      <%r. IICF_Array_Matrix.is_amtx ?N ?M ?c ?mtx *
           IICF_Array_Matrix.is_amtx ?N ?M ?c r>",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_hole 3,
               template_app
                (template_app
                  (template_app
                    (template_app (template_hole 2, template_var 3),
                     template_var 2),
                   template_var 1),
                 template_var 0)),
             template_app (template_hole 1, template_var 0)),
           t_empty)
         )),
    ("IICF_Array_Matrix.mtx_nonzero_zu_eq",
     "[| PRES_ZERO_UNIQUE ?R; (?a, ?a') : Id \<rightarrow> ?R |]
      ==> mtx_nonzero ?a = mtx_nonzero ?a'",
     template_implication
      ([template_predicate (template_app (template_hole 9, template_var 2)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 8,
                template_app
                 (template_app (template_hole 7, template_var 1),
                  template_var 0)),
              template_app
               (template_app
                 (template_hole 6,
                  template_app
                   (template_app (template_hole 5, template_hole 4),
                    template_hole 3)),
                template_var 2))
            )],
       template_equation
        (template_app (template_hole 1, template_var 1),
         template_app (template_hole 0, template_var 0)))),
    ("IICF_Array_Matrix.mtx_dflt_aref",
     "(amtx_dflt ?N ?M,
       (RETURN \<circ>\<circ> PR_CONST) (op_amtx_dfltNxM ?N ?M))
      : id_assn\<^sup>k \<rightarrow>\<^sub>a IICF_Array_Matrix.is_amtx ?N
         ?M",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 12,
             template_app
              (template_app
                (template_hole 11,
                 template_app
                  (template_app (template_hole 10, template_var 1),
                   template_var 0)),
               template_app
                (template_app (template_hole 9, template_hole 8),
                 template_app
                  (template_hole 7,
                   template_app
                    (template_app (template_hole 6, template_var 1),
                     template_var 0))))),
           template_app
            (template_app
              (template_app (template_hole 5, t_empty),
               template_app
                (template_app
                  (template_hole 3,
                   template_app (template_hole 2, template_hole 1)),
                 template_hole 4)),
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0)))
         )),
    ("IICF_Array_Matrix.mtx_nonzero_bid_eq",
     "[| ?R <= Id; (?a, ?a') : Id \<rightarrow> ?R |]
      ==> mtx_nonzero ?a = mtx_nonzero ?a'",
     template_implication
      ([template_inequation (less_equals, template_var 2, template_hole 8),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 7,
                template_app
                 (template_app (template_hole 6, template_var 1),
                  template_var 0)),
              template_app
               (template_app
                 (template_hole 5,
                  template_app
                   (template_app (template_hole 4, template_hole 3),
                    template_hole 2)),
                template_var 2))
            )],
       template_equation
        (template_app (template_hole 0, template_var 1),
         template_app (template_hole 0, template_var 0)))),
    ("IICF_Array_Matrix.mtx_rel_pres_zero",
     "[| PRES_ZERO_UNIQUE ?A; (?m, ?m') : \<langle>?A\<rangle>mtx_rel |]
      ==> (?m ?ij = (0::?'a)) = (?m' ?ij = (0::?'b))",
     template_implication
      ([template_predicate (template_app (template_hole 9, template_var 3)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 8,
                template_app
                 (template_app (template_hole 7, template_var 2),
                  template_var 1)),
              template_app
               (template_app (template_hole 6, template_hole 5),
                template_var 3))
            )],
       template_bimplication
        (template_equation
          (template_app (template_var 2, template_var 0), template_hole 2),
         template_equation
          (template_app (template_var 1, template_var 0),
           template_hole 0)))),
    ("IICF_Array_Matrix.mtx_tabulate_rl",
     "mtx_nonzero ?c <= {0..<?N} \<times> {0..<?M} ==>
      <emp> mtx_tabulate ?N ?M ?c <IICF_Array_Matrix.is_amtx ?N ?M ?c>",
     template_implication
      ([template_inequation
         (less_equals, template_app (template_hole 7, template_var 2),
          template_app
           (template_app
             (template_hole 6,
              template_app
               (template_app (template_hole 5, template_hole 4),
                template_var 1)),
            t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 3, template_hole 2),
               template_app
                (template_app
                  (template_app (template_hole 1, template_var 1),
                   template_var 0),
                 template_var 2)),
             template_app
              (template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 0),
               template_var 2))
           ))),
    ("IICF_Array_Matrix.amtx_dflt_hnr_mop",
     "CONSTRAINT (IS_PURE PRES_ZERO_UNIQUE) ?A ==>
      (amtx_dflt ?N ?M, PR_CONST (mop_op_amtx_dfltNxM ?N ?M))
      : ?A\<^sup>k \<rightarrow>\<^sub>a amtx_assn ?N ?M ?A",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 11,
                template_app (template_hole 10, template_hole 9)),
              template_var 2)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 8,
               template_app
                (template_app
                  (template_hole 7,
                   template_app
                    (template_app (template_hole 6, template_var 1),
                     template_var 0)),
                 template_app
                  (template_hole 5,
                   template_app
                    (template_app (template_hole 4, template_var 1),
                     template_var 0)))),
             template_app
              (template_app
                (template_app (template_hole 3, t_empty),
                 template_app
                  (template_app (template_hole 1, template_var 2),
                   template_hole 2)),
               template_app
                (template_app
                  (template_app (template_hole 0, template_var 1),
                   template_var 0),
                 template_var 2)))
           ))),
    ("IICF_Array_Matrix.amtx_assn_bounded",
     "[| CONSTRAINT (IS_PURE PRES_ZERO_UNIQUE) ?A;
         rdomp (amtx_assn ?N ?M ?A) ?m |]
      ==> mtx_nonzero ?m <= {0..<?N} \<times> {0..<?M}",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 9,
                template_app (template_hole 8, template_hole 7)),
              template_var 3)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 6,
                template_app
                 (template_app
                   (template_app (template_hole 5, template_var 2),
                    template_var 1),
                  template_var 3)),
              template_var 0)
            )],
       template_inequation
        (less_equals, template_app (template_hole 3, template_var 0),
         template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_hole 0),
               template_var 2)),
           t_empty)))),
    ("IICF_Array_Matrix.amtx_dflt_hnr",
     "CONSTRAINT (IS_PURE PRES_ZERO_UNIQUE) ?A ==>
      (amtx_dflt ?N ?M,
       (RETURN \<circ>\<circ> PR_CONST) (op_amtx_dfltNxM ?N ?M))
      : ?A\<^sup>k \<rightarrow>\<^sub>a amtx_assn ?N ?M ?A",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 13,
                template_app (template_hole 12, template_hole 11)),
              template_var 2)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 10,
               template_app
                (template_app
                  (template_hole 9,
                   template_app
                    (template_app (template_hole 8, template_var 1),
                     template_var 0)),
                 template_app
                  (template_app (template_hole 7, template_hole 6),
                   template_app
                    (template_hole 5,
                     template_app
                      (template_app (template_hole 4, template_var 1),
                       template_var 0))))),
             template_app
              (template_app
                (template_app (template_hole 3, t_empty),
                 template_app
                  (template_app (template_hole 1, template_var 2),
                   template_hole 2)),
               template_app
                (template_app
                  (template_app (template_hole 0, template_var 1),
                   template_var 0),
                 template_var 2)))
           ))),
    ("IICF_Array_Matrix.mtx_tabulate_aref",
     "(mtx_tabulate ?N ?M, RETURN o op_mtx_new)
      : [%c. mtx_nonzero c
             <= {0..<?N} \<times>
                {0..<?M}]\<^sub>a id_assn\<^sup>k \<rightarrow> IICF_Array_Matrix.is_amtx
                           ?N ?M",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 16,
             template_app
              (template_app
                (template_hole 15,
                 template_app
                  (template_app (template_hole 14, template_var 1),
                   template_var 0)),
               template_app
                (template_app (template_hole 13, template_hole 12),
                 template_hole 11))),
           template_app
            (template_app
              (template_app (template_hole 10, t_empty),
               template_app
                (template_app
                  (template_hole 4,
                   template_app (template_hole 3, template_hole 2)),
                 template_hole 1)),
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0)))
         )),
    ("IICF_Array_Matrix.mtx_idx_unique_conv",
     "[| ?j < ?M; ?j' < ?M |]
      ==> (?i * ?M + ?j = ?i' * ?M + ?j') = (?i = ?i' & ?j = ?j')",
     template_implication
      ([template_inequation (less_than, template_var 4, template_var 3),
        template_inequation (less_than, template_var 2, template_var 3)],
       template_bimplication
        (template_equation
          (template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 1),
                 template_var 3)),
             template_var 4),
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 0),
                 template_var 3)),
             template_var 2)),
         template_predicate
          (
             template_app
              (template_app
                (template_hole 0,
                 template_app
                  (template_app (template_hole 3, template_var 1),
                   template_var 0)),
               template_app
                (template_app (template_hole 3, template_var 4),
                 template_var 2))
             )))),
    ("IICF_Array_Matrix.op_mtx_new_fref'",
     "CONSTRAINT PRES_ZERO_UNIQUE ?A ==>
      (RETURN o op_mtx_new, RETURN o op_mtx_new)
      : nat_rel \<times>\<^sub>r nat_rel \<rightarrow>
        ?A \<rightarrow>\<^sub>f \<langle>\<langle>?A\<rangle>mtx_rel\<rangle>nres_rel",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 21, template_hole 20),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 19,
               template_app
                (template_app
                  (template_hole 18,
                   template_app
                    (template_app (template_hole 17, template_hole 16),
                     template_hole 15)),
                 template_app
                  (template_app (template_hole 14, template_hole 13),
                   template_hole 12))),
             template_app
              (template_app
                (template_app (template_hole 11, t_empty),
                 template_app
                  (template_app
                    (template_hole 9,
                     template_app
                      (template_app (template_hole 8, template_hole 7),
                       template_app
                        (template_app
                          (template_hole 6,
                           template_app
                            (template_app
                              (template_hole 5, template_hole 4),
                             template_hole 3)),
                         template_hole 3))),
                   template_var 0)),
               template_app
                (template_app (template_hole 2, template_hole 1),
                 template_app
                  (template_app (template_hole 9, template_hole 0),
                   template_var 0))))
           ))),
    ("IICF_Array_Matrix.op_amtx_lin_get_aref",
     "(uncurry Array.nth,
       uncurry
        ((RETURN \<circ>\<circ>\<circ> PR_CONST) (op_amtx_lin_get ?M)))
      : [%(uu_, i).
            i < ?N *
                ?M]\<^sub>a (IICF_Array_Matrix.is_amtx ?N
                              ?M)\<^sup>k *\<^sub>a
                            nat_assn\<^sup>k \<rightarrow> id_assn",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 21,
             template_app
              (template_app
                (template_hole 20,
                 template_app (template_hole 19, template_hole 18)),
               template_app (template_hole 17, t_empty))),
           template_app
            (template_app
              (template_app
                (template_hole 12,
                 template_app (template_hole 11, t_empty)),
               template_app
                (template_app
                  (template_hole 8,
                   template_app
                    (template_app
                      (template_hole 7,
                       template_app
                        (template_app (template_hole 6, template_var 0),
                         template_var 1)),
                     template_hole 5)),
                 template_app
                  (template_app
                    (template_hole 4,
                     template_app (template_hole 3, template_hole 2)),
                   template_hole 5))),
             template_app (template_hole 1, template_hole 0)))
         )),
    ("IICF_Array_Matrix.amtx_lin_get_hnr_mop",
     "CONSTRAINT is_pure ?A ==>
      (uncurry Array.nth, uncurry (PR_CONST (mop_amtx_lin_get ?M)))
      : [%(x, xa).
            xa < ?N *
                 ?M]\<^sub>a (amtx_assn ?N ?M ?A)\<^sup>k *\<^sub>a
                             nat_assn\<^sup>k \<rightarrow> ?A",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 19, template_hole 18),
              template_var 2)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 17,
               template_app
                (template_app
                  (template_hole 16,
                   template_app (template_hole 15, template_hole 14)),
                 template_app
                  (template_hole 13,
                   template_app
                    (template_hole 12,
                     template_app (template_hole 11, template_var 1))))),
             template_app
              (template_app
                (template_app
                  (template_hole 10,
                   template_app (template_hole 9, t_empty)),
                 template_app
                  (template_app
                    (template_hole 6,
                     template_app
                      (template_app
                        (template_hole 5,
                         template_app
                          (template_app
                            (template_app (template_hole 4, template_var 0),
                             template_var 1),
                           template_var 2)),
                       template_hole 3)),
                   template_app
                    (template_app
                      (template_hole 2,
                       template_app (template_hole 1, template_hole 0)),
                     template_hole 3))),
               template_var 2))
           ))),
    ("IICF_Array_Matrix.diagonalN_hnr",
     "CONSTRAINT (IS_PURE PRES_ZERO_UNIQUE) ?A ==>
      ((return \<circ>\<circ> IICF_Array_Matrix.diagonalN) ?N,
       (RETURN \<circ>\<circ> PR_CONST) (IICF_Array_Matrix.diagonalN ?N))
      : ?A\<^sup>k \<rightarrow>\<^sub>a pure
    (nat_rel \<times>\<^sub>r nat_rel \<rightarrow> the_pure ?A)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 23,
                template_app (template_hole 22, template_hole 21)),
              template_var 1)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 20,
               template_app
                (template_app
                  (template_hole 19,
                   template_app
                    (template_app (template_hole 18, template_hole 17),
                     template_app (template_hole 16, template_var 0))),
                 template_app
                  (template_app (template_hole 15, template_hole 14),
                   template_app
                    (template_hole 13,
                     template_app (template_hole 12, template_var 0))))),
             template_app
              (template_app
                (template_app (template_hole 11, t_empty),
                 template_app
                  (template_app (template_hole 9, template_var 1),
                   template_hole 10)),
               template_app
                (template_hole 8,
                 template_app
                  (template_app
                    (template_hole 7,
                     template_app
                      (template_app (template_hole 6, template_hole 5),
                       template_app
                        (template_app
                          (template_hole 4,
                           template_app
                            (template_app
                              (template_hole 3, template_hole 2),
                             template_hole 1)),
                         template_hole 1))),
                   template_app (template_hole 0, template_var 1)))))
           ))),
    ("IICF_Array_Matrix.mtx_set_rl",
     "[| ?i < ?N; ?j < ?M |]
      ==> <IICF_Array_Matrix.is_amtx ?N ?M ?c ?mtx>
          mtx_set ?M ?mtx (?i, ?j) ?v
          <IICF_Array_Matrix.is_amtx ?N ?M (?c((?i, ?j) := ?v))>",
     template_implication
      ([template_inequation (less_than, template_var 6, template_var 5),
        template_inequation (less_than, template_var 4, template_var 3)],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 4,
                 template_app
                  (template_app
                    (template_app
                      (template_app (template_hole 3, template_var 5),
                       template_var 3),
                     template_var 2),
                   template_var 1)),
               template_app
                (template_app
                  (template_app
                    (template_app (template_hole 2, template_var 3),
                     template_var 1),
                   template_app
                    (template_app (template_hole 1, template_var 6),
                     template_var 4)),
                 template_var 0)),
             t_empty)
           ))),
    ("IICF_Array_Matrix.mtx_get_rl",
     "[| ?i < ?N; ?j < ?M |]
      ==> <IICF_Array_Matrix.is_amtx ?N ?M ?c ?mtx> mtx_get ?M ?mtx (?i, ?j)
          <%r. IICF_Array_Matrix.is_amtx ?N ?M ?c ?mtx *
               \<up> (r = ?c (?i, ?j))>",
     template_implication
      ([template_inequation (less_than, template_var 5, template_var 4),
        template_inequation (less_than, template_var 3, template_var 2)],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 6,
                 template_app
                  (template_app
                    (template_app
                      (template_app (template_hole 5, template_var 4),
                       template_var 2),
                     template_var 1),
                   template_var 0)),
               template_app
                (template_app
                  (template_app (template_hole 4, template_var 2),
                   template_var 0),
                 template_app
                  (template_app (template_hole 3, template_var 5),
                   template_var 3))),
             t_empty)
           ))),
    ("IICF_Array_Matrix.amtx_lin_get_hnr",
     "CONSTRAINT is_pure ?A ==>
      (uncurry Array.nth,
       uncurry
        ((RETURN \<circ>\<circ>\<circ> PR_CONST) (op_amtx_lin_get ?M)))
      : [%(x, xa).
            xa < ?N *
                 ?M]\<^sub>a (amtx_assn ?N ?M ?A)\<^sup>k *\<^sub>a
                             nat_assn\<^sup>k \<rightarrow> ?A",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 21, template_hole 20),
              template_var 2)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 19,
               template_app
                (template_app
                  (template_hole 18,
                   template_app (template_hole 17, template_hole 16)),
                 template_app (template_hole 15, t_empty))),
             template_app
              (template_app
                (template_app
                  (template_hole 10,
                   template_app (template_hole 9, t_empty)),
                 template_app
                  (template_app
                    (template_hole 6,
                     template_app
                      (template_app
                        (template_hole 5,
                         template_app
                          (template_app
                            (template_app (template_hole 4, template_var 0),
                             template_var 1),
                           template_var 2)),
                       template_hole 3)),
                   template_app
                    (template_app
                      (template_hole 2,
                       template_app (template_hole 1, template_hole 0)),
                     template_hole 3))),
               template_var 2))
           ))),
    ("IICF_Array_Matrix.amtx_get_aref'",
     "(uncurry (mtx_get ?M), uncurry (RETURN \<circ>\<circ> op_mtx_get))
      : (IICF_Array_Matrix.is_amtx ?N ?M)\<^sup>k *\<^sub>a
        (pure (nbn_rel ?N) \<times>\<^sub>a
         pure (nbn_rel ?M))\<^sup>k \<rightarrow>\<^sub>a id_assn",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 20,
             template_app
              (template_app
                (template_hole 19,
                 template_app
                  (template_hole 18,
                   template_app (template_hole 17, template_var 1))),
               template_app (template_hole 16, t_empty))),
           template_app
            (template_app
              (template_app (template_hole 12, t_empty),
               template_app
                (template_app
                  (template_hole 10,
                   template_app
                    (template_app
                      (template_hole 9,
                       template_app
                        (template_app (template_hole 8, template_var 0),
                         template_var 1)),
                     template_hole 11)),
                 template_app
                  (template_app
                    (template_hole 7,
                     template_app
                      (template_app
                        (template_hole 6,
                         template_app
                          (template_hole 5,
                           template_app
                            (template_app
                              (template_hole 4, template_hole 3),
                             t_empty))),
                       template_app
                        (template_hole 5,
                         template_app
                          (template_app (template_hole 4, template_hole 3),
                           t_empty)))),
                   template_hole 11))),
             template_app (template_hole 1, template_hole 0)))
         )),
    ("IICF_Array_Matrix.amtx_get_aref",
     "(uncurry (mtx_get ?M), uncurry (RETURN \<circ>\<circ> op_mtx_get))
      : [%(uu_, i, j).
            i < ?N &
            j < ?M]\<^sub>a (IICF_Array_Matrix.is_amtx ?N
                              ?M)\<^sup>k *\<^sub>a
                            (nat_assn \<times>\<^sub>a
                             nat_assn)\<^sup>k \<rightarrow> id_assn",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 22,
             template_app
              (template_app
                (template_hole 21,
                 template_app
                  (template_hole 20,
                   template_app (template_hole 19, template_var 1))),
               template_app (template_hole 18, t_empty))),
           template_app
            (template_app
              (template_app
                (template_hole 14,
                 template_app (template_hole 13, t_empty)),
               template_app
                (template_app
                  (template_hole 9,
                   template_app
                    (template_app
                      (template_hole 8,
                       template_app
                        (template_app (template_hole 7, template_var 0),
                         template_var 1)),
                     template_hole 6)),
                 template_app
                  (template_app
                    (template_hole 5,
                     template_app
                      (template_app
                        (template_hole 4,
                         template_app (template_hole 3, template_hole 2)),
                       template_app (template_hole 3, template_hole 2))),
                   template_hole 6))),
             template_app (template_hole 1, template_hole 0)))
         )),
    ("IICF_Array_Matrix.amtx_get'_hnr_mop",
     "CONSTRAINT is_pure ?A ==>
      (uncurry (mtx_get ?M), uncurry mop_mtx_get)
      : (amtx_assn ?N ?M ?A)\<^sup>k *\<^sub>a
        (nbn_assn ?N \<times>\<^sub>a
         nbn_assn ?M)\<^sup>k \<rightarrow>\<^sub>a ?A",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 18, template_hole 17),
              template_var 2)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 16,
               template_app
                (template_app
                  (template_hole 15,
                   template_app
                    (template_hole 14,
                     template_app (template_hole 13, template_var 1))),
                 template_app (template_hole 12, template_hole 11))),
             template_app
              (template_app
                (template_app (template_hole 10, t_empty),
                 template_app
                  (template_app
                    (template_hole 8,
                     template_app
                      (template_app
                        (template_hole 7,
                         template_app
                          (template_app
                            (template_app (template_hole 6, template_var 0),
                             template_var 1),
                           template_var 2)),
                       template_hole 9)),
                   template_app
                    (template_app
                      (template_hole 5,
                       template_app
                        (template_app
                          (template_hole 4,
                           template_app
                            (template_app
                              (template_hole 3,
                               template_app
                                (template_hole 2, template_hole 1)),
                             t_empty)),
                         template_app
                          (template_app
                            (template_hole 3,
                             template_app
                              (template_hole 2, template_hole 1)),
                           t_empty))),
                     template_hole 9))),
               template_var 2))
           ))),
    ("IICF_Array_Matrix.amtx_get_hnr_mop",
     "CONSTRAINT is_pure ?A ==>
      (uncurry (mtx_get ?M), uncurry mop_mtx_get)
      : [%(x, xa, xb).
            xa < ?N &
            xb < ?M]\<^sub>a (amtx_assn ?N ?M ?A)\<^sup>k *\<^sub>a
                             (nat_assn \<times>\<^sub>a
                              nat_assn)\<^sup>k \<rightarrow> ?A",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 20, template_hole 19),
              template_var 2)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 18,
               template_app
                (template_app
                  (template_hole 17,
                   template_app
                    (template_hole 16,
                     template_app (template_hole 15, template_var 1))),
                 template_app (template_hole 14, template_hole 13))),
             template_app
              (template_app
                (template_app
                  (template_hole 12,
                   template_app (template_hole 11, t_empty)),
                 template_app
                  (template_app
                    (template_hole 7,
                     template_app
                      (template_app
                        (template_hole 6,
                         template_app
                          (template_app
                            (template_app (template_hole 5, template_var 0),
                             template_var 1),
                           template_var 2)),
                       template_hole 4)),
                   template_app
                    (template_app
                      (template_hole 3,
                       template_app
                        (template_app
                          (template_hole 2,
                           template_app (template_hole 1, template_hole 0)),
                         template_app (template_hole 1, template_hole 0))),
                     template_hole 4))),
               template_var 2))
           ))),
    ("IICF_Array_Matrix.amtx_new_by_tab_hnr_mop",
     "CONSTRAINT (IS_PURE PRES_ZERO_UNIQUE) ?A ==>
      (mtx_tabulate ?N ?M, mop_mtx_new)
      : [%x. mtx_nonzero x
             <= {0..<?N} \<times>
                {0..<?M}]\<^sub>a (pure
                                    (nat_rel \<times>\<^sub>r
                                     nat_rel \<rightarrow>
                                     the_pure
?A))\<^sup>k \<rightarrow> amtx_assn ?N ?M ?A",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 24,
                template_app (template_hole 23, template_hole 22)),
              template_var 2)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 21,
               template_app
                (template_app
                  (template_hole 20,
                   template_app
                    (template_app (template_hole 19, template_var 1),
                     template_var 0)),
                 template_hole 18)),
             template_app
              (template_app
                (template_app (template_hole 17, t_empty),
                 template_app
                  (template_app
                    (template_hole 11,
                     template_app
                      (template_hole 10,
                       template_app
                        (template_app
                          (template_hole 9,
                           template_app
                            (template_app
                              (template_hole 8, template_hole 7),
                             template_app
                              (template_app
                                (template_hole 6,
                                 template_app
                                  (template_app
                                    (template_hole 5, template_hole 4),
                                   template_hole 3)),
                               template_hole 3))),
                         template_app (template_hole 2, template_var 2)))),
                   template_hole 1)),
               template_app
                (template_app
                  (template_app (template_hole 0, template_var 1),
                   template_var 0),
                 template_var 2)))
           ))),
    ("IICF_Array_Matrix.amtx_get'_hnr",
     "CONSTRAINT is_pure ?A ==>
      (uncurry (mtx_get ?M), uncurry (RETURN \<circ>\<circ> op_mtx_get))
      : (amtx_assn ?N ?M ?A)\<^sup>k *\<^sub>a
        (nbn_assn ?N \<times>\<^sub>a
         nbn_assn ?M)\<^sup>k \<rightarrow>\<^sub>a ?A",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 20, template_hole 19),
              template_var 2)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 18,
               template_app
                (template_app
                  (template_hole 17,
                   template_app
                    (template_hole 16,
                     template_app (template_hole 15, template_var 1))),
                 template_app (template_hole 14, t_empty))),
             template_app
              (template_app
                (template_app (template_hole 10, t_empty),
                 template_app
                  (template_app
                    (template_hole 8,
                     template_app
                      (template_app
                        (template_hole 7,
                         template_app
                          (template_app
                            (template_app (template_hole 6, template_var 0),
                             template_var 1),
                           template_var 2)),
                       template_hole 9)),
                   template_app
                    (template_app
                      (template_hole 5,
                       template_app
                        (template_app
                          (template_hole 4,
                           template_app
                            (template_app
                              (template_hole 3,
                               template_app
                                (template_hole 2, template_hole 1)),
                             t_empty)),
                         template_app
                          (template_app
                            (template_hole 3,
                             template_app
                              (template_hole 2, template_hole 1)),
                           t_empty))),
                     template_hole 9))),
               template_var 2))
           ))),
    ("IICF_Array_Matrix.amtx_get_hnr",
     "CONSTRAINT is_pure ?A ==>
      (uncurry (mtx_get ?M), uncurry (RETURN \<circ>\<circ> op_mtx_get))
      : [%(x, xa, xb).
            xa < ?N &
            xb < ?M]\<^sub>a (amtx_assn ?N ?M ?A)\<^sup>k *\<^sub>a
                             (nat_assn \<times>\<^sub>a
                              nat_assn)\<^sup>k \<rightarrow> ?A",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 22, template_hole 21),
              template_var 2)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 20,
               template_app
                (template_app
                  (template_hole 19,
                   template_app
                    (template_hole 18,
                     template_app (template_hole 17, template_var 1))),
                 template_app (template_hole 16, t_empty))),
             template_app
              (template_app
                (template_app
                  (template_hole 12,
                   template_app (template_hole 11, t_empty)),
                 template_app
                  (template_app
                    (template_hole 7,
                     template_app
                      (template_app
                        (template_hole 6,
                         template_app
                          (template_app
                            (template_app (template_hole 5, template_var 0),
                             template_var 1),
                           template_var 2)),
                       template_hole 4)),
                   template_app
                    (template_app
                      (template_hole 3,
                       template_app
                        (template_app
                          (template_hole 2,
                           template_app (template_hole 1, template_hole 0)),
                         template_app (template_hole 1, template_hole 0))),
                     template_hole 4))),
               template_var 2))
           ))),
    ("IICF_Array_Matrix.amtx_new_by_tab_hnr",
     "CONSTRAINT (IS_PURE PRES_ZERO_UNIQUE) ?A ==>
      (mtx_tabulate ?N ?M, RETURN o op_mtx_new)
      : [%x. mtx_nonzero x
             <= {0..<?N} \<times>
                {0..<?M}]\<^sub>a (pure
                                    (nat_rel \<times>\<^sub>r
                                     nat_rel \<rightarrow>
                                     the_pure
?A))\<^sup>k \<rightarrow> amtx_assn ?N ?M ?A",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 26,
                template_app (template_hole 25, template_hole 24)),
              template_var 2)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 23,
               template_app
                (template_app
                  (template_hole 22,
                   template_app
                    (template_app (template_hole 21, template_var 1),
                     template_var 0)),
                 template_app
                  (template_app (template_hole 20, template_hole 19),
                   template_hole 18))),
             template_app
              (template_app
                (template_app (template_hole 17, t_empty),
                 template_app
                  (template_app
                    (template_hole 11,
                     template_app
                      (template_hole 10,
                       template_app
                        (template_app
                          (template_hole 9,
                           template_app
                            (template_app
                              (template_hole 8, template_hole 7),
                             template_app
                              (template_app
                                (template_hole 6,
                                 template_app
                                  (template_app
                                    (template_hole 5, template_hole 4),
                                   template_hole 3)),
                               template_hole 3))),
                         template_app (template_hole 2, template_var 2)))),
                   template_hole 1)),
               template_app
                (template_app
                  (template_app (template_hole 0, template_var 1),
                   template_var 0),
                 template_var 2)))
           ))),
    ("IICF_Array_Matrix.amtx_new_hnr",
     "CONSTRAINT (IS_PURE PRES_ZERO_UNIQUE) ?A ==>
      (mtx_tabulate ?N ?M,
       (RETURN \<circ>\<circ> PR_CONST) (op_amtx_new ?N ?M))
      : [%x. mtx_nonzero x
             <= {0..<?N} \<times>
                {0..<?M}]\<^sub>a (pure
                                    (nat_rel \<times>\<^sub>r
                                     nat_rel \<rightarrow>
                                     the_pure
?A))\<^sup>k \<rightarrow> amtx_assn ?N ?M ?A",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 27,
                template_app (template_hole 26, template_hole 25)),
              template_var 2)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 24,
               template_app
                (template_app
                  (template_hole 23,
                   template_app
                    (template_app (template_hole 22, template_var 1),
                     template_var 0)),
                 template_app
                  (template_app (template_hole 21, template_hole 20),
                   template_app
                    (template_hole 19,
                     template_app
                      (template_app (template_hole 18, template_var 1),
                       template_var 0))))),
             template_app
              (template_app
                (template_app (template_hole 17, t_empty),
                 template_app
                  (template_app
                    (template_hole 11,
                     template_app
                      (template_hole 10,
                       template_app
                        (template_app
                          (template_hole 9,
                           template_app
                            (template_app
                              (template_hole 8, template_hole 7),
                             template_app
                              (template_app
                                (template_hole 6,
                                 template_app
                                  (template_app
                                    (template_hole 5, template_hole 4),
                                   template_hole 3)),
                               template_hole 3))),
                         template_app (template_hole 2, template_var 2)))),
                   template_hole 1)),
               template_app
                (template_app
                  (template_app (template_hole 0, template_var 1),
                   template_var 0),
                 template_var 2)))
           ))),
    ("IICF_Array_Matrix.amtx_set_aref'",
     "(uncurry2 (mtx_set ?M),
       uncurry2 (RETURN \<circ>\<circ>\<circ> op_mtx_set))
      : (IICF_Array_Matrix.is_amtx ?N ?M)\<^sup>d *\<^sub>a
        (pure (nbn_rel ?N) \<times>\<^sub>a
         pure (nbn_rel ?M))\<^sup>k *\<^sub>a
        id_assn\<^sup>k \<rightarrow>\<^sub>a IICF_Array_Matrix.is_amtx ?N
         ?M",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 25,
             template_app
              (template_app
                (template_hole 24,
                 template_app
                  (template_hole 23,
                   template_app
                    (template_hole 22,
                     template_app (template_hole 21, template_var 1)))),
               template_app
                (template_hole 20,
                 template_app (template_hole 19, t_empty)))),
           template_app
            (template_app
              (template_app (template_hole 15, t_empty),
               template_app
                (template_app
                  (template_hole 13,
                   template_app
                    (template_app
                      (template_hole 12,
                       template_app
                        (template_app
                          (template_hole 11,
                           template_app
                            (template_app
                              (template_hole 10, template_var 0),
                             template_var 1)),
                         template_hole 9)),
                     template_app
                      (template_app
                        (template_hole 8,
                         template_app
                          (template_app
                            (template_hole 7,
                             template_app
                              (template_hole 6,
                               template_app
                                (template_app
                                  (template_hole 5, template_hole 4),
                                 t_empty))),
                           template_app
                            (template_hole 6,
                             template_app
                              (template_app
                                (template_hole 5, template_hole 4),
                               t_empty)))),
                       template_hole 14))),
                 template_app
                  (template_app
                    (template_hole 2,
                     template_app (template_hole 1, template_hole 0)),
                   template_hole 14))),
             template_app
              (template_app (template_hole 10, template_var 0),
               template_var 1)))
         )),
    ("IICF_Array_Matrix.amtx_set'_hnr_mop",
     "CONSTRAINT is_pure ?A ==>
      (uncurry2 (mtx_set ?M), uncurry2 mop_mtx_set)
      : (amtx_assn ?N ?M ?A)\<^sup>d *\<^sub>a
        (nbn_assn ?N \<times>\<^sub>a nbn_assn ?M)\<^sup>k *\<^sub>a
        ?A\<^sup>k \<rightarrow>\<^sub>a amtx_assn ?N ?M ?A",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 23, template_hole 22),
              template_var 2)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 21,
               template_app
                (template_app
                  (template_hole 20,
                   template_app
                    (template_hole 19,
                     template_app
                      (template_hole 18,
                       template_app (template_hole 17, template_var 1)))),
                 template_app
                  (template_hole 16,
                   template_app (template_hole 15, template_hole 14)))),
             template_app
              (template_app
                (template_app (template_hole 13, t_empty),
                 template_app
                  (template_app
                    (template_hole 11,
                     template_app
                      (template_app
                        (template_hole 10,
                         template_app
                          (template_app
                            (template_hole 9,
                             template_app
                              (template_app
                                (template_app
                                  (template_hole 8, template_var 0),
                                 template_var 1),
                               template_var 2)),
                           template_hole 7)),
                       template_app
                        (template_app
                          (template_hole 6,
                           template_app
                            (template_app
                              (template_hole 5,
                               template_app
                                (template_app
                                  (template_hole 4,
                                   template_app
                                    (template_hole 3, template_hole 2)),
                                 t_empty)),
                             template_app
                              (template_app
                                (template_hole 4,
                                 template_app
                                  (template_hole 3, template_hole 2)),
                               t_empty))),
                         template_hole 12))),
                   template_app
                    (template_app (template_hole 0, template_var 2),
                     template_hole 12))),
               template_app
                (template_app
                  (template_app (template_hole 8, template_var 0),
                   template_var 1),
                 template_var 2)))
           ))),
    ("IICF_Array_Matrix.op_amtx_lin_set_aref",
     "(uncurry2 (%m i x. Array.upd i x m),
       uncurry2
        (RETURN \<circ>\<circ>\<circ> PR_CONST (op_amtx_lin_set ?M)))
      : [%((uu_, i), uu_).
            i < ?N *
                ?M]\<^sub>a (IICF_Array_Matrix.is_amtx ?N
                              ?M)\<^sup>d *\<^sub>a
                            nat_assn\<^sup>k *\<^sub>a
                            id_assn\<^sup>k \<rightarrow> IICF_Array_Matrix.is_amtx
                     ?N ?M",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 27,
             template_app
              (template_app
                (template_hole 26,
                 template_app
                  (template_hole 25,
                   template_app (template_hole 24, t_empty))),
               template_app
                (template_hole 22,
                 template_app (template_hole 21, t_empty)))),
           template_app
            (template_app
              (template_app
                (template_hole 16,
                 template_app
                  (template_hole 15,
                   template_app (template_hole 14, t_empty))),
               template_app
                (template_app
                  (template_hole 11,
                   template_app
                    (template_app
                      (template_hole 10,
                       template_app
                        (template_app
                          (template_hole 9,
                           template_app
                            (template_app (template_hole 8, template_var 0),
                             template_var 1)),
                         template_hole 7)),
                     template_app
                      (template_app
                        (template_hole 6,
                         template_app (template_hole 5, template_hole 4)),
                       template_hole 3))),
                 template_app
                  (template_app
                    (template_hole 2,
                     template_app (template_hole 1, template_hole 0)),
                   template_hole 3))),
             template_app
              (template_app (template_hole 8, template_var 0),
               template_var 1)))
         )),
    ("IICF_Array_Matrix.amtx_set_aref",
     "(uncurry2 (mtx_set ?M),
       uncurry2 (RETURN \<circ>\<circ>\<circ> op_mtx_set))
      : [%((uu_, i, j), uu_).
            i < ?N &
            j < ?M]\<^sub>a (IICF_Array_Matrix.is_amtx ?N
                              ?M)\<^sup>d *\<^sub>a
                            (nat_assn \<times>\<^sub>a
                             nat_assn)\<^sup>k *\<^sub>a
                            id_assn\<^sup>k \<rightarrow> IICF_Array_Matrix.is_amtx
                     ?N ?M",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 28,
             template_app
              (template_app
                (template_hole 27,
                 template_app
                  (template_hole 26,
                   template_app
                    (template_hole 25,
                     template_app (template_hole 24, template_var 1)))),
               template_app
                (template_hole 23,
                 template_app (template_hole 22, t_empty)))),
           template_app
            (template_app
              (template_app
                (template_hole 18,
                 template_app
                  (template_hole 17,
                   template_app (template_hole 16, t_empty))),
               template_app
                (template_app
                  (template_hole 12,
                   template_app
                    (template_app
                      (template_hole 11,
                       template_app
                        (template_app
                          (template_hole 10,
                           template_app
                            (template_app (template_hole 9, template_var 0),
                             template_var 1)),
                         template_hole 8)),
                     template_app
                      (template_app
                        (template_hole 7,
                         template_app
                          (template_app
                            (template_hole 6,
                             template_app
                              (template_hole 5, template_hole 4)),
                           template_app
                            (template_hole 5, template_hole 4))),
                       template_hole 3))),
                 template_app
                  (template_app
                    (template_hole 2,
                     template_app (template_hole 1, template_hole 0)),
                   template_hole 3))),
             template_app
              (template_app (template_hole 9, template_var 0),
               template_var 1)))
         )),
    ("IICF_Array_Matrix.amtx_lin_set_hnr_mop",
     "CONSTRAINT is_pure ?A ==>
      (uncurry2 (%m i x. Array.upd i x m),
       uncurry2 (PR_CONST (mop_amtx_lin_set ?M)))
      : [%((x, xa), xb).
            xa < ?N *
                 ?M]\<^sub>a (amtx_assn ?N ?M ?A)\<^sup>d *\<^sub>a
                             nat_assn\<^sup>k *\<^sub>a
                             ?A\<^sup>k \<rightarrow> amtx_assn ?N ?M ?A",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 25, template_hole 24),
              template_var 2)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 23,
               template_app
                (template_app
                  (template_hole 22,
                   template_app
                    (template_hole 21,
                     template_app (template_hole 20, t_empty))),
                 template_app
                  (template_hole 18,
                   template_app
                    (template_hole 17,
                     template_app
                      (template_hole 16,
                       template_app (template_hole 15, template_var 1)))))),
             template_app
              (template_app
                (template_app
                  (template_hole 14,
                   template_app
                    (template_hole 13,
                     template_app (template_hole 12, t_empty))),
                 template_app
                  (template_app
                    (template_hole 9,
                     template_app
                      (template_app
                        (template_hole 8,
                         template_app
                          (template_app
                            (template_hole 7,
                             template_app
                              (template_app
                                (template_app
                                  (template_hole 6, template_var 0),
                                 template_var 1),
                               template_var 2)),
                           template_hole 5)),
                       template_app
                        (template_app
                          (template_hole 4,
                           template_app (template_hole 3, template_hole 2)),
                         template_hole 1))),
                   template_app
                    (template_app (template_hole 0, template_var 2),
                     template_hole 1))),
               template_app
                (template_app
                  (template_app (template_hole 6, template_var 0),
                   template_var 1),
                 template_var 2)))
           ))),
    ("IICF_Array_Matrix.amtx_set_hnr_mop",
     "CONSTRAINT is_pure ?A ==>
      (uncurry2 (mtx_set ?M), uncurry2 mop_mtx_set)
      : [%((x, xa, xb), xc).
            xa < ?N &
            xb < ?M]\<^sub>a (amtx_assn ?N ?M ?A)\<^sup>d *\<^sub>a
                             (nat_assn \<times>\<^sub>a
                              nat_assn)\<^sup>k *\<^sub>a
                             ?A\<^sup>k \<rightarrow> amtx_assn ?N ?M ?A",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 26, template_hole 25),
              template_var 2)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 24,
               template_app
                (template_app
                  (template_hole 23,
                   template_app
                    (template_hole 22,
                     template_app
                      (template_hole 21,
                       template_app (template_hole 20, template_var 1)))),
                 template_app
                  (template_hole 19,
                   template_app (template_hole 18, template_hole 17)))),
             template_app
              (template_app
                (template_app
                  (template_hole 16,
                   template_app
                    (template_hole 15,
                     template_app (template_hole 14, t_empty))),
                 template_app
                  (template_app
                    (template_hole 10,
                     template_app
                      (template_app
                        (template_hole 9,
                         template_app
                          (template_app
                            (template_hole 8,
                             template_app
                              (template_app
                                (template_app
                                  (template_hole 7, template_var 0),
                                 template_var 1),
                               template_var 2)),
                           template_hole 6)),
                       template_app
                        (template_app
                          (template_hole 5,
                           template_app
                            (template_app
                              (template_hole 4,
                               template_app
                                (template_hole 3, template_hole 2)),
                             template_app
                              (template_hole 3, template_hole 2))),
                         template_hole 1))),
                   template_app
                    (template_app (template_hole 0, template_var 2),
                     template_hole 1))),
               template_app
                (template_app
                  (template_app (template_hole 7, template_var 0),
                   template_var 1),
                 template_var 2)))
           ))),
    ("IICF_Array_Matrix.amtx_set'_hnr",
     "CONSTRAINT is_pure ?A ==>
      (uncurry2 (mtx_set ?M),
       uncurry2 (RETURN \<circ>\<circ>\<circ> op_mtx_set))
      : (amtx_assn ?N ?M ?A)\<^sup>d *\<^sub>a
        (nbn_assn ?N \<times>\<^sub>a nbn_assn ?M)\<^sup>k *\<^sub>a
        ?A\<^sup>k \<rightarrow>\<^sub>a amtx_assn ?N ?M ?A",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 25, template_hole 24),
              template_var 2)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 23,
               template_app
                (template_app
                  (template_hole 22,
                   template_app
                    (template_hole 21,
                     template_app
                      (template_hole 20,
                       template_app (template_hole 19, template_var 1)))),
                 template_app
                  (template_hole 18,
                   template_app (template_hole 17, t_empty)))),
             template_app
              (template_app
                (template_app (template_hole 13, t_empty),
                 template_app
                  (template_app
                    (template_hole 11,
                     template_app
                      (template_app
                        (template_hole 10,
                         template_app
                          (template_app
                            (template_hole 9,
                             template_app
                              (template_app
                                (template_app
                                  (template_hole 8, template_var 0),
                                 template_var 1),
                               template_var 2)),
                           template_hole 7)),
                       template_app
                        (template_app
                          (template_hole 6,
                           template_app
                            (template_app
                              (template_hole 5,
                               template_app
                                (template_app
                                  (template_hole 4,
                                   template_app
                                    (template_hole 3, template_hole 2)),
                                 t_empty)),
                             template_app
                              (template_app
                                (template_hole 4,
                                 template_app
                                  (template_hole 3, template_hole 2)),
                               t_empty))),
                         template_hole 12))),
                   template_app
                    (template_app (template_hole 0, template_var 2),
                     template_hole 12))),
               template_app
                (template_app
                  (template_app (template_hole 8, template_var 0),
                   template_var 1),
                 template_var 2)))
           ))),
    ("IICF_Array_Matrix.amtx_lin_set_hnr",
     "CONSTRAINT is_pure ?A ==>
      (uncurry2 (%m i x. Array.upd i x m),
       uncurry2
        (RETURN \<circ>\<circ>\<circ> PR_CONST (op_amtx_lin_set ?M)))
      : [%((x, xa), xb).
            xa < ?N *
                 ?M]\<^sub>a (amtx_assn ?N ?M ?A)\<^sup>d *\<^sub>a
                             nat_assn\<^sup>k *\<^sub>a
                             ?A\<^sup>k \<rightarrow> amtx_assn ?N ?M ?A",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 27, template_hole 26),
              template_var 2)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 25,
               template_app
                (template_app
                  (template_hole 24,
                   template_app
                    (template_hole 23,
                     template_app (template_hole 22, t_empty))),
                 template_app
                  (template_hole 20,
                   template_app (template_hole 19, t_empty)))),
             template_app
              (template_app
                (template_app
                  (template_hole 14,
                   template_app
                    (template_hole 13,
                     template_app (template_hole 12, t_empty))),
                 template_app
                  (template_app
                    (template_hole 9,
                     template_app
                      (template_app
                        (template_hole 8,
                         template_app
                          (template_app
                            (template_hole 7,
                             template_app
                              (template_app
                                (template_app
                                  (template_hole 6, template_var 0),
                                 template_var 1),
                               template_var 2)),
                           template_hole 5)),
                       template_app
                        (template_app
                          (template_hole 4,
                           template_app (template_hole 3, template_hole 2)),
                         template_hole 1))),
                   template_app
                    (template_app (template_hole 0, template_var 2),
                     template_hole 1))),
               template_app
                (template_app
                  (template_app (template_hole 6, template_var 0),
                   template_var 1),
                 template_var 2)))
           ))),
    ("IICF_Array_Matrix.amtx_set_hnr",
     "CONSTRAINT is_pure ?A ==>
      (uncurry2 (mtx_set ?M),
       uncurry2 (RETURN \<circ>\<circ>\<circ> op_mtx_set))
      : [%((x, xa, xb), xc).
            xa < ?N &
            xb < ?M]\<^sub>a (amtx_assn ?N ?M ?A)\<^sup>d *\<^sub>a
                             (nat_assn \<times>\<^sub>a
                              nat_assn)\<^sup>k *\<^sub>a
                             ?A\<^sup>k \<rightarrow> amtx_assn ?N ?M ?A",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 28, template_hole 27),
              template_var 2)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 26,
               template_app
                (template_app
                  (template_hole 25,
                   template_app
                    (template_hole 24,
                     template_app
                      (template_hole 23,
                       template_app (template_hole 22, template_var 1)))),
                 template_app
                  (template_hole 21,
                   template_app (template_hole 20, t_empty)))),
             template_app
              (template_app
                (template_app
                  (template_hole 16,
                   template_app
                    (template_hole 15,
                     template_app (template_hole 14, t_empty))),
                 template_app
                  (template_app
                    (template_hole 10,
                     template_app
                      (template_app
                        (template_hole 9,
                         template_app
                          (template_app
                            (template_hole 8,
                             template_app
                              (template_app
                                (template_app
                                  (template_hole 7, template_var 0),
                                 template_var 1),
                               template_var 2)),
                           template_hole 6)),
                       template_app
                        (template_app
                          (template_hole 5,
                           template_app
                            (template_app
                              (template_hole 4,
                               template_app
                                (template_hole 3, template_hole 2)),
                             template_app
                              (template_hole 3, template_hole 2))),
                         template_hole 1))),
                   template_app
                    (template_app (template_hole 0, template_var 2),
                     template_hole 1))),
               template_app
                (template_app
                  (template_app (template_hole 7, template_var 0),
                   template_var 1),
                 template_var 2)))
           )))]
