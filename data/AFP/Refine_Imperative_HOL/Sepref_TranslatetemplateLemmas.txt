   [("Sepref_Translate.CPR_tag_fallbackI", "CPR_TAG ?P ?Q",
     template_predicate
      (
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)
         )),
    ("Sepref_Translate.id_WHILEIT",
     "PR_CONST WHILE\<^sub>T\<^bsup>?I\<^esup> ::\<^sub>i
      TYPE((?'a => bool) => (?'a => ?'a nres) => ?'a => ?'a nres)",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 3,
             template_app
              (template_hole 2,
               template_app (template_hole 1, template_var 0))),
           template_hole 0)
         )),
    ("Sepref_Translate.id_monadic_WHILEIT",
     "PR_CONST (monadic_WHILEIT ?I) ::\<^sub>i
      TYPE((?'a => bool nres) => (?'a => ?'a nres) => ?'a => ?'a nres)",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 3,
             template_app
              (template_hole 2,
               template_app (template_hole 1, template_var 0))),
           template_hole 0)
         )),
    ("Sepref_Translate.id_op_ASSERT_bind",
     "PR_CONST (op_ASSERT_bind ?I) ::\<^sub>i TYPE(?'a nres => ?'a nres)",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 3,
             template_app
              (template_hole 2,
               template_app (template_hole 1, template_var 0))),
           template_hole 0)
         )),
    ("Sepref_Translate.id_op_ASSUME_bind",
     "PR_CONST (op_ASSUME_bind ?I) ::\<^sub>i TYPE(?'a nres => ?'a nres)",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 3,
             template_app
              (template_hole 2,
               template_app (template_hole 1, template_var 0))),
           template_hole 0)
         )),
    ("Sepref_Translate.RPREMI", "?P ==> RPREM ?P",
     template_implication
      ([template_predicate (template_var 0)],
       template_predicate
        (template_app (template_hole 0, template_var 0)))),
    ("Sepref_Translate.precise_pure_iff_sv",
     "precise (pure ?R) = single_valued ?R",
     template_equation
      (template_app
        (template_hole 2, template_app (template_hole 1, template_var 0)),
       template_app (template_hole 0, template_var 0))),
    ("Sepref_Translate.precise_pure",
     "single_valued ?R ==> precise (pure ?R)",
     template_implication
      ([template_predicate
         (template_app (template_hole 2, template_var 0))],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 0))
           ))),
    ("Sepref_Translate.vassn_tagI",
     "?h \<Turnstile> ?\<Gamma> ==> vassn_tag ?\<Gamma>",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 1),
              template_var 0)
            )],
       template_predicate
        (template_app (template_hole 0, template_var 1)))),
    ("Sepref_Translate.is_GEN_ALGO",
     "GEN_ALGO ?f ?\<Phi> ==> GEN_ALGO ?f ?\<Phi>",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 0, template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 1), template_var 0)
           ))),
    ("Sepref_Translate.import_rel1_pure_conv",
     "import_rel1 ?R (pure ?A) = pure (\<langle>?A\<rangle>?R)",
     template_equation
      (template_app
        (template_app (template_hole 3, template_var 1),
         template_app (template_hole 2, template_var 0)),
       template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Sepref_Translate.CPR_tag_ctxtI",
     "CPR_TAG (hn_ctxt ?R ?x ?xi) (hn_ctxt ?R' ?x ?xi)",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app
                (template_app (template_hole 0, template_var 3),
                 template_var 2),
               template_var 1)),
           template_app
            (template_app
              (template_app (template_hole 0, template_var 0),
               template_var 2),
             template_var 1))
         )),
    ("Sepref_Translate.import_param_3",
     "\<up> (?P & ?Q) = \<up> ?P * \<up> ?Q",
     template_equation
      (template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 0, template_app (template_hole 2, template_var 1)),
         template_app (template_hole 2, template_var 0)))),
    ("Sepref_Translate.pure_precise_iff_sv",
     "is_pure ?R ==> precise ?R = single_valued (the_pure ?R)",
     template_implication
      ([template_predicate
         (template_app (template_hole 4, template_var 0))],
       template_equation
        (template_app (template_hole 2, template_var 0),
         template_app
          (template_hole 1,
           template_app (template_hole 0, template_var 0))))),
    ("Sepref_Translate.import_param_1",
     "(?P --> ?Q --> ?R) = (?P & ?Q --> ?R)",
     template_equation
      (template_app
        (template_app (template_hole 1, template_var 2),
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1)),
         template_var 0))),
    ("Sepref_Translate.vassn_dest",
     "vassn_tag (?\<Gamma>\<^sub>1 * ?\<Gamma>\<^sub>2) ==>
      vassn_tag ?\<Gamma>\<^sub>1 & vassn_tag ?\<Gamma>\<^sub>2",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 2,
              template_app
               (template_app (template_hole 1, template_var 1),
                template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 0,
               template_app (template_hole 2, template_var 1)),
             template_app (template_hole 2, template_var 0))
           ))),
    ("Sepref_Translate.import_param_3",
     "\<up> ((?c, ?a) : ?R) = hn_val ?R ?a ?c",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app (template_hole 2, template_var 2),
               template_var 1)),
           template_var 0)),
       template_app
        (template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 0)),
           template_var 1),
         template_var 2))),
    ("Sepref_Translate.invalid_assn_const",
     "invalid_assn (%_ _. ?P) ?x ?y = \<up> (vassn_tag ?P) * true",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 4, t_empty), template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_hole 3,
           template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 2))),
         template_hole 0))),
    ("Sepref_Translate.vassn_dest",
     "vassn_tag (hn_ctxt ?R ?a ?b) ==> ?a : rdom ?R",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 4,
              template_app
               (template_app
                 (template_app (template_hole 3, template_var 2),
                  template_var 1),
                template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 2, template_var 1),
             template_app
              (template_hole 1,
               template_app (template_hole 0, template_var 2)))
           ))),
    ("Sepref_Translate.entails_preI",
     "(vassn_tag ?A ==> ?A \<Longrightarrow>\<^sub>A ?B) ==>
      ?A \<Longrightarrow>\<^sub>A ?B",
     template_implication
      ([template_implication
         ([template_predicate
            (template_app (template_hole 1, template_var 1))],
          template_predicate
           (
              template_app
               (template_app (template_hole 0, template_var 1),
                template_var 0)
              ))],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 1), template_var 0)
           ))),
    ("Sepref_Translate.import_rel2_pure_conv",
     "import_rel2 ?R (pure ?A) (pure ?B) =
      pure (\<langle>?A, ?B\<rangle>?R)",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 5, template_var 2),
           template_app (template_hole 4, template_var 1)),
         template_app (template_hole 3, template_var 0)),
       template_app
        (template_hole 2,
         template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 2),
               template_var 1)),
           template_var 0)))),
    ("Sepref_Translate.add_PR_CONST",
     "(?c, ?a) : ?R ==> (?c, PR_CONST ?a) : ?R",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 2,
                template_app
                 (template_app (template_hole 1, template_var 2),
                  template_var 1)),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 2),
                 template_app (template_hole 0, template_var 1))),
             template_var 0)
           ))),
    ("Sepref_Translate.WHILEIT_to_monadic",
     "WHILE\<^sub>T\<^bsup>?I\<^esup> ?b ?f ?s =
      monadic_WHILEIT ?I (%s. RETURN (?b s)) ?f ?s",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_app (template_hole 2, template_var 3),
             template_var 2),
           template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_app
            (template_app (template_hole 1, template_var 3), t_empty),
           template_var 1),
         template_var 0))),
    ("Sepref_Translate.hn_pass",
     "hn_refine (hn_ctxt ?P ?x ?x') (return ?x') (hn_invalid ?P ?x ?x') ?P
       (PASS $ ?x)",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_app
                (template_app
                  (template_hole 5,
                   template_app
                    (template_app
                      (template_app (template_hole 4, template_var 2),
                       template_var 1),
                     template_var 0)),
                 template_app (template_hole 3, template_var 0)),
               template_app
                (template_app
                  (template_app
                    (template_hole 4,
                     template_app (template_hole 2, template_var 2)),
                   template_var 1),
                 template_var 0)),
             template_var 2),
           template_app
            (template_app (template_hole 1, template_hole 0),
             template_var 1))
         )),
    ("Sepref_Translate.pure_hn_refineI_no_asm",
     "(?c, ?a) : ?R ==>
      hn_refine emp (return ?c) emp (pure ?R) (RETURN ?a)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 6,
                template_app
                 (template_app (template_hole 5, template_var 2),
                  template_var 1)),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 4, template_hole 3),
                   template_app (template_hole 2, template_var 2)),
                 template_hole 3),
               template_app (template_hole 1, template_var 0)),
             template_app (template_hole 0, template_var 1))
           ))),
    ("Sepref_Translate.import_param_1",
     "((?a, ?c) : ?Rel & PROTECT ?P) = (PROTECT ?P & (?a, ?c) : ?Rel)",
     template_equation
      (template_app
        (template_app
          (template_hole 3,
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 3),
                 template_var 2)),
             template_var 1)),
         template_app (template_hole 0, template_var 0)),
       template_app
        (template_app
          (template_hole 3, template_app (template_hole 0, template_var 0)),
         template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_var 3),
               template_var 2)),
           template_var 1)))),
    ("Sepref_Translate.CPR_TAG_starI",
     "[| CPR_TAG ?P1.0 ?Q1.0; CPR_TAG ?P2.0 ?Q2.0 |]
      ==> CPR_TAG (?P1.0 * ?P2.0) (?Q1.0 * ?Q2.0)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 3),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 3),
                 template_var 1)),
             template_app
              (template_app (template_hole 0, template_var 2),
               template_var 0))
           ))),
    ("Sepref_Translate.recover_pure_cons",
     "[| RECOVER_PURE ?\<Gamma> ?\<Gamma>';
         hn_refine ?\<Gamma>' ?c ?\<Gamma>'' ?R ?a |]
      ==> hn_refine ?\<Gamma> ?c ?\<Gamma>'' ?R ?a",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 5),
              template_var 4)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 0, template_var 4),
                    template_var 3),
                  template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 0, template_var 5),
                   template_var 3),
                 template_var 2),
               template_var 1),
             template_var 0)
           ))),
    ("Sepref_Translate.pure_hn_refineI",
     "?Q --> (?c, ?a) : ?R ==>
      hn_refine (\<up> ?Q) (return ?c) (\<up> ?Q) (pure ?R) (RETURN ?a)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 3),
              template_app
               (template_app
                 (template_hole 6,
                  template_app
                   (template_app (template_hole 5, template_var 2),
                    template_var 1)),
                template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_app
                    (template_hole 4,
                     template_app (template_hole 3, template_var 3)),
                   template_app (template_hole 2, template_var 2)),
                 template_app (template_hole 3, template_var 3)),
               template_app (template_hole 1, template_var 0)),
             template_app (template_hole 0, template_var 1))
           ))),
    ("Sepref_Translate.heap_WHILET_unfold",
     "heap_WHILET ?b ?f ?s =
      ?b ?s >>=
      (%bv. if bv then ?f ?s >>= heap_WHILET ?b ?f else return ?s)",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 4, template_var 2), template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_hole 3, template_app (template_var 2, template_var 0)),
         t_empty))),
    ("Sepref_Translate.hn_ASSERT_bind",
     "(?I ==> hn_refine ?\<Gamma> ?c ?\<Gamma>' ?R ?m) ==>
      hn_refine ?\<Gamma> ?c ?\<Gamma>' ?R
       (PR_CONST (op_ASSERT_bind ?I) $ ?m)",
     template_implication
      ([template_implication
         ([template_predicate (template_var 5)],
          template_predicate
           (
              template_app
               (template_app
                 (template_app
                   (template_app
                     (template_app (template_hole 3, template_var 4),
                      template_var 3),
                    template_var 2),
                  template_var 1),
                template_var 0)
              ))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 3, template_var 4),
                   template_var 3),
                 template_var 2),
               template_var 1),
             template_app
              (template_app
                (template_hole 2,
                 template_app
                  (template_hole 1,
                   template_app (template_hole 0, template_var 5))),
               template_var 0))
           ))),
    ("Sepref_Translate.cons_pre_rule",
     "[| CPR_TAG ?P ?P'; ?P \<Longrightarrow>\<^sub>t ?P';
         hn_refine ?P' ?c ?Q ?R ?m |]
      ==> hn_refine ?P ?c ?Q ?R ?m",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 5),
              template_var 4)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 5),
              template_var 4)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 0, template_var 4),
                    template_var 3),
                  template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 0, template_var 5),
                   template_var 3),
                 template_var 2),
               template_var 1),
             template_var 0)
           ))),
    ("Sepref_Translate.trans_frame_rule",
     "[| RECOVER_PURE ?\<Gamma> ?\<Gamma>';
         vassn_tag ?\<Gamma>' ==>
         hn_refine ?\<Gamma>' ?c ?\<Gamma>'' ?R ?a |]
      ==> hn_refine (?F * ?\<Gamma>) ?c (?F * ?\<Gamma>'') ?R ?a",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 6),
              template_var 5)
            ),
        template_implication
         ([template_predicate
            (template_app (template_hole 2, template_var 5))],
          template_predicate
           (
              template_app
               (template_app
                 (template_app
                   (template_app
                     (template_app (template_hole 1, template_var 5),
                      template_var 4),
                    template_var 3),
                  template_var 2),
                template_var 1)
              ))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_app
                    (template_hole 1,
                     template_app
                      (template_app (template_hole 0, template_var 0),
                       template_var 6)),
                   template_var 4),
                 template_app
                  (template_app (template_hole 0, template_var 0),
                   template_var 3)),
               template_var 2),
             template_var 1)
           ))),
    ("Sepref_Translate.hn_ASSUME_bind",
     "[| vassn_tag ?\<Gamma> ==> ?I;
         ?I ==> hn_refine ?\<Gamma> ?c ?\<Gamma>' ?R ?m |]
      ==> hn_refine ?\<Gamma> ?c ?\<Gamma>' ?R
           (PR_CONST (op_ASSUME_bind ?I) $ ?m)",
     template_implication
      ([template_implication
         ([template_predicate
            (template_app (template_hole 4, template_var 5))],
          template_predicate (template_var 4)),
        template_implication
         ([template_predicate (template_var 4)],
          template_predicate
           (
              template_app
               (template_app
                 (template_app
                   (template_app
                     (template_app (template_hole 3, template_var 5),
                      template_var 3),
                    template_var 2),
                  template_var 1),
                template_var 0)
              ))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 3, template_var 5),
                   template_var 3),
                 template_var 2),
               template_var 1),
             template_app
              (template_app
                (template_hole 2,
                 template_app
                  (template_hole 1,
                   template_app (template_hole 0, template_var 4))),
               template_var 0))
           ))),
    ("Sepref_Translate.to_import_frefD",
     "[| (?f, ?g) : [?P]\<^sub>f ?R \<rightarrow> ?S; PROTECT (?P ?y);
         (?x, ?y) : ?R |]
      ==> (?f ?x, ?g ?y) : ?S",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 7,
                template_app
                 (template_app (template_hole 6, template_var 6),
                  template_var 5)),
              template_app
               (template_app
                 (template_app (template_hole 5, template_var 4),
                  template_var 3),
                template_var 2))
            ),
        template_predicate
         (
            template_app
             (template_hole 4,
              template_app (template_var 4, template_var 1))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 3,
                template_app
                 (template_app (template_hole 2, template_var 0),
                  template_var 1)),
              template_var 3)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app
                  (template_hole 0,
                   template_app (template_var 6, template_var 0)),
                 template_app (template_var 5, template_var 1))),
             template_var 2)
           ))),
    ("Sepref_Translate.hn_RCALL",
     "[| RPREM (hn_refine ?P' ?c ?Q' ?R (RCALL $ ?a $ ?b));
         ?P \<Longrightarrow>\<^sub>t ?F * ?P' |]
      ==> hn_refine ?P ?c (?F * ?Q') ?R (RCALL $ ?a $ ?b)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 6,
              template_app
               (template_app
                 (template_app
                   (template_app
                     (template_app (template_hole 5, template_var 7),
                      template_var 6),
                    template_var 5),
                  template_var 4),
                template_app
                 (template_app
                   (template_hole 4,
                    template_app
                     (template_app (template_hole 3, template_hole 2),
                      template_var 3)),
                  template_var 2)))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 1),
              template_app
               (template_app (template_hole 0, template_var 0),
                template_var 7))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 5, template_var 1),
                   template_var 6),
                 template_app
                  (template_app (template_hole 0, template_var 0),
                   template_var 5)),
               template_var 4),
             template_app
              (template_app
                (template_hole 4,
                 template_app
                  (template_app (template_hole 3, template_hole 2),
                   template_var 3)),
               template_var 2))
           ))),
    ("Sepref_Translate.hn_bind",
     "[| hn_refine ?\<Gamma> ?m' ?\<Gamma>1.0 ?Rh ?m;
         !!x x'.
            bind_ref_tag x ?m ==>
            hn_refine (?\<Gamma>1.0 * hn_ctxt ?Rh x x') (?f' x')
             (?\<Gamma>2.0 x x') ?R (?f x);
         !!x x'.
            ?\<Gamma>2.0 x x' \<Longrightarrow>\<^sub>t
            ?\<Gamma>' * hn_ctxt ?Rx x x' |]
      ==> hn_refine ?\<Gamma> (?m' >>= ?f') ?\<Gamma>' ?R
           ((>>=) $ ?m $ (%x. (#?f x#)))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 13, template_var 10),
                    template_var 9),
                  template_var 8),
                template_var 7),
              template_var 6)
            ),
        template_predicate (template_app (template_hole 12, t_empty)),
        template_predicate (template_app (template_hole 12, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 9, template_var 10),
                   template_app
                    (template_app (template_hole 5, template_var 9),
                     template_var 5)),
                 template_var 1),
               template_var 3),
             template_app
              (template_app
                (template_hole 4,
                 template_app
                  (template_app (template_hole 3, template_hole 2),
                   template_var 6)),
               t_empty))
           ))),
    ("Sepref_Translate.monadic_WHILEIT_refine_WHILET",
     "[| (?s', ?s) : ?R;
         !!s' s. (s', s) : ?R ==> ?b' s' <= SPEC (%r. r = ?b s);
         !!s' s. [| (s', s) : ?R; ?b s |] ==> ?f' s' <= \<Down> ?R (?f s) |]
      ==> monadic_WHILEIT (%_. True) ?b' ?f' ?s'
          <= \<Down> ?R (WHILE\<^sub>T ?b ?f ?s)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 12,
                template_app
                 (template_app (template_hole 11, template_var 6),
                  template_var 5)),
              template_var 4)
            ),
        template_predicate (template_app (template_hole 10, t_empty)),
        template_predicate (template_app (template_hole 10, t_empty))],
       template_inequation
        (less_equals,
         template_app
          (template_app
            (template_app
              (template_app (template_hole 2, t_empty), template_var 3),
             template_var 1),
           template_var 6),
         template_app
          (template_app (template_hole 3, template_var 4),
           template_app
            (template_app
              (template_app (template_hole 0, template_var 2),
               template_var 0),
             template_var 5))))),
    ("Sepref_Translate.monadic_WHILEIT_refine_WHILEIT",
     "[| (?s', ?s) : ?R; !!s' s. [| (s', s) : ?R; ?I s |] ==> ?I' s';
         !!s' s.
            [| (s', s) : ?R; ?I s; ?I' s' |]
            ==> ?b' s' <= SPEC (%r. r = ?b s);
         !!s' s.
            [| (s', s) : ?R; ?I s; ?I' s'; ?b s |]
            ==> ?f' s' <= \<Down> ?R (?f s) |]
      ==> monadic_WHILEIT ?I' ?b' ?f' ?s'
          <= \<Down> ?R (WHILE\<^sub>T\<^bsup>?I\<^esup> ?b ?f ?s)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 11,
                template_app
                 (template_app (template_hole 10, template_var 8),
                  template_var 7)),
              template_var 6)
            ),
        template_predicate (template_app (template_hole 9, t_empty)),
        template_predicate (template_app (template_hole 9, t_empty)),
        template_predicate (template_app (template_hole 9, t_empty))],
       template_inequation
        (less_equals,
         template_app
          (template_app
            (template_app
              (template_app (template_hole 1, template_var 4),
               template_var 3),
             template_var 1),
           template_var 8),
         template_app
          (template_app (template_hole 2, template_var 6),
           template_app
            (template_app
              (template_app
                (template_app (template_hole 0, template_var 5),
                 template_var 2),
               template_var 0),
             template_var 7))))),
    ("Sepref_Translate.monadic_WHILEIT_refine",
     "[| (?s', ?s) : ?R; !!s' s. [| (s', s) : ?R; ?I s |] ==> ?I' s';
         !!s' s.
            [| (s', s) : ?R; ?I s; ?I' s' |]
            ==> ?b' s' <= \<Down> bool_rel (?b s);
         !!s' s.
            [| (s', s) : ?R; ?I s; ?I' s'; nofail (?b s);
               inres (?b s) True |]
            ==> ?f' s' <= \<Down> ?R (?f s) |]
      ==> monadic_WHILEIT ?I' ?b' ?f' ?s'
          <= \<Down> ?R (monadic_WHILEIT ?I ?b ?f ?s)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 13,
                template_app
                 (template_app (template_hole 12, template_var 8),
                  template_var 7)),
              template_var 6)
            ),
        template_predicate (template_app (template_hole 11, t_empty)),
        template_predicate (template_app (template_hole 11, t_empty)),
        template_predicate (template_app (template_hole 11, t_empty))],
       template_inequation
        (less_equals,
         template_app
          (template_app
            (template_app
              (template_app (template_hole 1, template_var 4),
               template_var 3),
             template_var 1),
           template_var 8),
         template_app
          (template_app (template_hole 2, template_var 6),
           template_app
            (template_app
              (template_app
                (template_app (template_hole 0, template_var 5),
                 template_var 2),
               template_var 0),
             template_var 7))))),
    ("Sepref_Translate.hn_monadic_WHILE_aux",
     "[| ?P \<Longrightarrow>\<^sub>t ?\<Gamma> * hn_ctxt ?Rs ?s' ?s;
         !!s s'.
            ?I s' ==>
            hn_refine (?\<Gamma> * hn_ctxt ?Rs s' s) (?b s)
             (?\<Gamma>b s' s) id_assn (?b' s');
         !!s' s.
            ?\<Gamma>b s' s \<Longrightarrow>\<^sub>t
            ?\<Gamma> * hn_ctxt ?Rs s' s;
         !!s' s.
            ?I s' ==>
            hn_refine (?\<Gamma> * hn_ctxt ?Rs s' s) (?f s)
             (?\<Gamma>f s' s) ?Rs (?f' s');
         !!s' s.
            ?\<Gamma>f s' s \<Longrightarrow>\<^sub>t
            ?\<Gamma> * hn_ctxt (%_ _. true) s' s |]
      ==> hn_refine ?P (heap_WHILET ?b ?f ?s)
           (?\<Gamma> * hn_invalid ?Rs ?s' ?s) ?Rs
           (monadic_WHILEIT ?I ?b' ?f' ?s')",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 12, template_var 11),
              template_app
               (template_app (template_hole 11, template_var 10),
                template_app
                 (template_app
                   (template_app (template_hole 10, template_var 9),
                    template_var 8),
                  template_var 7)))
            ),
        template_predicate (template_app (template_hole 9, t_empty)),
        template_predicate (template_app (template_hole 8, t_empty)),
        template_predicate (template_app (template_hole 8, t_empty)),
        template_predicate (template_app (template_hole 8, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 4, template_var 11),
                   template_app
                    (template_app
                      (template_app (template_hole 2, template_var 5),
                       template_var 2),
                     template_var 7)),
                 template_app
                  (template_app (template_hole 11, template_var 10),
                   template_app
                    (template_app
                      (template_app
                        (template_hole 10,
                         template_app (template_hole 1, template_var 9)),
                       template_var 8),
                     template_var 7))),
               template_var 9),
             template_app
              (template_app
                (template_app
                  (template_app (template_hole 0, template_var 6),
                   template_var 3),
                 template_var 0),
               template_var 8))
           ))),
    ("Sepref_Translate.hn_RECT'",
     "[| INDEP ?Ry; INDEP ?Rx; INDEP ?Rx';
         ?P \<Longrightarrow>\<^sub>t hn_ctxt ?Rx ?ax ?px * ?F;
         !!cf af ax px.
            (!!ax px.
                hn_refine (hn_ctxt ?Rx ax px * ?F) (cf px)
                 (hn_ctxt ?Rx' ax px * ?F) ?Ry (RCALL $ af $ ax)) ==>
            hn_refine (hn_ctxt ?Rx ax px * ?F) (?cB cf px) (?F' ax px) ?Ry
             (?aB af ax);
         !!ax px.
            ?F' ax px \<Longrightarrow>\<^sub>t hn_ctxt ?Rx' ax px * ?F;
         !!x. mono_Heap (%f. ?cB f x) |]
      ==> hn_refine ?P (heap.fixp_fun ?cB ?px) (hn_ctxt ?Rx' ?ax ?px * ?F)
           ?Ry (REC\<^sub>T $ (%x. (#%xa. (#?aB x xa#)#)) $ ?ax)",
     template_implication
      ([template_predicate
         (template_app (template_hole 23, template_var 9)),
        template_predicate
         (template_app (template_hole 22, template_var 8)),
        template_predicate
         (template_app (template_hole 22, template_var 7)),
        template_predicate
         (
            template_app
             (template_app (template_hole 21, template_var 6),
              template_app
               (template_app
                 (template_hole 20,
                  template_app
                   (template_app
                     (template_app (template_hole 19, template_var 8),
                      template_var 5),
                    template_var 4)),
                template_var 3))
            ),
        template_predicate (template_app (template_hole 18, t_empty)),
        template_predicate (template_app (template_hole 16, t_empty)),
        template_predicate (template_app (template_hole 15, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 14, template_var 6),
                   template_app
                    (template_app
                      (template_app
                        (template_app
                          (template_hole 7,
                           template_app (template_hole 6, template_hole 5)),
                         template_app (template_hole 9, template_hole 8)),
                       template_var 2),
                     template_var 4)),
                 template_app
                  (template_app
                    (template_hole 20,
                     template_app
                      (template_app
                        (template_app (template_hole 19, template_var 7),
                         template_var 5),
                       template_var 4)),
                   template_var 3)),
               template_var 9),
             template_app
              (template_app
                (template_hole 13,
                 template_app
                  (template_app (template_hole 4, template_hole 3),
                   t_empty)),
               template_var 5))
           ))),
    ("Sepref_Translate.hn_monadic_WHILE_lin",
     "[| INDEP ?Rs;
         ?P \<Longrightarrow>\<^sub>t ?\<Gamma> * hn_ctxt ?Rs ?s' ?s;
         !!s s'.
            ?I s' ==>
            hn_refine (?\<Gamma> * hn_ctxt ?Rs s' s) (?b s)
             (?\<Gamma>b s' s) id_assn (?b' s');
         !!s' s.
            TERM (monadic_WHILEIT, ''cond'') ==>
            ?\<Gamma>b s' s \<Longrightarrow>\<^sub>t
            ?\<Gamma> * hn_ctxt ?Rs s' s;
         !!s' s.
            ?I s' ==>
            hn_refine (?\<Gamma> * hn_ctxt ?Rs s' s) (?f s)
             (?\<Gamma>f s' s) ?Rs (?f' s');
         !!s' s.
            TERM (monadic_WHILEIT, ''body'') ==>
            ?\<Gamma>f s' s \<Longrightarrow>\<^sub>t
            ?\<Gamma> * hn_ctxt (%_ _. true) s' s |]
      ==> hn_refine ?P (heap_WHILET ?b ?f ?s)
           (?\<Gamma> * hn_invalid ?Rs ?s' ?s) ?Rs
           (PR_CONST (monadic_WHILEIT ?I) $ (%x. (#?b' x#)) $
            (%x. (#?f' x#)) $
            ?s')",
     template_implication
      ([template_predicate
         (template_app (template_hole 31, template_var 11)),
        template_predicate
         (
            template_app
             (template_app (template_hole 30, template_var 10),
              template_app
               (template_app (template_hole 29, template_var 9),
                template_app
                 (template_app
                   (template_app (template_hole 28, template_var 11),
                    template_var 8),
                  template_var 7)))
            ),
        template_predicate (template_app (template_hole 27, t_empty)),
        template_predicate (template_app (template_hole 26, t_empty)),
        template_predicate (template_app (template_hole 26, t_empty)),
        template_predicate (template_app (template_hole 26, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 14, template_var 10),
                   template_app
                    (template_app
                      (template_app (template_hole 9, template_var 5),
                       template_var 2),
                     template_var 7)),
                 template_app
                  (template_app (template_hole 29, template_var 9),
                   template_app
                    (template_app
                      (template_app
                        (template_hole 28,
                         template_app (template_hole 8, template_var 11)),
                       template_var 8),
                     template_var 7))),
               template_var 11),
             template_app
              (template_app
                (template_hole 7,
                 template_app
                  (template_app
                    (template_hole 6,
                     template_app
                      (template_app
                        (template_hole 5,
                         template_app
                          (template_hole 4,
                           template_app (template_hole 3, template_var 6))),
                       t_empty)),
                   t_empty)),
               template_var 8))
           )))]
