   [("Tree_Relabelling.assert_fail", "assert ?P None = None",
     template_equation
      (template_app
        (template_app (template_hole 1, template_var 0), template_hole 0),
       template_hole 0)),
    ("Tree_Relabelling.leaves_simps",
     "leaves (Tree_Relabelling.tree.Leaf ?x) = Suc 0",
     template_equation
      (template_app
        (template_hole 3, template_app (template_hole 2, template_var 0)),
       template_app (template_hole 1, template_hole 0))),
    ("Tree_Relabelling.traverse_pure", "traverse pure ?t = pure ?t",
     template_equation
      (template_app
        (template_app (template_hole 2, template_hole 1), template_var 0),
       template_app (template_hole 0, template_var 0))),
    ("Tree_Relabelling.B_pure", "pure ?x = B (pure ?x)",
     template_equation
      (template_app (template_hole 2, template_var 0),
       template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)))),
    ("Tree_Relabelling.labels_simps",
     "labels (Tree_Relabelling.tree.Leaf ?x) = [?x]",
     template_equation
      (template_app
        (template_hole 3, template_app (template_hole 2, template_var 0)),
       template_app
        (template_app (template_hole 1, template_var 0), template_hole 0))),
    ("Tree_Relabelling.BB_pure", "pure ?x = B (B (pure ?x))",
     template_equation
      (template_app (template_hole 3, template_var 0),
       template_app
        (template_hole 2,
         template_app
          (template_hole 1,
           template_app (template_hole 0, template_var 0))))),
    ("Tree_Relabelling.traverse_recurse",
     "traverse ?f = un_B o recurse_rev (B o ?f)",
     template_equation
      (template_app (template_hole 5, template_var 0),
       template_app
        (template_app (template_hole 4, template_hole 3),
         template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 1, template_hole 0),
             template_var 0))))),
    ("Tree_Relabelling.leaves_simps",
     "leaves (Tree_Relabelling.tree.Node ?l ?r) = leaves ?l + leaves ?r",
     template_equation
      (template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 0, template_app (template_hole 2, template_var 1)),
         template_app (template_hole 2, template_var 0)))),
    ("Tree_Relabelling.labels_simps",
     "labels (Tree_Relabelling.tree.Node ?l ?r) = labels ?l @ labels ?r",
     template_equation
      (template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 0, template_app (template_hole 2, template_var 1)),
         template_app (template_hole 2, template_var 0)))),
    ("Tree_Relabelling.recurse_Leaf",
     "recurse ?f (Tree_Relabelling.tree.Leaf ?x) =
      pure Tree_Relabelling.tree.Leaf \<diamondop> ?f ?x",
     template_equation
      (template_app
        (template_app (template_hole 4, template_var 1),
         template_app (template_hole 3, template_var 0)),
       template_app
        (template_app
          (template_hole 2,
           template_app (template_hole 1, template_hole 0)),
         template_app (template_var 1, template_var 0)))),
    ("Tree_Relabelling.assert_pure",
     "assert ?P (pure ?x) = (if ?P ?x then pure ?x else None)",
     template_equation
      (template_app
        (template_app (template_hole 3, template_var 1),
         template_app (template_hole 2, template_var 0)),
       template_app
        (template_app
          (template_app
            (template_hole 1,
             template_app (template_var 1, template_var 0)),
           template_app (template_hole 2, template_var 0)),
         template_hole 0))),
    ("Tree_Relabelling.ap_state_rev_pure_B",
     "pure ?f \<diamondop> B ?x = B (pure ?f \<diamondop> ?x)",
     template_equation
      (template_app
        (template_app
          (template_hole 5, template_app (template_hole 4, template_var 1)),
         template_app (template_hole 3, template_var 0)),
       template_app
        (template_hole 2,
         template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 1)),
           template_var 0)))),
    ("Tree_Relabelling.ap_state_rev_rev_pure_B",
     "pure ?f \<diamondop> B ?x = B (pure ?f \<diamondop> ?x)",
     template_equation
      (template_app
        (template_app
          (template_hole 5, template_app (template_hole 4, template_var 1)),
         template_app (template_hole 3, template_var 0)),
       template_app
        (template_hole 2,
         template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 1)),
           template_var 0)))),
    ("Tree_Relabelling.plabel_mirror",
     "plabel ?p (Tree_Relabelling.mirror ?t) =
      pure Tree_Relabelling.mirror \<diamondop> plabel ?p ?t",
     template_equation
      (template_app
        (template_app (template_hole 4, template_var 1),
         template_app (template_hole 3, template_var 0)),
       template_app
        (template_app
          (template_hole 2,
           template_app (template_hole 1, template_hole 0)),
         template_app
          (template_app (template_hole 4, template_var 1),
           template_var 0)))),
    ("Tree_Relabelling.ap_conv_bind_state",
     "?f \<diamondop> ?x = ?f >>= (%f. ?x >>= pure o f)",
     template_equation
      (template_app
        (template_app (template_hole 4, template_var 1), template_var 0),
       template_app
        (template_app (template_hole 3, template_var 1), t_empty))),
    ("Tree_Relabelling.traverse_B_B",
     "traverse_rev_rev (B o B o ?f) = B o B o traverse ?f",
     template_equation
      (template_app
        (template_hole 9,
         template_app
          (template_app
            (template_hole 8,
             template_app
              (template_app (template_hole 7, template_hole 6),
               template_hole 5)),
           template_var 0)),
       template_app
        (template_app
          (template_hole 4,
           template_app
            (template_app (template_hole 3, template_hole 2),
             template_hole 1)),
         template_app (template_hole 0, template_var 0)))),
    ("Tree_Relabelling.BB_ap",
     "B (B ?f) \<diamondop> B (B ?x) = B (B (?f \<diamondop> ?x))",
     template_equation
      (template_app
        (template_app
          (template_hole 7,
           template_app
            (template_hole 6,
             template_app (template_hole 5, template_var 1))),
         template_app
          (template_hole 4,
           template_app (template_hole 3, template_var 0))),
       template_app
        (template_hole 2,
         template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 0))))),
    ("Tree_Relabelling.plabel_subtree",
     "plabel ?p (subtree ?path ?t) =
      pure (subtree ?path) \<diamondop> plabel ?p ?t",
     template_equation
      (template_app
        (template_app (template_hole 4, template_var 2),
         template_app
          (template_app (template_hole 3, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 2,
           template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 1))),
         template_app
          (template_app (template_hole 4, template_var 2),
           template_var 0)))),
    ("Tree_Relabelling.ap_pure_bind_state",
     "pure ?x \<diamondop> (?y >>= ?f) =
      ?y >>= (\<diamondop>) (pure ?x) o ?f",
     template_equation
      (template_app
        (template_app
          (template_hole 4, template_app (template_hole 3, template_var 2)),
         template_app
          (template_app (template_hole 2, template_var 1), template_var 0)),
       template_app
        (template_app (template_hole 1, template_var 1),
         template_app
          (template_app
            (template_hole 0,
             template_app
              (template_hole 4,
               template_app (template_hole 3, template_var 2))),
           template_var 0)))),
    ("Tree_Relabelling.recurse_traverse",
     "?f \<bullet> ?g = pure ==> recurse ?f \<bullet> traverse ?g = pure",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 6, template_var 1), template_var 0),
          template_hole 5)],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app (template_hole 2, template_var 1)),
           template_app (template_hole 1, template_var 0)),
         template_hole 0))),
    ("Tree_Relabelling.repeatM_plus",
     "repeatM (?n + ?m) ?f =
      pure (@) \<diamondop> repeatM ?n ?f \<diamondop> repeatM ?m ?f",
     template_equation
      (template_app
        (template_app
          (template_hole 5,
           template_app
            (template_app (template_hole 4, template_var 2),
             template_var 1)),
         template_var 0),
       template_app
        (template_app
          (template_hole 3,
           template_app
            (template_app
              (template_hole 2,
               template_app (template_hole 1, template_hole 0)),
             template_app
              (template_app (template_hole 5, template_var 2),
               template_var 0))),
         template_app
          (template_app (template_hole 5, template_var 1),
           template_var 0)))),
    ("Tree_Relabelling.ap_state_rev_B",
     "B ?f \<diamondop> B ?x =
      B (pure (%x f. f x) \<diamondop> ?x \<diamondop> ?f)",
     template_equation
      (template_app
        (template_app
          (template_hole 6, template_app (template_hole 5, template_var 1)),
         template_app (template_hole 4, template_var 0)),
       template_app
        (template_hole 3,
         template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app
                (template_hole 1, template_app (template_hole 0, t_empty)),
               template_var 0)),
           template_var 1)))),
    ("Tree_Relabelling.ap_state_rev_rev_B",
     "B ?f \<diamondop> B ?x =
      B (pure (%x f. f x) \<diamondop> ?x \<diamondop> ?f)",
     template_equation
      (template_app
        (template_app
          (template_hole 6, template_app (template_hole 5, template_var 1)),
         template_app (template_hole 4, template_var 0)),
       template_app
        (template_hole 3,
         template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app
                (template_hole 1, template_app (template_hole 0, t_empty)),
               template_var 0)),
           template_var 1)))),
    ("Tree_Relabelling.recurse_Node",
     "recurse ?f (Tree_Relabelling.tree.Node ?l ?r) =
      pure (%r l. Tree_Relabelling.tree.Node l r) \<diamondop>
      recurse ?f ?r \<diamondop>
      recurse ?f ?l",
     template_equation
      (template_app
        (template_app (template_hole 5, template_var 2),
         template_app
          (template_app (template_hole 4, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 3,
           template_app
            (template_app
              (template_hole 2, template_app (template_hole 1, t_empty)),
             template_app
              (template_app (template_hole 5, template_var 2),
               template_var 0))),
         template_app
          (template_app (template_hole 5, template_var 2),
           template_var 1))))]
