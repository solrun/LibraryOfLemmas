   [("Derivs.piecewise_C1_differentiable_const",
     "(%x. ?c) piecewise_C1_differentiable_on ?s",
     template_predicate
      (
         template_app
          (template_app (template_hole 0, t_empty), template_var 0)
         )),
    ("Derivs.piecewise_C1_differentiable_on_ident",
     "(%x. x) piecewise_C1_differentiable_on ?S",
     template_predicate
      (
         template_app
          (template_app (template_hole 0, t_empty), template_var 0)
         )),
    ("Derivs.scale_shift_smooth",
     "(%x. ?a + ?b * x) C1_differentiable_on ?s",
     template_predicate
      (
         template_app
          (template_app (template_hole 2, t_empty), template_var 0)
         )),
    ("Derivs.piecewise_C1_differentiable_on_imp_continuous_on",
     "?f piecewise_C1_differentiable_on ?s ==> continuous_on ?s ?f",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 0), template_var 1)
           ))),
    ("Derivs.field_simp_has_vector_derivative",
     "(?f has_real_derivative ?y) ?F ==> (?f has_vector_derivative ?y) ?F",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 1, template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 0, template_var 2),
               template_var 1),
             template_var 0)
           ))),
    ("Derivs.cos_C1_differentiable",
     "?f C1_differentiable_on ?S ==>
      (%x. cos (?f x)) C1_differentiable_on ?S",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, t_empty), template_var 0)
           ))),
    ("Derivs.sin_C1_differentiable",
     "?f C1_differentiable_on ?S ==>
      (%x. sin (?f x)) C1_differentiable_on ?S",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, t_empty), template_var 0)
           ))),
    ("Derivs.inj_on_arccos", "?S <= {- 1..1} ==> inj_on arccos ?S",
     template_implication
      ([template_inequation
         (less_equals, template_var 0,
          template_app
           (template_app
             (template_hole 4,
              template_app (template_hole 3, template_hole 2)),
            template_hole 2))],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, template_hole 0),
             template_var 0)
           ))),
    ("Derivs.C1_differentiable_on_cdiv",
     "?f C1_differentiable_on ?S ==>
      (%x. ?f x / ?c) C1_differentiable_on ?S",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 2),
              template_var 1)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, t_empty), template_var 1)
           ))),
    ("Derivs.piecewise_C1_differentiable_on_cdiv",
     "?f piecewise_C1_differentiable_on ?S ==>
      (%x. ?f x / ?c) piecewise_C1_differentiable_on ?S",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 2),
              template_var 1)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, t_empty), template_var 1)
           ))),
    ("Derivs.scale_piecewise_C1_differentiable_on",
     "?f piecewise_C1_differentiable_on ?s ==>
      (%x. ?c * ?f x) piecewise_C1_differentiable_on ?s",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 2),
              template_var 1)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, t_empty), template_var 1)
           ))),
    ("Derivs.open_diff", "[| finite ?t; open ?s |] ==> open (?s - ?t)",
     template_implication
      ([template_predicate (template_app (template_hole 2, template_var 1)),
        template_predicate
         (template_app (template_hole 1, template_var 0))],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 0),
               template_var 1))
           ))),
    ("Derivs.islimpt_diff_finite",
     "finite ?t ==> ?x islimpt ?s - ?t = ?x islimpt ?s",
     template_implication
      ([template_predicate
         (template_app (template_hole 3, template_var 2))],
       template_equation
        (template_app
          (template_app (template_hole 1, template_var 1),
           template_app
            (template_app (template_hole 0, template_var 0),
             template_var 2)),
         template_app
          (template_app (template_hole 1, template_var 1),
           template_var 0)))),
    ("Derivs.has_derivative_abs",
     "?a ~= 0 ==> (abs has_derivative (*) (sgn ?a)) (at ?a)",
     template_implication
      ([template_negation
         (template_equation (template_var 0, template_hole 6))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 5, template_hole 4),
               template_app
                (template_hole 3,
                 template_app (template_hole 2, template_var 0))),
             template_app
              (template_app (template_hole 1, template_var 0),
               template_hole 0))
           ))),
    ("Derivs.subpath_compose",
     "subpath ?a ?b ?\<gamma> = ?\<gamma> o (%x. (?b - ?a) * x + ?a)",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 4, template_var 2), template_var 1),
         template_var 0),
       template_app
        (template_app (template_hole 3, template_var 0), t_empty))),
    ("Derivs.has_vector_derivative_divide",
     "(?f has_vector_derivative ?x) ?F ==>
      ((%x. ?f x / ?a) has_vector_derivative ?x / ?a) ?F",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 1, template_var 3),
                template_var 2),
              template_var 1)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 1, t_empty),
               template_app
                (template_app (template_hole 0, template_var 2),
                 template_var 0)),
             template_var 1)
           ))),
    ("Derivs.eq_smooth_gen",
     "[| ?f C1_differentiable_on ?s; ALL x. ?f x = ?g x |]
      ==> ?g C1_differentiable_on ?s",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 2),
              template_var 1)
            ),
        template_predicate (template_app (template_hole 1, t_empty))],
       template_predicate
        (
           template_app
            (template_app (template_hole 2, template_var 0), template_var 1)
           ))),
    ("Derivs.C1_diff_components_2",
     "[| ?b : Basis; ?f C1_differentiable_on ?s |]
      ==> (%x. ?f x \<bullet> ?b) C1_differentiable_on ?s",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 2),
              template_hole 3)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, t_empty), template_var 0)
           ))),
    ("Derivs.C1_differentiable_on_pair",
     "[| ?f C1_differentiable_on ?S; ?g C1_differentiable_on ?S |]
      ==> (%x. (?f x, ?g x)) C1_differentiable_on ?S",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 0),
              template_var 1)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, t_empty), template_var 1)
           ))),
    ("Derivs.pair_prod_smooth_pw_smooth",
     "[| ?f C1_differentiable_on ?s; ?g piecewise_C1_differentiable_on ?s |]
      ==> (%x. (?f x, ?g x)) piecewise_C1_differentiable_on ?s",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 0),
              template_var 1)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, t_empty), template_var 1)
           ))),
    ("Derivs.piecewise_C1_differentiable_on_pair",
     "[| ?f piecewise_C1_differentiable_on ?S;
         ?g piecewise_C1_differentiable_on ?S |]
      ==> (%x. (?f x, ?g x)) piecewise_C1_differentiable_on ?S",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 0),
              template_var 1)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, t_empty), template_var 1)
           ))),
    ("Derivs.piecewise_C1_differentiable_on_mult",
     "[| ?f piecewise_C1_differentiable_on ?S;
         ?g piecewise_C1_differentiable_on ?S |]
      ==> (%x. ?f x * ?g x) piecewise_C1_differentiable_on ?S",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 0),
              template_var 1)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, t_empty), template_var 1)
           ))),
    ("Derivs.straight_path_diffrentiable_x",
     "?\<gamma> = (%x. (?b, ?y2.0 + ?y1.0 * x)) ==>
      ALL x. ?\<gamma> differentiable at x",
     template_implication
      ([template_equation (template_var 3, t_empty)],
       template_predicate (template_app (template_hole 3, t_empty)))),
    ("Derivs.straight_path_diffrentiable_y",
     "?\<gamma> = (%x. (?y2.0 + ?y1.0 * x, ?b)) ==>
      ALL x. ?\<gamma> differentiable at x",
     template_implication
      ([template_equation (template_var 3, t_empty)],
       template_predicate (template_app (template_hole 3, t_empty)))),
    ("Derivs.C1_differentiable_on_components",
     "(!!i. i : Basis ==>
            (%x. ?f x \<bullet> i) C1_differentiable_on ?s) ==>
      ?f C1_differentiable_on ?s",
     template_implication
      ([template_predicate (template_app (template_hole 6, t_empty))],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 1), template_var 0)
           ))),
    ("Derivs.abs_C1_differentiable",
     "[| ?f C1_differentiable_on ?S; 0 ~: ?f ` ?S |]
      ==> (%x. \<bar>?f x\<bar>) C1_differentiable_on ?S",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 1),
              template_var 0)
            ),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 3, template_hole 2),
                  template_app
                   (template_app (template_hole 1, template_var 1),
                    template_var 0))
                )
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 5, t_empty), template_var 0)
           ))),
    ("Derivs.sqrt_C1_differentiable",
     "[| ?f C1_differentiable_on ?S; ?f ` ?S <= {0<..} |]
      ==> (%x. sqrt (?f x)) C1_differentiable_on ?S",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 1),
              template_var 0)
            ),
        template_inequation
         (less_equals,
          template_app
           (template_app (template_hole 3, template_var 1), template_var 0),
          template_app (template_hole 2, template_hole 1))],
       template_predicate
        (
           template_app
            (template_app (template_hole 5, t_empty), template_var 0)
           ))),
    ("Derivs.sqrt_piecewise_C1_differentiable",
     "[| ?f piecewise_C1_differentiable_on ?S; ?f ` ?S <= {0<..} |]
      ==> (%x. sqrt (?f x)) piecewise_C1_differentiable_on ?S",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 1),
              template_var 0)
            ),
        template_inequation
         (less_equals,
          template_app
           (template_app (template_hole 3, template_var 1), template_var 0),
          template_app (template_hole 2, template_hole 1))],
       template_predicate
        (
           template_app
            (template_app (template_hole 5, t_empty), template_var 0)
           ))),
    ("Derivs.boring_lemma2",
     "(?f has_vector_derivative ?D) (at ?x) ==>
      ((%x. (0::?'a, ?f x)) has_vector_derivative (0::?'a, ?D)) (at ?x)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 5, template_var 2),
                template_var 1),
              template_app
               (template_app (template_hole 4, template_var 0),
                template_hole 3))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 2, t_empty),
               template_app
                (template_app (template_hole 1, template_hole 0),
                 template_var 1)),
             template_app
              (template_app (template_hole 4, template_var 0),
               template_hole 3))
           ))),
    ("Derivs.boring_lemma1",
     "(?f has_vector_derivative ?D) (at ?x) ==>
      ((%x. (?f x, 0)) has_vector_derivative (?D, 0)) (at ?x)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 5, template_var 2),
                template_var 1),
              template_app
               (template_app (template_hole 4, template_var 0),
                template_hole 3))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 2, t_empty),
               template_app
                (template_app (template_hole 1, template_var 1),
                 template_hole 0)),
             template_app
              (template_app (template_hole 4, template_var 0),
               template_hole 3))
           ))),
    ("Derivs.has_vector_derivative_componentwise_within",
     "(?f has_vector_derivative ?f') (at ?a within ?S) =
      (ALL i:Basis.
          ((%x. ?f x \<bullet> i) has_vector_derivative ?f' \<bullet> i)
           (at ?a within ?S))",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 5, template_var 3), template_var 2),
         template_app
          (template_app (template_hole 4, template_var 1), template_var 0)),
       template_app
        (template_app (template_hole 3, template_hole 2), t_empty))),
    ("Derivs.vector_derivative_at_within_non_trivial_limit",
     "at ?x within ?s ~= bot & (?f has_vector_derivative ?f') (at ?x) ==>
      vector_derivative ?f (at ?x within ?s) = ?f'",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 8,
                template_app
                 (template_hole 7,
                  template_app
                   (template_app
                     (template_hole 6,
                      template_app
                       (template_app (template_hole 5, template_var 3),
                        template_var 2)),
                    template_hole 4))),
              template_app
               (template_app
                 (template_app (template_hole 3, template_var 1),
                  template_var 0),
                template_app
                 (template_app (template_hole 5, template_var 3),
                  template_hole 2)))
            )],
       template_equation
        (template_app
          (template_app (template_hole 0, template_var 1),
           template_app
            (template_app (template_hole 5, template_var 3),
             template_var 2)),
         template_var 0))),
    ("Derivs.derivative_component_fun_component",
     "?f differentiable at ?x ==>
      vector_derivative ?f (at ?x) \<bullet> ?i =
      vector_derivative (%x. ?f x \<bullet> ?i) (at ?x)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 2),
              template_app
               (template_app (template_hole 5, template_var 1),
                template_hole 4))
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_var 2),
               template_app
                (template_app (template_hole 5, template_var 1),
                 template_hole 4))),
           template_var 0),
         template_app
          (template_app (template_hole 0, t_empty),
           template_app
            (template_app (template_hole 5, template_var 1),
             template_hole 4))))),
    ("Derivs.ivl_limpt_diff",
     "[| finite ?s; ?a < ?b; ?x : {?a..?b} - ?s |]
      ==> ?x islimpt {?a..?b} - ?s",
     template_implication
      ([template_predicate (template_app (template_hole 5, template_var 3)),
        template_inequation (less_than, template_var 2, template_var 1),
        template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 0),
              template_app
               (template_app
                 (template_hole 2,
                  template_app
                   (template_app (template_hole 1, template_var 2),
                    template_var 1)),
                template_var 3))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 0),
             template_app
              (template_app
                (template_hole 2,
                 template_app
                  (template_app (template_hole 1, template_var 2),
                   template_var 1)),
               template_var 3))
           ))),
    ("Derivs.ivl_not_trivial_limit_within",
     "[| finite ?s; ?a < ?b; ?x : {?a..?b} - ?s |]
      ==> at ?x within {?a..?b} - ?s ~= bot",
     template_implication
      ([template_predicate (template_app (template_hole 8, template_var 3)),
        template_inequation (less_than, template_var 2, template_var 1),
        template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 0),
              template_app
               (template_app
                 (template_hole 5,
                  template_app
                   (template_app (template_hole 4, template_var 2),
                    template_var 1)),
                template_var 3))
            )],
       template_negation
        (
           template_equation
            (template_app
              (template_app (template_hole 1, template_var 0),
               template_app
                (template_app
                  (template_hole 5,
                   template_app
                    (template_app (template_hole 4, template_var 2),
                     template_var 1)),
                 template_var 3)),
             template_hole 0)
           ))),
    ("Derivs.ivl_closure_diff_del",
     "[| finite ?s; ?a < ?b; ?x : {?a..?b} - ?s |]
      ==> ?x : closure ({?a..?b} - ?s - {?x})",
     template_implication
      ([template_predicate (template_app (template_hole 7, template_var 3)),
        template_inequation (less_than, template_var 2, template_var 1),
        template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 0),
              template_app
               (template_app
                 (template_hole 4,
                  template_app
                   (template_app (template_hole 3, template_var 2),
                    template_var 1)),
                template_var 3))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 5, template_var 0),
             template_app
              (template_hole 2,
               template_app
                (template_app
                  (template_hole 4,
                   template_app
                    (template_app
                      (template_hole 4,
                       template_app
                        (template_app (template_hole 3, template_var 2),
                         template_var 1)),
                     template_var 3)),
                 template_app
                  (template_app (template_hole 1, template_var 0),
                   template_hole 0))))
           ))),
    ("Derivs.subpath_smooth",
     "[| ?\<gamma> C1_differentiable_on {0..1}; 0 <= ?a; ?a < ?b; ?b <= 1 |]
      ==> subpath ?a ?b ?\<gamma> C1_differentiable_on {0..1}",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 2),
              template_app
               (template_app (template_hole 5, template_hole 4),
                template_hole 3))
            ),
        template_inequation (less_equals, template_hole 4, template_var 1),
        template_inequation (less_than, template_var 1, template_var 0),
        template_inequation (less_equals, template_var 0, template_hole 3)],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 6,
               template_app
                (template_app
                  (template_app (template_hole 0, template_var 1),
                   template_var 0),
                 template_var 2)),
             template_app
              (template_app (template_hole 5, template_hole 4),
               template_hole 3))
           ))),
    ("Derivs.eq_smooth",
     "[| 0 < ?d; ALL x:?s. ALL y. dist x y < ?d --> ?f y = ?g y;
         ?f C1_differentiable_on ?s |]
      ==> ?g C1_differentiable_on ?s",
     template_implication
      ([template_inequation (less_than, template_hole 6, template_var 3),
        template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 2), t_empty)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 0, template_var 1),
              template_var 2)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 0), template_var 2)
           ))),
    ("Derivs.all_components_smooth_one_pw_smooth_is_pw_smooth",
     "[| !!i. i : Basis - {?j} ==>
              (%x. ?f x \<bullet> i) C1_differentiable_on ?s;
         (%x. ?f x \<bullet> ?j) piecewise_C1_differentiable_on ?s |]
      ==> ?f piecewise_C1_differentiable_on ?s",
     template_implication
      ([template_predicate (template_app (template_hole 10, t_empty)),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, t_empty), template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 1), template_var 0)
           ))),
    ("Derivs.vector_derivative_at_within_ivl_diff",
     "finite ?s &
      ?a < ?b &
      ?x : {?a..?b} - ?s & (?f has_vector_derivative ?f') (at ?x) ==>
      vector_derivative ?f (at ?x within {?a..?b} - ?s) = ?f'",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 10,
                template_app (template_hole 9, template_var 5)),
              template_app
               (template_app
                 (template_hole 10,
                  template_app
                   (template_app (template_hole 8, template_var 4),
                    template_var 3)),
                template_app
                 (template_app
                   (template_hole 10,
                    template_app
                     (template_app (template_hole 7, template_var 2),
                      template_app
                       (template_app
                         (template_hole 6,
                          template_app
                           (template_app (template_hole 5, template_var 4),
                            template_var 3)),
                        template_var 5))),
                  template_app
                   (template_app
                     (template_app (template_hole 4, template_var 1),
                      template_var 0),
                    template_app
                     (template_app (template_hole 3, template_var 2),
                      template_hole 2)))))
            )],
       template_equation
        (template_app
          (template_app (template_hole 0, template_var 1),
           template_app
            (template_app (template_hole 3, template_var 2),
             template_app
              (template_app
                (template_hole 6,
                 template_app
                  (template_app (template_hole 5, template_var 4),
                   template_var 3)),
               template_var 5))),
         template_var 0))),
    ("Derivs.has_derivative_transform_at",
     "[| 0 < ?d; ALL x'. dist x' ?x < ?d --> ?f x' = ?g x';
         (?f has_derivative ?f') (at ?x) |]
      ==> (?g has_derivative ?f') (at ?x)",
     template_implication
      ([template_inequation (less_than, template_hole 7, template_var 4),
        template_predicate (template_app (template_hole 6, t_empty)),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 2),
                template_var 0),
              template_app
               (template_app (template_hole 1, template_var 3),
                template_hole 0))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 2, template_var 1),
               template_var 0),
             template_app
              (template_app (template_hole 1, template_var 3),
               template_hole 0))
           ))),
    ("Derivs.has_vector_derivative_transform_at",
     "[| 0 < ?d; ALL x'. dist x' ?x < ?d --> ?f x' = ?g x';
         (?f has_vector_derivative ?f') (at ?x) |]
      ==> (?g has_vector_derivative ?f') (at ?x)",
     template_implication
      ([template_inequation (less_than, template_hole 7, template_var 4),
        template_predicate (template_app (template_hole 6, t_empty)),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 2, template_var 2),
                template_var 0),
              template_app
               (template_app (template_hole 1, template_var 3),
                template_hole 0))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 2, template_var 1),
               template_var 0),
             template_app
              (template_app (template_hole 1, template_var 3),
               template_hole 0))
           ))),
    ("Derivs.gamma_deriv_at_within",
     "[| ?a < ?b; ?x : {?a..?b};
         ALL x:{?a..?b}. ?\<gamma> differentiable at x |]
      ==> vector_derivative ?\<gamma> (at ?x within {?a..?b}) =
          vector_derivative ?\<gamma> (at ?x)",
     template_implication
      ([template_inequation (less_than, template_var 3, template_var 2),
        template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 1),
              template_app
               (template_app (template_hole 6, template_var 3),
                template_var 2))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 5,
                template_app
                 (template_app (template_hole 6, template_var 3),
                  template_var 2)),
              t_empty)
            )],
       template_equation
        (template_app
          (template_app (template_hole 0, template_var 0),
           template_app
            (template_app (template_hole 3, template_var 1),
             template_app
              (template_app (template_hole 6, template_var 3),
               template_var 2))),
         template_app
          (template_app (template_hole 0, template_var 0),
           template_app
            (template_app (template_hole 3, template_var 1),
             template_hole 2))))),
    ("Derivs.continuous_on_cases_empty",
     "[| closed ?S; continuous_on ?S ?f;
         !!x. [| x : ?S; ~ ?P x |] ==> ?f x = ?g x |]
      ==> continuous_on ?S (%x. if ?P x then ?f x else ?g x)",
     template_implication
      ([template_predicate (template_app (template_hole 6, template_var 3)),
        template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 3),
              template_var 2)
            ),
        template_predicate (template_app (template_hole 4, t_empty))],
       template_predicate
        (
           template_app
            (template_app (template_hole 5, template_var 3), t_empty)
           ))),
    ("Derivs.derivative_component_fun_component_at_within",
     "ALL x:{0..1}. ?\<gamma> differentiable at x ==>
      ALL x:{0..1}.
         vector_derivative ?\<gamma> (at x within {0..1}) \<bullet> ?i =
         vector_derivative (%x. ?\<gamma> x \<bullet> ?i)
          (at x within {0..1})",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 10,
                template_app
                 (template_app (template_hole 9, template_hole 8),
                  template_hole 7)),
              t_empty)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 10,
               template_app
                (template_app (template_hole 9, template_hole 8),
                 template_hole 7)),
             t_empty)
           ))),
    ("Derivs.has_derivative_transform_within",
     "[| 0 < ?d; ?x : ?s; ALL x':?s. dist x' ?x < ?d --> ?f x' = ?g x';
         (?f has_derivative ?f') (at ?x within ?s) |]
      ==> (?g has_derivative ?f') (at ?x within ?s)",
     template_implication
      ([template_inequation (less_than, template_hole 7, template_var 5),
        template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 4),
              template_var 3)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 3), t_empty)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 1, template_var 2),
                template_var 0),
              template_app
               (template_app (template_hole 0, template_var 4),
                template_var 3))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 1, template_var 1),
               template_var 0),
             template_app
              (template_app (template_hole 0, template_var 4),
               template_var 3))
           ))),
    ("Derivs.gamma_deriv_at_within_gen",
     "[| ?a < ?b; ?x : ?s; ?s <= {?a..?b};
         ALL x:?s. ?\<gamma> differentiable at x |]
      ==> vector_derivative ?\<gamma> (at ?x within {?a..?b}) =
          vector_derivative ?\<gamma> (at ?x)",
     template_implication
      ([template_inequation (less_than, template_var 4, template_var 3),
        template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 2),
              template_var 1)
            ),
        template_inequation
         (less_equals, template_var 1,
          template_app
           (template_app (template_hole 6, template_var 4),
            template_var 3)),
        template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 1), t_empty)
            )],
       template_equation
        (template_app
          (template_app (template_hole 0, template_var 0),
           template_app
            (template_app (template_hole 3, template_var 2),
             template_app
              (template_app (template_hole 6, template_var 4),
               template_var 3))),
         template_app
          (template_app (template_hole 0, template_var 0),
           template_app
            (template_app (template_hole 3, template_var 2),
             template_hole 2))))),
    ("Derivs.piecewise_C1_differentiable_on_components",
     "[| finite ?t;
         !!i. i : Basis ==>
              (%x. ?f x \<bullet> i) C1_differentiable_on ?s - ?t;
         !!i. i : Basis ==> continuous_on ?s (%x. ?f x \<bullet> i) |]
      ==> ?f piecewise_C1_differentiable_on ?s",
     template_implication
      ([template_predicate (template_app (template_hole 8, template_var 2)),
        template_predicate (template_app (template_hole 7, t_empty)),
        template_predicate (template_app (template_hole 7, t_empty))],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 1), template_var 0)
           ))),
    ("Derivs.eq_pw_smooth",
     "[| 0 < ?d; ALL x:?s. ALL y. dist x y < ?d --> ?f y = ?g y;
         ALL x:?s. ?f x = ?g x; ?f piecewise_C1_differentiable_on ?s |]
      ==> ?g piecewise_C1_differentiable_on ?s",
     template_implication
      ([template_inequation (less_than, template_hole 6, template_var 3),
        template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 2), t_empty)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 2), t_empty)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 0, template_var 1),
              template_var 2)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 0), template_var 2)
           ))),
    ("Derivs.derivative_component_fun_component_at_within_gen",
     "[| ALL x:?s. ?\<gamma> differentiable at x; ?s <= {0..1} |]
      ==> ALL x:?s.
             vector_derivative ?\<gamma> (at x within {0..1}) \<bullet> ?i =
             vector_derivative (%x. ?\<gamma> x \<bullet> ?i)
              (at x within {0..1})",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 11, template_var 2), t_empty)
            ),
        template_inequation
         (less_equals, template_var 2,
          template_app
           (template_app (template_hole 6, template_hole 5),
            template_hole 4))],
       template_predicate
        (
           template_app
            (template_app (template_hole 11, template_var 2), t_empty)
           ))),
    ("Derivs.inj_on_cases",
     "[| inj_on ?f (Collect ?P Int ?S);
         inj_on ?g (Collect (Not o ?P) Int ?S);
         ?f ` (Collect ?P Int ?S) Int ?g ` (Collect (Not o ?P) Int ?S) =
         {} |]
      ==> inj_on (%x. if ?P x then ?f x else ?g x) ?S",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 9, template_var 3),
              template_app
               (template_app
                 (template_hole 8,
                  template_app (template_hole 7, template_var 2)),
                template_var 1))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 9, template_var 0),
              template_app
               (template_app
                 (template_hole 8,
                  template_app
                   (template_hole 7,
                    template_app
                     (template_app (template_hole 6, template_hole 5),
                      template_var 2))),
                template_var 1))
            ),
        template_equation
         (template_app
           (template_app
             (template_hole 3,
              template_app
               (template_app (template_hole 2, template_var 3),
                template_app
                 (template_app
                   (template_hole 8,
                    template_app (template_hole 7, template_var 2)),
                  template_var 1))),
            template_app
             (template_app (template_hole 2, template_var 0),
              template_app
               (template_app
                 (template_hole 8,
                  template_app
                   (template_hole 7,
                    template_app
                     (template_app (template_hole 6, template_hole 5),
                      template_var 2))),
                template_var 1))),
          template_hole 1)],
       template_predicate
        (
           template_app
            (template_app (template_hole 9, t_empty), template_var 1)
           ))),
    ("Derivs.has_derivative_transform_within_ivl",
     "[| 0 < ?b; ALL x:{?a..?b} - ?s. ?f x = ?g x; ?x : {?a..?b} - ?s;
         (?f has_derivative ?f') (at ?x within {?a..?b} - ?s) |]
      ==> (?g has_derivative ?f') (at ?x within {?a..?b} - ?s)",
     template_implication
      ([template_inequation (less_than, template_hole 7, template_var 6),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 6,
                template_app
                 (template_app
                   (template_hole 5,
                    template_app
                     (template_app (template_hole 4, template_var 5),
                      template_var 6)),
                  template_var 4)),
              t_empty)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 1),
              template_app
               (template_app
                 (template_hole 5,
                  template_app
                   (template_app (template_hole 4, template_var 5),
                    template_var 6)),
                template_var 4))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 1, template_var 3),
                template_var 0),
              template_app
               (template_app (template_hole 0, template_var 1),
                template_app
                 (template_app
                   (template_hole 5,
                    template_app
                     (template_app (template_hole 4, template_var 5),
                      template_var 6)),
                  template_var 4)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 1, template_var 2),
               template_var 0),
             template_app
              (template_app (template_hole 0, template_var 1),
               template_app
                (template_app
                  (template_hole 5,
                   template_app
                    (template_app (template_hole 4, template_var 5),
                     template_var 6)),
                 template_var 4)))
           ))),
    ("Derivs.has_vector_derivative_transform_within_ivl",
     "[| 0 < ?b; ALL x:{?a..?b} - ?s. ?f x = ?g x; ?x : {?a..?b} - ?s;
         (?f has_vector_derivative ?f') (at ?x within {?a..?b} - ?s) |]
      ==> (?g has_vector_derivative ?f') (at ?x within {?a..?b} - ?s)",
     template_implication
      ([template_inequation (less_than, template_hole 7, template_var 6),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 6,
                template_app
                 (template_app
                   (template_hole 5,
                    template_app
                     (template_app (template_hole 4, template_var 5),
                      template_var 6)),
                  template_var 4)),
              t_empty)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 1),
              template_app
               (template_app
                 (template_hole 5,
                  template_app
                   (template_app (template_hole 4, template_var 5),
                    template_var 6)),
                template_var 4))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 1, template_var 3),
                template_var 0),
              template_app
               (template_app (template_hole 0, template_var 1),
                template_app
                 (template_app
                   (template_hole 5,
                    template_app
                     (template_app (template_hole 4, template_var 5),
                      template_var 6)),
                  template_var 4)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 1, template_var 2),
               template_var 0),
             template_app
              (template_app (template_hole 0, template_var 1),
               template_app
                (template_app
                  (template_hole 5,
                   template_app
                    (template_app (template_hole 4, template_var 5),
                     template_var 6)),
                 template_var 4)))
           ))),
    ("Derivs.gamma_deriv_at_within_diff",
     "[| ?a < ?b; ?x : {?a..?b} - ?s;
         ALL x:{?a..?b} - ?s. ?\<gamma> differentiable at x; ?s <= {?a..?b};
         finite ?s |]
      ==> vector_derivative ?\<gamma> (at ?x within {?a..?b} - ?s) =
          vector_derivative ?\<gamma> (at ?x)",
     template_implication
      ([template_inequation (less_than, template_var 4, template_var 3),
        template_predicate
         (
            template_app
             (template_app (template_hole 10, template_var 2),
              template_app
               (template_app
                 (template_hole 9,
                  template_app
                   (template_app (template_hole 8, template_var 4),
                    template_var 3)),
                template_var 1))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 7,
                template_app
                 (template_app
                   (template_hole 9,
                    template_app
                     (template_app (template_hole 8, template_var 4),
                      template_var 3)),
                  template_var 1)),
              t_empty)
            ),
        template_inequation
         (less_equals, template_var 1,
          template_app
           (template_app (template_hole 8, template_var 4),
            template_var 3)),
        template_predicate
         (template_app (template_hole 2, template_var 1))],
       template_equation
        (template_app
          (template_app (template_hole 0, template_var 0),
           template_app
            (template_app (template_hole 5, template_var 2),
             template_app
              (template_app
                (template_hole 9,
                 template_app
                  (template_app (template_hole 8, template_var 4),
                   template_var 3)),
               template_var 1))),
         template_app
          (template_app (template_hole 0, template_var 0),
           template_app
            (template_app (template_hole 5, template_var 2),
             template_hole 4))))),
    ("Derivs.has_vector_derivative_pair_within",
     "[| !!u. u : Basis ==>
              ((%x. ?f x \<bullet> u) has_vector_derivative ?f' \<bullet> u)
               (at ?x within ?S);
         !!u. u : Basis ==>
              ((%x. ?g x \<bullet> u) has_vector_derivative ?g' \<bullet> u)
               (at ?x within ?S) |]
      ==> ((%x. (?f x, ?g x)) has_vector_derivative (?f', ?g'))
           (at ?x within ?S)",
     template_implication
      ([template_predicate (template_app (template_hole 12, t_empty)),
        template_predicate (template_app (template_hole 5, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 1, t_empty),
               template_app
                (template_app (template_hole 0, template_var 4),
                 template_var 0)),
             template_app
              (template_app (template_hole 6, template_var 3),
               template_var 2))
           ))),
    ("Derivs.test2",
     "[| !!x. x : {0..1} - ?s ==> ?g differentiable at x; finite ?s;
         ?u : {0..1}; ?v : {0..1}; ?u <= ?v; ?x : {0..1};
         ?x ~: (%t. (?v - ?u) *\<^sub>R t + ?u) -` ?s |]
      ==> vector_derivative (%x. ?g ((?v - ?u) * x + ?u))
           (at ?x within {0..1}) =
          (?v - ?u) *\<^sub>R
          vector_derivative ?g (at ((?v - ?u) * ?x + ?u) within {0..1})",
     template_implication
      ([template_predicate (template_app (template_hole 20, t_empty)),
        template_predicate
         (template_app (template_hole 10, template_var 4)),
        template_predicate
         (
            template_app
             (template_app (template_hole 18, template_var 2),
              template_app
               (template_app (template_hole 16, template_hole 15),
                template_hole 14))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 18, template_var 1),
              template_app
               (template_app (template_hole 16, template_hole 15),
                template_hole 14))
            ),
        template_inequation (less_equals, template_var 2, template_var 1),
        template_predicate
         (
            template_app
             (template_app (template_hole 18, template_var 0),
              template_app
               (template_app (template_hole 16, template_hole 15),
                template_hole 14))
            ),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 18, template_var 0),
                  template_app
                   (template_app (template_hole 7, t_empty),
                    template_var 4))
                )
            )],
       template_equation
        (template_app
          (template_app (template_hole 2, t_empty),
           template_app
            (template_app (template_hole 12, template_var 0),
             template_app
              (template_app (template_hole 16, template_hole 15),
               template_hole 14))),
         template_app
          (template_app
            (template_hole 0,
             template_app
              (template_app (template_hole 4, template_var 1),
               template_var 2)),
           template_app
            (template_app (template_hole 2, template_var 3),
             template_app
              (template_app
                (template_hole 12,
                 template_app
                  (template_app
                    (template_hole 6,
                     template_app
                      (template_app
                        (template_hole 1,
                         template_app
                          (template_app (template_hole 4, template_var 1),
                           template_var 2)),
                       template_var 0)),
                   template_var 2)),
               template_app
                (template_app (template_hole 16, template_hole 15),
                 template_hole 14)))))))]
