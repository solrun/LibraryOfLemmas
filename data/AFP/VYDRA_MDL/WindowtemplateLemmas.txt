   [("Window.mmap_lookup_empty", "mmap_lookup [] ?z = None",
     template_equation
      (template_app
        (template_app (template_hole 2, template_hole 1), template_var 0),
       template_hole 0)),
    ("Window.mmap_map_keys", "mmap_keys (mmap_map ?f ?m) = mmap_keys ?m",
     template_equation
      (template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app (template_hole 0, template_var 0))),
    ("Window.steps_refl", "steps ?step ?rho ?q (?i, ?i) = ?q",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_app (template_hole 1, template_var 3),
             template_var 2),
           template_var 1),
         template_app
          (template_app (template_hole 0, template_var 0), template_var 0)),
       template_var 1)),
    ("Window.fold_sup", "foldl sup ?v ?vs = fold sup ?vs ?v",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 2, template_hole 1), template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_app (template_hole 0, template_hole 1), template_var 0),
         template_var 1))),
    ("Window.mmap_map_fst", "map fst (mmap_map ?f ?m) = map fst ?m",
     template_equation
      (template_app
        (template_app (template_hole 4, template_hole 3),
         template_app
          (template_app (template_hole 2, template_var 1), template_var 0)),
       template_app
        (template_app (template_hole 1, template_hole 0), template_var 0))),
    ("Window.sup_acc_same", "sup_acc ?step ?accept ?rho ?q ?i ?i = None",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_app
              (template_app
                (template_app (template_hole 1, template_var 4),
                 template_var 3),
               template_var 2),
             template_var 1),
           template_var 0),
         template_var 0),
       template_hole 0)),
    ("Window.valid_init_window",
     "valid_window ?args ?t0.0 ?sub [] (init_window ?args ?t0.0 ?sub)",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_app
                (template_app (template_hole 2, template_var 2),
                 template_var 1),
               template_var 0),
             template_hole 1),
           template_app
            (template_app
              (template_app (template_hole 0, template_var 2),
               template_var 1),
             template_var 0))
         )),
    ("Window.reaches_on_NilD", "reaches_on ?run ?q [] ?q' ==> ?q = ?q'",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 2, template_var 2),
                  template_var 1),
                template_hole 1),
              template_var 0)
            )],
       template_equation (template_var 1, template_var 0))),
    ("Window.mmap_keys_update",
     "mmap_keys (mmap_update ?k ?v ?kvs) = mmap_keys ?kvs Un {?k}",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app
            (template_app (template_hole 3, template_var 2),
             template_var 1),
           template_var 0)),
       template_app
        (template_app
          (template_hole 2, template_app (template_hole 4, template_var 0)),
         template_app
          (template_app (template_hole 1, template_var 2),
           template_hole 0)))),
    ("Window.fold_sup_distinct",
     "distinct (map fst ?m) ==> distinct (map fst (fold_sup ?m ?f))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 3,
              template_app
               (template_app (template_hole 2, template_hole 1),
                template_var 1))
            )],
       template_predicate
        (
           template_app
            (template_hole 3,
             template_app
              (template_app (template_hole 2, template_hole 1),
               template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 0)))
           ))),
    ("Window.Mapping_lookup_None_intro",
     "?x ~: mmap_keys ?f ==> mmap_lookup ?f ?x = None",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 4, template_var 1),
                  template_app (template_hole 3, template_var 0))
                )
            )],
       template_equation
        (template_app
          (template_app (template_hole 1, template_var 0), template_var 1),
         template_hole 0))),
    ("Window.Mapping_not_keys_intro",
     "mmap_lookup ?f ?x = None ==> ?x ~: mmap_keys ?f",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 4, template_var 1), template_var 0),
          template_hole 3)],
       template_negation
        (
           template_predicate
            (
               template_app
                (template_app (template_hole 1, template_var 0),
                 template_app (template_hole 0, template_var 1))
               )
           ))),
    ("Window.Mapping_keys_intro",
     "mmap_lookup ?f ?x ~= None ==> ?x : mmap_keys ?f",
     template_implication
      ([template_negation
         (
            template_equation
             (template_app
               (template_app (template_hole 3, template_var 1),
                template_var 0),
              template_hole 2)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, template_var 0),
             template_app (template_hole 0, template_var 1))
           ))),
    ("Window.mmap_update_distinct",
     "distinct (map fst ?m) ==> distinct (map fst (mmap_update ?k ?v ?m))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 3,
              template_app
               (template_app (template_hole 2, template_hole 1),
                template_var 2))
            )],
       template_predicate
        (
           template_app
            (template_hole 3,
             template_app
              (template_app (template_hole 2, template_hole 1),
               template_app
                (template_app
                  (template_app (template_hole 0, template_var 1),
                   template_var 0),
                 template_var 2)))
           ))),
    ("Window.reaches_on_n",
     "reaches_on ?run ?s ?vs ?s' ==> reaches ?run ?s (length ?vs) ?s'",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 2, template_var 3),
                  template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app (template_hole 1, template_var 3),
                 template_var 2),
               template_app (template_hole 0, template_var 1)),
             template_var 0)
           ))),
    ("Window.mmap_fold_distinct",
     "distinct (map fst ?m) ==> distinct (map fst (mmap_fold ?m ?f ?c []))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 4,
              template_app
               (template_app (template_hole 3, template_hole 2),
                template_var 2))
            )],
       template_predicate
        (
           template_app
            (template_hole 4,
             template_app
              (template_app (template_hole 3, template_hole 2),
               template_app
                (template_app
                  (template_app
                    (template_app (template_hole 1, template_var 2),
                     template_var 1),
                   template_var 0),
                 template_hole 0)))
           ))),
    ("Window.Mapping_keys_dest",
     "?x : mmap_keys ?f ==> EX y. mmap_lookup ?f ?x = Some y",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 1),
              template_app (template_hole 4, template_var 0))
            )],
       template_predicate (template_app (template_hole 3, t_empty)))),
    ("Window.mmap_lookup_update'",
     "mmap_lookup (mmap_update ?k ?v ?kvs) ?z =
      (if ?k = ?z then Some ?v else mmap_lookup ?kvs ?z)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 4,
                template_app
                 (template_app
                   (template_app (template_hole 3, template_var 3),
                    template_var 2),
                  template_var 1)),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 2,
                 template_app
                  (template_app (template_hole 1, template_var 3),
                   template_var 0)),
               template_app (template_hole 0, template_var 2)),
             template_app
              (template_app (template_hole 4, template_var 1),
               template_var 0))
           ))),
    ("Window.reaches_on_len",
     "EX vs s'.
         reaches_on ?run ?s vs s' & (length vs = ?n | ?run s' = None)",
     template_predicate (template_app (template_hole 8, t_empty))),
    ("Window.reaches_on",
     "reaches ?run ?s ?n ?s' ==>
      EX vs. reaches_on ?run ?s vs ?s' & length vs = ?n",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 5, template_var 3),
                  template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_predicate (template_app (template_hole 4, t_empty)))),
    ("Window.sup_acc_Some_ts",
     "sup_acc ?step ?accept ?rho ?q ?i ?j = Some (?ts, ?tp) ==>
      ?ts = ts_at ?rho ?tp",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 4, template_var 7),
                    template_var 6),
                  template_var 5),
                template_var 4),
              template_var 3),
            template_var 2),
          template_app
           (template_hole 3,
            template_app
             (template_app (template_hole 2, template_var 1),
              template_var 0)))],
       template_equation
        (template_var 1,
         template_app
          (template_app (template_hole 0, template_var 5),
           template_var 0)))),
    ("Window.reaches_on_init_Some",
     "[| reaches_on ?r ?s ?xs ?s'; ?r ?s' ~= None |] ==> ?r ?s ~= None",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 3, template_var 3),
                  template_var 2),
                template_var 1),
              template_var 0)
            ),
        template_negation
         (
            template_equation
             (template_app (template_var 3, template_var 0),
              template_hole 0)
            )],
       template_negation
        (
           template_equation
            (template_app (template_var 3, template_var 2), template_hole 0)
           ))),
    ("Window.mmap_lookup_distinct",
     "[| distinct (map fst ?m); (?k, ?v) : set ?m |]
      ==> mmap_lookup ?m ?k = Some ?v",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 8,
              template_app
               (template_app (template_hole 7, template_hole 6),
                template_var 2))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 5,
                template_app
                 (template_app (template_hole 4, template_var 1),
                  template_var 0)),
              template_app (template_hole 3, template_var 2))
            )],
       template_equation
        (template_app
          (template_app (template_hole 1, template_var 2), template_var 1),
         template_app (template_hole 0, template_var 0)))),
    ("Window.mmap_fold_set",
     "distinct (map fst ?m) ==>
      set (map fst (mmap_fold ?m ?f ?c [])) = (fst o ?f) ` set ?m",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 9,
              template_app
               (template_app (template_hole 8, template_hole 7),
                template_var 2))
            )],
       template_equation
        (template_app
          (template_hole 5,
           template_app
            (template_app (template_hole 8, template_hole 7),
             template_app
              (template_app
                (template_app
                  (template_app (template_hole 4, template_var 2),
                   template_var 1),
                 template_var 0),
               template_hole 3))),
         template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_hole 7),
               template_var 1)),
           template_app (template_hole 0, template_var 2))))),
    ("Window.reaches_on_trans",
     "[| reaches_on ?run ?s ?vs ?s'; reaches_on ?run ?s' ?vs' ?s'' |]
      ==> reaches_on ?run ?s (?vs @ ?vs') ?s''",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 1, template_var 5),
                  template_var 4),
                template_var 3),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 1, template_var 5),
                  template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app (template_hole 1, template_var 5),
                 template_var 4),
               template_app
                (template_app (template_hole 0, template_var 3),
                 template_var 1)),
             template_var 0)
           ))),
    ("Window.reaches_on_split_app",
     "reaches_on ?run ?s (?vs @ ?vs') ?s' ==>
      EX s''. reaches_on ?run ?s ?vs s'' & reaches_on ?run s'' ?vs' ?s'",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 3, template_var 4),
                  template_var 3),
                template_app
                 (template_app (template_hole 2, template_var 2),
                  template_var 1)),
              template_var 0)
            )],
       template_predicate (template_app (template_hole 1, t_empty)))),
    ("Window.valid_adv_start_bounds",
     "[| valid_window ?args ?t0.0 ?sub ?rho ?w; w_i ?w < w_j ?w |]
      ==> w_tj (adv_start ?args ?w) = w_tj ?w",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 6, template_var 4),
                    template_var 3),
                  template_var 2),
                template_var 1),
              template_var 0)
            ),
        template_inequation
         (less_than, template_app (template_hole 4, template_var 0),
          template_app (template_hole 3, template_var 0))],
       template_equation
        (template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 4),
             template_var 0)),
         template_app (template_hole 1, template_var 0)))),
    ("Window.valid_adv_start_bounds",
     "[| valid_window ?args ?t0.0 ?sub ?rho ?w; w_i ?w < w_j ?w |]
      ==> w_sj (adv_start ?args ?w) = w_sj ?w",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 6, template_var 4),
                    template_var 3),
                  template_var 2),
                template_var 1),
              template_var 0)
            ),
        template_inequation
         (less_than, template_app (template_hole 4, template_var 0),
          template_app (template_hole 3, template_var 0))],
       template_equation
        (template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 4),
             template_var 0)),
         template_app (template_hole 1, template_var 0)))),
    ("Window.valid_adv_start_bounds",
     "[| valid_window ?args ?t0.0 ?sub ?rho ?w; w_i ?w < w_j ?w |]
      ==> w_j (adv_start ?args ?w) = w_j ?w",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 5, template_var 4),
                    template_var 3),
                  template_var 2),
                template_var 1),
              template_var 0)
            ),
        template_inequation
         (less_than, template_app (template_hole 3, template_var 0),
          template_app (template_hole 2, template_var 0))],
       template_equation
        (template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 0, template_var 4),
             template_var 0)),
         template_app (template_hole 2, template_var 0)))),
    ("Window.chain_le",
     "[| chain_le ?xs; ?i <= ?j; ?j < length ?xs |]
      ==> ?xs ! ?i <= ?xs ! ?j",
     template_implication
      ([template_predicate (template_app (template_hole 5, template_var 2)),
        template_inequation (less_equals, template_var 1, template_var 0),
        template_inequation
         (less_than, template_var 0,
          template_app (template_hole 2, template_var 2))],
       template_inequation
        (less_equals,
         template_app
          (template_app (template_hole 0, template_var 2), template_var 1),
         template_app
          (template_app (template_hole 0, template_var 2),
           template_var 0)))),
    ("Window.sup_acc_concat_cong",
     "?j <= length ?rho ==>
      sup_acc ?step ?accept (?rho @ ?rho') ?q ?i ?j =
      sup_acc ?step ?accept ?rho ?q ?i ?j",
     template_implication
      ([template_inequation
         (less_equals, template_var 6,
          template_app (template_hole 3, template_var 5))],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 1, template_var 4),
                   template_var 3),
                 template_app
                  (template_app (template_hole 0, template_var 5),
                   template_var 2)),
               template_var 1),
             template_var 0),
           template_var 6),
         template_app
          (template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 1, template_var 4),
                   template_var 3),
                 template_var 5),
               template_var 1),
             template_var 0),
           template_var 6)))),
    ("Window.chain_le_app",
     "[| chain_le (?zs @ [?z]); ?z <= ?w |]
      ==> chain_le ((?zs @ [?z]) @ [?w])",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 4,
              template_app
               (template_app (template_hole 3, template_var 2),
                template_app
                 (template_app (template_hole 2, template_var 1),
                  template_hole 1)))
            ),
        template_inequation (less_equals, template_var 1, template_var 0)],
       template_predicate
        (
           template_app
            (template_hole 4,
             template_app
              (template_app
                (template_hole 3,
                 template_app
                  (template_app (template_hole 3, template_var 2),
                   template_app
                    (template_app (template_hole 2, template_var 1),
                     template_hole 1))),
               template_app
                (template_app (template_hole 2, template_var 0),
                 template_hole 1)))
           ))),
    ("Window.valid_adv_start_bounds",
     "[| valid_window ?args ?t0.0 ?sub ?rho ?w; w_i ?w < w_j ?w |]
      ==> w_i (adv_start ?args ?w) = Suc (w_i ?w)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 6, template_var 4),
                    template_var 3),
                  template_var 2),
                template_var 1),
              template_var 0)
            ),
        template_inequation
         (less_than, template_app (template_hole 4, template_var 0),
          template_app (template_hole 3, template_var 0))],
       template_equation
        (template_app
          (template_hole 4,
           template_app
            (template_app (template_hole 1, template_var 4),
             template_var 0)),
         template_app
          (template_hole 0,
           template_app (template_hole 4, template_var 0))))),
    ("Window.valid_adv_start",
     "[| valid_window ?args ?t0.0 ?sub ?rho ?w; w_i ?w < w_j ?w |]
      ==> valid_window ?args ?t0.0 ?sub ?rho (adv_start ?args ?w)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 4, template_var 4),
                    template_var 3),
                  template_var 2),
                template_var 1),
              template_var 0)
            ),
        template_inequation
         (less_than, template_app (template_hole 2, template_var 0),
          template_app (template_hole 1, template_var 0))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 4, template_var 4),
                   template_var 3),
                 template_var 2),
               template_var 1),
             template_app
              (template_app (template_hole 0, template_var 4),
               template_var 0))
           ))),
    ("Window.reaches_on_ConsD",
     "reaches_on ?run ?q (?x # ?xs) ?q' ==>
      EX q''. ?run ?q = Some (q'', ?x) & reaches_on ?run q'' ?xs ?q'",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 6, template_var 4),
                  template_var 3),
                template_app
                 (template_app (template_hole 5, template_var 2),
                  template_var 1)),
              template_var 0)
            )],
       template_predicate (template_app (template_hole 4, t_empty)))),
    ("Window.map_values_lookup",
     "mmap_lookup (mmap_map ?f ?m) ?z = Some ?v' ==>
      EX v. mmap_lookup ?m ?z = Some v & ?v' = ?f ?z v",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_hole 8,
              template_app
               (template_app (template_hole 7, template_var 3),
                template_var 2)),
            template_var 1),
          template_app (template_hole 6, template_var 0))],
       template_predicate (template_app (template_hole 5, t_empty)))),
    ("Window.steps_split",
     "?i < ?j ==>
      steps ?step ?rho ?q (?i, ?j) =
      steps ?step ?rho (?step ?q (bs_at ?rho ?i)) (Suc ?i, ?j)",
     template_implication
      ([template_inequation (less_than, template_var 4, template_var 3)],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app (template_hole 3, template_var 2),
               template_var 1),
             template_var 0),
           template_app
            (template_app (template_hole 2, template_var 4),
             template_var 3)),
         template_app
          (template_app
            (template_app
              (template_app (template_hole 3, template_var 2),
               template_var 1),
             template_app
              (template_app (template_var 2, template_var 0),
               template_app
                (template_app (template_hole 1, template_var 1),
                 template_var 4))),
           template_app
            (template_app
              (template_hole 2,
               template_app (template_hole 0, template_var 4)),
             template_var 3))))),
    ("Window.steps_app_cong",
     "?j <= length ?rho ==>
      steps ?step (?rho @ [?x]) ?q (?i, ?j) = steps ?step ?rho ?q (?i, ?j)",
     template_implication
      ([template_inequation
         (less_equals, template_var 5,
          template_app (template_hole 6, template_var 4))],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app (template_hole 4, template_var 3),
               template_app
                (template_app (template_hole 3, template_var 4),
                 template_app
                  (template_app (template_hole 2, template_var 2),
                   template_hole 1))),
             template_var 1),
           template_app
            (template_app (template_hole 0, template_var 0),
             template_var 5)),
         template_app
          (template_app
            (template_app
              (template_app (template_hole 4, template_var 3),
               template_var 4),
             template_var 1),
           template_app
            (template_app (template_hole 0, template_var 0),
             template_var 5))))),
    ("Window.sup_acc_app_cong",
     "?j <= length ?rho ==>
      sup_acc ?step ?accept (?rho @ [?x]) ?q ?i ?j =
      sup_acc ?step ?accept ?rho ?q ?i ?j",
     template_implication
      ([template_inequation
         (less_equals, template_var 6,
          template_app (template_hole 5, template_var 5))],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 3, template_var 4),
                   template_var 3),
                 template_app
                  (template_app (template_hole 2, template_var 5),
                   template_app
                    (template_app (template_hole 1, template_var 2),
                     template_hole 0))),
               template_var 1),
             template_var 0),
           template_var 6),
         template_app
          (template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 3, template_var 4),
                   template_var 3),
                 template_var 5),
               template_var 1),
             template_var 0),
           template_var 6)))),
    ("Window.reaches_Suc_split_last",
     "reaches ?run ?s (Suc ?n) ?s' ==>
      EX s'' x. reaches ?run ?s ?n s'' & ?run s'' = Some (?s', x)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 7, template_var 3),
                  template_var 2),
                template_app (template_hole 6, template_var 1)),
              template_var 0)
            )],
       template_predicate (template_app (template_hole 5, t_empty)))),
    ("Window.reaches_on_app",
     "[| reaches_on ?run ?s ?vs ?s'; ?run ?s' = Some (?s'', ?v) |]
      ==> reaches_on ?run ?s (?vs @ [?v]) ?s''",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 6, template_var 5),
                  template_var 4),
                template_var 3),
              template_var 2)
            ),
        template_equation
         (template_app (template_var 5, template_var 2),
          template_app
           (template_hole 4,
            template_app
             (template_app (template_hole 3, template_var 1),
              template_var 0)))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app (template_hole 6, template_var 5),
                 template_var 4),
               template_app
                (template_app (template_hole 2, template_var 3),
                 template_app
                  (template_app (template_hole 1, template_var 0),
                   template_hole 0))),
             template_var 1)
           ))),
    ("Window.steps_app",
     "?i <= ?j ==>
      steps ?step ?rho ?q (?i, ?j + 1) =
      ?step (steps ?step ?rho ?q (?i, ?j)) (bs_at ?rho ?j)",
     template_implication
      ([template_inequation (less_equals, template_var 4, template_var 3)],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app (template_hole 4, template_var 2),
               template_var 1),
             template_var 0),
           template_app
            (template_app (template_hole 3, template_var 4),
             template_app
              (template_app (template_hole 2, template_var 3),
               template_hole 1))),
         template_app
          (template_app
            (template_var 2,
             template_app
              (template_app
                (template_app
                  (template_app (template_hole 4, template_var 2),
                   template_var 1),
                 template_var 0),
               template_app
                (template_app (template_hole 3, template_var 4),
                 template_var 3))),
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 3))))),
    ("Window.reaches_on_split_last",
     "reaches_on ?run ?s (?xs @ [?x]) ?s'' ==>
      EX s'. reaches_on ?run ?s ?xs s' & ?run s' = Some (?s'', ?x)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 8, template_var 4),
                  template_var 3),
                template_app
                 (template_app (template_hole 7, template_var 2),
                  template_app
                   (template_app (template_hole 6, template_var 1),
                    template_hole 5))),
              template_var 0)
            )],
       template_predicate (template_app (template_hole 4, t_empty)))),
    ("Window.reach_window_run_tj",
     "reach_window ?args ?t0.0 ?sub ?rho (?i, ?ti, ?si, ?j, ?tj, ?sj) ==>
      reaches_on (w_run_t ?args) ?t0.0 (map fst ?rho) ?tj",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 9, template_var 9),
                    template_var 8),
                  template_var 7),
                template_var 6),
              template_app
               (template_app (template_hole 8, template_var 5),
                template_app
                 (template_app (template_hole 7, template_var 4),
                  template_app
                   (template_app (template_hole 6, template_var 3),
                    template_app
                     (template_app (template_hole 5, template_var 2),
                      template_app
                       (template_app (template_hole 4, template_var 1),
                        template_var 0))))))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_hole 3,
                   template_app (template_hole 2, template_var 9)),
                 template_var 8),
               template_app
                (template_app (template_hole 1, template_hole 0),
                 template_var 6)),
             template_var 1)
           ))),
    ("Window.reach_window_run_sj",
     "reach_window ?args ?t0.0 ?sub ?rho (?i, ?ti, ?si, ?j, ?tj, ?sj) ==>
      reaches_on (w_run_sub ?args) ?sub (map snd ?rho) ?sj",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 9, template_var 9),
                    template_var 8),
                  template_var 7),
                template_var 6),
              template_app
               (template_app (template_hole 8, template_var 5),
                template_app
                 (template_app (template_hole 7, template_var 4),
                  template_app
                   (template_app (template_hole 6, template_var 3),
                    template_app
                     (template_app (template_hole 5, template_var 2),
                      template_app
                       (template_app (template_hole 4, template_var 1),
                        template_var 0))))))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_hole 3,
                   template_app (template_hole 2, template_var 9)),
                 template_var 7),
               template_app
                (template_app (template_hole 1, template_hole 0),
                 template_var 6)),
             template_var 0)
           ))),
    ("Window.acc_app_cong",
     "?j < length ?rho ==>
      acc ?step ?accept (?rho @ [?x]) ?q (?i, ?j) =
      acc ?step ?accept ?rho ?q (?i, ?j)",
     template_implication
      ([template_inequation
         (less_than, template_var 6,
          template_app (template_hole 6, template_var 5))],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app
                (template_app (template_hole 4, template_var 4),
                 template_var 3),
               template_app
                (template_app (template_hole 3, template_var 5),
                 template_app
                  (template_app (template_hole 2, template_var 2),
                   template_hole 1))),
             template_var 1),
           template_app
            (template_app (template_hole 0, template_var 0),
             template_var 6)),
         template_app
          (template_app
            (template_app
              (template_app
                (template_app (template_hole 4, template_var 4),
                 template_var 3),
               template_var 5),
             template_var 1),
           template_app
            (template_app (template_hole 0, template_var 0),
             template_var 6))))),
    ("Window.reaches_onD",
     "reaches_on ?run ?s ((?t, ?b) # ?vs) ?s' ==>
      EX s''. ?run ?s = Some (s'', ?t, ?b) & reaches_on ?run s'' ?vs ?s'",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 7, template_var 5),
                  template_var 4),
                template_app
                 (template_app
                   (template_hole 6,
                    template_app
                     (template_app (template_hole 5, template_var 3),
                      template_var 2)),
                  template_var 1)),
              template_var 0)
            )],
       template_predicate (template_app (template_hole 4, t_empty)))),
    ("Window.sup_acc_NoneE",
     "[| ?l : {?i..<?j}; sup_acc ?step ?accept ?rho ?q ?i ?j = None |]
      ==> ~ acc ?step ?accept ?rho ?q (?i, Suc ?l)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 6),
              template_app
               (template_app (template_hole 7, template_var 5),
                template_var 4))
            ),
        template_equation
         (template_app
           (template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 5, template_var 3),
                    template_var 2),
                  template_var 1),
                template_var 0),
              template_var 5),
            template_var 4),
          template_hole 4)],
       template_negation
        (
           template_predicate
            (
               template_app
                (template_app
                  (template_app
                    (template_app
                      (template_app (template_hole 2, template_var 3),
                       template_var 2),
                     template_var 1),
                   template_var 0),
                 template_app
                  (template_app (template_hole 1, template_var 5),
                   template_app (template_hole 0, template_var 6)))
               )
           ))),
    ("Window.reaches_on_inj",
     "[| reaches_on ?run ?s ?vs ?t; reaches_on ?run ?s ?vs' ?t';
         length ?vs = length ?vs' |]
      ==> ?vs = ?vs' & ?t = ?t'",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 5, template_var 5),
                  template_var 4),
                template_var 3),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 5, template_var 5),
                  template_var 4),
                template_var 1),
              template_var 0)
            ),
        template_equation
         (template_app (template_hole 3, template_var 3),
          template_app (template_hole 3, template_var 1))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 3),
                 template_var 1)),
             template_app
              (template_app (template_hole 0, template_var 2),
               template_var 0))
           ))),
    ("Window.sup_acc_SomeE",
     "sup_acc ?step ?accept ?rho ?q ?i ?j = Some (?ts, ?tp) ==>
      ?tp : {?i..<?j} & acc ?step ?accept ?rho ?q (?i, Suc ?tp)",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 8, template_var 7),
                    template_var 6),
                  template_var 5),
                template_var 4),
              template_var 3),
            template_var 2),
          template_app
           (template_hole 7,
            template_app
             (template_app (template_hole 6, template_var 1),
              template_var 0)))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 5,
               template_app
                (template_app (template_hole 4, template_var 0),
                 template_app
                  (template_app (template_hole 3, template_var 3),
                   template_var 2))),
             template_app
              (template_app
                (template_app
                  (template_app
                    (template_app (template_hole 2, template_var 7),
                     template_var 6),
                   template_var 5),
                 template_var 4),
               template_app
                (template_app (template_hole 1, template_var 3),
                 template_app (template_hole 0, template_var 0))))
           ))),
    ("Window.sup_leadsto_app_cong",
     "[| ?i <= ?j; ?j <= length ?rho |]
      ==> sup_leadsto ?init ?step (?rho @ [?x]) ?i ?j ?q =
          sup_leadsto ?init ?step ?rho ?i ?j ?q",
     template_implication
      ([template_inequation (less_equals, template_var 6, template_var 5),
        template_inequation
         (less_equals, template_var 5,
          template_app (template_hole 5, template_var 4))],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 3, template_var 3),
                   template_var 2),
                 template_app
                  (template_app (template_hole 2, template_var 4),
                   template_app
                    (template_app (template_hole 1, template_var 1),
                     template_hole 0))),
               template_var 6),
             template_var 5),
           template_var 0),
         template_app
          (template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 3, template_var 3),
                   template_var 2),
                 template_var 4),
               template_var 6),
             template_var 5),
           template_var 0)))),
    ("Window.sup_acc_None_restrict",
     "[| ?i <= ?j; sup_acc ?step ?accept ?rho ?q ?i ?j = None |]
      ==> sup_acc ?step ?accept ?rho (?step ?q (bs_at ?rho ?i)) (Suc ?i)
           ?j =
          None",
     template_implication
      ([template_inequation (less_equals, template_var 5, template_var 4),
        template_equation
         (template_app
           (template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 3, template_var 3),
                    template_var 2),
                  template_var 1),
                template_var 0),
              template_var 5),
            template_var 4),
          template_hole 2)],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 3, template_var 3),
                   template_var 2),
                 template_var 1),
               template_app
                (template_app (template_var 3, template_var 0),
                 template_app
                  (template_app (template_hole 1, template_var 1),
                   template_var 5))),
             template_app (template_hole 0, template_var 5)),
           template_var 4),
         template_hole 2))),
    ("Window.reaches_on_split'",
     "[| reaches_on ?run ?s ?vs ?s'; ?i <= length ?vs |]
      ==> EX s''.
             reaches_on ?run ?s (take ?i ?vs) s'' &
             reaches_on ?run s'' (drop ?i ?vs) ?s'",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 6, template_var 4),
                  template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_inequation
         (less_equals, template_var 0,
          template_app (template_hole 4, template_var 2))],
       template_predicate (template_app (template_hole 3, t_empty)))),
    ("Window.sup_acc_None",
     "[| ?i < ?j; sup_acc ?step ?accept ?rho ?q ?i ?j = None |]
      ==> sup_acc ?step ?accept ?rho (?step ?q (bs_at ?rho ?i)) (?i + 1)
           ?j =
          None",
     template_implication
      ([template_inequation (less_than, template_var 5, template_var 4),
        template_equation
         (template_app
           (template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 4, template_var 3),
                    template_var 2),
                  template_var 1),
                template_var 0),
              template_var 5),
            template_var 4),
          template_hole 3)],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 4, template_var 3),
                   template_var 2),
                 template_var 1),
               template_app
                (template_app (template_var 3, template_var 0),
                 template_app
                  (template_app (template_hole 2, template_var 1),
                   template_var 5))),
             template_app
              (template_app (template_hole 1, template_var 5),
               template_hole 0)),
           template_var 4),
         template_hole 3))),
    ("Window.sup_acc_ext",
     "[| ?i <= ?j; acc ?step ?accept ?rho ?q (?i, Suc ?j) |]
      ==> sup_acc ?step ?accept ?rho ?q ?i (Suc ?j) =
          Some (ts_at ?rho ?j, ?j)",
     template_implication
      ([template_inequation (less_equals, template_var 5, template_var 4),
        template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 7, template_var 3),
                    template_var 2),
                  template_var 1),
                template_var 0),
              template_app
               (template_app (template_hole 6, template_var 5),
                template_app (template_hole 5, template_var 4)))
            )],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 3, template_var 3),
                   template_var 2),
                 template_var 1),
               template_var 0),
             template_var 5),
           template_app (template_hole 5, template_var 4)),
         template_app
          (template_hole 2,
           template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 4)),
             template_var 4))))),
    ("Window.mmap_combine_distinct_set",
     "distinct (map fst ?r) ==>
      distinct (map fst (mmap_combine ?k ?v ?c ?r)) &
      set (map fst (mmap_combine ?k ?v ?c ?r)) = set (map fst ?r) Un {?k}",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 9,
              template_app
               (template_app (template_hole 8, template_hole 7),
                template_var 3))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 6,
               template_app
                (template_hole 9,
                 template_app
                  (template_app (template_hole 8, template_hole 7),
                   template_app
                    (template_app
                      (template_app
                        (template_app (template_hole 5, template_var 2),
                         template_var 1),
                       template_var 0),
                     template_var 3)))),
             template_app
              (template_app
                (template_hole 4,
                 template_app
                  (template_hole 3,
                   template_app
                    (template_app (template_hole 8, template_hole 7),
                     template_app
                      (template_app
                        (template_app
                          (template_app (template_hole 5, template_var 2),
                           template_var 1),
                         template_var 0),
                       template_var 3)))),
               template_app
                (template_app
                  (template_hole 2,
                   template_app
                    (template_hole 3,
                     template_app
                      (template_app (template_hole 8, template_hole 7),
                       template_var 3))),
                 template_app
                  (template_app (template_hole 1, template_var 2),
                   template_hole 0))))
           ))),
    ("Window.mmap_combine_lookup",
     "distinct (map fst ?r) ==>
      mmap_lookup (mmap_combine ?k ?v ?c ?r) ?z =
      (if ?k = ?z
       then case mmap_lookup ?r ?k of None => Some ?v
            | Some v' => Some (?c v' ?v)
       else mmap_lookup ?r ?z)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 9,
              template_app
               (template_app (template_hole 8, template_hole 7),
                template_var 4))
            )],
       template_implication
        ([template_predicate
           (
              template_app
               (template_app
                 (template_hole 5,
                  template_app
                   (template_app
                     (template_app
                       (template_app (template_hole 4, template_var 3),
                        template_var 2),
                      template_var 1),
                    template_var 4)),
                template_var 0)
              )],
         template_predicate
          (
             template_app
              (template_app
                (template_app
                  (template_hole 3,
                   template_app
                    (template_app (template_hole 2, template_var 3),
                     template_var 0)),
                 template_app
                  (template_app
                    (template_app
                      (template_hole 1,
                       template_app (template_hole 0, template_var 2)),
                     t_empty),
                   template_app
                    (template_app (template_hole 5, template_var 4),
                     template_var 3))),
               template_app
                (template_app (template_hole 5, template_var 4),
                 template_var 0))
             )))),
    ("Window.sup_acc_i",
     "[| ?i < ?j; sup_acc ?step ?accept ?rho ?q ?i ?j = Some (?ts, ?i) |]
      ==> sup_acc ?step ?accept ?rho (?step ?q (bs_at ?rho ?i)) (Suc ?i)
           ?j =
          None",
     template_implication
      ([template_inequation (less_than, template_var 6, template_var 5),
        template_equation
         (template_app
           (template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 5, template_var 4),
                    template_var 3),
                  template_var 2),
                template_var 1),
              template_var 6),
            template_var 5),
          template_app
           (template_hole 4,
            template_app
             (template_app (template_hole 3, template_var 0),
              template_var 6)))],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 5, template_var 4),
                   template_var 3),
                 template_var 2),
               template_app
                (template_app (template_var 4, template_var 1),
                 template_app
                  (template_app (template_hole 2, template_var 2),
                   template_var 6))),
             template_app (template_hole 1, template_var 6)),
           template_var 5),
         template_hole 0))),
    ("Window.sup_acc_ext_idle",
     "[| ?i <= ?j; ~ acc ?step ?accept ?rho ?q (?i, Suc ?j) |]
      ==> sup_acc ?step ?accept ?rho ?q ?i (Suc ?j) =
          sup_acc ?step ?accept ?rho ?q ?i ?j",
     template_implication
      ([template_inequation (less_equals, template_var 5, template_var 4),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app
                   (template_app
                     (template_app
                       (template_app (template_hole 4, template_var 3),
                        template_var 2),
                      template_var 1),
                    template_var 0),
                  template_app
                   (template_app (template_hole 3, template_var 5),
                    template_app (template_hole 2, template_var 4)))
                )
            )],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 0, template_var 3),
                   template_var 2),
                 template_var 1),
               template_var 0),
             template_var 5),
           template_app (template_hole 2, template_var 4)),
         template_app
          (template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 0, template_var 3),
                   template_var 2),
                 template_var 1),
               template_var 0),
             template_var 5),
           template_var 4)))),
    ("Window.reach_window_shift_all",
     "reach_window ?args ?t0.0 ?sub ?rho (?i, ?si, ?ti, ?j, ?sj, ?tj) ==>
      reach_window ?args ?t0.0 ?sub ?rho (?j, ?sj, ?tj, ?j, ?sj, ?tj)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 5, template_var 9),
                    template_var 8),
                  template_var 7),
                template_var 6),
              template_app
               (template_app (template_hole 4, template_var 5),
                template_app
                 (template_app (template_hole 3, template_var 4),
                  template_app
                   (template_app (template_hole 2, template_var 3),
                    template_app
                     (template_app (template_hole 1, template_var 2),
                      template_app
                       (template_app (template_hole 0, template_var 1),
                        template_var 0))))))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 5, template_var 9),
                   template_var 8),
                 template_var 7),
               template_var 6),
             template_app
              (template_app (template_hole 4, template_var 2),
               template_app
                (template_app (template_hole 3, template_var 1),
                 template_app
                  (template_app (template_hole 2, template_var 0),
                   template_app
                    (template_app (template_hole 1, template_var 2),
                     template_app
                      (template_app (template_hole 0, template_var 1),
                       template_var 0))))))
           ))),
    ("Window.sup_leadsto_idle",
     "[| ?i < ?j; steps ?step ?rho ?init (?i, ?j) ~= ?q |]
      ==> sup_leadsto ?init ?step ?rho ?i ?j ?q =
          sup_leadsto ?init ?step ?rho (?i + 1) ?j ?q",
     template_implication
      ([template_inequation (less_than, template_var 5, template_var 4),
        template_negation
         (
            template_equation
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 5, template_var 3),
                    template_var 2),
                  template_var 1),
                template_app
                 (template_app (template_hole 4, template_var 5),
                  template_var 4)),
              template_var 0)
            )],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 2, template_var 1),
                   template_var 3),
                 template_var 2),
               template_var 5),
             template_var 4),
           template_var 0),
         template_app
          (template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 2, template_var 1),
                   template_var 3),
                 template_var 2),
               template_app
                (template_app (template_hole 1, template_var 5),
                 template_hole 0)),
             template_var 4),
           template_var 0)))),
    ("Window.adv_end_bounds",
     "[| w_run_t ?args (w_tj ?w) = Some (?tj', ?t);
         w_run_sub ?args (w_sj ?w) = Some (?sj', ?bs);
         adv_end ?args ?w = Some ?w' |]
      ==> w_tj ?w' = ?tj'",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 12, template_var 6),
            template_app (template_hole 11, template_var 5)),
          template_app
           (template_hole 10,
            template_app
             (template_app (template_hole 9, template_var 4),
              template_var 3))),
        template_equation
         (template_app
           (template_app (template_hole 7, template_var 6),
            template_app (template_hole 6, template_var 5)),
          template_app
           (template_hole 5,
            template_app
             (template_app (template_hole 4, template_var 2),
              template_var 1))),
        template_equation
         (template_app
           (template_app (template_hole 2, template_var 6), template_var 5),
          template_app (template_hole 1, template_var 0))],
       template_equation
        (template_app (template_hole 11, template_var 0), template_var 4))),
    ("Window.adv_end_bounds",
     "[| w_run_t ?args (w_tj ?w) = Some (?tj', ?t);
         w_run_sub ?args (w_sj ?w) = Some (?sj', ?bs);
         adv_end ?args ?w = Some ?w' |]
      ==> w_sj ?w' = ?sj'",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 12, template_var 6),
            template_app (template_hole 11, template_var 5)),
          template_app
           (template_hole 10,
            template_app
             (template_app (template_hole 9, template_var 4),
              template_var 3))),
        template_equation
         (template_app
           (template_app (template_hole 7, template_var 6),
            template_app (template_hole 6, template_var 5)),
          template_app
           (template_hole 5,
            template_app
             (template_app (template_hole 4, template_var 2),
              template_var 1))),
        template_equation
         (template_app
           (template_app (template_hole 2, template_var 6), template_var 5),
          template_app (template_hole 1, template_var 0))],
       template_equation
        (template_app (template_hole 6, template_var 0), template_var 2))),
    ("Window.foldl_mmap_combine_distinct_set",
     "distinct (map fst ?r) ==>
      distinct (map fst (mmap_fold ?m ?f ?c ?r)) &
      set (map fst (mmap_fold ?m ?f ?c ?r)) =
      set (map fst ?r) Un set (map (fst o ?f) ?m)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 8,
              template_app
               (template_app (template_hole 7, template_hole 6),
                template_var 3))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 5,
               template_app
                (template_hole 8,
                 template_app
                  (template_app (template_hole 7, template_hole 6),
                   template_app
                    (template_app
                      (template_app
                        (template_app (template_hole 4, template_var 2),
                         template_var 1),
                       template_var 0),
                     template_var 3)))),
             template_app
              (template_app
                (template_hole 3,
                 template_app
                  (template_hole 2,
                   template_app
                    (template_app (template_hole 7, template_hole 6),
                     template_app
                      (template_app
                        (template_app
                          (template_app (template_hole 4, template_var 2),
                           template_var 1),
                         template_var 0),
                       template_var 3)))),
               template_app
                (template_app
                  (template_hole 1,
                   template_app
                    (template_hole 2,
                     template_app
                      (template_app (template_hole 7, template_hole 6),
                       template_var 3))),
                 template_app
                  (template_hole 2,
                   template_app
                    (template_app
                      (template_hole 7,
                       template_app
                        (template_app (template_hole 0, template_hole 6),
                         template_var 1)),
                     template_var 2)))))
           ))),
    ("Window.adv_end_bounds",
     "[| w_run_t ?args (w_tj ?w) = Some (?tj', ?t);
         w_run_sub ?args (w_sj ?w) = Some (?sj', ?bs);
         adv_end ?args ?w = Some ?w' |]
      ==> w_ti ?w' = w_ti ?w",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 13, template_var 6),
            template_app (template_hole 12, template_var 5)),
          template_app
           (template_hole 11,
            template_app
             (template_app (template_hole 10, template_var 4),
              template_var 3))),
        template_equation
         (template_app
           (template_app (template_hole 8, template_var 6),
            template_app (template_hole 7, template_var 5)),
          template_app
           (template_hole 6,
            template_app
             (template_app (template_hole 5, template_var 2),
              template_var 1))),
        template_equation
         (template_app
           (template_app (template_hole 3, template_var 6), template_var 5),
          template_app (template_hole 2, template_var 0))],
       template_equation
        (template_app (template_hole 0, template_var 0),
         template_app (template_hole 0, template_var 5)))),
    ("Window.adv_end_bounds",
     "[| w_run_t ?args (w_tj ?w) = Some (?tj', ?t);
         w_run_sub ?args (w_sj ?w) = Some (?sj', ?bs);
         adv_end ?args ?w = Some ?w' |]
      ==> w_si ?w' = w_si ?w",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 13, template_var 6),
            template_app (template_hole 12, template_var 5)),
          template_app
           (template_hole 11,
            template_app
             (template_app (template_hole 10, template_var 4),
              template_var 3))),
        template_equation
         (template_app
           (template_app (template_hole 8, template_var 6),
            template_app (template_hole 7, template_var 5)),
          template_app
           (template_hole 6,
            template_app
             (template_app (template_hole 5, template_var 2),
              template_var 1))),
        template_equation
         (template_app
           (template_app (template_hole 3, template_var 6), template_var 5),
          template_app (template_hole 2, template_var 0))],
       template_equation
        (template_app (template_hole 0, template_var 0),
         template_app (template_hole 0, template_var 5)))),
    ("Window.adv_end_bounds",
     "[| w_run_t ?args (w_tj ?w) = Some (?tj', ?t);
         w_run_sub ?args (w_sj ?w) = Some (?sj', ?bs);
         adv_end ?args ?w = Some ?w' |]
      ==> w_i ?w' = w_i ?w",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 13, template_var 6),
            template_app (template_hole 12, template_var 5)),
          template_app
           (template_hole 11,
            template_app
             (template_app (template_hole 10, template_var 4),
              template_var 3))),
        template_equation
         (template_app
           (template_app (template_hole 8, template_var 6),
            template_app (template_hole 7, template_var 5)),
          template_app
           (template_hole 6,
            template_app
             (template_app (template_hole 5, template_var 2),
              template_var 1))),
        template_equation
         (template_app
           (template_app (template_hole 3, template_var 6), template_var 5),
          template_app (template_hole 2, template_var 0))],
       template_equation
        (template_app (template_hole 0, template_var 0),
         template_app (template_hole 0, template_var 5)))),
    ("Window.steps_appE",
     "[| ?i <= ?j; steps ?step ?rho ?q (?i, Suc ?j) = ?q' |]
      ==> EX q''.
             steps ?step ?rho ?q (?i, ?j) = q'' &
             ?q' = ?step q'' (bs_at ?rho ?j)",
     template_implication
      ([template_inequation (less_equals, template_var 5, template_var 4),
        template_equation
         (template_app
           (template_app
             (template_app
               (template_app (template_hole 5, template_var 3),
                template_var 2),
              template_var 1),
            template_app
             (template_app (template_hole 4, template_var 5),
              template_app (template_hole 3, template_var 4))),
          template_var 0)],
       template_predicate (template_app (template_hole 2, t_empty)))),
    ("Window.acc_app",
     "[| ?i <= ?j; steps ?step ?rho ?q (?i, Suc ?j) = ?q'; ?accept ?q' |]
      ==> sup_acc ?step ?accept ?rho ?q ?i (Suc ?j) =
          Some (ts_at ?rho ?j, ?j)",
     template_implication
      ([template_inequation (less_equals, template_var 6, template_var 5),
        template_equation
         (template_app
           (template_app
             (template_app
               (template_app (template_hole 7, template_var 4),
                template_var 3),
              template_var 2),
            template_app
             (template_app (template_hole 6, template_var 6),
              template_app (template_hole 5, template_var 5))),
          template_var 1),
        template_predicate (template_app (template_var 0, template_var 1))],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 3, template_var 4),
                   template_var 0),
                 template_var 3),
               template_var 2),
             template_var 6),
           template_app (template_hole 5, template_var 5)),
         template_app
          (template_hole 2,
           template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 3),
                 template_var 5)),
             template_var 5))))),
    ("Window.reaches_invar",
     "[| reaches ?f ?x ?n ?y; ?P ?x;
         !!z z' v. [| ?P z; ?f z = Some (z', v) |] ==> ?P z' |]
      ==> ?P ?y",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 5, template_var 4),
                  template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate (template_app (template_var 0, template_var 3)),
        template_predicate (template_app (template_hole 4, t_empty))],
       template_predicate (template_app (template_var 0, template_var 1)))),
    ("Window.valid_adv_start_bounds'",
     "[| valid_window ?args ?t0.0 ?sub ?rho ?w;
         w_run_t ?args (w_ti ?w) = Some (?ti', ?t);
         w_run_sub ?args (w_si ?w) = Some (?si', ?bs) |]
      ==> w_ti (adv_start ?args ?w) = ?ti'",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 12, template_var 8),
                    template_var 7),
                  template_var 6),
                template_var 5),
              template_var 4)
            ),
        template_equation
         (template_app
           (template_app (template_hole 10, template_var 8),
            template_app (template_hole 9, template_var 4)),
          template_app
           (template_hole 8,
            template_app
             (template_app (template_hole 7, template_var 3),
              template_var 2))),
        template_equation
         (template_app
           (template_app (template_hole 5, template_var 8),
            template_app (template_hole 4, template_var 4)),
          template_app
           (template_hole 3,
            template_app
             (template_app (template_hole 2, template_var 1),
              template_var 0)))],
       template_equation
        (template_app
          (template_hole 9,
           template_app
            (template_app (template_hole 0, template_var 8),
             template_var 4)),
         template_var 3))),
    ("Window.valid_adv_start_bounds'",
     "[| valid_window ?args ?t0.0 ?sub ?rho ?w;
         w_run_t ?args (w_ti ?w) = Some (?ti', ?t);
         w_run_sub ?args (w_si ?w) = Some (?si', ?bs) |]
      ==> w_si (adv_start ?args ?w) = ?si'",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 12, template_var 8),
                    template_var 7),
                  template_var 6),
                template_var 5),
              template_var 4)
            ),
        template_equation
         (template_app
           (template_app (template_hole 10, template_var 8),
            template_app (template_hole 9, template_var 4)),
          template_app
           (template_hole 8,
            template_app
             (template_app (template_hole 7, template_var 3),
              template_var 2))),
        template_equation
         (template_app
           (template_app (template_hole 5, template_var 8),
            template_app (template_hole 4, template_var 4)),
          template_app
           (template_hole 3,
            template_app
             (template_app (template_hole 2, template_var 1),
              template_var 0)))],
       template_equation
        (template_app
          (template_hole 4,
           template_app
            (template_app (template_hole 0, template_var 8),
             template_var 4)),
         template_var 1))),
    ("Window.adv_end_bounds",
     "[| w_run_t ?args (w_tj ?w) = Some (?tj', ?t);
         w_run_sub ?args (w_sj ?w) = Some (?sj', ?bs);
         adv_end ?args ?w = Some ?w' |]
      ==> w_j ?w' = Suc (w_j ?w)",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 14, template_var 6),
            template_app (template_hole 13, template_var 5)),
          template_app
           (template_hole 12,
            template_app
             (template_app (template_hole 11, template_var 4),
              template_var 3))),
        template_equation
         (template_app
           (template_app (template_hole 9, template_var 6),
            template_app (template_hole 8, template_var 5)),
          template_app
           (template_hole 7,
            template_app
             (template_app (template_hole 6, template_var 2),
              template_var 1))),
        template_equation
         (template_app
           (template_app (template_hole 4, template_var 6), template_var 5),
          template_app (template_hole 3, template_var 0))],
       template_equation
        (template_app (template_hole 1, template_var 0),
         template_app
          (template_hole 0,
           template_app (template_hole 1, template_var 5))))),
    ("Window.lookup_fold_sup",
     "distinct (map fst ?m) ==>
      mmap_lookup (fold_sup ?m ?f) ?z =
      (let Z = {x: mmap_keys ?m. ?f x = ?z}
       in if Z = {} then None
          else Some
                (\<Squnion>\<^sub>f\<^sub>i\<^sub>n ((the o
                mmap_lookup ?m) `
               Z)))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 20,
              template_app
               (template_app (template_hole 19, template_hole 18),
                template_var 2))
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 16,
             template_app
              (template_app (template_hole 15, template_var 2),
               template_var 1)),
           template_var 0),
         template_app
          (template_app
            (template_hole 14, template_app (template_hole 13, t_empty)),
           t_empty)))),
    ("Window.sup_leadsto_SomeI",
     "[| ?l < ?i; steps ?step ?rho ?init (?l, ?j) = ?q |]
      ==> EX l'.
             sup_leadsto ?init ?step ?rho ?i ?j ?q = Some (ts_at ?rho l') &
             ?l <= l' & l' < ?i",
     template_implication
      ([template_inequation (less_than, template_var 6, template_var 5),
        template_equation
         (template_app
           (template_app
             (template_app
               (template_app (template_hole 8, template_var 4),
                template_var 3),
              template_var 2),
            template_app
             (template_app (template_hole 7, template_var 6),
              template_var 1)),
          template_var 0)],
       template_predicate (template_app (template_hole 6, t_empty)))),
    ("Window.sup_leadsto_SomeE",
     "[| ?i <= ?j; sup_leadsto ?init ?step ?rho ?i ?j ?q = Some ?ts |]
      ==> EX l<?i.
             steps ?step ?rho ?init (l, ?j) = ?q & ts_at ?rho l = ?ts",
     template_implication
      ([template_inequation (less_equals, template_var 6, template_var 5),
        template_equation
         (template_app
           (template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 9, template_var 4),
                    template_var 3),
                  template_var 2),
                template_var 6),
              template_var 5),
            template_var 1),
          template_app (template_hole 8, template_var 0))],
       template_predicate (template_app (template_hole 7, t_empty)))),
    ("Window.acc_app_idle",
     "[| ?i <= ?j; steps ?step ?rho ?q (?i, Suc ?j) = ?q'; ~ ?accept ?q' |]
      ==> sup_acc ?step ?accept ?rho ?q ?i (Suc ?j) =
          sup_acc ?step ?accept ?rho ?q ?i ?j",
     template_implication
      ([template_inequation (less_equals, template_var 6, template_var 5),
        template_equation
         (template_app
           (template_app
             (template_app
               (template_app (template_hole 5, template_var 4),
                template_var 3),
              template_var 2),
            template_app
             (template_app (template_hole 4, template_var 6),
              template_app (template_hole 3, template_var 5))),
          template_var 1),
        template_negation
         (
            template_predicate
             (template_app (template_var 0, template_var 1))
            )],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 0, template_var 4),
                   template_var 0),
                 template_var 3),
               template_var 2),
             template_var 6),
           template_app (template_hole 3, template_var 5)),
         template_app
          (template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 0, template_var 4),
                   template_var 0),
                 template_var 3),
               template_var 2),
             template_var 6),
           template_var 5)))),
    ("Window.mmap_fold_lookup",
     "distinct (map fst ?m) ==>
      mmap_lookup (mmap_fold ?m ?f ?c []) ?z =
      (case map (snd o ?f) (filter (%(k, v). fst (?f (k, v)) = ?z) ?m) of
       [] => None | v # vs => Some (foldl ?c v vs))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 17,
              template_app
               (template_app (template_hole 16, template_hole 15),
                template_var 3))
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 13,
             template_app
              (template_app
                (template_app
                  (template_app (template_hole 12, template_var 3),
                   template_var 2),
                 template_var 1),
               template_hole 11)),
           template_var 0),
         template_app
          (template_app
            (template_app (template_hole 10, template_hole 9), t_empty),
           template_app
            (template_app
              (template_hole 6,
               template_app
                (template_app (template_hole 5, template_hole 4),
                 template_var 2)),
             template_app
              (template_app
                (template_hole 3, template_app (template_hole 2, t_empty)),
               template_var 3)))))),
    ("Window.sup_fin_closed",
     "[| finite ?A; ?A ~= {};
         !!x y. [| x : ?A; y : ?A |] ==> sup x y : {x, y} |]
      ==> \<Squnion>\<^sub>f\<^sub>i\<^sub>n ?A : ?A",
     template_implication
      ([template_predicate (template_app (template_hole 8, template_var 0)),
        template_negation
         (template_equation (template_var 0, template_hole 5)),
        template_predicate (template_app (template_hole 4, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 3,
               template_app (template_hole 0, template_var 0)),
             template_var 0)
           ))),
    ("Window.steps_comp",
     "[| ?i <= ?l; ?l <= ?j; steps ?step ?rho ?q (?i, ?l) = ?q';
         steps ?step ?rho ?q' (?l, ?j) = ?q'' |]
      ==> steps ?step ?rho ?q (?i, ?j) = ?q''",
     template_implication
      ([template_inequation (less_equals, template_var 7, template_var 6),
        template_inequation (less_equals, template_var 6, template_var 5),
        template_equation
         (template_app
           (template_app
             (template_app
               (template_app (template_hole 1, template_var 4),
                template_var 3),
              template_var 2),
            template_app
             (template_app (template_hole 0, template_var 7),
              template_var 6)),
          template_var 1),
        template_equation
         (template_app
           (template_app
             (template_app
               (template_app (template_hole 1, template_var 4),
                template_var 3),
              template_var 1),
            template_app
             (template_app (template_hole 0, template_var 6),
              template_var 5)),
          template_var 0)],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app (template_hole 1, template_var 4),
               template_var 3),
             template_var 2),
           template_app
            (template_app (template_hole 0, template_var 7),
             template_var 5)),
         template_var 0))),
    ("Window.reaches_on_setD",
     "[| reaches_on ?run ?s ?vs ?s'; ?x : set ?vs |]
      ==> EX vs' vs'' s''.
             reaches_on ?run ?s (vs' @ [?x]) s'' &
             reaches_on ?run s'' vs'' ?s' & ?vs = vs' @ ?x # vs''",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 9, template_var 4),
                  template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 0),
              template_app (template_hole 7, template_var 2))
            )],
       template_predicate (template_app (template_hole 6, t_empty)))),
    ("Window.sup_acc_SomeI",
     "[| acc ?step ?accept ?rho ?q (?i, Suc ?l); ?l : {?i..<?j} |]
      ==> EX tp.
             sup_acc ?step ?accept ?rho ?q ?i ?j =
             Some (ts_at ?rho tp, tp) &
             ?l <= tp & tp < ?j",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 13, template_var 6),
                    template_var 5),
                  template_var 4),
                template_var 3),
              template_app
               (template_app (template_hole 12, template_var 2),
                template_app (template_hole 11, template_var 1)))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 10, template_var 1),
              template_app
               (template_app (template_hole 9, template_var 2),
                template_var 0))
            )],
       template_predicate (template_app (template_hole 8, t_empty)))),
    ("Window.sup_acc_comp_None",
     "[| ?i <= ?l; ?l <= ?j;
         sup_acc ?step ?accept ?rho (steps ?step ?rho ?q (?i, ?l)) ?l ?j =
         None |]
      ==> sup_acc ?step ?accept ?rho ?q ?i ?j =
          sup_acc ?step ?accept ?rho ?q ?i ?l",
     template_implication
      ([template_inequation (less_equals, template_var 6, template_var 5),
        template_inequation (less_equals, template_var 5, template_var 4),
        template_equation
         (template_app
           (template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 3, template_var 3),
                    template_var 2),
                  template_var 1),
                template_app
                 (template_app
                   (template_app
                     (template_app (template_hole 2, template_var 3),
                      template_var 1),
                    template_var 0),
                  template_app
                   (template_app (template_hole 1, template_var 6),
                    template_var 5))),
              template_var 5),
            template_var 4),
          template_hole 0)],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 3, template_var 3),
                   template_var 2),
                 template_var 1),
               template_var 0),
             template_var 6),
           template_var 4),
         template_app
          (template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 3, template_var 3),
                   template_var 2),
                 template_var 1),
               template_var 0),
             template_var 6),
           template_var 5)))),
    ("Window.reaches_on_split",
     "[| reaches_on ?run ?s ?vs ?s'; ?i < length ?vs |]
      ==> EX s'' s'''.
             reaches_on ?run ?s (take ?i ?vs) s'' &
             ?run s'' = Some (s''', ?vs ! ?i) &
             reaches_on ?run s''' (drop (Suc ?i) ?vs) ?s'",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 11, template_var 4),
                  template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_inequation
         (less_than, template_var 0,
          template_app (template_hole 9, template_var 2))],
       template_predicate (template_app (template_hole 8, t_empty)))),
    ("Window.sup_acc_l",
     "[| ?i < ?j; ?i ~= ?l;
         sup_acc ?step ?accept ?rho ?q ?i ?j = Some (?ts, ?l) |]
      ==> sup_acc ?step ?accept ?rho ?q ?i ?j =
          sup_acc ?step ?accept ?rho (?step ?q (bs_at ?rho ?i)) (Suc ?i)
           ?j",
     template_implication
      ([template_inequation (less_than, template_var 7, template_var 6),
        template_negation
         (template_equation (template_var 7, template_var 5)),
        template_equation
         (template_app
           (template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 4, template_var 4),
                    template_var 3),
                  template_var 2),
                template_var 1),
              template_var 7),
            template_var 6),
          template_app
           (template_hole 3,
            template_app
             (template_app (template_hole 2, template_var 0),
              template_var 5)))],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 4, template_var 4),
                   template_var 3),
                 template_var 2),
               template_var 1),
             template_var 7),
           template_var 6),
         template_app
          (template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 4, template_var 4),
                   template_var 3),
                 template_var 2),
               template_app
                (template_app (template_var 4, template_var 1),
                 template_app
                  (template_app (template_hole 1, template_var 2),
                   template_var 7))),
             template_app (template_hole 0, template_var 7)),
           template_var 6)))),
    ("Window.adv_d_keys",
     "[| !!q bs.
            case Mapping.lookup ?st (q, bs) of None => True
            | Some v => ?step q bs = v;
         distinct (map fst ?s); adv_d ?step ?st ?i ?bs ?s = (?s', ?st') |]
      ==> mmap_keys ?s' = (%q. ?step q ?bs) ` mmap_keys ?s",
     template_implication
      ([template_predicate (template_app (template_hole 16, t_empty)),
        template_predicate
         (
            template_app
             (template_hole 8,
              template_app
               (template_app (template_hole 7, template_hole 6),
                template_var 4))
            ),
        template_equation
         (template_app
           (template_app
             (template_app
               (template_app
                 (template_app (template_hole 4, template_var 6),
                  template_var 5),
                template_var 3),
              template_var 2),
            template_var 4),
          template_app
           (template_app (template_hole 3, template_var 1),
            template_var 0))],
       template_equation
        (template_app (template_hole 1, template_var 1),
         template_app
          (template_app (template_hole 0, t_empty),
           template_app (template_hole 1, template_var 4))))),
    ("Window.mmap_fold_lookup_rec",
     "distinct (map fst ?r) ==>
      mmap_lookup (mmap_fold ?m ?f ?c ?r) ?z =
      (case map (snd o ?f) (filter (%(k, v). fst (?f (k, v)) = ?z) ?m) of
       [] => mmap_lookup ?r ?z
       | v # vs =>
           case mmap_lookup ?r ?z of None => Some (foldl ?c v vs)
           | Some w => Some (foldl ?c w (v # vs)))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 17,
              template_app
               (template_app (template_hole 16, template_hole 15),
                template_var 4))
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 13,
             template_app
              (template_app
                (template_app
                  (template_app (template_hole 12, template_var 3),
                   template_var 2),
                 template_var 1),
               template_var 4)),
           template_var 0),
         template_app
          (template_app
            (template_app
              (template_hole 11,
               template_app
                (template_app (template_hole 13, template_var 4),
                 template_var 0)),
             t_empty),
           template_app
            (template_app
              (template_hole 6,
               template_app
                (template_app (template_hole 5, template_hole 4),
                 template_var 2)),
             template_app
              (template_app
                (template_hole 3, template_app (template_hole 2, t_empty)),
               template_var 3)))))),
    ("Window.valid_adv_d",
     "[| valid_s ?init ?step ?st ?accept ?rho ?u ?i ?j ?s; ?u <= ?i;
         ?i < ?j; ?b = bs_at ?rho ?i;
         adv_d ?step ?st ?i ?b ?s = (?s', ?st') |]
      ==> valid_s ?init ?step ?st' ?accept ?rho ?u (?i + 1) ?j ?s'",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app
                     (template_app
                       (template_app
                         (template_app
                           (template_app (template_hole 9, template_var 11),
                            template_var 10),
                          template_var 9),
                        template_var 8),
                      template_var 7),
                    template_var 6),
                  template_var 5),
                template_var 4),
              template_var 3)
            ),
        template_inequation (less_equals, template_var 6, template_var 5),
        template_inequation (less_than, template_var 5, template_var 4),
        template_equation
         (template_var 2,
          template_app
           (template_app (template_hole 5, template_var 7),
            template_var 5)),
        template_equation
         (template_app
           (template_app
             (template_app
               (template_app
                 (template_app (template_hole 3, template_var 10),
                  template_var 9),
                template_var 5),
              template_var 2),
            template_var 3),
          template_app
           (template_app (template_hole 2, template_var 1),
            template_var 0))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_app
                    (template_app
                      (template_app
                        (template_app
                          (template_app (template_hole 9, template_var 11),
                           template_var 10),
                         template_var 0),
                       template_var 8),
                     template_var 7),
                   template_var 6),
                 template_app
                  (template_app (template_hole 1, template_var 5),
                   template_hole 0)),
               template_var 4),
             template_var 1)
           ))),
    ("Window.sup_acc_comp_Some_ge",
     "[| ?i <= ?l; ?l <= ?j; ?l <= ?tp;
         sup_acc ?step ?accept ?rho (steps ?step ?rho ?q (?i, ?l)) ?l ?j =
         Some (?ts, ?tp) |]
      ==> sup_acc ?step ?accept ?rho ?q ?i ?j =
          sup_acc ?step ?accept ?rho (steps ?step ?rho ?q (?i, ?l)) ?l ?j",
     template_implication
      ([template_inequation (less_equals, template_var 8, template_var 7),
        template_inequation (less_equals, template_var 7, template_var 6),
        template_inequation (less_equals, template_var 7, template_var 5),
        template_equation
         (template_app
           (template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 4, template_var 4),
                    template_var 3),
                  template_var 2),
                template_app
                 (template_app
                   (template_app
                     (template_app (template_hole 3, template_var 4),
                      template_var 2),
                    template_var 1),
                  template_app
                   (template_app (template_hole 2, template_var 8),
                    template_var 7))),
              template_var 7),
            template_var 6),
          template_app
           (template_hole 1,
            template_app
             (template_app (template_hole 0, template_var 0),
              template_var 5)))],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 4, template_var 4),
                   template_var 3),
                 template_var 2),
               template_var 1),
             template_var 8),
           template_var 6),
         template_app
          (template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 4, template_var 4),
                   template_var 3),
                 template_var 2),
               template_app
                (template_app
                  (template_app
                    (template_app (template_hole 3, template_var 4),
                     template_var 2),
                   template_var 1),
                 template_app
                  (template_app (template_hole 2, template_var 8),
                   template_var 7))),
             template_var 7),
           template_var 6)))),
    ("Window.mmap_fold'_eq",
     "[| mmap_fold' ?m ?e ?f' ?c ?r = (?m', ?e'); ?P ?e;
         !!p e p' e'.
            [| ?P e; ?f' (p, e) = (p', e') |] ==> p' = ?f p & ?P e' |]
      ==> ?m' = mmap_fold ?m ?f ?c ?r & ?P ?e'",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_app
               (template_app
                 (template_app (template_hole 9, template_var 8),
                  template_var 7),
                template_var 6),
              template_var 5),
            template_var 4),
          template_app
           (template_app (template_hole 8, template_var 3),
            template_var 2)),
        template_predicate (template_app (template_var 1, template_var 7)),
        template_predicate (template_app (template_hole 7, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 3,
               template_app
                (template_app (template_hole 1, template_var 3),
                 template_app
                  (template_app
                    (template_app
                      (template_app (template_hole 0, template_var 8),
                       template_var 0),
                     template_var 5),
                   template_var 4))),
             template_app (template_var 1, template_var 2))
           ))),
    ("Window.reach_window_run_ti",
     "[| reach_window ?args ?t0.0 ?sub ?rho (?i, ?ti, ?si, ?j, ?tj, ?sj);
         ?i < ?j |]
      ==> EX ti'.
             reaches_on (w_run_t ?args) ?t0.0 (take ?i (map fst ?rho)) ?ti &
             w_run_t ?args ?ti = Some (ti', ts_at ?rho ?i) &
             reaches_on (w_run_t ?args) ti' (drop (Suc ?i) (map fst ?rho))
              ?tj",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 19, template_var 9),
                    template_var 8),
                  template_var 7),
                template_var 6),
              template_app
               (template_app (template_hole 18, template_var 5),
                template_app
                 (template_app (template_hole 17, template_var 4),
                  template_app
                   (template_app (template_hole 16, template_var 3),
                    template_app
                     (template_app (template_hole 15, template_var 2),
                      template_app
                       (template_app (template_hole 14, template_var 1),
                        template_var 0))))))
            ),
        template_inequation (less_than, template_var 5, template_var 2)],
       template_predicate (template_app (template_hole 12, t_empty)))),
    ("Window.reach_window_run_si",
     "[| reach_window ?args ?t0.0 ?sub ?rho (?i, ?ti, ?si, ?j, ?tj, ?sj);
         ?i < ?j |]
      ==> EX si'.
             reaches_on (w_run_sub ?args) ?sub (take ?i (map snd ?rho))
              ?si &
             w_run_sub ?args ?si = Some (si', bs_at ?rho ?i) &
             reaches_on (w_run_sub ?args) si' (drop (Suc ?i) (map snd ?rho))
              ?sj",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 19, template_var 9),
                    template_var 8),
                  template_var 7),
                template_var 6),
              template_app
               (template_app (template_hole 18, template_var 5),
                template_app
                 (template_app (template_hole 17, template_var 4),
                  template_app
                   (template_app (template_hole 16, template_var 3),
                    template_app
                     (template_app (template_hole 15, template_var 2),
                      template_app
                       (template_app (template_hole 14, template_var 1),
                        template_var 0))))))
            ),
        template_inequation (less_than, template_var 5, template_var 2)],
       template_predicate (template_app (template_hole 12, t_empty)))),
    ("Window.reaches_cong",
     "[| reaches ?f ?x ?n ?y; ?P ?x;
         !!z z' v. [| ?P z; ?f z = Some (z', v) |] ==> ?P z';
         !!z. ?P z ==> ?f' (?g z) = map_option (apfst ?g) (?f z) |]
      ==> reaches ?f' (?g ?x) ?n (?g ?y)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 9, template_var 6),
                  template_var 5),
                template_var 4),
              template_var 3)
            ),
        template_predicate (template_app (template_var 2, template_var 5)),
        template_predicate (template_app (template_hole 8, t_empty)),
        template_predicate (template_app (template_hole 8, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app (template_hole 0, template_var 1),
                 template_app (template_var 0, template_var 5)),
               template_var 4),
             template_app (template_var 0, template_var 3))
           ))),
    ("Window.lookup_adv_d_None",
     "[| !!q bs.
            case Mapping.lookup ?st (q, bs) of None => True
            | Some v => ?step q bs = v;
         distinct (map fst ?s); adv_d ?step ?st ?i ?bs ?s = (?s', ?st');
         {x: mmap_keys ?s. ?step x ?bs = ?z} = {} |]
      ==> mmap_lookup ?s' ?z = None",
     template_implication
      ([template_predicate (template_app (template_hole 22, t_empty)),
        template_predicate
         (
            template_app
             (template_hole 14,
              template_app
               (template_app (template_hole 13, template_hole 12),
                template_var 5))
            ),
        template_equation
         (template_app
           (template_app
             (template_app
               (template_app
                 (template_app (template_hole 10, template_var 7),
                  template_var 6),
                template_var 4),
              template_var 3),
            template_var 5),
          template_app
           (template_app (template_hole 9, template_var 2),
            template_var 1)),
        template_equation
         (template_app (template_hole 7, t_empty), template_hole 3)],
       template_equation
        (template_app
          (template_app (template_hole 1, template_var 2), template_var 0),
         template_hole 0))),
    ("Window.reach_window_shift",
     "[| reach_window ?args ?t0.0 ?sub ?rho (?i, ?ti, ?si, ?j, ?tj, ?sj);
         ?i < ?j; w_run_t ?args ?ti = Some (?ti', ?t);
         w_run_sub ?args ?si = Some (?si', ?s) |]
      ==> reach_window ?args ?t0.0 ?sub ?rho
           (Suc ?i, ?ti', ?si', ?j, ?tj, ?sj)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 15, template_var 13),
                    template_var 12),
                  template_var 11),
                template_var 10),
              template_app
               (template_app (template_hole 14, template_var 9),
                template_app
                 (template_app (template_hole 13, template_var 8),
                  template_app
                   (template_app (template_hole 12, template_var 7),
                    template_app
                     (template_app (template_hole 11, template_var 6),
                      template_app
                       (template_app (template_hole 10, template_var 5),
                        template_var 4))))))
            ),
        template_inequation (less_than, template_var 9, template_var 6),
        template_equation
         (template_app
           (template_app (template_hole 7, template_var 13),
            template_var 8),
          template_app
           (template_hole 6,
            template_app
             (template_app (template_hole 5, template_var 3),
              template_var 2))),
        template_equation
         (template_app
           (template_app (template_hole 3, template_var 13),
            template_var 7),
          template_app
           (template_hole 2,
            template_app
             (template_app (template_hole 1, template_var 1),
              template_var 0)))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 15, template_var 13),
                   template_var 12),
                 template_var 11),
               template_var 10),
             template_app
              (template_app
                (template_hole 14,
                 template_app (template_hole 0, template_var 9)),
               template_app
                (template_app (template_hole 13, template_var 3),
                 template_app
                  (template_app (template_hole 12, template_var 1),
                   template_app
                    (template_app (template_hole 11, template_var 6),
                     template_app
                      (template_app (template_hole 10, template_var 5),
                       template_var 4))))))
           ))),
    ("Window.reaches_on_rev_induct",
     "[| reaches_on ?run ?s ?vs ?s'; !!s. ?P s [] s;
         !!s s' v vs s''.
            [| reaches_on ?run s vs s'; ?P s vs s';
               ?run s' = Some (s'', v) |]
            ==> ?P s (vs @ [v]) s'' |]
      ==> ?P ?s ?vs ?s'",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 9, template_var 4),
                  template_var 3),
                template_var 2),
              template_var 1)
            ),
        template_predicate (template_app (template_hole 8, t_empty)),
        template_predicate (template_app (template_hole 8, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_var 0, template_var 3),
               template_var 2),
             template_var 1)
           ))),
    ("Window.reach_window_app",
     "[| reach_window ?args ?t0.0 ?sub ?rho (?i, ?si, ?ti, ?j, ?tj, ?sj);
         w_run_t ?args ?tj = Some (?tj', ?x);
         w_run_sub ?args ?sj = Some (?sj', ?y) |]
      ==> reach_window ?args ?t0.0 ?sub (?rho @ [(?x, ?y)])
           (?i, ?si, ?ti, Suc ?j, ?tj', ?sj')",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 18, template_var 13),
                    template_var 12),
                  template_var 11),
                template_var 10),
              template_app
               (template_app (template_hole 17, template_var 9),
                template_app
                 (template_app (template_hole 16, template_var 8),
                  template_app
                   (template_app (template_hole 15, template_var 7),
                    template_app
                     (template_app (template_hole 14, template_var 6),
                      template_app
                       (template_app (template_hole 13, template_var 5),
                        template_var 4))))))
            ),
        template_equation
         (template_app
           (template_app (template_hole 11, template_var 13),
            template_var 5),
          template_app
           (template_hole 10,
            template_app
             (template_app (template_hole 9, template_var 3),
              template_var 2))),
        template_equation
         (template_app
           (template_app (template_hole 7, template_var 13),
            template_var 4),
          template_app
           (template_hole 6,
            template_app
             (template_app (template_hole 5, template_var 1),
              template_var 0)))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 18, template_var 13),
                   template_var 12),
                 template_var 11),
               template_app
                (template_app (template_hole 4, template_var 10),
                 template_app
                  (template_app
                    (template_hole 3,
                     template_app
                      (template_app (template_hole 2, template_var 2),
                       template_var 0)),
                   template_hole 1))),
             template_app
              (template_app (template_hole 17, template_var 9),
               template_app
                (template_app (template_hole 16, template_var 8),
                 template_app
                  (template_app (template_hole 15, template_var 7),
                   template_app
                    (template_app
                      (template_hole 14,
                       template_app (template_hole 0, template_var 6)),
                     template_app
                      (template_app (template_hole 13, template_var 3),
                       template_var 1))))))
           ))),
    ("Window.valid_adv_end",
     "[| valid_window ?args ?t0.0 ?sub ?rho ?w;
         w_run_t ?args (w_tj ?w) = Some (?tj', ?t);
         w_run_sub ?args (w_sj ?w) = Some (?sj', ?bs);
         !!t'. t' : set (map fst ?rho) ==> t' <= ?t |]
      ==> case adv_end ?args ?w of None => False
          | Some w' =>
              valid_window ?args ?t0.0 ?sub (?rho @ [(?t, ?bs)]) w'",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_app (template_hole 23, template_var 8),
                    template_var 7),
                  template_var 6),
                template_var 5),
              template_var 4)
            ),
        template_equation
         (template_app
           (template_app (template_hole 21, template_var 8),
            template_app (template_hole 20, template_var 4)),
          template_app
           (template_hole 19,
            template_app
             (template_app (template_hole 18, template_var 3),
              template_var 2))),
        template_equation
         (template_app
           (template_app (template_hole 16, template_var 8),
            template_app (template_hole 15, template_var 4)),
          template_app
           (template_hole 14,
            template_app
             (template_app (template_hole 13, template_var 1),
              template_var 0))),
        template_predicate (template_app (template_hole 12, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 6, template_hole 5), t_empty),
             template_app
              (template_app (template_hole 0, template_var 8),
               template_var 4))
           ))),
    ("Window.lookup_adv_d_Some",
     "[| !!q bs.
            case Mapping.lookup ?st (q, bs) of None => True
            | Some v => ?step q bs = v;
         distinct (map fst ?s); keys_idem ?step ?i ?bs ?s;
         ?x : mmap_keys ?s; ?step ?x ?bs = ?z;
         adv_d ?step ?st ?i ?bs ?s = (?s', ?st') |]
      ==> mmap_lookup ?s' ?z =
          Some (drop_cur ?i (the (mmap_lookup ?s ?x)))",
     template_implication
      ([template_predicate (template_app (template_hole 21, t_empty)),
        template_predicate
         (
            template_app
             (template_hole 13,
              template_app
               (template_app (template_hole 12, template_hole 11),
                template_var 6))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app (template_hole 10, template_var 8),
                  template_var 5),
                template_var 4),
              template_var 6)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 9, template_var 3),
              template_app (template_hole 8, template_var 6))
            ),
        template_equation
         (template_app
           (template_app (template_var 8, template_var 3), template_var 4),
          template_var 2),
        template_equation
         (template_app
           (template_app
             (template_app
               (template_app
                 (template_app (template_hole 6, template_var 8),
                  template_var 7),
                template_var 5),
              template_var 4),
            template_var 6),
          template_app
           (template_app (template_hole 5, template_var 1),
            template_var 0))],
       template_equation
        (template_app
          (template_app (template_hole 3, template_var 1), template_var 2),
         template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 1, template_var 5),
             template_app
              (template_hole 0,
               template_app
                (template_app (template_hole 3, template_var 6),
                 template_var 3))))))),
    ("Window.reach_windowI",
     "[| reaches_on (w_run_t ?args) ?t0.0 (take ?i (map fst ?rho)) ?ti;
         reaches_on (w_run_sub ?args) ?sub (take ?i (map snd ?rho)) ?si;
         reaches_on (w_run_t ?args) ?t0.0 (map fst ?rho) ?tj;
         reaches_on (w_run_sub ?args) ?sub (map snd ?rho) ?sj;
         ?i <= length ?rho; length ?rho = ?j |]
      ==> reach_window ?args ?t0.0 ?sub ?rho (?i, ?ti, ?si, ?j, ?tj, ?sj)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_hole 18,
                    template_app (template_hole 17, template_var 9)),
                  template_var 8),
                template_app
                 (template_app (template_hole 16, template_var 7),
                  template_app
                   (template_app (template_hole 15, template_hole 14),
                    template_var 6))),
              template_var 5)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_hole 13,
                    template_app (template_hole 12, template_var 9)),
                  template_var 4),
                template_app
                 (template_app (template_hole 11, template_var 7),
                  template_app
                   (template_app (template_hole 10, template_hole 9),
                    template_var 6))),
              template_var 3)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_hole 18,
                    template_app (template_hole 17, template_var 9)),
                  template_var 8),
                template_app
                 (template_app (template_hole 15, template_hole 14),
                  template_var 6)),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_app
                   (template_hole 13,
                    template_app (template_hole 12, template_var 9)),
                  template_var 4),
                template_app
                 (template_app (template_hole 10, template_hole 9),
                  template_var 6)),
              template_var 1)
            ),
        template_inequation
         (less_equals, template_var 7,
          template_app (template_hole 7, template_var 6)),
        template_equation
         (template_app (template_hole 7, template_var 6), template_var 0)],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 5, template_var 9),
                   template_var 8),
                 template_var 4),
               template_var 6),
             template_app
              (template_app (template_hole 4, template_var 7),
               template_app
                (template_app (template_hole 3, template_var 5),
                 template_app
                  (template_app (template_hole 2, template_var 3),
                   template_app
                    (template_app (template_hole 1, template_var 0),
                     template_app
                      (template_app (template_hole 0, template_var 2),
                       template_var 1))))))
           ))),
    ("Window.adv_d_mmap_fold",
     "[| !!q bs.
            case Mapping.lookup ?st (q, bs) of None => True
            | Some v => ?step q bs = v;
         mmap_fold' ?s ?st
          (%((x, v), st).
              case cstep ?step st x ?bs of
              (x', st') => ((x', drop_cur ?i v), st'))
          (%x y. x) ?r =
         (?s', ?st') |]
      ==> ?s' =
          mmap_fold ?s (%(x, v). (?step x ?bs, drop_cur ?i v)) (%x y. x)
           ?r &
          (ALL q bs.
              case Mapping.lookup ?st' (q, bs) of None => True
              | Some v => ?step q bs = v)",
     template_implication
      ([template_predicate (template_app (template_hole 23, t_empty)),
        template_equation
         (template_app
           (template_app
             (template_app
               (template_app
                 (template_app (template_hole 14, template_var 5),
                  template_var 6),
                template_app
                 (template_hole 13,
                  template_app (template_hole 12, t_empty))),
              t_empty),
            template_var 2),
          template_app
           (template_app (template_hole 6, template_var 1),
            template_var 0))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 5,
               template_app
                (template_app (template_hole 4, template_var 1),
                 template_app
                  (template_app
                    (template_app
                      (template_app (template_hole 3, template_var 5),
                       template_app (template_hole 2, t_empty)),
                     t_empty),
                   template_var 2))),
             template_app (template_hole 1, t_empty))
           ))),
    ("Window.mmap_fold_s_sound",
     "[| mmap_fold_s ?step ?st ?accept ?ac ?bs ?t ?j ?qbss =
         (?qbss', ?st', ?ac');
         !!q bs.
            case Mapping.lookup ?st (q, bs) of None => True
            | Some v => ?step q bs = v;
         !!q bs.
            case Mapping.lookup ?ac q of None => True
            | Some v => ?accept q = v |]
      ==> ?qbss' =
          mmap_map
           (%q (q', tstp).
               (?step q' ?bs,
                if ?accept (?step q' ?bs) then Some (?t, ?j) else tstp))
           ?qbss &
          (ALL q bs.
              case Mapping.lookup ?st' (q, bs) of None => True
              | Some v => ?step q bs = v) &
          (ALL q bs.
              case Mapping.lookup ?ac' q of None => True
              | Some v => ?accept q = v)",
     template_implication
      ([template_equation
         (template_app
           (template_app
             (template_app
               (template_app
                 (template_app
                   (template_app
                     (template_app
                       (template_app (template_hole 24, template_var 10),
                        template_var 9),
                      template_var 8),
                    template_var 7),
                  template_var 6),
                template_var 5),
              template_var 4),
            template_var 3),
          template_app
           (template_app (template_hole 23, template_var 2),
            template_app
             (template_app (template_hole 22, template_var 1),
              template_var 0))),
        template_predicate (template_app (template_hole 21, t_empty)),
        template_predicate (template_app (template_hole 21, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 10,
               template_app
                (template_app (template_hole 9, template_var 2),
                 template_app
                  (template_app (template_hole 8, t_empty),
                   template_var 3))),
             template_app
              (template_app
                (template_hole 10, template_app (template_hole 2, t_empty)),
               template_app (template_hole 2, t_empty)))
           )))]
