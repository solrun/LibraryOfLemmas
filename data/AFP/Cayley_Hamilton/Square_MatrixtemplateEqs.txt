   [("Square_Matrix.from_vec_to_vec", "from_vec (to_vec ?M) = ?M",
     template_equation
      (template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)),
       template_var 0)),
    ("Square_Matrix.transpose_transpose",
     "Square_Matrix.transpose (Square_Matrix.transpose ?A) = ?A",
     template_equation
      (template_app
        (template_hole 0, template_app (template_hole 0, template_var 0)),
       template_var 0)),
    ("Square_Matrix.smult_zero", "?a *\<^sub>S 0 = 0",
     template_equation
      (template_app
        (template_app (template_hole 1, template_var 0), template_hole 0),
       template_hole 0)),
    ("Square_Matrix.one_smult", "(1::?'a) *\<^sub>S ?x = ?x",
     template_equation
      (template_app
        (template_app (template_hole 1, template_hole 0), template_var 0),
       template_var 0)),
    ("Square_Matrix.to_vec_from_vec", "to_vec (from_vec ?M) = ?M",
     template_equation
      (template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)),
       template_var 0)),
    ("Square_Matrix.det_transpose",
     "Square_Matrix.det (Square_Matrix.transpose ?A) =
      Square_Matrix.det ?A",
     template_equation
      (template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Square_Matrix.trace_transpose",
     "Square_Matrix.trace (Square_Matrix.transpose ?A) =
      Square_Matrix.trace ?A",
     template_equation
      (template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)),
       template_app (template_hole 1, template_var 0))),
    ("Square_Matrix.permutes_UNIV_permutation",
     "permutation ?p = (?p permutes UNIV)",
     template_equation
      (template_app (template_hole 2, template_var 0),
       template_app
        (template_app (template_hole 1, template_var 0), template_hole 0))),
    ("Square_Matrix.map_sq_matrix_ident", "map_sq_matrix (%x. x) ?M = ?M",
     template_equation
      (template_app
        (template_app (template_hole 0, t_empty), template_var 0),
       template_var 0)),
    ("Square_Matrix.upd_cols_empty", "upd_cols ?M {} ?f = ?M",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 1, template_var 1), template_hole 0),
         template_var 0),
       template_var 1)),
    ("Square_Matrix.upd_rows_empty", "upd_rows ?M {} ?f = ?M",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 1, template_var 1), template_hole 0),
         template_var 0),
       template_var 1)),
    ("Square_Matrix.transpose_diag",
     "Square_Matrix.transpose (diag ?c) = diag ?c",
     template_equation
      (template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)),
       template_app (template_hole 0, template_var 0))),
    ("Square_Matrix.map_sq_matrix_0", "map_sq_matrix (%x. 0::?'a) ?A = 0",
     template_equation
      (template_app
        (template_app (template_hole 2, t_empty), template_var 0),
       template_hole 0)),
    ("Square_Matrix.det_col_0",
     "Square_Matrix.det (upd_col ?M ?i 0) = (0::?'a)",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_app (template_hole 2, template_var 1),
             template_var 0),
           template_hole 1)),
       template_hole 0)),
    ("Square_Matrix.det_row_0",
     "Square_Matrix.det (upd_row ?M ?i 0) = (0::?'a)",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_app (template_hole 2, template_var 1),
             template_var 0),
           template_hole 1)),
       template_hole 0)),
    ("Square_Matrix.trace_uminus",
     "Square_Matrix.trace (- ?A) = - Square_Matrix.trace ?A",
     template_equation
      (template_app
        (template_hole 2, template_app (template_hole 1, template_var 0)),
       template_app
        (template_hole 0, template_app (template_hole 2, template_var 0)))),
    ("Square_Matrix.transpose_uminus",
     "Square_Matrix.transpose (- ?A) = - Square_Matrix.transpose ?A",
     template_equation
      (template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)),
       template_app
        (template_hole 0, template_app (template_hole 1, template_var 0)))),
    ("Square_Matrix.adjugate_transpose",
     "adjugate (Square_Matrix.transpose ?A) =
      Square_Matrix.transpose (adjugate ?A)",
     template_equation
      (template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)),
       template_app
        (template_hole 0, template_app (template_hole 1, template_var 0)))),
    ("Square_Matrix.cofactor_transpose",
     "cofactor (Square_Matrix.transpose ?A) =
      Square_Matrix.transpose (cofactor ?A)",
     template_equation
      (template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)),
       template_app
        (template_hole 0, template_app (template_hole 1, template_var 0)))),
    ("Square_Matrix.diag_1_eq", "(diag ?x = 1) = (?x = (1::?'a))",
     template_bimplication
      (template_equation
        (template_app (template_hole 3, template_var 0), template_hole 2),
       template_equation (template_var 0, template_hole 0))),
    ("Square_Matrix.diag_0_eq", "(diag ?x = 0) = (?x = (0::?'a))",
     template_bimplication
      (template_equation
        (template_app (template_hole 3, template_var 0), template_hole 2),
       template_equation (template_var 0, template_hole 0))),
    ("Square_Matrix.upd_col_col", "upd_col ?M ?i (col ?M ?i) = ?M",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 1, template_var 1), template_var 0),
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_var 1)),
    ("Square_Matrix.upd_row_row",
     "upd_row ?M ?i (Square_Matrix.row ?M ?i) = ?M",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 1, template_var 1), template_var 0),
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_var 1)),
    ("Square_Matrix.diag_mult", "diag ?x * ?A = ?x *\<^sub>S ?A",
     template_equation
      (template_app
        (template_app
          (template_hole 2, template_app (template_hole 1, template_var 1)),
         template_var 0),
       template_app
        (template_app (template_hole 0, template_var 1), template_var 0))),
    ("Square_Matrix.mult_adjugate_det",
     "?A * adjugate ?A = diag (Square_Matrix.det ?A)",
     template_equation
      (template_app
        (template_app (template_hole 3, template_var 0),
         template_app (template_hole 2, template_var 0)),
       template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)))),
    ("Square_Matrix.mult_diag", "?A * diag ?x = ?x *\<^sub>S ?A",
     template_equation
      (template_app
        (template_app (template_hole 2, template_var 1),
         template_app (template_hole 1, template_var 0)),
       template_app
        (template_app (template_hole 0, template_var 0), template_var 1))),
    ("Square_Matrix.adjugate_mult_det",
     "adjugate ?A * ?A = diag (Square_Matrix.det ?A)",
     template_equation
      (template_app
        (template_app
          (template_hole 3, template_app (template_hole 2, template_var 0)),
         template_var 0),
       template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)))),
    ("Square_Matrix.col_transpose",
     "col (Square_Matrix.transpose ?M) ?i = Square_Matrix.row ?M ?i",
     template_equation
      (template_app
        (template_app
          (template_hole 2, template_app (template_hole 1, template_var 1)),
         template_var 0),
       template_app
        (template_app (template_hole 0, template_var 1), template_var 0))),
    ("Square_Matrix.row_transpose",
     "Square_Matrix.row (Square_Matrix.transpose ?M) ?i = col ?M ?i",
     template_equation
      (template_app
        (template_app
          (template_hole 2, template_app (template_hole 1, template_var 1)),
         template_var 0),
       template_app
        (template_app (template_hole 0, template_var 1), template_var 0))),
    ("Square_Matrix.col_upd_col", "col (upd_col ?M ?i ?x) ?i = ?x",
     template_equation
      (template_app
        (template_app
          (template_hole 1,
           template_app
            (template_app
              (template_app (template_hole 0, template_var 2),
               template_var 1),
             template_var 0)),
         template_var 1),
       template_var 0)),
    ("Square_Matrix.row_upd_row",
     "Square_Matrix.row (upd_row ?M ?i ?x) ?i = ?x",
     template_equation
      (template_app
        (template_app
          (template_hole 1,
           template_app
            (template_app
              (template_app (template_hole 0, template_var 2),
               template_var 1),
             template_var 0)),
         template_var 1),
       template_var 0)),
    ("Square_Matrix.trace_smult",
     "Square_Matrix.trace (?s *\<^sub>S ?A) = ?s * Square_Matrix.trace ?A",
     template_equation
      (template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app
        (template_app (template_hole 0, template_var 1),
         template_app (template_hole 2, template_var 0)))),
    ("Square_Matrix.trace_diag",
     "Square_Matrix.trace (diag ?c) = of_nat CARD(?'n) * ?c",
     template_equation
      (template_app
        (template_hole 5, template_app (template_hole 4, template_var 0)),
       template_app
        (template_app
          (template_hole 3,
           template_app
            (template_hole 2,
             template_app (template_hole 1, template_hole 0))),
         template_var 0))),
    ("Square_Matrix.trace_mult_symm",
     "Square_Matrix.trace (?A * ?B) = Square_Matrix.trace (?B * ?A)",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("Square_Matrix.from_vec_eq_iff",
     "(from_vec ?M = from_vec ?N) = (?M = ?N)",
     template_bimplication
      (template_equation
        (template_app (template_hole 1, template_var 1),
         template_app (template_hole 1, template_var 0)),
       template_equation (template_var 1, template_var 0))),
    ("Square_Matrix.diag_eq_iff", "(diag ?x = diag ?y) = (?x = ?y)",
     template_bimplication
      (template_equation
        (template_app (template_hole 1, template_var 1),
         template_app (template_hole 1, template_var 0)),
       template_equation (template_var 1, template_var 0))),
    ("Square_Matrix.perm_cols_transpose",
     "perm_cols (Square_Matrix.transpose ?M) ?p =
      Square_Matrix.transpose (perm_rows ?M ?p)",
     template_equation
      (template_app
        (template_app
          (template_hole 2, template_app (template_hole 1, template_var 1)),
         template_var 0),
       template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Square_Matrix.perm_rows_transpose",
     "perm_rows (Square_Matrix.transpose ?M) ?p =
      Square_Matrix.transpose (perm_cols ?M ?p)",
     template_equation
      (template_app
        (template_app
          (template_hole 2, template_app (template_hole 1, template_var 1)),
         template_var 0),
       template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Square_Matrix.smult_diag", "?x *\<^sub>S diag ?y = diag (?x * ?y)",
     template_equation
      (template_app
        (template_app (template_hole 2, template_var 1),
         template_app (template_hole 1, template_var 0)),
       template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Square_Matrix.det_mult",
     "Square_Matrix.det (?A * ?B) =
      Square_Matrix.det ?A * Square_Matrix.det ?B",
     template_equation
      (template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 0, template_app (template_hole 2, template_var 1)),
         template_app (template_hole 2, template_var 0)))),
    ("Square_Matrix.trace_minus",
     "Square_Matrix.trace (?A - ?B) =
      Square_Matrix.trace ?A - Square_Matrix.trace ?B",
     template_equation
      (template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 0, template_app (template_hole 2, template_var 1)),
         template_app (template_hole 2, template_var 0)))),
    ("Square_Matrix.trace_plus",
     "Square_Matrix.trace (?A + ?B) =
      Square_Matrix.trace ?A + Square_Matrix.trace ?B",
     template_equation
      (template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 0, template_app (template_hole 2, template_var 1)),
         template_app (template_hole 2, template_var 0)))),
    ("Square_Matrix.transpose_minus",
     "Square_Matrix.transpose (?A - ?B) =
      Square_Matrix.transpose ?A - Square_Matrix.transpose ?B",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 0, template_app (template_hole 1, template_var 1)),
         template_app (template_hole 1, template_var 0)))),
    ("Square_Matrix.from_vec_mult",
     "from_vec (?M ** ?N) = from_vec ?M * from_vec ?N",
     template_equation
      (template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 0, template_app (template_hole 2, template_var 1)),
         template_app (template_hole 2, template_var 0)))),
    ("Square_Matrix.transpose_add",
     "Square_Matrix.transpose (?A + ?B) =
      Square_Matrix.transpose ?A + Square_Matrix.transpose ?B",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 0, template_app (template_hole 1, template_var 1)),
         template_app (template_hole 1, template_var 0)))),
    ("Square_Matrix.transpose_mult",
     "Square_Matrix.transpose (?A * ?B) =
      Square_Matrix.transpose ?B * Square_Matrix.transpose ?A",
     template_equation
      (template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 0, template_app (template_hole 1, template_var 0)),
         template_app (template_hole 1, template_var 1)))),
    ("Square_Matrix.col_minor",
     "col (minor ?M ?i ?j) ?j = axis ?i (1::?'a)",
     template_equation
      (template_app
        (template_app
          (template_hole 3,
           template_app
            (template_app
              (template_app (template_hole 2, template_var 2),
               template_var 1),
             template_var 0)),
         template_var 0),
       template_app
        (template_app (template_hole 1, template_var 1), template_hole 0))),
    ("Square_Matrix.row_minor",
     "Square_Matrix.row (minor ?M ?i ?j) ?i = axis ?j (1::?'a)",
     template_equation
      (template_app
        (template_app
          (template_hole 3,
           template_app
            (template_app
              (template_app (template_hole 2, template_var 2),
               template_var 1),
             template_var 0)),
         template_var 1),
       template_app
        (template_app (template_hole 1, template_var 0), template_hole 0))),
    ("Square_Matrix.upd_col_transpose",
     "upd_col (Square_Matrix.transpose ?M) ?i ?p =
      Square_Matrix.transpose (upd_row ?M ?i ?p)",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 2)),
           template_var 1),
         template_var 0),
       template_app
        (template_hole 1,
         template_app
          (template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1),
           template_var 0)))),
    ("Square_Matrix.upd_cols_transpose",
     "upd_cols (Square_Matrix.transpose ?M) ?i ?p =
      Square_Matrix.transpose (upd_rows ?M ?i ?p)",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 2)),
           template_var 1),
         template_var 0),
       template_app
        (template_hole 1,
         template_app
          (template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1),
           template_var 0)))),
    ("Square_Matrix.upd_row_transpose",
     "upd_row (Square_Matrix.transpose ?M) ?i ?p =
      Square_Matrix.transpose (upd_col ?M ?i ?p)",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 2)),
           template_var 1),
         template_var 0),
       template_app
        (template_hole 1,
         template_app
          (template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1),
           template_var 0)))),
    ("Square_Matrix.upd_rows_transpose",
     "upd_rows (Square_Matrix.transpose ?M) ?i ?p =
      Square_Matrix.transpose (upd_cols ?M ?i ?p)",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 2)),
           template_var 1),
         template_var 0),
       template_app
        (template_hole 1,
         template_app
          (template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1),
           template_var 0)))),
    ("Square_Matrix.minor_transpose",
     "minor (Square_Matrix.transpose ?A) ?i ?j =
      Square_Matrix.transpose (minor ?A ?j ?i)",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 2)),
           template_var 1),
         template_var 0),
       template_app
        (template_hole 0,
         template_app
          (template_app
            (template_app (template_hole 1, template_var 2),
             template_var 0),
           template_var 1)))),
    ("Square_Matrix.smult_mult2",
     "?a *\<^sub>S (?A * ?B) = ?A * ?a *\<^sub>S ?B",
     template_equation
      (template_app
        (template_app (template_hole 1, template_var 2),
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app
        (template_app (template_hole 0, template_var 1),
         template_app
          (template_app (template_hole 1, template_var 2),
           template_var 0)))),
    ("Square_Matrix.smult_mult1",
     "?a *\<^sub>S (?A * ?B) = ?a *\<^sub>S ?A * ?B",
     template_equation
      (template_app
        (template_app (template_hole 1, template_var 2),
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 0,
           template_app
            (template_app (template_hole 1, template_var 2),
             template_var 1)),
         template_var 0))),
    ("Square_Matrix.smult_axis", "?x *s axis ?i ?y = axis ?i (?x * ?y)",
     template_equation
      (template_app
        (template_app (template_hole 2, template_var 2),
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app
        (template_app (template_hole 1, template_var 1),
         template_app
          (template_app (template_hole 0, template_var 2),
           template_var 0)))),
    ("Square_Matrix.map_sq_matrix_compose",
     "map_sq_matrix ?f (map_sq_matrix ?g ?M) =
      map_sq_matrix (%x. ?f (?g x)) ?M",
     template_equation
      (template_app
        (template_app (template_hole 2, template_var 2),
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app
        (template_app (template_hole 0, t_empty), template_var 0))),
    ("Square_Matrix.upd_cols_single",
     "upd_cols ?M {?i} ?f = upd_col ?M ?i (?f ?i)",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 3, template_var 2),
           template_app
            (template_app (template_hole 2, template_var 1),
             template_hole 1)),
         template_var 0),
       template_app
        (template_app
          (template_app (template_hole 0, template_var 2), template_var 1),
         template_app (template_var 0, template_var 1)))),
    ("Square_Matrix.upd_rows_single",
     "upd_rows ?M {?i} ?f = upd_row ?M ?i (?f ?i)",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 3, template_var 2),
           template_app
            (template_app (template_hole 2, template_var 1),
             template_hole 1)),
         template_var 0),
       template_app
        (template_app
          (template_app (template_hole 0, template_var 2), template_var 1),
         template_app (template_var 0, template_var 1)))),
    ("Square_Matrix.upd_col_upd_col_cancel",
     "upd_col (upd_col ?M ?i ?x) ?i ?y = upd_col ?M ?i ?y",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_hole 0,
             template_app
              (template_app
                (template_app (template_hole 0, template_var 3),
                 template_var 2),
               template_var 1)),
           template_var 2),
         template_var 0),
       template_app
        (template_app
          (template_app (template_hole 0, template_var 3), template_var 2),
         template_var 0))),
    ("Square_Matrix.upd_row_upd_row_cancel",
     "upd_row (upd_row ?M ?i ?x) ?i ?y = upd_row ?M ?i ?y",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_hole 0,
             template_app
              (template_app
                (template_app (template_hole 0, template_var 3),
                 template_var 2),
               template_var 1)),
           template_var 2),
         template_var 0),
       template_app
        (template_app
          (template_app (template_hole 0, template_var 3), template_var 2),
         template_var 0))),
    ("Square_Matrix.det_minor_col",
     "Square_Matrix.det (minor ?B ?i ?j) =
      Square_Matrix.det (upd_col ?B ?j (axis ?i (1::?'a)))",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app
            (template_app (template_hole 3, template_var 2),
             template_var 1),
           template_var 0)),
       template_app
        (template_hole 4,
         template_app
          (template_app
            (template_app (template_hole 2, template_var 2),
             template_var 0),
           template_app
            (template_app (template_hole 1, template_var 1),
             template_hole 0))))),
    ("Square_Matrix.det_minor_row",
     "Square_Matrix.det (minor ?B ?i ?j) =
      Square_Matrix.det (upd_row ?B ?i (axis ?j (1::?'a)))",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app
            (template_app (template_hole 3, template_var 2),
             template_var 1),
           template_var 0)),
       template_app
        (template_hole 4,
         template_app
          (template_app
            (template_app (template_hole 2, template_var 2),
             template_var 1),
           template_app
            (template_app (template_hole 1, template_var 0),
             template_hole 0))))),
    ("Square_Matrix.det_col_uminus",
     "Square_Matrix.det (upd_col ?M ?i (- ?a)) =
      - Square_Matrix.det (upd_col ?M ?i ?a)",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_app (template_hole 2, template_var 2),
             template_var 1),
           template_app (template_hole 1, template_var 0))),
       template_app
        (template_hole 0,
         template_app
          (template_hole 3,
           template_app
            (template_app
              (template_app (template_hole 2, template_var 2),
               template_var 1),
             template_var 0))))),
    ("Square_Matrix.det_row_uminus",
     "Square_Matrix.det (upd_row ?M ?i (- ?a)) =
      - Square_Matrix.det (upd_row ?M ?i ?a)",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_app (template_hole 2, template_var 2),
             template_var 1),
           template_app (template_hole 1, template_var 0))),
       template_app
        (template_hole 0,
         template_app
          (template_hole 3,
           template_app
            (template_app
              (template_app (template_hole 2, template_var 2),
               template_var 1),
             template_var 0))))),
    ("Square_Matrix.map_sq_matrix_smult",
     "?c *\<^sub>S map_sq_matrix ?f ?A = map_sq_matrix (%x. ?c * ?f x) ?A",
     template_equation
      (template_app
        (template_app (template_hole 2, template_var 2),
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app
        (template_app (template_hole 1, t_empty), template_var 0))),
    ("Square_Matrix.smult_right_add",
     "?a *\<^sub>S (?x + ?y) = ?a *\<^sub>S ?x + ?a *\<^sub>S ?y",
     template_equation
      (template_app
        (template_app (template_hole 1, template_var 2),
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 0,
           template_app
            (template_app (template_hole 1, template_var 2),
             template_var 1)),
         template_app
          (template_app (template_hole 1, template_var 2),
           template_var 0)))),
    ("Square_Matrix.smult_sum",
     "(SUM i:?I. ?a *\<^sub>S ?f i) = ?a *\<^sub>S sum ?f ?I",
     template_equation
      (template_app
        (template_app (template_hole 1, t_empty), template_var 0),
       template_app
        (template_app (template_hole 0, template_var 2),
         template_app
          (template_app (template_hole 1, template_var 1),
           template_var 0)))),
    ("Square_Matrix.smult_diff",
     "?a *\<^sub>S (?A - ?B) = ?a *\<^sub>S ?A - ?a *\<^sub>S ?B",
     template_equation
      (template_app
        (template_app (template_hole 1, template_var 2),
         template_app
          (template_app (template_hole 0, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 0,
           template_app
            (template_app (template_hole 1, template_var 2),
             template_var 1)),
         template_app
          (template_app (template_hole 1, template_var 2),
           template_var 0)))),
    ("Square_Matrix.det_col_mul",
     "Square_Matrix.det (upd_col ?M ?i (?c *s ?a)) =
      ?c * Square_Matrix.det (upd_col ?M ?i ?a)",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_app (template_hole 2, template_var 3),
             template_var 2),
           template_app
            (template_app (template_hole 1, template_var 1),
             template_var 0))),
       template_app
        (template_app (template_hole 0, template_var 1),
         template_app
          (template_hole 3,
           template_app
            (template_app
              (template_app (template_hole 2, template_var 3),
               template_var 2),
             template_var 0))))),
    ("Square_Matrix.det_row_mul",
     "Square_Matrix.det (upd_row ?M ?i (?c *s ?a)) =
      ?c * Square_Matrix.det (upd_row ?M ?i ?a)",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_app (template_hole 2, template_var 3),
             template_var 2),
           template_app
            (template_app (template_hole 1, template_var 1),
             template_var 0))),
       template_app
        (template_app (template_hole 0, template_var 1),
         template_app
          (template_hole 3,
           template_app
            (template_app
              (template_app (template_hole 2, template_var 3),
               template_var 2),
             template_var 0))))),
    ("Square_Matrix.upd_cols_insert",
     "upd_cols ?M (insert ?i ?I) ?f =
      upd_col (upd_cols ?M ?I ?f) ?i (?f ?i)",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 2, template_var 3),
           template_app
            (template_app (template_hole 1, template_var 2),
             template_var 1)),
         template_var 0),
       template_app
        (template_app
          (template_app
            (template_hole 0,
             template_app
              (template_app
                (template_app (template_hole 2, template_var 3),
                 template_var 1),
               template_var 0)),
           template_var 2),
         template_app (template_var 0, template_var 2)))),
    ("Square_Matrix.upd_cols_insert_rev",
     "upd_cols ?M (insert ?i ?I) ?f =
      upd_cols (upd_col ?M ?i (?f ?i)) ?I ?f",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 2, template_var 3),
           template_app
            (template_app (template_hole 1, template_var 2),
             template_var 1)),
         template_var 0),
       template_app
        (template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app
                (template_app (template_hole 0, template_var 3),
                 template_var 2),
               template_app (template_var 0, template_var 2))),
           template_var 1),
         template_var 0))),
    ("Square_Matrix.upd_rows_insert",
     "upd_rows ?M (insert ?i ?I) ?f =
      upd_row (upd_rows ?M ?I ?f) ?i (?f ?i)",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 2, template_var 3),
           template_app
            (template_app (template_hole 1, template_var 2),
             template_var 1)),
         template_var 0),
       template_app
        (template_app
          (template_app
            (template_hole 0,
             template_app
              (template_app
                (template_app (template_hole 2, template_var 3),
                 template_var 1),
               template_var 0)),
           template_var 2),
         template_app (template_var 0, template_var 2)))),
    ("Square_Matrix.upd_rows_insert_rev",
     "upd_rows ?M (insert ?i ?I) ?f =
      upd_rows (upd_row ?M ?i (?f ?i)) ?I ?f",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 2, template_var 3),
           template_app
            (template_app (template_hole 1, template_var 2),
             template_var 1)),
         template_var 0),
       template_app
        (template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app
                (template_app (template_hole 0, template_var 3),
                 template_var 2),
               template_app (template_var 0, template_var 2))),
           template_var 1),
         template_var 0))),
    ("Square_Matrix.col_upd_col_If",
     "col (upd_col ?M ?i ?x) ?j = (if ?i = ?j then ?x else col ?M ?j)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 3,
                template_app
                 (template_app
                   (template_app (template_hole 2, template_var 3),
                    template_var 2),
                  template_var 1)),
              template_var 0)
            )],
       template_dunno)),
    ("Square_Matrix.row_upd_row_If",
     "Square_Matrix.row (upd_row ?M ?i ?x) ?j =
      (if ?i = ?j then ?x else Square_Matrix.row ?M ?j)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 3,
                template_app
                 (template_app
                   (template_app (template_hole 2, template_var 3),
                    template_var 2),
                  template_var 1)),
              template_var 0)
            )],
       template_dunno)),
    ("Square_Matrix.det_perm_rows_If",
     "Square_Matrix.det (perm_rows ?B ?f) =
      (if ?f permutes UNIV then of_int (sign ?f) * Square_Matrix.det ?B
       else (0::?'a))",
     template_equation
      (template_app
        (template_hole 8,
         template_app
          (template_app (template_hole 7, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_app
            (template_hole 6,
             template_app
              (template_app (template_hole 5, template_var 0),
               template_hole 4)),
           template_app
            (template_app
              (template_hole 3,
               template_app
                (template_hole 2,
                 template_app (template_hole 1, template_var 0))),
             template_app (template_hole 8, template_var 1))),
         template_hole 0))),
    ("Square_Matrix.minor_eq_col_row",
     "minor ?M ?i ?j =
      upd_col (upd_row ?M ?i (axis ?j (1::?'a))) ?j (axis ?i (1::?'a))",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 4, template_var 2), template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app
                (template_app (template_hole 2, template_var 2),
                 template_var 1),
               template_app
                (template_app (template_hole 1, template_var 0),
                 template_hole 0))),
           template_var 0),
         template_app
          (template_app (template_hole 1, template_var 1),
           template_hole 0)))),
    ("Square_Matrix.minor_eq_row_col",
     "minor ?M ?i ?j =
      upd_row (upd_col ?M ?j (axis ?i (1::?'a))) ?i (axis ?j (1::?'a))",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 4, template_var 2), template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app
                (template_app (template_hole 2, template_var 2),
                 template_var 0),
               template_app
                (template_app (template_hole 1, template_var 1),
                 template_hole 0))),
           template_var 1),
         template_app
          (template_app (template_hole 1, template_var 0),
           template_hole 0)))),
    ("Square_Matrix.add_map_sq_matrix",
     "map_sq_matrix ?f ?A + map_sq_matrix ?g ?A =
      map_sq_matrix (%x. ?f x + ?g x) ?A",
     template_equation
      (template_app
        (template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 1, template_var 2),
             template_var 1)),
         template_app
          (template_app (template_hole 1, template_var 0), template_var 1)),
       template_app
        (template_app (template_hole 1, t_empty), template_var 1))),
    ("Square_Matrix.sum_map_sq_matrix",
     "(SUM i:?I. map_sq_matrix (?f i) ?A) =
      map_sq_matrix (%x. SUM i:?I. ?f i x) ?A",
     template_equation
      (template_app
        (template_app (template_hole 2, t_empty), template_var 0),
       template_app
        (template_app (template_hole 1, t_empty), template_var 1))),
    ("Square_Matrix.det_col_minus",
     "Square_Matrix.det (upd_col ?M ?i (?a - ?b)) =
      Square_Matrix.det (upd_col ?M ?i ?a) -
      Square_Matrix.det (upd_col ?M ?i ?b)",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_app (template_hole 2, template_var 3),
             template_var 2),
           template_app
            (template_app (template_hole 1, template_var 1),
             template_var 0))),
       template_app
        (template_app
          (template_hole 0,
           template_app
            (template_hole 3,
             template_app
              (template_app
                (template_app (template_hole 2, template_var 3),
                 template_var 2),
               template_var 1))),
         template_app
          (template_hole 3,
           template_app
            (template_app
              (template_app (template_hole 2, template_var 3),
               template_var 2),
             template_var 0))))),
    ("Square_Matrix.det_col_add",
     "Square_Matrix.det (upd_col ?M ?i (?a + ?b)) =
      Square_Matrix.det (upd_col ?M ?i ?a) +
      Square_Matrix.det (upd_col ?M ?i ?b)",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_app (template_hole 2, template_var 3),
             template_var 2),
           template_app
            (template_app (template_hole 1, template_var 1),
             template_var 0))),
       template_app
        (template_app
          (template_hole 0,
           template_app
            (template_hole 3,
             template_app
              (template_app
                (template_app (template_hole 2, template_var 3),
                 template_var 2),
               template_var 1))),
         template_app
          (template_hole 3,
           template_app
            (template_app
              (template_app (template_hole 2, template_var 3),
               template_var 2),
             template_var 0))))),
    ("Square_Matrix.det_row_minus",
     "Square_Matrix.det (upd_row ?M ?i (?a - ?b)) =
      Square_Matrix.det (upd_row ?M ?i ?a) -
      Square_Matrix.det (upd_row ?M ?i ?b)",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_app (template_hole 2, template_var 3),
             template_var 2),
           template_app
            (template_app (template_hole 1, template_var 1),
             template_var 0))),
       template_app
        (template_app
          (template_hole 0,
           template_app
            (template_hole 3,
             template_app
              (template_app
                (template_app (template_hole 2, template_var 3),
                 template_var 2),
               template_var 1))),
         template_app
          (template_hole 3,
           template_app
            (template_app
              (template_app (template_hole 2, template_var 3),
               template_var 2),
             template_var 0))))),
    ("Square_Matrix.det_row_add",
     "Square_Matrix.det (upd_row ?M ?i (?a + ?b)) =
      Square_Matrix.det (upd_row ?M ?i ?a) +
      Square_Matrix.det (upd_row ?M ?i ?b)",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_app (template_hole 2, template_var 3),
             template_var 2),
           template_app
            (template_app (template_hole 1, template_var 1),
             template_var 0))),
       template_app
        (template_app
          (template_hole 0,
           template_app
            (template_hole 3,
             template_app
              (template_app
                (template_app (template_hole 2, template_var 3),
                 template_var 2),
               template_var 1))),
         template_app
          (template_hole 3,
           template_app
            (template_app
              (template_app (template_hole 2, template_var 3),
               template_var 2),
             template_var 0))))),
    ("Square_Matrix.det_col_sum",
     "Square_Matrix.det (upd_col ?M ?i (sum ?a ?S)) =
      (SUM s:?S. Square_Matrix.det (upd_col ?M ?i (?a s)))",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_app (template_hole 2, template_var 3),
             template_var 2),
           template_app
            (template_app (template_hole 1, t_empty), template_var 0))),
       template_app
        (template_app (template_hole 0, t_empty), template_var 0))),
    ("Square_Matrix.det_row_sum",
     "Square_Matrix.det (upd_row ?M ?i (sum ?a ?S)) =
      (SUM s:?S. Square_Matrix.det (upd_row ?M ?i (?a s)))",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app
            (template_app (template_hole 2, template_var 3),
             template_var 2),
           template_app
            (template_app (template_hole 1, t_empty), template_var 0))),
       template_app
        (template_app (template_hole 0, t_empty), template_var 0))),
    ("Square_Matrix.det_eq",
     "Square_Matrix.det ?A =
      (SUM p | p permutes UNIV.
          of_int (sign p) * (PROD i:UNIV. to_fun ?A i (p i)))",
     template_equation
      (template_app (template_hole 9, template_var 0),
       template_app
        (template_app (template_hole 8, t_empty),
         template_app (template_hole 1, t_empty)))),
    ("Square_Matrix.det_cols_mult",
     "Square_Matrix.det (upd_cols ?M ?T (%i. ?c i *s ?a i)) =
      prod ?c ?T * Square_Matrix.det (upd_cols ?M ?T ?a)",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app
            (template_app (template_hole 3, template_var 3),
             template_var 2),
           t_empty)),
       template_app
        (template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, t_empty), template_var 2)),
         template_app
          (template_hole 4,
           template_app
            (template_app
              (template_app (template_hole 3, template_var 3),
               template_var 2),
             template_var 0))))),
    ("Square_Matrix.det_rows_mult",
     "Square_Matrix.det (upd_rows ?M ?T (%i. ?c i *s ?a i)) =
      prod ?c ?T * Square_Matrix.det (upd_rows ?M ?T ?a)",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app
            (template_app (template_hole 3, template_var 3),
             template_var 2),
           t_empty)),
       template_app
        (template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, t_empty), template_var 2)),
         template_app
          (template_hole 4,
           template_app
            (template_app
              (template_app (template_hole 3, template_var 3),
               template_var 2),
             template_var 0))))),
    ("Square_Matrix.det_cols_sum",
     "Square_Matrix.det (upd_cols ?M ?T (%i. sum (?a i) ?S)) =
      (SUM f:?T \<rightarrow>\<^sub>E ?S.
          Square_Matrix.det (upd_cols ?M ?T (%i. ?a i (f i))))",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app
            (template_app (template_hole 3, template_var 3),
             template_var 2),
           t_empty)),
       template_app
        (template_app (template_hole 1, t_empty),
         template_app
          (template_app (template_hole 0, template_var 2), t_empty)))),
    ("Square_Matrix.det_rows_sum",
     "Square_Matrix.det (upd_rows ?M ?T (%i. sum (?a i) ?S)) =
      (SUM f:?T \<rightarrow>\<^sub>E ?S.
          Square_Matrix.det (upd_rows ?M ?T (%i. ?a i (f i))))",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app
            (template_app (template_hole 3, template_var 3),
             template_var 2),
           t_empty)),
       template_app
        (template_app (template_hole 1, t_empty),
         template_app
          (template_app (template_hole 0, template_var 2), t_empty))))]
