   [("Lower_Semicontinuous.lsc_lsc_hull", "lsc (lsc_hull ?f)",
     template_predicate
      (
         template_app
          (template_hole 1, template_app (template_hole 0, template_var 0))
         )),
    ("Lower_Semicontinuous.lsc_hull_le", "lsc_hull ?f ?x <= ?f ?x",
     template_inequation
      (less_equals,
       template_app
        (template_app (template_hole 0, template_var 1), template_var 0),
       template_app (template_var 1, template_var 0))),
    ("Lower_Semicontinuous.lsc_hull_lsc", "lsc ?f = (?f = lsc_hull ?f)",
     template_implication
      ([template_predicate
         (template_app (template_hole 2, template_var 0))],
       template_equation
        (template_var 0, template_app (template_hole 0, template_var 0)))),
    ("Lower_Semicontinuous.closed_ereal_semiline",
     "closed {y. ?a <= ereal y}",
     template_predicate
      (
         template_app
          (template_hole 3, template_app (template_hole 2, t_empty))
         )),
    ("Lower_Semicontinuous.domain_Epigraph_fst",
     "domain ?f = fst ` Epigraph UNIV ?f",
     template_equation
      (template_app (template_hole 4, template_var 0),
       template_app
        (template_app (template_hole 3, template_hole 2),
         template_app
          (template_app (template_hole 1, template_hole 0),
           template_var 0)))),
    ("Lower_Semicontinuous.convex_on_domain",
     "Lower_Semicontinuous.convex_on (domain ?f) ?f =
      Lower_Semicontinuous.convex_on UNIV ?f",
     template_equation
      (template_app
        (template_app
          (template_hole 2, template_app (template_hole 1, template_var 0)),
         template_var 0),
       template_app
        (template_app (template_hole 2, template_hole 0), template_var 0))),
    ("Lower_Semicontinuous.affine_no_rel_frontier",
     "affine ?S ==> rel_frontier ?S = {}",
     template_implication
      ([template_predicate
         (template_app (template_hole 3, template_var 0))],
       template_equation
        (template_app (template_hole 1, template_var 0), template_hole 0))),
    ("Lower_Semicontinuous.convex_domain",
     "Lower_Semicontinuous.convex_on UNIV ?f ==> convex (domain ?f)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_hole 2),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 0))
           ))),
    ("Lower_Semicontinuous.epigraph_lsc_hull",
     "Epigraph UNIV (lsc_hull ?f) = closure (Epigraph UNIV ?f)",
     template_equation
      (template_app
        (template_app (template_hole 3, template_hole 2),
         template_app (template_hole 1, template_var 0)),
       template_app
        (template_hole 0,
         template_app
          (template_app (template_hole 3, template_hole 2),
           template_var 0)))),
    ("Lower_Semicontinuous.convex_on_ereal_univ",
     "Lower_Semicontinuous.convex_on UNIV ?f =
      (ALL S. Lower_Semicontinuous.convex_on S ?f)",
     template_equation
      (template_app
        (template_app (template_hole 2, template_hole 1), template_var 0),
       template_app (template_hole 0, t_empty))),
    ("Lower_Semicontinuous.improper_lsc_hull",
     "~ proper ?f ==> ~ proper (lsc_hull ?f)",
     template_implication
      ([template_negation
         (
            template_predicate
             (template_app (template_hole 1, template_var 0))
            )],
       template_negation
        (
           template_predicate
            (
               template_app
                (template_hole 1,
                 template_app (template_hole 0, template_var 0))
               )
           ))),
    ("Lower_Semicontinuous.convex_lsc_hull",
     "Lower_Semicontinuous.convex_on UNIV ?f ==>
      Lower_Semicontinuous.convex_on UNIV (lsc_hull ?f)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_hole 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 2, template_hole 1),
             template_app (template_hole 0, template_var 0))
           ))),
    ("Lower_Semicontinuous.lsc_hull_exists",
     "EX g. Epigraph UNIV g = closure (Epigraph UNIV ?f)",
     template_predicate (template_app (template_hole 4, t_empty))),
    ("Lower_Semicontinuous.lsc_hull_ex_unique",
     "EX! g. Epigraph UNIV g = closure (Epigraph UNIV ?f)",
     template_predicate (template_app (template_hole 4, t_empty))),
    ("Lower_Semicontinuous.convex_on_domain2",
     "Lower_Semicontinuous.convex_on (domain ?f) ?f =
      (ALL S. Lower_Semicontinuous.convex_on S ?f)",
     template_equation
      (template_app
        (template_app
          (template_hole 2, template_app (template_hole 1, template_var 0)),
         template_var 0),
       template_app (template_hole 0, t_empty))),
    ("Lower_Semicontinuous.lsc_uminus",
     "lsc_at ?x0.0 (%x. - ?f x) = usc_at ?x0.0 ?f",
     template_equation
      (template_app
        (template_app (template_hole 2, template_var 1), t_empty),
       template_app
        (template_app (template_hole 0, template_var 1), template_var 0))),
    ("Lower_Semicontinuous.real_interval_limpt",
     "?a < ?b ==> ?b islimpt {?a..<?b}",
     template_implication
      ([template_inequation (less_than, template_var 1, template_var 0)],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, template_var 0),
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0))
           ))),
    ("Lower_Semicontinuous.lsc_at_MInfty",
     "?f ?x0.0 = - \<infinity> ==> lsc_at ?x0.0 ?f",
     template_implication
      ([template_equation
         (template_app (template_var 1, template_var 0),
          template_app (template_hole 2, template_hole 1))],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 0), template_var 1)
           ))),
    ("Lower_Semicontinuous.continuous_isCont",
     "isCont ?f ?x0.0 = isCont ?f ?x0.0",
     template_equation
      (template_app
        (template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 1, template_var 1),
             template_hole 0)),
         template_var 0),
       template_app
        (template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 1, template_var 1),
             template_hole 0)),
         template_var 0))),
    ("Lower_Semicontinuous.lsc_liminf_at",
     "lsc_at ?x0.0 ?f = (?f ?x0.0 <= Liminf (at ?x0.0) ?f)",
     template_equation
      (template_app
        (template_app (template_hole 4, template_var 1), template_var 0),
       template_app
        (template_app
          (template_hole 3, template_app (template_var 0, template_var 1)),
         template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_var 1),
               template_hole 0)),
           template_var 0)))),
    ("Lower_Semicontinuous.usc_limsup_at",
     "usc_at ?x0.0 ?f = (Limsup (at ?x0.0) ?f <= ?f ?x0.0)",
     template_equation
      (template_app
        (template_app (template_hole 4, template_var 1), template_var 0),
       template_app
        (template_app
          (template_hole 3,
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 1),
                 template_hole 0)),
             template_var 0)),
         template_app (template_var 0, template_var 1)))),
    ("Lower_Semicontinuous.ereal_MInf_plus",
     "- \<infinity> + ?x =
      (if ?x = \<infinity> then \<infinity> else - \<infinity>)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 3,
                template_app (template_hole 2, template_hole 1)),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 0,
                 template_app
                  (template_app (template_hole 4, template_var 0),
                   template_hole 1)),
               template_hole 1),
             template_app (template_hole 2, template_hole 1))
           ))),
    ("Lower_Semicontinuous.convex_Epigraph",
     "convex ?S ==>
      convex (Epigraph ?S ?f) = Lower_Semicontinuous.convex_on ?S ?f",
     template_implication
      ([template_predicate
         (template_app (template_hole 4, template_var 1))],
       template_equation
        (template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 1, template_var 1),
             template_var 0)),
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Lower_Semicontinuous.closed_epigraph_lines",
     "closed ?S ==> closed {z. (?x, z) : ?S}",
     template_implication
      ([template_predicate
         (template_app (template_hole 4, template_var 1))],
       template_predicate
        (
           template_app
            (template_hole 3, template_app (template_hole 2, t_empty))
           ))),
    ("Lower_Semicontinuous.ereal_add_right_mono",
     "?a <= ?b ==> ?a + ?c <= ?b + ?c",
     template_implication
      ([template_inequation (less_equals, template_var 2, template_var 1)],
       template_inequation
        (less_equals,
         template_app
          (template_app (template_hole 0, template_var 2), template_var 0),
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Lower_Semicontinuous.domain_Epigraph_aux",
     "?x ~= \<infinity> ==> EX r. ?x <= ereal r",
     template_implication
      ([template_negation
         (template_equation (template_var 0, template_hole 3))],
       template_predicate (template_app (template_hole 2, t_empty)))),
    ("Lower_Semicontinuous.always_eventually_within",
     "ALL x:?S. ?P x ==> eventually ?P (at ?x within ?S)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 2), t_empty)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, template_var 1),
             template_app
              (template_app (template_hole 0, template_var 0),
               template_var 2))
           ))),
    ("Lower_Semicontinuous.epigraph_invertible",
     "Epigraph UNIV ?f = Epigraph UNIV ?g ==> ?f = ?g",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 2, template_hole 1),
            template_var 1),
          template_app
           (template_app (template_hole 2, template_hole 1),
            template_var 0))],
       template_equation (template_var 1, template_var 0))),
    ("Lower_Semicontinuous.lsc_hull_of_proper_convex_proper",
     "[| Lower_Semicontinuous.convex_on UNIV ?f; proper ?f |]
      ==> proper (lsc_hull ?f)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_hole 2),
              template_var 0)
            ),
        template_predicate
         (template_app (template_hole 1, template_var 0))],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 0))
           ))),
    ("Lower_Semicontinuous.convex_with_affine_domain_is_lsc",
     "[| Lower_Semicontinuous.convex_on UNIV ?f; affine (domain ?f) |]
      ==> lsc ?f",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_hole 3),
              template_var 0)
            ),
        template_predicate
         (
            template_app
             (template_hole 2,
              template_app (template_hole 1, template_var 0))
            )],
       template_predicate
        (template_app (template_hole 0, template_var 0)))),
    ("Lower_Semicontinuous.convex_finite_is_lsc",
     "[| Lower_Semicontinuous.convex_on UNIV ?f; finite_on UNIV ?f |]
      ==> lsc ?f",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_hole 2),
              template_var 0)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_hole 2),
              template_var 0)
            )],
       template_predicate
        (template_app (template_hole 0, template_var 0)))),
    ("Lower_Semicontinuous.lsc_hull_expl",
     "(?g = lsc_hull ?f) = (Epigraph UNIV ?g = closure (Epigraph UNIV ?f))",
     template_bimplication
      (template_equation
        (template_var 1, template_app (template_hole 4, template_var 0)),
       template_equation
        (template_app
          (template_app (template_hole 2, template_hole 1), template_var 1),
         template_app
          (template_hole 0,
           template_app
            (template_app (template_hole 2, template_hole 1),
             template_var 0))))),
    ("Lower_Semicontinuous.isCont_iff_lsc_usc",
     "isCont ?f ?x0.0 = (lsc_at ?x0.0 ?f & usc_at ?x0.0 ?f)",
     template_equation
      (template_app
        (template_app
          (template_hole 5,
           template_app
            (template_app (template_hole 4, template_var 1),
             template_hole 3)),
         template_var 0),
       template_app
        (template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 1, template_var 1),
             template_var 0)),
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Lower_Semicontinuous.continuous_UNIV_iff_lsc_usc",
     "(ALL x. isCont ?f x) = (lsc ?f & usc ?f)",
     template_equation
      (template_app (template_hole 6, t_empty),
       template_app
        (template_app
          (template_hole 2, template_app (template_hole 1, template_var 0)),
         template_app (template_hole 0, template_var 0)))),
    ("Lower_Semicontinuous.convex_EpigraphI",
     "[| Lower_Semicontinuous.convex_on ?s ?f; convex ?s |]
      ==> convex (Epigraph ?s ?f)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 1),
              template_var 0)
            ),
        template_predicate
         (template_app (template_hole 2, template_var 1))],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0))
           ))),
    ("Lower_Semicontinuous.convex_on_ereal_subset",
     "[| Lower_Semicontinuous.convex_on ?t ?f; ?s <= ?t |]
      ==> Lower_Semicontinuous.convex_on ?s ?f",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 2),
              template_var 1)
            ),
        template_inequation (less_equals, template_var 0, template_var 2)],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, template_var 0), template_var 1)
           ))),
    ("Lower_Semicontinuous.vertical_line_affine",
     "affine {(?x, m) |m. m : UNIV}",
     template_predicate
      (
         template_app
          (template_hole 7, template_app (template_hole 6, t_empty))
         )),
    ("Lower_Semicontinuous.lsc_hull_liminf_at",
     "ALL x. lsc_hull ?f x = min (?f x) (Liminf (at x) ?f)",
     template_predicate (template_app (template_hole 6, t_empty))),
    ("Lower_Semicontinuous.domain_lsc_hull_between",
     "domain ?f <= domain (lsc_hull ?f) &
      domain (lsc_hull ?f) <= closure (domain ?f)",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 4,
             template_app
              (template_app
                (template_hole 3,
                 template_app (template_hole 2, template_var 0)),
               template_app
                (template_hole 2,
                 template_app (template_hole 1, template_var 0)))),
           template_app
            (template_app
              (template_hole 3,
               template_app
                (template_hole 2,
                 template_app (template_hole 1, template_var 0))),
             template_app
              (template_hole 0,
               template_app (template_hole 2, template_var 0))))
         )),
    ("Lower_Semicontinuous.domain_Epigraph",
     "domain ?f = {x. EX y. (x, y) : Epigraph UNIV ?f}",
     template_equation
      (template_app (template_hole 6, template_var 0),
       template_app (template_hole 5, t_empty))),
    ("Lower_Semicontinuous.rel_interior_ereal_semiline",
     "rel_interior {y. ?a <= ereal y} = {y. ?a < ereal y}",
     template_equation
      (template_app
        (template_hole 4, template_app (template_hole 3, t_empty)),
       template_app (template_hole 3, t_empty))),
    ("Lower_Semicontinuous.lsc_hull_same_inf",
     "Inf (range (lsc_hull ?f)) = Inf (range ?f)",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 2, t_empty), template_hole 0)),
       template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 2, t_empty), template_hole 0)))),
    ("Lower_Semicontinuous.sum_2", "sum ?u {1..2} = ?u 1 + ?u 2",
     template_equation
      (template_app
        (template_app (template_hole 6, template_var 0),
         template_app
          (template_app (template_hole 5, template_hole 4),
           template_app
            (template_hole 3,
             template_app (template_hole 2, template_hole 1)))),
       template_app
        (template_app
          (template_hole 0, template_app (template_var 0, template_hole 4)),
         template_app
          (template_var 0,
           template_app
            (template_hole 3,
             template_app (template_hole 2, template_hole 1)))))),
    ("Lower_Semicontinuous.lsc_liminf_at_eq",
     "lsc_at ?x0.0 ?f = (?f ?x0.0 = min (?f ?x0.0) (Liminf (at ?x0.0) ?f))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 1),
              template_var 0)
            )],
       template_equation
        (template_app (template_var 0, template_var 1),
         template_app
          (template_app
            (template_hole 3,
             template_app (template_var 0, template_var 1)),
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 1),
                 template_hole 0)),
             template_var 0))))),
    ("Lower_Semicontinuous.epigraph_subset_iff",
     "(Epigraph UNIV ?f <= Epigraph UNIV ?g) = (ALL x. ?g x <= ?f x)",
     template_equation
      (template_app
        (template_app
          (template_hole 4,
           template_app
            (template_app (template_hole 3, template_hole 2),
             template_var 1)),
         template_app
          (template_app (template_hole 3, template_hole 2),
           template_var 0)),
       template_app (template_hole 1, t_empty))),
    ("Lower_Semicontinuous.lsc_at_PInfty",
     "?f ?x0.0 = \<infinity> ==> lsc_at ?x0.0 ?f = isCont ?f ?x0.0",
     template_implication
      ([template_equation
         (template_app (template_var 1, template_var 0), template_hole 5)],
       template_equation
        (template_app
          (template_app (template_hole 3, template_var 0), template_var 1),
         template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_var 0),
               template_hole 0)),
           template_var 1)))),
    ("Lower_Semicontinuous.lsc_hull_of_convex_agrees_onRI",
     "Lower_Semicontinuous.convex_on UNIV ?f ==>
      ALL x:rel_interior (domain ?f). ?f x = lsc_hull ?f x",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 6, template_hole 5),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 4,
               template_app
                (template_hole 3,
                 template_app (template_hole 2, template_var 0))),
             t_empty)
           ))),
    ("Lower_Semicontinuous.ereal_divide_pos",
     "[| 0 < ?a; 0 < ?b |] ==> 0 < ?a / ereal ?b",
     template_implication
      ([template_inequation (less_than, template_hole 4, template_var 1),
        template_inequation (less_than, template_hole 2, template_var 0)],
       template_inequation
        (less_than, template_hole 4,
         template_app
          (template_app (template_hole 1, template_var 1),
           template_app (template_hole 0, template_var 0))))),
    ("Lower_Semicontinuous.mem_Epigraph",
     "((?x, ?y) : Epigraph ?S ?f) = (?x : ?S & ?f ?x <= ereal ?y)",
     template_equation
      (template_app
        (template_app
          (template_hole 6,
           template_app
            (template_app (template_hole 5, template_var 3),
             template_var 2)),
         template_app
          (template_app (template_hole 4, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 3,
           template_app
            (template_app (template_hole 2, template_var 3),
             template_var 1)),
         template_app
          (template_app
            (template_hole 1,
             template_app (template_var 0, template_var 3)),
           template_app (template_hole 0, template_var 2))))),
    ("Lower_Semicontinuous.ereal_semiline_unique",
     "({y. ?a <= ereal y} = {y. ?b <= ereal y}) = (?a = ?b)",
     template_bimplication
      (template_equation
        (template_app (template_hole 3, t_empty),
         template_app (template_hole 3, t_empty)),
       template_equation (template_var 1, template_var 0))),
    ("Lower_Semicontinuous.convex_ereal_cmul",
     "[| 0 <= ?c; Lower_Semicontinuous.convex_on ?s ?f |]
      ==> Lower_Semicontinuous.convex_on ?s (%x. ?c * ?f x)",
     template_implication
      ([template_inequation (less_equals, template_hole 2, template_var 2),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, template_var 1), t_empty)
           ))),
    ("Lower_Semicontinuous.improper_iff",
     "(~ proper ?f) =
      ((EX x. ?f x = - \<infinity>) | (ALL x. ?f x = \<infinity>))",
     template_equation
      (template_app
        (template_hole 7, template_app (template_hole 6, template_var 0)),
       template_app
        (template_app
          (template_hole 5, template_app (template_hole 4, t_empty)),
         template_app (template_hole 0, t_empty)))),
    ("Lower_Semicontinuous.lsc_hull_mono",
     "ALL x. ?g x <= ?f x ==> ALL x. lsc_hull ?g x <= lsc_hull ?f x",
     template_implication
      ([template_predicate (template_app (template_hole 2, t_empty))],
       template_predicate (template_app (template_hole 2, t_empty)))),
    ("Lower_Semicontinuous.convex_ereal_add",
     "[| Lower_Semicontinuous.convex_on ?s ?f;
         Lower_Semicontinuous.convex_on ?s ?g |]
      ==> Lower_Semicontinuous.convex_on ?s (%x. ?f x + ?g x)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 2),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, template_var 2), t_empty)
           ))),
    ("Lower_Semicontinuous.convex_ereal_max",
     "[| Lower_Semicontinuous.convex_on ?s ?f;
         Lower_Semicontinuous.convex_on ?s ?g |]
      ==> Lower_Semicontinuous.convex_on ?s (%x. max (?f x) (?g x))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 2),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, template_var 2), t_empty)
           ))),
    ("Lower_Semicontinuous.continuous_lsc_compose",
     "[| lsc_at (?g ?x0.0) ?f; isCont ?g ?x0.0 |]
      ==> lsc_at ?x0.0 (?f o ?g)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 5,
                template_app (template_var 2, template_var 1)),
              template_var 0)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 4,
                template_app
                 (template_app (template_hole 3, template_var 1),
                  template_hole 2)),
              template_var 2)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 1, template_var 1),
             template_app
              (template_app (template_hole 0, template_var 0),
               template_var 2))
           ))),
    ("Lower_Semicontinuous.proper_iff",
     "proper ?f =
      ((ALL x. ?f x ~= - \<infinity>) & (EX x. ?f x ~= \<infinity>))",
     template_equation
      (template_app (template_hole 7, template_var 0),
       template_app
        (template_app
          (template_hole 6, template_app (template_hole 5, t_empty)),
         template_app (template_hole 0, t_empty)))),
    ("Lower_Semicontinuous.epigraph_mono",
     "(?x, ?y) : Epigraph UNIV ?f & ?y <= ?z -->
      (?x, ?z) : Epigraph UNIV ?f",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 6,
             template_app
              (template_app
                (template_hole 5,
                 template_app
                  (template_app
                    (template_hole 4,
                     template_app
                      (template_app (template_hole 3, template_var 3),
                       template_var 2)),
                   template_app
                    (template_app (template_hole 2, template_hole 1),
                     template_var 1))),
               template_app
                (template_app (template_hole 0, template_var 2),
                 template_var 0))),
           template_app
            (template_app
              (template_hole 4,
               template_app
                (template_app (template_hole 3, template_var 3),
                 template_var 0)),
             template_app
              (template_app (template_hole 2, template_hole 1),
               template_var 1)))
         )),
    ("Lower_Semicontinuous.lsc_hull_of_convex_agrees",
     "Lower_Semicontinuous.convex_on UNIV ?f ==>
      ALL x. ?f x = lsc_hull ?f x | x : rel_frontier (domain ?f)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 8, template_hole 7),
              template_var 0)
            )],
       template_predicate (template_app (template_hole 6, t_empty)))),
    ("Lower_Semicontinuous.convex_PInfty_outside",
     "[| Lower_Semicontinuous.convex_on UNIV ?f; convex ?S |]
      ==> Lower_Semicontinuous.convex_on UNIV
           (%x. if x : ?S then ?f x else \<infinity>)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_hole 4),
              template_var 1)
            ),
        template_predicate
         (template_app (template_hole 3, template_var 0))],
       template_predicate
        (
           template_app
            (template_app (template_hole 5, template_hole 4), t_empty)
           ))),
    ("Lower_Semicontinuous.lsc_iff",
     "lsc ?f = (ALL y. closed {x. ?f x <= y}) &
      lsc ?f = closed (Epigraph UNIV ?f)",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 9,
             template_app
              (template_app
                (template_hole 8,
                 template_app (template_hole 7, template_var 0)),
               template_app (template_hole 6, t_empty))),
           template_app
            (template_app
              (template_hole 8,
               template_app (template_hole 7, template_var 0)),
             template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_hole 0),
                 template_var 0))))
         )),
    ("Lower_Semicontinuous.lsc_liminf",
     "lsc_at ?x0.0 ?f =
      (ALL x.
          x \<longlonglongrightarrow> ?x0.0 -->
          ?f ?x0.0 <= liminf (?f o x))",
     template_equation
      (template_app
        (template_app (template_hole 8, template_var 1), template_var 0),
       template_app (template_hole 7, t_empty))),
    ("Lower_Semicontinuous.usc_limsup",
     "usc_at ?x0.0 ?f =
      (ALL x.
          x \<longlonglongrightarrow> ?x0.0 -->
          limsup (?f o x) <= ?f ?x0.0)",
     template_equation
      (template_app
        (template_app (template_hole 8, template_var 1), template_var 0),
       template_app (template_hole 7, t_empty))),
    ("Lower_Semicontinuous.ereal_closed_levels",
     "(ALL y. closed {x. ?f x <= y}) =
      (ALL r. closed {x. ?f x <= ereal r})",
     template_equation
      (template_app (template_hole 5, t_empty),
       template_app (template_hole 1, t_empty))),
    ("Lower_Semicontinuous.lsc_hull_of_convex_aux",
     "Limsup (at 1 within {0..<1}) (%m. ereal ((1 - m) * ?a + m * ?b))
      <= ereal ?b",
     template_inequation
      (less_equals,
       template_app
        (template_app
          (template_hole 8,
           template_app
            (template_app (template_hole 7, template_hole 6),
             template_app
              (template_app (template_hole 5, template_hole 4),
               template_hole 6))),
         t_empty),
       template_app (template_hole 3, template_var 0))),
    ("Lower_Semicontinuous.lsc_hull_of_convex_agrees_outside",
     "Lower_Semicontinuous.convex_on UNIV ?f ==>
      ALL x. x ~: closure (domain ?f) --> ?f x = lsc_hull ?f x",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 9, template_hole 8),
              template_var 0)
            )],
       template_predicate (template_app (template_hole 7, t_empty)))),
    ("Lower_Semicontinuous.convex_improper",
     "[| Lower_Semicontinuous.convex_on UNIV ?f; ~ proper ?f |]
      ==> ALL x:rel_interior (domain ?f). ?f x = - \<infinity>",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 9, template_hole 8),
              template_var 0)
            ),
        template_negation
         (
            template_predicate
             (template_app (template_hole 6, template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 5,
               template_app
                (template_hole 4,
                 template_app (template_hole 3, template_var 0))),
             t_empty)
           ))),
    ("Lower_Semicontinuous.lsc_imp_liminf",
     "[| lsc_at ?x0.0 ?f; ?x \<longlonglongrightarrow> ?x0.0 |]
      ==> ?f ?x0.0 <= liminf (?f o ?x)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 5, template_var 0),
                template_app (template_hole 4, template_var 2)),
              template_hole 3)
            )],
       template_inequation
        (less_equals, template_app (template_var 1, template_var 2),
         template_app
          (template_app (template_hole 1, template_hole 3),
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 0))))),
    ("Lower_Semicontinuous.usc_imp_limsup",
     "[| usc_at ?x0.0 ?f; ?x \<longlonglongrightarrow> ?x0.0 |]
      ==> limsup (?f o ?x) <= ?f ?x0.0",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 5, template_var 0),
                template_app (template_hole 4, template_var 2)),
              template_hole 3)
            )],
       template_inequation
        (less_equals,
         template_app
          (template_app (template_hole 1, template_hole 3),
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 0)),
         template_app (template_var 1, template_var 2)))),
    ("Lower_Semicontinuous.infinite_convex_domain_iff",
     "ALL x. ?f x = \<infinity> | ?f x = - \<infinity> ==>
      Lower_Semicontinuous.convex_on UNIV ?f = convex (domain ?f)",
     template_implication
      ([template_predicate (template_app (template_hole 9, t_empty))],
       template_equation
        (template_app
          (template_app (template_hole 3, template_hole 2), template_var 0),
         template_app
          (template_hole 1,
           template_app (template_hole 0, template_var 0))))),
    ("Lower_Semicontinuous.lsc_hull_greatest",
     "[| lsc ?g; ALL x. ?g x <= ?f x |] ==> ALL x. ?g x <= lsc_hull ?f x",
     template_implication
      ([template_predicate (template_app (template_hole 3, template_var 1)),
        template_predicate (template_app (template_hole 2, t_empty))],
       template_predicate (template_app (template_hole 2, t_empty)))),
    ("Lower_Semicontinuous.lsc_hull_convex_improper",
     "[| Lower_Semicontinuous.convex_on UNIV ?f; ~ proper ?f |]
      ==> ALL x:rel_interior (domain ?f). lsc_hull ?f x = ?f x",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 8, template_hole 7),
              template_var 0)
            ),
        template_negation
         (
            template_predicate
             (template_app (template_hole 5, template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 4,
               template_app
                (template_hole 3,
                 template_app (template_hole 2, template_var 0))),
             t_empty)
           ))),
    ("Lower_Semicontinuous.convex_less_ri_domain",
     "[| Lower_Semicontinuous.convex_on UNIV ?f; EX x. ?f x < ?a |]
      ==> EX x:rel_interior (domain ?f). ?f x < ?a",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 6, template_hole 5),
              template_var 1)
            ),
        template_predicate (template_app (template_hole 4, t_empty))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_hole 1,
                 template_app (template_hole 0, template_var 1))),
             t_empty)
           ))),
    ("Lower_Semicontinuous.rel_interior_eq_between",
     "[| convex ?S; convex ?T |]
      ==> (rel_interior ?S = rel_interior ?T) =
          (rel_interior ?S <= ?T & ?T <= closure ?S)",
     template_implication
      ([template_predicate (template_app (template_hole 6, template_var 1)),
        template_predicate
         (template_app (template_hole 6, template_var 0))],
       template_equation
        (template_app
          (template_app
            (template_hole 4,
             template_app (template_hole 3, template_var 1)),
           template_app (template_hole 3, template_var 0)),
         template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app
                (template_hole 1,
                 template_app (template_hole 3, template_var 1)),
               template_var 0)),
           template_app
            (template_app (template_hole 1, template_var 0),
             template_app (template_hole 0, template_var 1)))))),
    ("Lower_Semicontinuous.ereal_pos_sum_distrib_left",
     "[| 0 <= ?r; ?r ~= \<infinity> |]
      ==> ?r * sum ?f ?A = (SUM n:?A. ?r * ?f n)",
     template_implication
      ([template_inequation (less_equals, template_hole 5, template_var 2),
        template_negation
         (template_equation (template_var 2, template_hole 2))],
       template_equation
        (template_app
          (template_app (template_hole 1, template_var 2),
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 0)),
         template_app
          (template_app (template_hole 0, t_empty), template_var 0)))),
    ("Lower_Semicontinuous.convex_lsc_improper",
     "[| Lower_Semicontinuous.convex_on UNIV ?f; ~ proper ?f; lsc ?f |]
      ==> ?f ?x = \<infinity> | ?f ?x = - \<infinity>",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 8, template_hole 7),
              template_var 1)
            ),
        template_negation
         (
            template_predicate
             (template_app (template_hole 5, template_var 1))
            ),
        template_predicate
         (template_app (template_hole 4, template_var 1))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 3,
               template_app
                (template_app
                  (template_hole 2,
                   template_app (template_var 1, template_var 0)),
                 template_hole 1)),
             template_app
              (template_app
                (template_hole 2,
                 template_app (template_var 1, template_var 0)),
               template_app (template_hole 0, template_hole 1)))
           ))),
    ("Lower_Semicontinuous.rel_interior_Epigraph",
     "Lower_Semicontinuous.convex_on UNIV ?f ==>
      ((?x, ?z) : rel_interior (Epigraph UNIV ?f)) =
      (?x : rel_interior (domain ?f) & ?f ?x < ereal ?z)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 12, template_hole 11),
              template_var 2)
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 9,
             template_app
              (template_app (template_hole 8, template_var 1),
               template_var 0)),
           template_app
            (template_hole 7,
             template_app
              (template_app (template_hole 6, template_hole 11),
               template_var 2))),
         template_app
          (template_app
            (template_hole 5,
             template_app
              (template_app (template_hole 4, template_var 1),
               template_app
                (template_hole 3,
                 template_app (template_hole 2, template_var 2)))),
           template_app
            (template_app
              (template_hole 1,
               template_app (template_var 2, template_var 1)),
             template_app (template_hole 0, template_var 0)))))),
    ("Lower_Semicontinuous.convex_on_ereal_sum_aux",
     "0 < 1 - ?a ==>
      (1 - ereal ?a) * (ereal (?c / (1 - ?a)) * ?b) = ereal ?c * ?b",
     template_implication
      ([template_inequation
         (less_than, template_hole 8,
          template_app
           (template_app (template_hole 7, template_hole 6),
            template_var 2))],
       template_equation
        (template_app
          (template_app
            (template_hole 4,
             template_app
              (template_app (template_hole 3, template_hole 2),
               template_app (template_hole 1, template_var 2))),
           template_app
            (template_app
              (template_hole 4,
               template_app
                (template_hole 1,
                 template_app
                  (template_app (template_hole 0, template_var 1),
                   template_app
                    (template_app (template_hole 7, template_hole 6),
                     template_var 2)))),
             template_var 0)),
         template_app
          (template_app
            (template_hole 4,
             template_app (template_hole 1, template_var 1)),
           template_var 0)))),
    ("Lower_Semicontinuous.lsc_at_mem",
     "[| lsc_at ?x0.0 ?f; ?x \<longlonglongrightarrow> ?x0.0;
         (?f o ?x) \<longlonglongrightarrow> ?A |]
      ==> ?f ?x0.0 <= ?A",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 3),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 6, template_var 1),
                template_app (template_hole 5, template_var 3)),
              template_hole 4)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_hole 3,
                  template_app
                   (template_app (template_hole 2, template_var 2),
                    template_var 1)),
                template_app (template_hole 1, template_var 0)),
              template_hole 4)
            )],
       template_inequation
        (less_equals, template_app (template_var 2, template_var 3),
         template_var 0))),
    ("Lower_Semicontinuous.usc_at_mem",
     "[| usc_at ?x0.0 ?f; ?x \<longlonglongrightarrow> ?x0.0;
         (?f o ?x) \<longlonglongrightarrow> ?A |]
      ==> ?A <= ?f ?x0.0",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 3),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 6, template_var 1),
                template_app (template_hole 5, template_var 3)),
              template_hole 4)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app
                 (template_hole 3,
                  template_app
                   (template_app (template_hole 2, template_var 2),
                    template_var 1)),
                template_app (template_hole 1, template_var 0)),
              template_hole 4)
            )],
       template_inequation
        (less_equals, template_var 0,
         template_app (template_var 2, template_var 3)))),
    ("Lower_Semicontinuous.lsc_sequentially",
     "lsc_at ?x0.0 ?f =
      (ALL x c.
          x \<longlonglongrightarrow> ?x0.0 & (ALL n. ?f (x n) <= c) -->
          ?f ?x0.0 <= c)",
     template_equation
      (template_app
        (template_app (template_hole 9, template_var 1), template_var 0),
       template_app (template_hole 8, t_empty))),
    ("Lower_Semicontinuous.lst_at_ball",
     "lsc_at ?x0.0 ?f =
      (ALL C<?f ?x0.0. EX d>0. ALL y:ball ?x0.0 d. C < ?f y)",
     template_equation
      (template_app
        (template_app (template_hole 9, template_var 1), template_var 0),
       template_app (template_hole 8, t_empty))),
    ("Lower_Semicontinuous.convex_improper2",
     "[| Lower_Semicontinuous.convex_on UNIV ?f; ~ proper ?f |]
      ==> ?f ?x = \<infinity> |
          ?f ?x = - \<infinity> | ?x : rel_frontier (domain ?f)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 10, template_hole 9),
              template_var 1)
            ),
        template_negation
         (
            template_predicate
             (template_app (template_hole 7, template_var 1))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 6,
               template_app
                (template_app
                  (template_hole 5,
                   template_app (template_var 1, template_var 0)),
                 template_hole 4)),
             template_app
              (template_app
                (template_hole 6,
                 template_app
                  (template_app
                    (template_hole 5,
                     template_app (template_var 1, template_var 0)),
                   template_app (template_hole 3, template_hole 4))),
               template_app
                (template_app (template_hole 2, template_var 0),
                 template_app
                  (template_hole 1,
                   template_app (template_hole 0, template_var 1)))))
           ))),
    ("Lower_Semicontinuous.convex_with_UNIV_domain",
     "[| Lower_Semicontinuous.convex_on UNIV ?f; domain ?f = UNIV |]
      ==> (ALL x. - \<infinity> < ?f x) | (ALL x. ?f x = - \<infinity>)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 9, template_hole 8),
              template_var 0)
            ),
        template_equation
         (template_app (template_hole 6, template_var 0), template_hole 8)],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 5, template_app (template_hole 4, t_empty)),
             template_app (template_hole 4, t_empty))
           ))),
    ("Lower_Semicontinuous.lsc_at_ereal",
     "lsc_at ?x0.0 ?f =
      (ALL C<?f ?x0.0. EX T. open T & ?x0.0 : T & (ALL y:T. C < ?f y))",
     template_equation
      (template_app
        (template_app (template_hole 8, template_var 1), template_var 0),
       template_app (template_hole 7, t_empty))),
    ("Lower_Semicontinuous.lst_at_delta",
     "lsc_at ?x0.0 ?f =
      (ALL C<?f ?x0.0. EX d>0. ALL y. dist ?x0.0 y < d --> C < ?f y)",
     template_equation
      (template_app
        (template_app (template_hole 9, template_var 1), template_var 0),
       template_app (template_hole 8, t_empty))),
    ("Lower_Semicontinuous.convex_with_rel_open_domain",
     "[| Lower_Semicontinuous.convex_on UNIV ?f; rel_open (domain ?f) |]
      ==> (ALL x. - \<infinity> < ?f x) |
          (ALL x. ?f x = \<infinity> | ?f x = - \<infinity>)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 9, template_hole 8),
              template_var 0)
            ),
        template_predicate
         (
            template_app
             (template_hole 7,
              template_app (template_hole 6, template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 5, template_app (template_hole 4, t_empty)),
             template_app (template_hole 4, t_empty))
           ))),
    ("Lower_Semicontinuous.domain_vs_domain_lsc_hull",
     "Lower_Semicontinuous.convex_on UNIV ?f ==>
      rel_interior (domain (lsc_hull ?f)) = rel_interior (domain ?f) &
      closure (domain (lsc_hull ?f)) = closure (domain ?f) &
      aff_dim (domain (lsc_hull ?f)) = aff_dim (domain ?f)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 9, template_hole 8),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 7,
               template_app
                (template_app
                  (template_hole 6,
                   template_app
                    (template_hole 5,
                     template_app
                      (template_hole 4,
                       template_app (template_hole 3, template_var 0)))),
                 template_app
                  (template_hole 5,
                   template_app (template_hole 4, template_var 0)))),
             template_app
              (template_app
                (template_hole 7,
                 template_app
                  (template_app
                    (template_hole 6,
                     template_app
                      (template_hole 2,
                       template_app
                        (template_hole 4,
                         template_app (template_hole 3, template_var 0)))),
                   template_app
                    (template_hole 2,
                     template_app (template_hole 4, template_var 0)))),
               template_app
                (template_app
                  (template_hole 1,
                   template_app
                    (template_hole 0,
                     template_app
                      (template_hole 4,
                       template_app (template_hole 3, template_var 0)))),
                 template_app
                  (template_hole 0,
                   template_app (template_hole 4, template_var 0)))))
           ))),
    ("Lower_Semicontinuous.convex_finite_geq_on_closure",
     "[| Lower_Semicontinuous.convex_on UNIV ?f; convex ?S; finite_on ?S ?f;
         ALL x:?S. ?a <= ?f x |]
      ==> ALL x:closure ?S. ?a <= ?f x",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 6, template_hole 5),
              template_var 2)
            ),
        template_predicate (template_app (template_hole 4, template_var 1)),
        template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 1),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 1), t_empty)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 2,
               template_app (template_hole 0, template_var 1)),
             t_empty)
           ))),
    ("Lower_Semicontinuous.convex_less_inS",
     "[| Lower_Semicontinuous.convex_on UNIV ?f; convex ?S; ?S <= domain ?f;
         EX x:closure ?S. ?f x < ?a |]
      ==> EX x:?S. ?f x < ?a",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_hole 6),
              template_var 2)
            ),
        template_predicate (template_app (template_hole 5, template_var 1)),
        template_inequation
         (less_equals, template_var 1,
          template_app (template_hole 3, template_var 2)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 2,
                template_app (template_hole 1, template_var 1)),
              t_empty)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 2, template_var 1), t_empty)
           ))),
    ("Lower_Semicontinuous.rel_interior_EpigraphI",
     "Lower_Semicontinuous.convex_on UNIV ?f ==>
      rel_interior (Epigraph UNIV ?f) =
      {(x, z) |x z. x : rel_interior (domain ?f) & ?f x < ereal z}",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 15, template_hole 14),
              template_var 0)
            )],
       template_equation
        (template_app
          (template_hole 12,
           template_app
            (template_app (template_hole 11, template_hole 14),
             template_var 0)),
         template_app (template_hole 10, t_empty)))),
    ("Lower_Semicontinuous.lsc_hull_of_convex",
     "[| Lower_Semicontinuous.convex_on UNIV ?f;
         ?x : rel_interior (domain ?f) |]
      ==> ((%m. ?f ((1 - m) *\<^sub>R ?x +
                    m *\<^sub>R ?y)) \<longlongrightarrow>
           lsc_hull ?f ?y)
           (at 1 within {0..<1})",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 14, template_hole 13),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 12, template_var 1),
              template_app
               (template_hole 11,
                template_app (template_hole 10, template_var 2)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 9, t_empty),
               template_app
                (template_hole 4,
                 template_app
                  (template_app (template_hole 3, template_var 2),
                   template_var 0))),
             template_app
              (template_app (template_hole 2, template_hole 5),
               template_app
                (template_app (template_hole 1, template_hole 0),
                 template_hole 5)))
           ))),
    ("Lower_Semicontinuous.lsc_sequentially_mem",
     "[| lsc_at ?x0.0 ?f; ?x \<longlonglongrightarrow> ?x0.0;
         ?c \<longlonglongrightarrow> ?c0.0; ALL n. ?f (?x n) <= ?c n |]
      ==> ?f ?x0.0 <= ?c0.0",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 4),
              template_var 3)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 6, template_var 2),
                template_app (template_hole 5, template_var 4)),
              template_hole 4)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 3, template_var 1),
                template_app (template_hole 2, template_var 0)),
              template_hole 4)
            ),
        template_predicate (template_app (template_hole 1, t_empty))],
       template_inequation
        (less_equals, template_app (template_var 3, template_var 4),
         template_var 0))),
    ("Lower_Semicontinuous.mono_epigraph",
     "[| ALL x y z. (x, y) : ?S & y <= z --> (x, z) : ?S; closed ?S |]
      ==> EX g. Epigraph UNIV g = ?S",
     template_implication
      ([template_predicate (template_app (template_hole 11, t_empty)),
        template_predicate
         (template_app (template_hole 4, template_var 0))],
       template_predicate (template_app (template_hole 3, t_empty)))),
    ("Lower_Semicontinuous.convex_less_in_riS",
     "[| Lower_Semicontinuous.convex_on UNIV ?f; convex ?S;
         rel_interior ?S <= domain ?f; EX x:closure ?S. ?f x < ?a |]
      ==> EX x:rel_interior ?S. ?f x < ?a",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 8, template_hole 7),
              template_var 2)
            ),
        template_predicate (template_app (template_hole 6, template_var 1)),
        template_inequation
         (less_equals, template_app (template_hole 4, template_var 1),
          template_app (template_hole 3, template_var 2)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 2,
                template_app (template_hole 1, template_var 1)),
              t_empty)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 2,
               template_app (template_hole 4, template_var 1)),
             t_empty)
           ))),
    ("Lower_Semicontinuous.lsc_sequentially_gen",
     "lsc_at ?x0.0 ?f =
      (ALL x c c0.
          x \<longlonglongrightarrow> ?x0.0 &
          c \<longlonglongrightarrow> c0 & (ALL n. ?f (x n) <= c n) -->
          ?f ?x0.0 <= c0)",
     template_equation
      (template_app
        (template_app (template_hole 12, template_var 1), template_var 0),
       template_app (template_hole 11, t_empty))),
    ("Lower_Semicontinuous.lsc_at_open",
     "lsc_at ?x0.0 ?f =
      (ALL S.
          open S & ?f ?x0.0 : S -->
          (EX T. open T &
                 ?x0.0 : T & (ALL x':T. ?f x' <= ?f ?x0.0 --> ?f x' : S)))",
     template_equation
      (template_app
        (template_app (template_hole 10, template_var 1), template_var 0),
       template_app (template_hole 9, t_empty))),
    ("Lower_Semicontinuous.lsc_hull_iff_greatest",
     "(?g = lsc_hull ?f) =
      (lsc ?g &
       (ALL x. ?g x <= ?f x) &
       (ALL h. lsc h & (ALL x. h x <= ?f x) --> (ALL x. h x <= ?g x)))",
     template_equation
      (template_app
        (template_app (template_hole 7, template_var 1),
         template_app (template_hole 6, template_var 0)),
       template_app
        (template_app
          (template_hole 5, template_app (template_hole 4, template_var 1)),
         template_app
          (template_app
            (template_hole 5, template_app (template_hole 3, t_empty)),
           template_app (template_hole 1, t_empty))))),
    ("Lower_Semicontinuous.lsc_hull_of_proper_convex",
     "[| Lower_Semicontinuous.convex_on UNIV ?f; proper ?f |]
      ==> lsc (lsc_hull ?f) &
          proper (lsc_hull ?f) &
          Lower_Semicontinuous.convex_on UNIV (lsc_hull ?f) &
          (ALL x. ?f x = lsc_hull ?f x | x : rel_frontier (domain ?f))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 11, template_hole 10),
              template_var 0)
            ),
        template_predicate
         (template_app (template_hole 9, template_var 0))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 8,
               template_app
                (template_hole 7,
                 template_app (template_hole 6, template_var 0))),
             template_app
              (template_app
                (template_hole 8,
                 template_app
                  (template_hole 9,
                   template_app (template_hole 6, template_var 0))),
               template_app
                (template_app
                  (template_hole 8,
                   template_app
                    (template_app (template_hole 11, template_hole 10),
                     template_app (template_hole 6, template_var 0))),
                 template_app (template_hole 5, t_empty))))
           ))),
    ("Lower_Semicontinuous.lsc_hull_of_convex_determined",
     "[| Lower_Semicontinuous.convex_on UNIV ?f;
         Lower_Semicontinuous.convex_on UNIV ?g;
         rel_interior (domain ?f) = rel_interior (domain ?g);
         ALL x:rel_interior (domain ?f). ?f x = ?g x |]
      ==> lsc_hull ?f = lsc_hull ?g",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 8, template_hole 7),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 8, template_hole 7),
              template_var 0)
            ),
        template_equation
         (template_app
           (template_hole 5,
            template_app (template_hole 4, template_var 1)),
          template_app
           (template_hole 5,
            template_app (template_hole 4, template_var 0))),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 3,
                template_app
                 (template_hole 5,
                  template_app (template_hole 4, template_var 1))),
              t_empty)
            )],
       template_equation
        (template_app (template_hole 0, template_var 1),
         template_app (template_hole 0, template_var 0)))),
    ("Lower_Semicontinuous.lsc_at_real",
     "\<bar>?f ?x0.0\<bar> ~= \<infinity> ==>
      lsc_at ?x0.0 ?f =
      (ALL e>0. EX T. open T & ?x0.0 : T & (ALL y:T. ?f ?x0.0 - e < ?f y))",
     template_implication
      ([template_negation
         (
            template_equation
             (template_app
               (template_hole 13,
                template_app (template_var 1, template_var 0)),
              template_hole 12)
            )],
       template_equation
        (template_app
          (template_app (template_hole 10, template_var 0), template_var 1),
         template_app (template_hole 9, t_empty)))),
    ("Lower_Semicontinuous.lsc_at_open_mem",
     "[| lsc_at ?x0.0 ?f; open ?S & ?f ?x0.0 : ?S;
         !!T. open T &
              ?x0.0 : T & (ALL x':T. ?f x' <= ?f ?x0.0 --> ?f x' : ?S) ==>
              ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 9, template_var 3),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 8,
                template_app (template_hole 7, template_var 1)),
              template_app
               (template_app
                 (template_hole 6,
                  template_app (template_var 2, template_var 3)),
                template_var 1))
            ),
        template_predicate (template_app (template_hole 5, t_empty))],
       template_predicate (template_var 0))),
    ("Lower_Semicontinuous.convex_on_ereal_alt",
     "convex ?C ==>
      Lower_Semicontinuous.convex_on ?C ?f =
      (ALL x:?C.
          ALL y:?C.
             ALL m.
                0 <= m & m <= 1 -->
                ?f (m *\<^sub>R x + (1 - m) *\<^sub>R y)
                <= ereal m * ?f x + (1 - ereal m) * ?f y)",
     template_implication
      ([template_predicate
         (template_app (template_hole 18, template_var 1))],
       template_equation
        (template_app
          (template_app (template_hole 16, template_var 1), template_var 0),
         template_app
          (template_app (template_hole 15, template_var 1), t_empty)))),
    ("Lower_Semicontinuous.convex_on_ereal_mem",
     "[| Lower_Semicontinuous.convex_on ?s ?f; ?x : ?s; ?y : ?s; 0 <= ?u;
         0 <= ?v; ?u + ?v = 1 |]
      ==> ?f (?u *\<^sub>R ?x + ?v *\<^sub>R ?y)
          <= ereal ?u * ?f ?x + ereal ?v * ?f ?y",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 12, template_var 5),
              template_var 4)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 11, template_var 3),
              template_var 5)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 11, template_var 2),
              template_var 5)
            ),
        template_inequation (less_equals, template_hole 9, template_var 1),
        template_inequation (less_equals, template_hole 9, template_var 0),
        template_equation
         (template_app
           (template_app (template_hole 7, template_var 1), template_var 0),
          template_hole 6)],
       template_inequation
        (less_equals,
         template_app
          (template_var 4,
           template_app
            (template_app
              (template_hole 4,
               template_app
                (template_app (template_hole 3, template_var 1),
                 template_var 3)),
             template_app
              (template_app (template_hole 3, template_var 0),
               template_var 2))),
         template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app
                (template_hole 1,
                 template_app (template_hole 0, template_var 1)),
               template_app (template_var 4, template_var 3))),
           template_app
            (template_app
              (template_hole 1,
               template_app (template_hole 0, template_var 0)),
             template_app (template_var 4, template_var 2)))))),
    ("Lower_Semicontinuous.convex_on_ereal_alt_mem",
     "[| convex ?C; Lower_Semicontinuous.convex_on ?C ?f; ?x : ?C; ?y : ?C;
         0 <= ?m; ?m <= 1 |]
      ==> ?f (?m *\<^sub>R ?x + (1 - ?m) *\<^sub>R ?y)
          <= ereal ?m * ?f ?x + (1 - ereal ?m) * ?f ?y",
     template_implication
      ([template_predicate
         (template_app (template_hole 14, template_var 4)),
        template_predicate
         (
            template_app
             (template_app (template_hole 13, template_var 4),
              template_var 3)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 12, template_var 2),
              template_var 4)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 12, template_var 1),
              template_var 4)
            ),
        template_inequation (less_equals, template_hole 10, template_var 0),
        template_inequation (less_equals, template_var 0, template_hole 9)],
       template_inequation
        (less_equals,
         template_app
          (template_var 3,
           template_app
            (template_app
              (template_hole 7,
               template_app
                (template_app (template_hole 6, template_var 0),
                 template_var 2)),
             template_app
              (template_app
                (template_hole 6,
                 template_app
                  (template_app (template_hole 5, template_hole 9),
                   template_var 0)),
               template_var 1))),
         template_app
          (template_app
            (template_hole 4,
             template_app
              (template_app
                (template_hole 3,
                 template_app (template_hole 2, template_var 0)),
               template_app (template_var 3, template_var 2))),
           template_app
            (template_app
              (template_hole 3,
               template_app
                (template_app (template_hole 1, template_hole 0),
                 template_app (template_hole 2, template_var 0))),
             template_app (template_var 3, template_var 1)))))),
    ("Lower_Semicontinuous.convex_on_ereal_iff",
     "convex ?s ==>
      Lower_Semicontinuous.convex_on ?s ?f =
      (ALL k u x.
          (ALL i:{1..k}. 0 <= u i & x i : ?s) & sum u {1..k} = 1 -->
          ?f (SUM i = 1..k. u i *\<^sub>R x i)
          <= (SUM i = 1..k. ereal (u i) * ?f (x i)))",
     template_implication
      ([template_predicate
         (template_app (template_hole 22, template_var 1))],
       template_equation
        (template_app
          (template_app (template_hole 20, template_var 1), template_var 0),
         template_app (template_hole 19, t_empty)))),
    ("Lower_Semicontinuous.convex_on_ereal_sum",
     "[| finite ?s; ?s ~= {}; Lower_Semicontinuous.convex_on ?C ?f;
         convex ?C; sum ?a ?s = 1; ALL i. i : ?s --> 0 <= ?a i;
         ALL i. i : ?s --> ?y i : ?C |]
      ==> ?f (SUM i:?s. ?a i *\<^sub>R ?y i)
          <= (SUM i:?s. ereal (?a i) * ?f (?y i))",
     template_implication
      ([template_predicate
         (template_app (template_hole 20, template_var 4)),
        template_negation
         (template_equation (template_var 4, template_hole 17)),
        template_predicate
         (
            template_app
             (template_app (template_hole 16, template_var 3),
              template_var 2)
            ),
        template_predicate
         (template_app (template_hole 15, template_var 3)),
        template_equation
         (template_app
           (template_app (template_hole 13, t_empty), template_var 4),
          template_hole 12),
        template_predicate (template_app (template_hole 11, t_empty)),
        template_predicate (template_app (template_hole 11, t_empty))],
       template_inequation
        (less_equals,
         template_app
          (template_var 2,
           template_app
            (template_app (template_hole 4, t_empty), template_var 4)),
         template_app
          (template_app (template_hole 2, t_empty), template_var 4))))]
