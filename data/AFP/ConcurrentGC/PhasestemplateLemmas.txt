   [("Phases.no_grey_refs_no_marks",
     "[| no_grey_refs ?s; valid_W_inv ?s |]
      ==> sys_mem_store_buffers ?p ?s ~= mw_Mark ?r ?fl # ?ws",
     template_implication
      ([template_predicate (template_app (template_hole 7, template_var 4)),
        template_predicate
         (template_app (template_hole 6, template_var 4))],
       template_negation
        (
           template_equation
            (template_app
              (template_app
                (template_hole 3,
                 template_app (template_var 4, template_hole 2)),
               template_var 3),
             template_app
              (template_app
                (template_hole 1,
                 template_app
                  (template_app (template_hole 0, template_var 2),
                   template_var 1)),
               template_var 0))
           ))),
    ("Phases.gc_phase_invL_niE",
     "[| gc.phase_invL ?s; AT ?s gc = AT ?s' gc;
         ?s\<down> gc = ?s'\<down> gc;
         filter is_mw_Phase (sys_mem_store_buffers gc ?s\<down>) =
         filter is_mw_Phase (sys_mem_store_buffers gc ?s'\<down>) |]
      ==> gc.phase_invL ?s'",
     template_implication
      ([template_predicate
         (template_app (template_hole 12, template_var 1)),
        template_equation
         (template_app
           (template_app (template_hole 10, template_var 1),
            template_hole 9),
          template_app
           (template_app (template_hole 10, template_var 0),
            template_hole 9)),
        template_equation
         (template_app
           (template_app (template_hole 7, template_var 1),
            template_hole 9),
          template_app
           (template_app (template_hole 7, template_var 0),
            template_hole 9)),
        template_equation
         (template_app
           (template_app (template_hole 5, t_empty),
            template_app
             (template_app
               (template_hole 1,
                template_app
                 (template_app (template_hole 7, template_var 1),
                  template_hole 0)),
              template_hole 9)),
          template_app
           (template_app (template_hole 5, t_empty),
            template_app
             (template_app
               (template_hole 1,
                template_app
                 (template_app (template_hole 7, template_var 0),
                  template_hole 0)),
              template_hole 9)))],
       template_predicate
        (template_app (template_hole 12, template_var 0)))),
    ("Phases.gc_fM_fA_invL_niE",
     "[| gc.fM_fA_invL ?s; AT ?s gc = AT ?s' gc;
         ?s\<down> gc = ?s'\<down> gc; sys_fA ?s\<down> = sys_fA ?s'\<down>;
         sys_fM ?s\<down> = sys_fM ?s'\<down>;
         sys_mem_store_buffers gc ?s\<down> =
         sys_mem_store_buffers gc ?s'\<down> |]
      ==> gc.fM_fA_invL ?s'",
     template_implication
      ([template_predicate
         (template_app (template_hole 11, template_var 1)),
        template_equation
         (template_app
           (template_app (template_hole 9, template_var 1),
            template_hole 8),
          template_app
           (template_app (template_hole 9, template_var 0),
            template_hole 8)),
        template_equation
         (template_app
           (template_app (template_hole 6, template_var 1),
            template_hole 8),
          template_app
           (template_app (template_hole 6, template_var 0),
            template_hole 8)),
        template_equation
         (template_app
           (template_hole 4,
            template_app
             (template_app (template_hole 6, template_var 1),
              template_hole 3)),
          template_app
           (template_hole 4,
            template_app
             (template_app (template_hole 6, template_var 0),
              template_hole 3))),
        template_equation
         (template_app
           (template_hole 2,
            template_app
             (template_app (template_hole 6, template_var 1),
              template_hole 3)),
          template_app
           (template_hole 2,
            template_app
             (template_app (template_hole 6, template_var 0),
              template_hole 3))),
        template_equation
         (template_app
           (template_app
             (template_hole 0,
              template_app
               (template_app (template_hole 6, template_var 1),
                template_hole 3)),
            template_hole 8),
          template_app
           (template_app
             (template_hole 0,
              template_app
               (template_app (template_hole 6, template_var 0),
                template_hole 3)),
            template_hole 8))],
       template_predicate
        (template_app (template_hole 11, template_var 0)))),
    ("Phases.gc_handshake_invL_niE",
     "[| gc.handshake_invL ?s; AT ?s gc = AT ?s' gc;
         ?s\<down> gc = ?s'\<down> gc;
         sys_ghost_hs_phase ?s\<down> = sys_ghost_hs_phase ?s'\<down>;
         hs_pending (?s\<down> sys) = hs_pending (?s'\<down> sys);
         ghost_hs_in_sync (?s\<down> sys) =
         ghost_hs_in_sync (?s'\<down> sys);
         sys_hs_type ?s\<down> = sys_hs_type ?s'\<down> |]
      ==> gc.handshake_invL ?s'",
     template_implication
      ([template_predicate
         (template_app (template_hole 13, template_var 1)),
        template_equation
         (template_app
           (template_app (template_hole 11, template_var 1),
            template_hole 10),
          template_app
           (template_app (template_hole 11, template_var 0),
            template_hole 10)),
        template_equation
         (template_app
           (template_app (template_hole 8, template_var 1),
            template_hole 10),
          template_app
           (template_app (template_hole 8, template_var 0),
            template_hole 10)),
        template_equation
         (template_app
           (template_hole 6,
            template_app
             (template_app (template_hole 8, template_var 1),
              template_hole 5)),
          template_app
           (template_hole 6,
            template_app
             (template_app (template_hole 8, template_var 0),
              template_hole 5))),
        template_equation
         (template_app
           (template_hole 3,
            template_app
             (template_app (template_hole 8, template_var 1),
              template_hole 5)),
          template_app
           (template_hole 3,
            template_app
             (template_app (template_hole 8, template_var 0),
              template_hole 5))),
        template_equation
         (template_app
           (template_hole 2,
            template_app
             (template_app (template_hole 8, template_var 1),
              template_hole 5)),
          template_app
           (template_hole 2,
            template_app
             (template_app (template_hole 8, template_var 0),
              template_hole 5))),
        template_equation
         (template_app
           (template_hole 0,
            template_app
             (template_app (template_hole 8, template_var 1),
              template_hole 5)),
          template_app
           (template_hole 0,
            template_app
             (template_app (template_hole 8, template_var 0),
              template_hole 5)))],
       template_predicate
        (template_app (template_hole 13, template_var 0)))),
    ("Phases.mut_m_handshake_invL_niE",
     "[| mut_m.handshake_invL ?m ?s;
         AT ?s (mutator ?m) = AT ?s' (mutator ?m);
         ?s\<down> (mutator ?m) = ?s'\<down> (mutator ?m);
         sys_hs_type ?s\<down> = sys_hs_type ?s'\<down>;
         sys_hs_pending ?m ?s\<down> = sys_hs_pending ?m ?s'\<down>;
         sys_mem_store_buffers (mutator ?m) ?s\<down> =
         sys_mem_store_buffers (mutator ?m) ?s'\<down> |]
      ==> mut_m.handshake_invL ?m ?s'",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 12, template_var 2),
              template_var 1)
            ),
        template_equation
         (template_app
           (template_app (template_hole 10, template_var 1),
            template_app (template_hole 9, template_var 2)),
          template_app
           (template_app (template_hole 10, template_var 0),
            template_app (template_hole 9, template_var 2))),
        template_equation
         (template_app
           (template_app (template_hole 7, template_var 1),
            template_app (template_hole 9, template_var 2)),
          template_app
           (template_app (template_hole 7, template_var 0),
            template_app (template_hole 9, template_var 2))),
        template_equation
         (template_app
           (template_hole 5,
            template_app
             (template_app (template_hole 7, template_var 1),
              template_hole 4)),
          template_app
           (template_hole 5,
            template_app
             (template_app (template_hole 7, template_var 0),
              template_hole 4))),
        template_equation
         (template_app
           (template_app
             (template_hole 2,
              template_app
               (template_app (template_hole 7, template_var 1),
                template_hole 4)),
            template_var 2),
          template_app
           (template_app
             (template_hole 2,
              template_app
               (template_app (template_hole 7, template_var 0),
                template_hole 4)),
            template_var 2)),
        template_equation
         (template_app
           (template_app
             (template_hole 0,
              template_app
               (template_app (template_hole 7, template_var 1),
                template_hole 4)),
            template_app (template_hole 9, template_var 2)),
          template_app
           (template_app
             (template_hole 0,
              template_app
               (template_app (template_hole 7, template_var 0),
                template_hole 4)),
            template_app (template_hole 9, template_var 2)))],
       template_predicate
        (
           template_app
            (template_app (template_hole 12, template_var 2),
             template_var 0)
           )))]
