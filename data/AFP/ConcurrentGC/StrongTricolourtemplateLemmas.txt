   [("StrongTricolour.no_black_refs_sweep_loop_free",
     "no_black_refs ?s ==>
      no_black_refs
       (?s(sys := ?s sys
             (| heap := (sys_heap ?s)(gc_tmp_ref ?s := None) |)))",
     template_implication
      ([template_predicate
         (template_app (template_hole 8, template_var 0))],
       template_predicate
        (
           template_app
            (template_hole 8,
             template_app
              (template_app
                (template_app (template_hole 7, template_var 0),
                 template_hole 6),
               template_app
                (template_app (template_hole 5, t_empty),
                 template_app (template_var 0, template_hole 6))))
           ))),
    ("StrongTricolour.marked_insertions_sweep_loop_free",
     "[| mut_m.marked_insertions ?m ?s; white ?r ?s |]
      ==> mut_m.marked_insertions ?m
           (?s(sys := ?s sys(| heap := (sys_heap ?s)(?r := None) |)))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 0),
              template_var 1)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 7, template_var 2),
             template_app
              (template_app
                (template_app (template_hole 5, template_var 1),
                 template_hole 4),
               template_app
                (template_app (template_hole 3, t_empty),
                 template_app (template_var 1, template_hole 4))))
           ))),
    ("StrongTricolour.no_black_refs_load_W",
     "[| no_black_refs ?s; gc_W ?s = {} |]
      ==> no_black_refs
           (?s(gc := ?s gc(| W := sys_W ?s |),
               sys := ?s sys(| W := {} |)))",
     template_implication
      ([template_predicate (template_app (template_hole 7, template_var 0)),
        template_equation
         (template_app
           (template_hole 5,
            template_app (template_var 0, template_hole 4)),
          template_hole 3)],
       template_predicate
        (
           template_app
            (template_hole 7,
             template_app
              (template_app
                (template_app
                  (template_hole 2,
                   template_app
                    (template_app
                      (template_app (template_hole 2, template_var 0),
                       template_hole 4),
                     template_app
                      (template_app (template_hole 1, t_empty),
                       template_app (template_var 0, template_hole 4)))),
                 template_hole 0),
               template_app
                (template_app (template_hole 1, t_empty),
                 template_app (template_var 0, template_hole 0))))
           ))),
    ("StrongTricolour.marked_deletions_sweep_loop_free",
     "[| mut_m.marked_deletions ?m ?s; mut_m.reachable_snapshot_inv ?m ?s;
         no_grey_refs ?s; white ?r ?s |]
      ==> mut_m.marked_deletions ?m
           (?s(sys := ?s sys(| heap := (sys_heap ?s)(?r := None) |)))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 9, template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 2),
              template_var 1)
            ),
        template_predicate (template_app (template_hole 7, template_var 1)),
        template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 0),
              template_var 1)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 9, template_var 2),
             template_app
              (template_app
                (template_app (template_hole 5, template_var 1),
                 template_hole 4),
               template_app
                (template_app (template_hole 3, t_empty),
                 template_app (template_var 1, template_hole 4))))
           ))),
    ("StrongTricolour.gc_sweep_loop_invL_niE",
     "[| gc.sweep_loop_invL ?s; AT ?s gc = AT ?s' gc;
         ?s\<down> gc = ?s'\<down> gc; sys_fM ?s\<down> = sys_fM ?s'\<down>;
         map_option obj_mark o sys_heap ?s\<down> =
         map_option obj_mark o sys_heap ?s'\<down> |]
      ==> gc.sweep_loop_invL ?s'",
     template_implication
      ([template_predicate
         (template_app (template_hole 13, template_var 1)),
        template_equation
         (template_app
           (template_app (template_hole 11, template_var 1),
            template_hole 10),
          template_app
           (template_app (template_hole 11, template_var 0),
            template_hole 10)),
        template_equation
         (template_app
           (template_app (template_hole 8, template_var 1),
            template_hole 10),
          template_app
           (template_app (template_hole 8, template_var 0),
            template_hole 10)),
        template_equation
         (template_app
           (template_hole 6,
            template_app
             (template_app (template_hole 8, template_var 1),
              template_hole 5)),
          template_app
           (template_hole 6,
            template_app
             (template_app (template_hole 8, template_var 0),
              template_hole 5))),
        template_equation
         (template_app
           (template_app
             (template_hole 3,
              template_app (template_hole 2, template_hole 1)),
            template_app
             (template_hole 0,
              template_app
               (template_app (template_hole 8, template_var 1),
                template_hole 5))),
          template_app
           (template_app
             (template_hole 3,
              template_app (template_hole 2, template_hole 1)),
            template_app
             (template_hole 0,
              template_app
               (template_app (template_hole 8, template_var 0),
                template_hole 5))))],
       template_predicate
        (template_app (template_hole 13, template_var 0))))]
