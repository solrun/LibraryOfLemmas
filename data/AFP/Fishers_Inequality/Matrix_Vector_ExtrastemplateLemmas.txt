   [("Matrix_Vector_Extras.all_ones_mat_dim_col",
     "dim_col (J\<^sub>m ?n) = ?n",
     template_equation
      (template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)),
       template_var 0)),
    ("Matrix_Vector_Extras.all_ones_mat_dim_row",
     "dim_row (J\<^sub>m ?n) = ?n",
     template_equation
      (template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)),
       template_var 0)),
    ("Matrix_Vector_Extras.dim_vec_all_ones", "dim_vec (u\<^sub>v ?n) = ?n",
     template_equation
      (template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)),
       template_var 0)),
    ("Matrix_Vector_Extras.sum_vec_list",
     "sum_list (list_of_vec ?v) = sum_vec ?v",
     template_equation
      (template_app
        (template_hole 2, template_app (template_hole 1, template_var 0)),
       template_app (template_hole 0, template_var 0))),
    ("Matrix_Vector_Extras.mset_vec_same_size",
     "dim_vec ?v = size (vec_mset ?v)",
     template_equation
      (template_app (template_hole 2, template_var 0),
       template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)))),
    ("Matrix_Vector_Extras.lift_01_mat_simp",
     "dim_col (lift_01_mat ?M) = dim_col ?M",
     template_equation
      (template_app
        (template_hole 2, template_app (template_hole 1, template_var 0)),
       template_app (template_hole 0, template_var 0))),
    ("Matrix_Vector_Extras.lift_01_mat_simp",
     "dim_row (lift_01_mat ?M) = dim_row ?M",
     template_equation
      (template_app
        (template_hole 2, template_app (template_hole 1, template_var 0)),
       template_app (template_hole 0, template_var 0))),
    ("Matrix_Vector_Extras.lift_01_vec_simp",
     "dim_vec (lift_01_vec ?v) = dim_vec ?v",
     template_equation
      (template_app
        (template_hole 2, template_app (template_hole 1, template_var 0)),
       template_app (template_hole 0, template_var 0))),
    ("Matrix_Vector_Extras.transpose_mat_elems",
     "elements_mat ?A = elements_mat ?A\<^sup>T",
     template_equation
      (template_app (template_hole 1, template_var 0),
       template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)))),
    ("Matrix_Vector_Extras.vec_mset_set",
     "set\<^sub>v ?v = set_mset (vec_mset ?v)",
     template_equation
      (template_app (template_hole 2, template_var 0),
       template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)))),
    ("Matrix_Vector_Extras.mset_vec_eq_mset_list",
     "vec_mset ?v = mset (list_of_vec ?v)",
     template_equation
      (template_app (template_hole 2, template_var 0),
       template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)))),
    ("Matrix_Vector_Extras.dim_vec_vCons_ne_0", "0 < dim_vec (vCons ?a ?v)",
     template_inequation
      (less_than, template_hole 2,
       template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Matrix_Vector_Extras.vec_prod_zero",
     "0\<^sub>v ?n \<bullet> 0\<^sub>v ?n = (0::?'a)",
     template_equation
      (template_app
        (template_app
          (template_hole 2, template_app (template_hole 1, template_var 0)),
         template_app (template_hole 1, template_var 0)),
       template_hole 0)),
    ("Matrix_Vector_Extras.dim_vec_mult_vec_mat",
     "dim_vec (?v \<^sub>v* ?A) = dim_col ?A",
     template_equation
      (template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app (template_hole 0, template_var 0))),
    ("Matrix_Vector_Extras.vec_count_lt_dim",
     "count_vec ?v ?a <= dim_vec ?v",
     template_inequation
      (less_equals,
       template_app
        (template_app
          (template_hole 2, template_app (template_hole 1, template_var 1)),
         template_var 0),
       template_app (template_hole 0, template_var 1))),
    ("Matrix_Vector_Extras.lift_01_mat_carrier",
     "lift_01_mat ?M : carrier_mat (dim_row ?M) (dim_col ?M)",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 4,
             template_app (template_hole 3, template_var 0)),
           template_app
            (template_app
              (template_hole 2,
               template_app (template_hole 1, template_var 0)),
             template_app (template_hole 0, template_var 0)))
         )),
    ("Matrix_Vector_Extras.sum_vec_vCons",
     "sum_vec (vCons ?a ?v) = ?a + sum_vec ?v",
     template_equation
      (template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app
        (template_app (template_hole 0, template_var 1),
         template_app (template_hole 2, template_var 0)))),
    ("Matrix_Vector_Extras.count_vec_vNil", "count_vec vNil ?a = 0",
     template_equation
      (template_app
        (template_app
          (template_hole 5,
           template_app
            (template_hole 4,
             template_app
              (template_app (template_hole 3, template_hole 2),
               template_app (template_hole 1, template_hole 0)))),
         template_var 0),
       template_hole 2)),
    ("Matrix_Vector_Extras.map_mat_elements",
     "elements_mat (map_mat ?f ?A) = ?f ` elements_mat ?A",
     template_equation
      (template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 2, template_var 1), template_var 0)),
       template_app
        (template_app (template_hole 1, template_var 1),
         template_app (template_hole 0, template_var 0)))),
    ("Matrix_Vector_Extras.vec_mset_vCons",
     "vec_mset (vCons ?x ?v) = add_mset ?x (vec_mset ?v)",
     template_equation
      (template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_var 1), template_var 0)),
       template_app
        (template_app (template_hole 0, template_var 1),
         template_app (template_hole 2, template_var 0)))),
    ("Matrix_Vector_Extras.sum_vec_mset",
     "sum_vec ?v = (SUM x:#mset (list_of_vec ?v). x)",
     template_equation
      (template_app (template_hole 4, template_var 0),
       template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 2, t_empty),
           template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 0)))))),
    ("Matrix_Vector_Extras.vec_count_eq_list_count",
     "count (mset ?xs) ?a = count_vec (vec_of_list ?xs) ?a",
     template_equation
      (template_app
        (template_app
          (template_hole 3, template_app (template_hole 2, template_var 1)),
         template_var 0),
       template_app
        (template_app
          (template_hole 3,
           template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 1))),
         template_var 0))),
    ("Matrix_Vector_Extras.vec_set_mset_contains_iff",
     "(?a \<in>$ ?v) = (?a :# vec_mset ?v)",
     template_equation
      (template_app
        (template_app (template_hole 3, template_var 1),
         template_app (template_hole 2, template_var 0)),
       template_app
        (template_app (template_hole 3, template_var 1),
         template_app
          (template_hole 1,
           template_app (template_hole 0, template_var 0))))),
    ("Matrix_Vector_Extras.map_vec_mat_cols",
     "map (map_vec ?f) (cols ?M) = cols (map_mat ?f ?M)",
     template_equation
      (template_app
        (template_app
          (template_hole 4, template_app (template_hole 3, template_var 1)),
         template_app (template_hole 2, template_var 0)),
       template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Matrix_Vector_Extras.map_vec_mat_rows",
     "map (map_vec ?f) (rows ?M) = rows (map_mat ?f ?M)",
     template_equation
      (template_app
        (template_app
          (template_hole 4, template_app (template_hole 3, template_var 1)),
         template_app (template_hole 2, template_var 0)),
       template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Matrix_Vector_Extras.vec_mset_img_map",
     "image_mset ?f (mset ?xs) = vec_mset (map_vec ?f (vec_of_list ?xs))",
     template_equation
      (template_app
        (template_app (template_hole 4, template_var 1),
         template_app (template_hole 3, template_var 0)),
       template_app
        (template_hole 2,
         template_app
          (template_app (template_hole 1, template_var 1),
           template_app (template_hole 0, template_var 0))))),
    ("Matrix_Vector_Extras.vec_contains_count_gt1_iff",
     "(?a \<in>$ ?v) = (1 <= count_vec ?v ?a)",
     template_equation
      (template_app
        (template_app (template_hole 5, template_var 1),
         template_app (template_hole 4, template_var 0)),
       template_app
        (template_app (template_hole 3, template_hole 2),
         template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 0)),
           template_var 1)))),
    ("Matrix_Vector_Extras.map_mat_compose",
     "map_mat ?f (map_mat ?g ?A) = map_mat (?f o ?g) ?A",
     template_equation
      (template_app
        (template_app (template_hole 3, template_var 2),
         template_app
          (template_app (template_hole 2, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1)),
         template_var 0))),
    ("Matrix_Vector_Extras.map_vec_compose",
     "map_vec ?f (map_vec ?g ?v) = map_vec (?f o ?g) ?v",
     template_equation
      (template_app
        (template_app (template_hole 3, template_var 2),
         template_app
          (template_app (template_hole 2, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1)),
         template_var 0))),
    ("Matrix_Vector_Extras.all_ones_index",
     "?i < ?n ==> u\<^sub>v ?n $ ?i = (1::?'a)",
     template_implication
      ([template_inequation (less_than, template_var 1, template_var 0)],
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 0)),
           template_var 1),
         template_hole 0))),
    ("Matrix_Vector_Extras.setv_vec_mset_not_in_iff",
     "(?a ~: set\<^sub>v ?v) = (?a ~:# vec_mset ?v)",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app (template_hole 3, template_var 1),
           template_app (template_hole 2, template_var 0))),
       template_app
        (template_hole 4,
         template_app
          (template_app (template_hole 3, template_var 1),
           template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 0)))))),
    ("Matrix_Vector_Extras.setv_not_in_count0_iff",
     "(?a ~: set\<^sub>v ?v) = (count_vec ?v ?a = 0)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 6,
              template_app
               (template_app (template_hole 5, template_var 1),
                template_app (template_hole 4, template_var 0)))
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 1, template_var 0)),
           template_var 1),
         template_hole 0))),
    ("Matrix_Vector_Extras.map_vec_vCons",
     "vCons (?f ?a) (map_vec ?f ?v) = map_vec ?f (vCons ?a ?v)",
     template_equation
      (template_app
        (template_app
          (template_hole 2, template_app (template_var 2, template_var 1)),
         template_app
          (template_app (template_hole 1, template_var 2), template_var 0)),
       template_app
        (template_app (template_hole 1, template_var 2),
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Matrix_Vector_Extras.count_vec_empty",
     "dim_vec ?v = 0 ==> count_vec ?v ?a = 0",
     template_implication
      ([template_equation
         (template_app (template_hole 3, template_var 1), template_hole 2)],
       template_equation
        (template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 1)),
           template_var 0),
         template_hole 2))),
    ("Matrix_Vector_Extras.setv_col_subset_mat_elems",
     "?v : set (cols ?M) ==> set\<^sub>v ?v <= elements_mat ?M",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 1),
              template_app
               (template_hole 4,
                template_app (template_hole 3, template_var 0)))
            )],
       template_inequation
        (less_equals, template_app (template_hole 1, template_var 1),
         template_app (template_hole 0, template_var 0)))),
    ("Matrix_Vector_Extras.setv_row_subset_mat_elems",
     "?v : set (rows ?M) ==> set\<^sub>v ?v <= elements_mat ?M",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 1),
              template_app
               (template_hole 4,
                template_app (template_hole 3, template_var 0)))
            )],
       template_inequation
        (less_equals, template_app (template_hole 1, template_var 1),
         template_app (template_hole 0, template_var 0)))),
    ("Matrix_Vector_Extras.count_vec_alt_list",
     "count_vec ?v ?a = length (filter ((=) ?a) (list_of_vec ?v))",
     template_equation
      (template_app
        (template_app
          (template_hole 5, template_app (template_hole 4, template_var 1)),
         template_var 0),
       template_app
        (template_hole 3,
         template_app
          (template_app (template_hole 2, t_empty),
           template_app (template_hole 0, template_var 1))))),
    ("Matrix_Vector_Extras.all_ones_vec_smult",
     "?i < ?n ==> (?k \<cdot>\<^sub>v u\<^sub>v ?n) $ ?i = ?k",
     template_implication
      ([template_inequation (less_than, template_var 2, template_var 1)],
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_var 0),
               template_app (template_hole 0, template_var 1))),
           template_var 2),
         template_var 0))),
    ("Matrix_Vector_Extras.col_elems_subset_mat",
     "?i < dim_col ?N ==> set\<^sub>v (col ?N ?i) <= elements_mat ?N",
     template_implication
      ([template_inequation
         (less_than, template_var 1,
          template_app (template_hole 4, template_var 0))],
       template_inequation
        (less_equals,
         template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 1, template_var 0),
             template_var 1)),
         template_app (template_hole 0, template_var 0)))),
    ("Matrix_Vector_Extras.row_elems_subset_mat",
     "?i < dim_row ?N ==> set\<^sub>v (row ?N ?i) <= elements_mat ?N",
     template_implication
      ([template_inequation
         (less_than, template_var 1,
          template_app (template_hole 4, template_var 0))],
       template_inequation
        (less_equals,
         template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 1, template_var 0),
             template_var 1)),
         template_app (template_hole 0, template_var 0)))),
    ("Matrix_Vector_Extras.vCons_set_contains_in",
     "?a \<in>$ ?v ==> set\<^sub>v (vCons ?a ?v) = set\<^sub>v ?v",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 1),
              template_app (template_hole 2, template_var 0))
            )],
       template_equation
        (template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 0)),
         template_app (template_hole 2, template_var 0)))),
    ("Matrix_Vector_Extras.vec_contains_img",
     "?a \<in>$ ?v ==> ?f ?a \<in>$ map_vec ?f ?v",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 2),
              template_app (template_hole 3, template_var 1))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 2,
               template_app (template_var 0, template_var 2)),
             template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 0),
                 template_var 1)))
           ))),
    ("Matrix_Vector_Extras.mset_cols_index_map",
     "image_mset (col ?M) (mset_set {0..<dim_col ?M}) = mset (cols ?M)",
     template_equation
      (template_app
        (template_app (template_hole 7, t_empty),
         template_app
          (template_hole 5,
           template_app
            (template_app (template_hole 4, template_hole 3),
             template_app (template_hole 2, template_var 0)))),
       template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)))),
    ("Matrix_Vector_Extras.mset_rows_index_map",
     "image_mset (row ?M) (mset_set {0..<dim_row ?M}) = mset (rows ?M)",
     template_equation
      (template_app
        (template_app (template_hole 7, t_empty),
         template_app
          (template_hole 5,
           template_app
            (template_app (template_hole 4, template_hole 3),
             template_app (template_hole 2, template_var 0)))),
       template_app
        (template_hole 1, template_app (template_hole 0, template_var 0)))),
    ("Matrix_Vector_Extras.lift_01_vec_simp",
     "?i < dim_vec ?v ==> lift_01_vec ?v $ ?i = of_zero_neq_one (?v $ ?i)",
     template_implication
      ([template_inequation
         (less_than, template_var 1,
          template_app (template_hole 5, template_var 0))],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app (template_hole 2, template_var 0)),
           template_var 1),
         template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 0),
             template_var 1))))),
    ("Matrix_Vector_Extras.vec_elem_exists_mset",
     "(EX i:{..<dim_vec ?v}. ?v $ i = ?x) = (?x :# vec_mset ?v)",
     template_equation
      (template_app
        (template_app
          (template_hole 7,
           template_app
            (template_hole 6,
             template_app (template_hole 5, template_var 1))),
         t_empty),
       template_app
        (template_app (template_hole 2, template_var 0),
         template_app
          (template_hole 1,
           template_app (template_hole 0, template_var 1))))),
    ("Matrix_Vector_Extras.sum_count_vec",
     "finite (set\<^sub>v ?v) ==>
      sum (count_vec ?v) (set\<^sub>v ?v) = dim_vec ?v",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 6,
              template_app (template_hole 5, template_var 0))
            )],
       template_equation
        (template_app
          (template_app (template_hole 3, t_empty),
           template_app (template_hole 5, template_var 0)),
         template_app (template_hole 0, template_var 0)))),
    ("Matrix_Vector_Extras.row_map_mat",
     "?i < dim_row ?A ==> row (map_mat ?f ?A) ?i = map_vec ?f (row ?A ?i)",
     template_implication
      ([template_inequation
         (less_than, template_var 2,
          template_app (template_hole 5, template_var 1))],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app (template_hole 2, template_var 0),
               template_var 1)),
           template_var 2),
         template_app
          (template_app (template_hole 1, template_var 0),
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 2))))),
    ("Matrix_Vector_Extras.index_mult_vec_mat",
     "?j < dim_col ?A ==> (?v \<^sub>v* ?A) $ ?j = ?v \<bullet> col ?A ?j",
     template_implication
      ([template_inequation
         (less_than, template_var 2,
          template_app (template_hole 5, template_var 1))],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app (template_hole 2, template_var 0),
               template_var 1)),
           template_var 2),
         template_app
          (template_app (template_hole 1, template_var 0),
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 2))))),
    ("Matrix_Vector_Extras.count_vec_alt",
     "count_vec ?v ?x = card {i. ?v $ i = ?x & i < dim_vec ?v}",
     template_equation
      (template_app
        (template_app
          (template_hole 8, template_app (template_hole 7, template_var 1)),
         template_var 0),
       template_app
        (template_hole 6, template_app (template_hole 5, t_empty)))),
    ("Matrix_Vector_Extras.vCons_set_contains_add",
     "?a ~: set\<^sub>v ?v ==>
      set\<^sub>v (vCons ?a ?v) = set\<^sub>v ?v Un {?a}",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 6, template_var 1),
                  template_app (template_hole 5, template_var 0))
                )
            )],
       template_equation
        (template_app
          (template_hole 5,
           template_app
            (template_app (template_hole 3, template_var 1),
             template_var 0)),
         template_app
          (template_app
            (template_hole 2,
             template_app (template_hole 5, template_var 0)),
           template_app
            (template_app (template_hole 1, template_var 1),
             template_hole 0))))),
    ("Matrix_Vector_Extras.count_vec_count_mset",
     "vec_mset ?v = image_mset ?f ?A ==>
      count_vec ?v ?a = count (image_mset ?f ?A) ?a",
     template_implication
      ([template_equation
         (template_app (template_hole 3, template_var 3),
          template_app
           (template_app (template_hole 2, template_var 2),
            template_var 1))],
       template_equation
        (template_app
          (template_app
            (template_hole 0,
             template_app (template_hole 3, template_var 3)),
           template_var 0),
         template_app
          (template_app
            (template_hole 0,
             template_app
              (template_app (template_hole 2, template_var 2),
               template_var 1)),
           template_var 0)))),
    ("Matrix_Vector_Extras.count_vec_sum_ones_alt",
     "set\<^sub>v ?v <= {0::?'a, 1::?'a} ==>
      of_nat (count_vec ?v (1::?'a)) = sum_vec ?v",
     template_implication
      ([template_inequation
         (less_equals, template_app (template_hole 9, template_var 0),
          template_app
           (template_app (template_hole 8, template_hole 7),
            template_app
             (template_app (template_hole 8, template_hole 6),
              template_hole 5)))],
       template_equation
        (template_app
          (template_hole 3,
           template_app
            (template_app
              (template_hole 2,
               template_app (template_hole 1, template_var 0)),
             template_hole 6)),
         template_app (template_hole 0, template_var 0)))),
    ("Matrix_Vector_Extras.elem_exists_count_min",
     "EX i:{..<dim_vec ?v}. ?v $ i = ?x ==> 1 <= count_vec ?v ?x",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 8,
                template_app
                 (template_hole 7,
                  template_app (template_hole 6, template_var 1))),
              t_empty)
            )],
       template_inequation
        (less_equals, template_hole 2,
         template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 1)),
           template_var 0)))),
    ("Matrix_Vector_Extras.vec_contains_row_elements_mat",
     "[| ?i < dim_row ?M; ?a \<in>$ row ?M ?i |] ==> ?a : elements_mat ?M",
     template_implication
      ([template_inequation
         (less_than, template_var 2,
          template_app (template_hole 4, template_var 1)),
        template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 0),
              template_app
               (template_hole 2,
                template_app
                 (template_app (template_hole 1, template_var 1),
                  template_var 2)))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 3, template_var 0),
             template_app (template_hole 0, template_var 1))
           ))),
    ("Matrix_Vector_Extras.vec_contains_col_elements_mat",
     "[| ?j < dim_col ?M; ?a \<in>$ col ?M ?j |] ==> ?a : elements_mat ?M",
     template_implication
      ([template_inequation
         (less_than, template_var 2,
          template_app (template_hole 4, template_var 1)),
        template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 0),
              template_app
               (template_hole 2,
                template_app
                 (template_app (template_hole 1, template_var 1),
                  template_var 2)))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 3, template_var 0),
             template_app (template_hole 0, template_var 1))
           ))),
    ("Matrix_Vector_Extras.set_cols_carrier",
     "[| ?A : carrier_mat ?m ?n; ?v : set (cols ?A) |]
      ==> ?v : carrier_vec ?m",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 3),
              template_app
               (template_app (template_hole 4, template_var 2),
                template_var 1))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 0),
              template_app
               (template_hole 2,
                template_app (template_hole 1, template_var 3)))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 3, template_var 0),
             template_app (template_hole 0, template_var 2))
           ))),
    ("Matrix_Vector_Extras.sum_count_vec_subset",
     "[| finite ?A; set\<^sub>v ?v <= ?A |]
      ==> sum (count_vec ?v) ?A = dim_vec ?v",
     template_implication
      ([template_predicate (template_app (template_hole 7, template_var 1)),
        template_inequation
         (less_equals, template_app (template_hole 5, template_var 0),
          template_var 1)],
       template_equation
        (template_app
          (template_app (template_hole 3, t_empty), template_var 1),
         template_app (template_hole 0, template_var 0)))),
    ("Matrix_Vector_Extras.count_vec_vCons",
     "count_vec (vCons ?aa ?v) ?a =
      (if ?aa = ?a then count_vec ?v ?a + 1 else count_vec ?v ?a)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 6,
                template_app
                 (template_hole 5,
                  template_app
                   (template_app (template_hole 4, template_var 2),
                    template_var 1))),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 3,
                 template_app
                  (template_app (template_hole 2, template_var 2),
                   template_var 0)),
               template_app
                (template_app
                  (template_hole 1,
                   template_app
                    (template_app
                      (template_hole 6,
                       template_app (template_hole 5, template_var 1)),
                     template_var 0)),
                 template_hole 0)),
             template_app
              (template_app
                (template_hole 6,
                 template_app (template_hole 5, template_var 1)),
               template_var 0))
           ))),
    ("Matrix_Vector_Extras.sum_vec_one_zero",
     "(!!i. i < dim_vec ?v ==> ?v $ i <= 1) ==>
      sum_vec ?v <= int (dim_vec ?v)",
     template_implication
      ([template_predicate (template_app (template_hole 8, t_empty))],
       template_inequation
        (less_equals, template_app (template_hole 1, template_var 0),
         template_app
          (template_hole 0,
           template_app (template_hole 5, template_var 0))))),
    ("Matrix_Vector_Extras.all_ones_mat_index",
     "[| ?i < dim_row (J\<^sub>m ?n); ?j < dim_col (J\<^sub>m ?n) |]
      ==> J\<^sub>m ?n $$ (?i, ?j) = (1::?'c)",
     template_implication
      ([template_inequation
         (less_than, template_var 2,
          template_app
           (template_hole 8,
            template_app (template_hole 7, template_var 1))),
        template_inequation
         (less_than, template_var 0,
          template_app
           (template_hole 6,
            template_app (template_hole 5, template_var 1)))],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app (template_hole 2, template_var 1)),
           template_app
            (template_app (template_hole 1, template_var 2),
             template_var 0)),
         template_hole 0))),
    ("Matrix_Vector_Extras.col_prop_cond",
     "[| !!j. j < dim_col ?M ==> ?P (col ?M j); ?c : set (cols ?M) |]
      ==> ?P ?c",
     template_implication
      ([template_predicate (template_app (template_hole 7, t_empty)),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 0),
              template_app
               (template_hole 1,
                template_app (template_hole 0, template_var 2)))
            )],
       template_predicate (template_app (template_var 1, template_var 0)))),
    ("Matrix_Vector_Extras.row_prop_cond",
     "[| !!i. i < dim_row ?M ==> ?P (row ?M i); ?r : set (rows ?M) |]
      ==> ?P ?r",
     template_implication
      ([template_predicate (template_app (template_hole 7, t_empty)),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 0),
              template_app
               (template_hole 1,
                template_app (template_hole 0, template_var 2)))
            )],
       template_predicate (template_app (template_var 1, template_var 0)))),
    ("Matrix_Vector_Extras.lift_01_mat_simp",
     "[| ?i < dim_row ?M; ?j < dim_col ?M |]
      ==> lift_01_mat ?M $$ (?i, ?j) = of_zero_neq_one (?M $$ (?i, ?j))",
     template_implication
      ([template_inequation
         (less_than, template_var 2,
          template_app (template_hole 7, template_var 1)),
        template_inequation
         (less_than, template_var 0,
          template_app (template_hole 6, template_var 1))],
       template_equation
        (template_app
          (template_app
            (template_hole 4,
             template_app (template_hole 3, template_var 1)),
           template_app
            (template_app (template_hole 2, template_var 2),
             template_var 0)),
         template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 1),
             template_app
              (template_app (template_hole 2, template_var 2),
               template_var 0)))))),
    ("Matrix_Vector_Extras.vec_contains_obtains_index",
     "[| ?a \<in>$ ?v; !!i. [| i < dim_vec ?v; ?v $ i = ?a |] ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 2),
              template_app (template_hole 5, template_var 1))
            ),
        template_predicate (template_app (template_hole 4, t_empty))],
       template_predicate (template_var 0))),
    ("Matrix_Vector_Extras.sum_setv_subset_eq",
     "[| finite ?A; set\<^sub>v ?v <= ?A |]
      ==> sum (count_vec ?v) (set\<^sub>v ?v) = sum (count_vec ?v) ?A",
     template_implication
      ([template_predicate (template_app (template_hole 6, template_var 1)),
        template_inequation
         (less_equals, template_app (template_hole 4, template_var 0),
          template_var 1)],
       template_equation
        (template_app
          (template_app (template_hole 2, t_empty),
           template_app (template_hole 4, template_var 0)),
         template_app
          (template_app (template_hole 2, t_empty), template_var 1)))),
    ("Matrix_Vector_Extras.obtain_col_index",
     "[| ?c : set (cols ?M);
         !!j. [| col ?M j = ?c; j < dim_col ?M |] ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 2),
              template_app
               (template_hole 6,
                template_app (template_hole 5, template_var 1)))
            ),
        template_predicate (template_app (template_hole 4, t_empty))],
       template_predicate (template_var 0))),
    ("Matrix_Vector_Extras.obtain_row_index",
     "[| ?r : set (rows ?M);
         !!i. [| row ?M i = ?r; i < dim_row ?M |] ==> ?thesis |]
      ==> ?thesis",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 2),
              template_app
               (template_hole 6,
                template_app (template_hole 5, template_var 1)))
            ),
        template_predicate (template_app (template_hole 4, t_empty))],
       template_predicate (template_var 0))),
    ("Matrix_Vector_Extras.count_vec_sum_ones",
     "(!!i. i < dim_vec ?v ==> ?v $ i = (1::?'a) | ?v $ i = (0::?'a)) ==>
      of_nat (count_vec ?v (1::?'a)) = sum_vec ?v",
     template_implication
      ([template_predicate (template_app (template_hole 12, t_empty))],
       template_equation
        (template_app
          (template_hole 3,
           template_app
            (template_app
              (template_hole 2,
               template_app (template_hole 1, template_var 0)),
             template_hole 5)),
         template_app (template_hole 0, template_var 0)))),
    ("Matrix_Vector_Extras.lift_01_vec_count",
     "[| set\<^sub>v ?v <= {0::?'a, 1::?'a}; ?x : {0::?'a, 1::?'a} |]
      ==> count_vec ?v ?x =
          count_vec (lift_01_vec ?v) (of_zero_neq_one ?x)",
     template_implication
      ([template_inequation
         (less_equals, template_app (template_hole 12, template_var 1),
          template_app
           (template_app (template_hole 11, template_hole 10),
            template_app
             (template_app (template_hole 11, template_hole 9),
              template_hole 8))),
        template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 0),
              template_app
               (template_app (template_hole 11, template_hole 10),
                template_app
                 (template_app (template_hole 11, template_hole 9),
                  template_hole 8)))
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 5,
             template_app (template_hole 4, template_var 1)),
           template_var 0),
         template_app
          (template_app
            (template_hole 3,
             template_app
              (template_hole 2,
               template_app (template_hole 1, template_var 1))),
           template_app (template_hole 0, template_var 0))))),
    ("Matrix_Vector_Extras.count_vec_sum_zeros",
     "(!!i. i < dim_vec ?v ==> ?v $ i = (1::?'a) | ?v $ i = (0::?'a)) ==>
      of_nat (count_vec ?v (0::?'a)) = of_nat (dim_vec ?v) - sum_vec ?v",
     template_implication
      ([template_predicate (template_app (template_hole 13, t_empty))],
       template_equation
        (template_app
          (template_hole 4,
           template_app
            (template_app
              (template_hole 3,
               template_app (template_hole 2, template_var 0)),
             template_hole 5)),
         template_app
          (template_app
            (template_hole 1,
             template_app
              (template_hole 4,
               template_app (template_hole 10, template_var 0))),
           template_app (template_hole 0, template_var 0))))),
    ("Matrix_Vector_Extras.count_vec_two_elems",
     "(!!i. i < dim_vec ?v ==> ?v $ i = (1::?'a) | ?v $ i = (0::?'a)) ==>
      count_vec ?v (1::?'a) + count_vec ?v (0::?'a) = dim_vec ?v",
     template_implication
      ([template_predicate (template_app (template_hole 12, t_empty))],
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app
                (template_hole 1,
                 template_app (template_hole 0, template_var 0)),
               template_hole 5)),
           template_app
            (template_app
              (template_hole 1,
               template_app (template_hole 0, template_var 0)),
             template_hole 4)),
         template_app (template_hole 9, template_var 0)))),
    ("Matrix_Vector_Extras.sum_vec_vCons_lt",
     "[| !!i. i < dim_vec (vCons ?a ?v) ==> vCons ?a ?v $ i <= ?n;
         sum_vec ?v <= ?m |]
      ==> sum_vec (vCons ?a ?v) <= ?n + ?m",
     template_implication
      ([template_predicate (template_app (template_hole 8, t_empty)),
        template_inequation
         (less_equals, template_app (template_hole 1, template_var 2),
          template_var 0)],
       template_inequation
        (less_equals,
         template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 4, template_var 3),
             template_var 2)),
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Matrix_Vector_Extras.smult_scalar_prod_sum",
     "[| ?vx : carrier_vec ?n; ?vy : carrier_vec ?n |]
      ==> (SUM i = 0..<?n.
           (?x \<cdot>\<^sub>v ?vx) $ i * (?y \<cdot>\<^sub>v ?vy) $ i) =
          ?x * ?y * (?vx \<bullet> ?vy)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 9, template_var 4),
              template_app (template_hole 8, template_var 3))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 9, template_var 2),
              template_app (template_hole 8, template_var 3))
            )],
       template_equation
        (template_app
          (template_app (template_hole 6, t_empty),
           template_app
            (template_app (template_hole 2, template_hole 1),
             template_var 3)),
         template_app
          (template_app
            (template_hole 5,
             template_app
              (template_app (template_hole 5, template_var 1),
               template_var 0)),
           template_app
            (template_app (template_hole 0, template_var 4),
             template_var 2))))),
    ("Matrix_Vector_Extras.transpose_mat_mult_entries",
     "[| ?i < dim_row ?A; ?j < dim_row ?A |]
      ==> (?A * ?A\<^sup>T) $$ (?i, ?j) =
          (SUM k = 0..<dim_col ?A. ?A $$ (?i, k) * ?A $$ (?j, k))",
     template_implication
      ([template_inequation
         (less_than, template_var 2,
          template_app (template_hole 10, template_var 1)),
        template_inequation
         (less_than, template_var 0,
          template_app (template_hole 10, template_var 1))],
       template_equation
        (template_app
          (template_app
            (template_hole 8,
             template_app
              (template_app (template_hole 7, template_var 1),
               template_app (template_hole 6, template_var 1))),
           template_app
            (template_app (template_hole 5, template_var 2),
             template_var 0)),
         template_app
          (template_app (template_hole 4, t_empty),
           template_app
            (template_app (template_hole 2, template_hole 1),
             template_app (template_hole 0, template_var 1)))))),
    ("Matrix_Vector_Extras.index_to_col_card_size_prop",
     "[| ?i < dim_row ?M; !!j. j < dim_col ?M ==> ?P j = ?Q (col ?M j) |]
      ==> card {j. j < dim_col ?M & ?P j} =
          size (filter_mset ?Q (mset (cols ?M)))",
     template_implication
      ([template_inequation
         (less_than, template_var 3,
          template_app (template_hole 12, template_var 2)),
        template_predicate (template_app (template_hole 11, t_empty))],
       template_equation
        (template_app
          (template_hole 6, template_app (template_hole 5, t_empty)),
         template_app
          (template_hole 3,
           template_app
            (template_app (template_hole 2, t_empty),
             template_app
              (template_hole 1,
               template_app (template_hole 0, template_var 2))))))),
    ("Matrix_Vector_Extras.index_to_row_card_size_prop",
     "[| ?j < dim_col ?M; !!i. i < dim_row ?M ==> ?P i = ?Q (row ?M i) |]
      ==> card {i. i < dim_row ?M & ?P i} =
          size (filter_mset ?Q (mset (rows ?M)))",
     template_implication
      ([template_inequation
         (less_than, template_var 3,
          template_app (template_hole 12, template_var 2)),
        template_predicate (template_app (template_hole 11, t_empty))],
       template_equation
        (template_app
          (template_hole 6, template_app (template_hole 5, t_empty)),
         template_app
          (template_hole 3,
           template_app
            (template_app (template_hole 2, t_empty),
             template_app
              (template_hole 1,
               template_app (template_hole 0, template_var 2))))))),
    ("Matrix_Vector_Extras.scalar_prod_double_sum_fn_vec",
     "(!!j. j < ?k ==> dim_vec (?f j) = ?n) ==>
      vec ?n (%i. SUM j = 0..<?k. ?c j * ?f j $ i) \<bullet>
      vec ?n (%i. SUM j = 0..<?k. ?c j * ?f j $ i) =
      (SUM j1 = 0..<?k. ?c j1 * ?c j1 * (?f j1 \<bullet> ?f j1)) +
      (SUM j1 = 0..<?k.
       SUM j2:{0..<?k} - {j1}. ?c j1 * ?c j2 * (?f j1 \<bullet> ?f j2))",
     template_implication
      ([template_predicate (template_app (template_hole 16, t_empty))],
       template_equation
        (template_app
          (template_app
            (template_hole 10,
             template_app
              (template_app (template_hole 9, template_var 1), t_empty)),
           template_app
            (template_app (template_hole 9, template_var 1), t_empty)),
         template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app (template_hole 8, t_empty),
               template_app
                (template_app (template_hole 5, template_hole 4),
                 template_var 3))),
           template_app
            (template_app (template_hole 8, t_empty),
             template_app
              (template_app (template_hole 5, template_hole 4),
               template_var 3))))))]
