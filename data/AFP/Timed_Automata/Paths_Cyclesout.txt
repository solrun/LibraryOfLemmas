Loading theory "Draft.Floyd_Warshall" (required by "Draft.Paths_CyclesMoreTemplates" via "Draft.Paths_Cycles")
Loading theory "Draft.Timed_Automata" (required by "Draft.Paths_CyclesMoreTemplates" via "Draft.Paths_Cycles")
Loading theory "HOL-Library.Function_Algebras" (required by "Draft.Paths_CyclesMoreTemplates" via "Draft.ExtrEqs" via "HOL-Library.BigO")
Loading theory "HOL-Library.Nat_Bijection" (required by "Draft.Paths_CyclesMoreTemplates" via "Draft.ExtrEqs" via "HOL-Library.Stream")
instantiation
  fun :: (type, plus) plus
  plus_fun == plus :: ('a => 'b) => ('a => 'b) => 'a => 'b
instantiation
  fun :: (type, zero) zero
  zero_fun == zero_class.zero :: 'a => 'b
instantiation
  fun :: (type, times) times
  times_fun == times :: ('a => 'b) => ('a => 'b) => 'a => 'b
instantiation
  fun :: (type, one) one
  one_fun == one_class.one :: 'a => 'b
Found termination order: "(%p. size (snd p)) <*mlex*> {}"
### theory "HOL-Library.Function_Algebras"
### 0.130s elapsed time, 0.538s cpu time, 0.046s GC time
Loading theory "HOL-Library.Set_Algebras" (required by "Draft.Paths_CyclesMoreTemplates" via "Draft.ExtrEqs" via "HOL-Library.BigO")
instantiation
  set :: (plus) plus
  plus_set == plus :: 'a set => 'a set => 'a set
instantiation
  set :: (times) times
  times_set == times :: 'a set => 'a set => 'a set
instantiation
  set :: (zero) zero
  zero_set == zero_class.zero :: 'a set
instantiation
  set :: (one) one
  one_set == one_class.one :: 'a set
Found termination order: "(%p. length (fst p)) <*mlex*> {}"
Found termination order: "size_list size <*mlex*> {}"
### theory "HOL-Library.Set_Algebras"
### 0.200s elapsed time, 0.787s cpu time, 0.064s GC time
Loading theory "HOL-Library.Tree" (required by "Draft.Paths_CyclesMoreTemplates" via "Draft.ExtrEqs" via "Draft.Templates")
Found termination order: "(%p. length (fst p)) <*mlex*> {}"
### theory "HOL-Library.Nat_Bijection"
### 0.395s elapsed time, 1.585s cpu time, 0.110s GC time
Loading theory "HOL-Library.Stream" (required by "Draft.Paths_CyclesMoreTemplates" via "Draft.ExtrEqs")
Found termination order: "(%p. length (fst p)) <*mlex*> {}"
class time = linordered_ab_group_add +
  assumes "dense": "!!x y. x < y ==> EX z>x. z < y"
  assumes "non_trivial": "EX x. x ~= (0::'a)"
consts
  shift :: "'a list => 'a stream => 'a stream"
Proofs for coinductive predicate(s) "streamsp"
class linordered_ab_monoid_add = linordered_ab_semigroup_add +
  fixes neutral :: "'a"
  assumes "neutl": "!!x. \<one> + x = x"
  assumes "neutr": "!!x. x + \<one> = x"
  Proving monotonicity ...
consts
  left :: "'a tree => 'a tree"
consts
  right :: "'a tree => 'a tree"
consts
  snth :: "'a stream => nat => 'a"
Found termination order: "size <*mlex*> {}"
consts
  stake :: "nat => 'a stream => 'a list"
consts
  sdrop :: "nat => 'a stream => 'a stream"
Found termination order: "size <*mlex*> {}"
consts
  sfilter :: "('a => bool) => 'a stream => 'a stream"
consts
  cycle :: "'a list => 'a stream"
Found termination order: "size <*mlex*> {}"
consts
  siterate :: "('a => 'a) => 'a => 'a stream"
class height = type +
  fixes height :: "'a => nat"
instantiation
  tree :: (type) height
  height_tree == height :: 'a tree => nat
consts
  flat :: "'a list stream => 'a stream"
Found termination order: "size <*mlex*> {}"
consts
  sinterleave :: "'a stream => 'a stream => 'a stream"
consts
  szip :: "'a stream => 'b stream => ('a * 'b) stream"
Found termination order: "size <*mlex*> {}"
consts
  smap2 :: "('a => 'b => 'c) => 'a stream => 'b stream => 'c stream"
### theory "HOL-Library.Stream"
### 1.129s elapsed time, 4.268s cpu time, 0.941s GC time
Loading theory "HOL-Library.BigO" (required by "Draft.Paths_CyclesMoreTemplates" via "Draft.ExtrEqs")
Found termination order: "size <*mlex*> {}"
Found termination order:
  "(%p. size (fst (snd (snd p)))) <*mlex*>
   (%p. size (fst (snd (snd (snd p))))) <*mlex*>
   (%p. size (snd (snd (snd (snd p))))) <*mlex*> {}"
Found termination order: "size <*mlex*> {}"
Found termination order: "size <*mlex*> {}"
Found termination order: "size <*mlex*> {}"
Found termination order: "size <*mlex*> {}"
Found termination order: "(%p. size (fst p)) <*mlex*> {}"
Found termination order: "size <*mlex*> {}"
Found termination order: "(%p. size (snd p)) <*mlex*> {}"
Found termination order: "size <*mlex*> {}"
Found termination order:
  "(%p. size_list size (snd (snd (snd p)))) <*mlex*> {}"
Found termination order: "size <*mlex*> {}"
Found termination order: "size <*mlex*> {}"
Proofs for inductive predicate(s) "valid_abstraction"
### theory "HOL-Library.BigO"
### 0.854s elapsed time, 3.349s cpu time, 0.285s GC time
  Proving monotonicity ...
"as @ x # bs @ x # cs @ x # ds"
  :: "'a list"
Proofs for inductive predicate(s) "clock_val"
  Proving monotonicity ...
### theory "HOL-Library.Tree"
### 2.221s elapsed time, 8.431s cpu time, 1.292s GC time
Loading theory "Draft.Templates" (required by "Draft.Paths_CyclesMoreTemplates" via "Draft.ExtrEqs")
Found termination order: "(%p. length (fst p)) <*mlex*> {}"
Proofs for inductive predicate(s) "step_t"
  Proving monotonicity ...
datatype template_term
=
     t_empty
   | template_app of template_term * template_term
   | template_hole of int
   | template_var of int
datatype sign
= equals | greater_equals | greater_than | less_equals | less_than
datatype template
=
     template_bimplication of template * template
   | template_dunno
   | template_equation of template_term * template_term
   | template_implication of template list * template
   | template_inequation of sign * template_term * template_term
   | template_negation of template
   | template_predicate of template_term
constructor t_empty: template_term
constructor template_app: template_term * template_term -> template_term
constructor template_hole: int -> template_term
constructor template_var: int -> template_term
constructor equals: sign
constructor greater_equals: sign
constructor greater_than: sign
constructor less_equals: sign
constructor less_than: sign
constructor template_bimplication: template * template -> template
constructor template_dunno: template
constructor template_equation: template_term * template_term -> template
constructor template_implication: template list * template -> template
constructor template_inequation:
   sign * template_term * template_term -> template
constructor template_negation: template -> template
constructor template_predicate: template_term -> template
val vfs = fn: term -> (indexname * typ) list * (string * typ) list
val indexOf = fn: ''a list -> ''a -> int -> int
val has_eq = fn: term -> bool
val term2template = fn:
   (indexname * typ) list -> (string * typ) list -> term -> template_term
val lemma2predicate = fn: term -> term -> template
val makeTemplatewithContext = fn: term -> term -> template
val lemma2template = fn: term -> template
val thm2template = fn: thm -> template
val tterm2string = fn: template_term -> string
val template2string = fn: template -> string
val t = "height ?t <= size ?t": thm
val th =
   Const ("HOL.Trueprop", "bool => prop") $
     (Const ("Orderings.ord_class.less_eq", "nat => nat => bool") $
       (Const ("Tree.height_class.height", "?'a tree => nat") $
         Var (("t", 0), "?'a tree")) $
       (Const ("Nat.size_class.size", "?'a tree => nat") $
         Var (("t", 0), "?'a tree"))):
   term
### theory "Draft.Templates"
### 0.064s elapsed time, 0.190s cpu time, 0.000s GC time
Loading theory "Draft.ExtrEqs" (required by "Draft.Paths_CyclesMoreTemplates")
Proofs for inductive predicate(s) "step_a"
  Proving monotonicity ...
Proofs for inductive predicate(s) "step"
  Proving monotonicity ...
Proofs for inductive predicate(s) "steps"
  Proving monotonicity ...
Proofs for inductive predicate(s) "step_z"
  Proving monotonicity ...
Proofs for inductive predicate(s) "steps_z"
  Proving monotonicity ...
### theory "Draft.Timed_Automata"
### 2.924s elapsed time, 10.896s cpu time, 1.509s GC time
### theory "Draft.Floyd_Warshall"
### 3.010s elapsed time, 10.983s cpu time, 1.509s GC time
Loading theory "Draft.Paths_Cycles" (required by "Draft.Paths_CyclesMoreTemplates")
val eqpattern =
   Pattern
    (
       Const ("HOL.Trueprop", "bool => prop") $
         (Const ("HOL.eq", "?'a => ?'a => bool") $
           Var (("_dummy_", 1), "?'a") $ Var (("_dummy_", 2), "?'a"))
       ):
   term Find_Theorems.criterion
val badeqpattern = Pattern (Const ("Pure.eq", "?'a => ?'a => prop")):
   term Find_Theorems.criterion
val undefpattern =
   Pattern
    (
       Const ("HOL.Trueprop", "bool => prop") $
         (Const ("HOL.eq", "?'a => ?'a => bool") $
           Var (("_dummy_", 1), "?'a") $ Const ("HOL.undefined", "?'a"))
       ):
   term Find_Theorems.criterion
val thmpattern =
   Pattern
    (Const ("HOL.Trueprop", "bool => prop") $ Var (("_dummy_", 1), "bool")):
   term Find_Theorems.criterion
val badnames =
   ["*nitpick*", "*Nitpick*", "*full_exhaustive*", "*_def*", "Enum.finite*",
    "*Quickcheck*", "ATP*", "*Nunchaku*", "*Code*", "*BNF*", "*SMT*",
    "*.*.*"]:
   string list
val unwanted_names =
   [(false, Name "*nitpick*"), (false, Name "*Nitpick*"),
    (false, Name "*full_exhaustive*"), (false, Name "*_def*"),
    (false, Name "Enum.finite*"), (false, Name "*Quickcheck*"),
    (false, Name "ATP*"), (false, Name "*Nunchaku*"),
    (false, Name "*Code*"), (false, Name "*BNF*"), (false, Name "*SMT*"),
    (false, Name "*.*.*")]:
   (bool * term Find_Theorems.criterion) list
val has_vars = fn: term -> bool
val get_all_eqs = fn: string -> Proof.context -> (string * thm) list
val get_all_thms = fn: string -> Proof.context -> (string * thm) list
val get_noneq_thms = fn: string -> Proof.context -> (string * thm) list
val template_eqs = fn:
   string -> Proof.context -> (string * thm * template) list
val template_thms = fn:
   string -> Proof.context -> (string * thm * template) list
### theory "Draft.ExtrEqs"
### 0.634s elapsed time, 1.680s cpu time, 0.178s GC time
Found termination order: "(%p. size_list size (snd (snd p))) <*mlex*> {}"
Found termination order: "(%p. length (snd p)) <*mlex*> {}"
[| (?a, ?b) : set (arcs ?i ?j ?xs); ?b ~= ?j |]
==> EX c. ?xs = [?b] & ?a = ?i |
          (EX ys. ?xs = ?b # c # ys & ?a = ?i) |
          (EX ys. ?xs = ys @ [?a, ?b] & c = ?j) |
          (EX ys zs. ?xs = ys @ ?a # ?b # c # zs)
### theory "Draft.Paths_Cycles"
### 0.714s elapsed time, 1.101s cpu time, 0.189s GC time
Loading theory "Draft.Paths_CyclesMoreTemplates"
val templateLemmas =
   [("Paths_Cycles.cycle_free_0_0", "cycle_free ?M ?n ==> \<one> <= ?M 0 0",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 1),
              template_var 0)
            )],
       template_inequation
        (less_equals, template_hole 1,
         template_app
          (template_app (template_var 1, template_hole 0),
           template_hole 0)))),
    ("Paths_Cycles.arcs_ex_head", "EX b. (?i, b) : set (arcs ?i ?j ?xs)",
     template_predicate (template_app (template_hole 4, t_empty))),
    ("Paths_Cycles.add_mono_left", "?a <= ?b ==> ?a + ?c <= ?b + ?c",
     template_implication
      ([template_inequation (less_equals, template_var 2, template_var 1)],
       template_inequation
        (less_equals,
         template_app
          (template_app (template_hole 0, template_var 2), template_var 0),
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Paths_Cycles.add_mono_right", "?c <= ?d ==> ?a + ?c <= ?a + ?d",
     template_implication
      ([template_inequation (less_equals, template_var 2, template_var 1)],
       template_inequation
        (less_equals,
         template_app
          (template_app (template_hole 0, template_var 0), template_var 2),
         template_app
          (template_app (template_hole 0, template_var 0),
           template_var 1)))),
    ("Paths_Cycles.arcs_ex_middle",
     "EX b. (?a, b) : set (arcs ?i ?j (?ys @ ?a # ?xs))",
     template_predicate (template_app (template_hole 6, t_empty))),
    ("Paths_Cycles.list_last", "?xs = [] | (EX y ys. ?xs = ys @ [y])",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 6,
             template_app
              (template_app (template_hole 5, template_var 0),
               template_hole 4)),
           template_app (template_hole 3, t_empty))
         )),
    ("Paths_Cycles.successive_stepI",
     "[| successive ?P ?xs; ~ ?P ?x |] ==> successive ?P (?x # ?xs)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 2),
              template_var 1)
            ),
        template_negation
         (
            template_predicate
             (template_app (template_var 2, template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 2, template_var 2),
             template_app
              (template_app (template_hole 0, template_var 0),
               template_var 1))
           ))),
    ("Paths_Cycles.successive_step",
     "[| successive ?P (?x # ?xs); ~ ?P ?x |] ==> successive ?P ?xs",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 2),
              template_app
               (template_app (template_hole 1, template_var 1),
                template_var 0))
            ),
        template_negation
         (
            template_predicate
             (template_app (template_var 2, template_var 1))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 2, template_var 2), template_var 0)
           ))),
    ("Paths_Cycles.arcs_elem",
     "(?a, ?b) : set (arcs ?i ?j ?xs) ==> ?a : set (?i # ?xs)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 6,
                template_app
                 (template_app (template_hole 5, template_var 4),
                  template_var 3)),
              template_app
               (template_hole 4,
                template_app
                 (template_app
                   (template_app (template_hole 3, template_var 2),
                    template_var 1),
                  template_var 0)))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 2, template_var 4),
             template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 2),
                 template_var 0)))
           ))),
    ("Paths_Cycles.arcs_elem",
     "(?a, ?b) : set (arcs ?i ?j ?xs) ==> ?b : set (?j # ?xs)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 6,
                template_app
                 (template_app (template_hole 5, template_var 4),
                  template_var 3)),
              template_app
               (template_hole 4,
                template_app
                 (template_app
                   (template_app (template_hole 3, template_var 2),
                    template_var 1),
                  template_var 0)))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 2, template_var 3),
             template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 0)))
           ))),
    ("Paths_Cycles.successive_end_1",
     "[| successive ?P ?xs; ~ ?P ?x |] ==> successive ?P (?xs @ [?x])",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 2),
              template_var 1)
            ),
        template_negation
         (
            template_predicate
             (template_app (template_var 2, template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 4, template_var 2),
             template_app
              (template_app (template_hole 2, template_var 1),
               template_app
                (template_app (template_hole 1, template_var 0),
                 template_hole 0)))
           ))),
    ("Paths_Cycles.successive_step_rev",
     "[| successive ?P (?xs @ [?x]); ~ ?P ?x |] ==> successive ?P ?xs",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 2),
              template_app
               (template_app (template_hole 3, template_var 1),
                template_app
                 (template_app (template_hole 2, template_var 0),
                  template_hole 1)))
            ),
        template_negation
         (
            template_predicate
             (template_app (template_var 2, template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 4, template_var 2), template_var 1)
           ))),
    ("Paths_Cycles.successive_step_2",
     "[| successive ?P (?x # ?y # ?xs); ~ ?P ?y |] ==> successive ?P ?xs",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 3),
              template_app
               (template_app (template_hole 1, template_var 2),
                template_app
                 (template_app (template_hole 1, template_var 1),
                  template_var 0)))
            ),
        template_negation
         (
            template_predicate
             (template_app (template_var 3, template_var 1))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 2, template_var 3), template_var 0)
           ))),
    ("Paths_Cycles.successive_snd_last",
     "[| successive ?P (?xs @ [?x, ?y]); ?P ?y |] ==> ~ ?P ?x",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 3),
              template_app
               (template_app (template_hole 3, template_var 2),
                template_app
                 (template_app (template_hole 2, template_var 1),
                  template_app
                   (template_app (template_hole 2, template_var 0),
                    template_hole 1))))
            ),
        template_predicate (template_app (template_var 3, template_var 0))],
       template_negation
        (
           template_predicate
            (template_app (template_var 3, template_var 1))
           ))),
    ("Paths_Cycles.arcs_decomp_tail",
     "arcs ?j ?l (?ys @ [?i]) = arcs ?j ?i ?ys @ [(?i, ?l)]",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 7, template_var 3), template_var 2),
         template_app
          (template_app (template_hole 6, template_var 1),
           template_app
            (template_app (template_hole 5, template_var 0),
             template_hole 4))),
       template_app
        (template_app
          (template_hole 3,
           template_app
            (template_app
              (template_app (template_hole 7, template_var 3),
               template_var 0),
             template_var 1)),
         template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_var 0),
               template_var 2)),
           template_hole 0)))),
    ("Paths_Cycles.successive_end_2",
     "[| successive ?P ?xs; ~ ?P ?x |] ==> successive ?P (?xs @ [?x, ?y])",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 3),
              template_var 2)
            ),
        template_negation
         (
            template_predicate
             (template_app (template_var 3, template_var 1))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 4, template_var 3),
             template_app
              (template_app (template_hole 2, template_var 2),
               template_app
                (template_app (template_hole 1, template_var 1),
                 template_app
                  (template_app (template_hole 1, template_var 0),
                   template_hole 0))))
           ))),
    ("Paths_Cycles.successive_split",
     "[| ?xs = ?ys @ ?zs; successive ?P ?xs |]
      ==> successive ?P ?ys & successive ?P ?zs",
     template_implication
      ([template_equation
         (template_var 3,
          template_app
           (template_app (template_hole 2, template_var 2),
            template_var 1)),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 0),
              template_var 3)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 0,
               template_app
                (template_app (template_hole 1, template_var 0),
                 template_var 2)),
             template_app
              (template_app (template_hole 1, template_var 0),
               template_var 1))
           ))),
    ("Paths_Cycles.length_eq_distinct",
     "[| set ?xs = set ?ys; distinct ?xs; length ?xs = length ?ys |]
      ==> distinct ?ys",
     template_implication
      ([template_equation
         (template_app (template_hole 3, template_var 1),
          template_app (template_hole 3, template_var 0)),
        template_predicate (template_app (template_hole 2, template_var 1)),
        template_equation
         (template_app (template_hole 0, template_var 1),
          template_app (template_hole 0, template_var 0))],
       template_predicate
        (template_app (template_hole 2, template_var 0)))),
    ("Paths_Cycles.successive_ends_1",
     "[| successive ?P ?xs; ~ ?P ?x; successive ?P ?ys |]
      ==> successive ?P (?xs @ ?x # ?ys)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 3),
              template_var 2)
            ),
        template_negation
         (
            template_predicate
             (template_app (template_var 3, template_var 1))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 3),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 3, template_var 3),
             template_app
              (template_app (template_hole 1, template_var 2),
               template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 0)))
           ))),
    ("Paths_Cycles.arcs_decomp",
     "?xs = ?ys @ ?y # ?zs ==>
      arcs ?x ?z ?xs = arcs ?x ?y ?ys @ arcs ?y ?z ?zs",
     template_implication
      ([template_equation
         (template_var 5,
          template_app
           (template_app (template_hole 4, template_var 4),
            template_app
             (template_app (template_hole 3, template_var 3),
              template_var 2)))],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 1, template_var 1),
             template_var 0),
           template_var 5),
         template_app
          (template_app
            (template_hole 0,
             template_app
              (template_app
                (template_app (template_hole 1, template_var 1),
                 template_var 3),
               template_var 4)),
           template_app
            (template_app
              (template_app (template_hole 1, template_var 3),
               template_var 0),
             template_var 2))))),
    ("Paths_Cycles.arcs_distinct_dest1",
     "[| distinct (?i # ?a # ?zs); (?b, ?c) : set (arcs ?a ?j ?zs) |]
      ==> ?b ~= ?i",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 7,
              template_app
               (template_app (template_hole 6, template_var 5),
                template_app
                 (template_app (template_hole 6, template_var 4),
                  template_var 3)))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 5,
                template_app
                 (template_app (template_hole 4, template_var 2),
                  template_var 1)),
              template_app
               (template_hole 3,
                template_app
                 (template_app
                   (template_app (template_hole 2, template_var 4),
                    template_var 0),
                  template_var 3)))
            )],
       template_negation
        (template_equation (template_var 2, template_var 5)))),
    ("Paths_Cycles.successive_end_2'",
     "[| successive ?P (?xs @ [?x]); ~ ?P ?x |]
      ==> successive ?P (?xs @ [?x, ?y])",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 3),
              template_app
               (template_app (template_hole 3, template_var 2),
                template_app
                 (template_app (template_hole 2, template_var 1),
                  template_hole 1)))
            ),
        template_negation
         (
            template_predicate
             (template_app (template_var 3, template_var 1))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 4, template_var 3),
             template_app
              (template_app (template_hole 3, template_var 2),
               template_app
                (template_app (template_hole 2, template_var 1),
                 template_app
                  (template_app (template_hole 2, template_var 0),
                   template_hole 1))))
           ))),
    ("Paths_Cycles.successive_successors'",
     "[| ?xs = ?ys @ ?a # ?b # ?zs; successive ?P ?xs |]
      ==> ~ ?P ?a | ~ ?P ?b",
     template_implication
      ([template_equation
         (template_var 5,
          template_app
           (template_app (template_hole 4, template_var 4),
            template_app
             (template_app (template_hole 3, template_var 3),
              template_app
               (template_app (template_hole 3, template_var 2),
                template_var 1)))),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 0),
              template_var 5)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 1,
               template_app
                (template_hole 0,
                 template_app (template_var 0, template_var 3))),
             template_app
              (template_hole 0,
               template_app (template_var 0, template_var 2)))
           ))),
    ("Paths_Cycles.len_add",
     "len ?M ?i ?j ?xs + len ?M ?i ?j ?xs =
      len (%i j. ?M i j + ?M i j) ?i ?j ?xs",
     template_equation
      (template_app
        (template_app
          (template_hole 1,
           template_app
            (template_app
              (template_app
                (template_app (template_hole 0, template_var 3),
                 template_var 2),
               template_var 1),
             template_var 0)),
         template_app
          (template_app
            (template_app
              (template_app (template_hole 0, template_var 3),
               template_var 2),
             template_var 1),
           template_var 0)),
       template_app
        (template_app
          (template_app
            (template_app (template_hole 0, t_empty), template_var 2),
           template_var 1),
         template_var 0))),
    ("Paths_Cycles.arcs_set_elem2",
     "[| ?i ~= ?k; ?k : set (?j # ?xs) |]
      ==> EX l. (l, ?k) : set (arcs ?i ?j ?xs)",
     template_implication
      ([template_negation
         (template_equation (template_var 3, template_var 2)),
        template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 2),
              template_app
               (template_hole 6,
                template_app
                 (template_app (template_hole 5, template_var 1),
                  template_var 0)))
            )],
       template_predicate (template_app (template_hole 4, t_empty)))),
    ("Paths_Cycles.arcs_set_elem1",
     "[| ?j ~= ?k; ?k : set (?i # ?xs) |]
      ==> EX l. (?k, l) : set (arcs ?i ?j ?xs)",
     template_implication
      ([template_negation
         (template_equation (template_var 3, template_var 2)),
        template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 2),
              template_app
               (template_hole 6,
                template_app
                 (template_app (template_hole 5, template_var 1),
                  template_var 0)))
            )],
       template_predicate (template_app (template_hole 4, t_empty)))),
    ("Paths_Cycles.cycle_free_diag_equiv",
     "(ALL i xs. i <= ?n & set xs <= {0..?n} --> \<one> <= len ?M i i xs) =
      cycle_free ?M ?n",
     template_equation
      (template_app (template_hole 12, t_empty),
       template_app
        (template_app (template_hole 0, template_var 0), template_var 1))),
    ("Paths_Cycles.disjE3",
     "[| ?A | ?B | ?C; ?A ==> ?G; ?B ==> ?G; ?C ==> ?G |] ==> ?G",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 0, template_var 3),
              template_app
               (template_app (template_hole 0, template_var 2),
                template_var 1))
            ),
        template_implication
         ([template_predicate (template_var 3)],
          template_predicate (template_var 0)),
        template_implication
         ([template_predicate (template_var 2)],
          template_predicate (template_var 0)),
        template_implication
         ([template_predicate (template_var 1)],
          template_predicate (template_var 0))],
       template_predicate (template_var 0))),
    ("Paths_Cycles.cycle_free_diag_dest",
     "cycle_free ?M ?n ==>
      ALL i xs. i <= ?n & set xs <= {0..?n} --> \<one> <= len ?M i i xs",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 12, template_var 1),
              template_var 0)
            )],
       template_predicate (template_app (template_hole 11, t_empty)))),
    ("Paths_Cycles.cycle_free_diag_intro",
     "ALL i xs. i <= ?n & set xs <= {0..?n} --> \<one> <= len ?M i i xs ==>
      cycle_free ?M ?n",
     template_implication
      ([template_predicate (template_app (template_hole 12, t_empty))],
       template_predicate
        (
           template_app
            (template_app (template_hole 0, template_var 0), template_var 1)
           ))),
    ("Paths_Cycles.arcs'_decomp",
     "[| 1 < length ?xs; (?i, ?j) : arcs' ?xs |]
      ==> EX zs ys. ?xs = zs @ ?i # ?j # ys",
     template_implication
      ([template_inequation
         (less_than, template_hole 8,
          template_app (template_hole 7, template_var 2)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 6,
                template_app
                 (template_app (template_hole 5, template_var 1),
                  template_var 0)),
              template_app (template_hole 4, template_var 2))
            )],
       template_predicate (template_app (template_hole 3, t_empty)))),
    ("Paths_Cycles.negative_cycle_dest_diag",
     "~ cycle_free ?M ?n ==>
      EX i xs. i <= ?n & set xs <= {0..?n} & len ?M i i xs < \<one>",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 11, template_var 1),
                  template_var 0)
                )
            )],
       template_predicate (template_app (template_hole 10, t_empty)))),
    ("Paths_Cycles.arcs_predecessor",
     "[| (?a, ?b) : set (arcs ?i ?j ?xs); ?a ~= ?i |]
      ==> EX c. (c, ?a) : set (arcs ?i ?j ?xs)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 6,
                template_app
                 (template_app (template_hole 5, template_var 4),
                  template_var 3)),
              template_app
               (template_hole 4,
                template_app
                 (template_app
                   (template_app (template_hole 3, template_var 2),
                    template_var 1),
                  template_var 0)))
            ),
        template_negation
         (template_equation (template_var 4, template_var 2))],
       template_predicate (template_app (template_hole 0, t_empty)))),
    ("Paths_Cycles.arcs_successor",
     "[| (?a, ?b) : set (arcs ?i ?j ?xs); ?b ~= ?j |]
      ==> EX c. (?b, c) : set (arcs ?i ?j ?xs)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 6,
                template_app
                 (template_app (template_hole 5, template_var 4),
                  template_var 3)),
              template_app
               (template_hole 4,
                template_app
                 (template_app
                   (template_app (template_hole 3, template_var 2),
                    template_var 1),
                  template_var 0)))
            ),
        template_negation
         (template_equation (template_var 3, template_var 1))],
       template_predicate (template_app (template_hole 0, t_empty)))),
    ("Paths_Cycles.arcs_distinct_fix",
     "[| distinct (?a # ?x # ?xs @ [?b]);
         (?a, ?c) : set (arcs ?a ?b (?x # ?xs)) |]
      ==> ?c = ?x",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 8,
              template_app
               (template_app (template_hole 7, template_var 4),
                template_app
                 (template_app (template_hole 7, template_var 3),
                  template_app
                   (template_app (template_hole 6, template_var 2),
                    template_app
                     (template_app (template_hole 7, template_var 1),
                      template_hole 5)))))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 4,
                template_app
                 (template_app (template_hole 3, template_var 4),
                  template_var 0)),
              template_app
               (template_hole 2,
                template_app
                 (template_app
                   (template_app (template_hole 1, template_var 4),
                    template_var 1),
                  template_app
                   (template_app (template_hole 7, template_var 3),
                    template_var 2))))
            )],
       template_equation (template_var 0, template_var 3))),
    ("Paths_Cycles.arcs_distinct3",
     "[| distinct (?a # ?b # ?c # ?xs); (?i, ?j) : set (arcs ?a ?b ?xs) |]
      ==> ?i ~= ?c & ?j ~= ?c",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 8,
              template_app
               (template_app (template_hole 7, template_var 5),
                template_app
                 (template_app (template_hole 7, template_var 4),
                  template_app
                   (template_app (template_hole 7, template_var 3),
                    template_var 2))))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 6,
                template_app
                 (template_app (template_hole 5, template_var 1),
                  template_var 0)),
              template_app
               (template_hole 4,
                template_app
                 (template_app
                   (template_app (template_hole 3, template_var 5),
                    template_var 4),
                  template_var 2)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_hole 1,
                 template_app
                  (template_app (template_hole 0, template_var 1),
                   template_var 3))),
             template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 0),
                 template_var 3)))
           ))),
    ("Paths_Cycles.successive_dest_head",
     "[| ?xs = ?w # ?x # ?ys; successive ?P ?xs |]
      ==> successive ?P (?x # ?xs) & ~ ?P ?w | successive ?P ?xs & ~ ?P ?x",
     template_implication
      ([template_equation
         (template_var 4,
          template_app
           (template_app (template_hole 4, template_var 3),
            template_app
             (template_app (template_hole 4, template_var 2),
              template_var 1))),
        template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 0),
              template_var 4)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app
                  (template_hole 1,
                   template_app
                    (template_app (template_hole 3, template_var 0),
                     template_app
                      (template_app (template_hole 4, template_var 2),
                       template_var 4))),
                 template_app
                  (template_hole 0,
                   template_app (template_var 0, template_var 3)))),
             template_app
              (template_app
                (template_hole 1,
                 template_app
                  (template_app (template_hole 3, template_var 0),
                   template_var 4)),
               template_app
                (template_hole 0,
                 template_app (template_var 0, template_var 2))))
           ))),
    ("Paths_Cycles.successive_successors",
     "[| ?xs = ?ys @ ?a # ?b # ?c # ?zs; successive ?P (arcs ?i ?j ?xs) |]
      ==> ~ ?P (?a, ?b) | ~ ?P (?b, ?c)",
     template_implication
      ([template_equation
         (template_var 8,
          template_app
           (template_app (template_hole 6, template_var 7),
            template_app
             (template_app (template_hole 5, template_var 6),
              template_app
               (template_app (template_hole 5, template_var 5),
                template_app
                 (template_app (template_hole 5, template_var 4),
                  template_var 3))))),
        template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 2),
              template_app
               (template_app
                 (template_app (template_hole 3, template_var 1),
                  template_var 0),
                template_var 8))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_hole 1,
                 template_app
                  (template_var 2,
                   template_app
                    (template_app (template_hole 0, template_var 6),
                     template_var 5)))),
             template_app
              (template_hole 1,
               template_app
                (template_var 2,
                 template_app
                  (template_app (template_hole 0, template_var 5),
                   template_var 4))))
           ))),
    ("Paths_Cycles.cycle_rotate_2_aux",
     "[| (?i, ?j) : set (arcs ?a ?b (?xs @ [?c])); (?i, ?j) ~= (?c, ?b) |]
      ==> (?i, ?j) : set (arcs ?a ?c ?xs)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 8,
                template_app
                 (template_app (template_hole 7, template_var 5),
                  template_var 4)),
              template_app
               (template_hole 6,
                template_app
                 (template_app
                   (template_app (template_hole 5, template_var 3),
                    template_var 2),
                  template_app
                   (template_app (template_hole 4, template_var 1),
                    template_app
                     (template_app (template_hole 3, template_var 0),
                      template_hole 2)))))
            ),
        template_negation
         (
            template_equation
             (template_app
               (template_app (template_hole 7, template_var 5),
                template_var 4),
              template_app
               (template_app (template_hole 7, template_var 0),
                template_var 2))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 8,
               template_app
                (template_app (template_hole 7, template_var 5),
                 template_var 4)),
             template_app
              (template_hole 6,
               template_app
                (template_app
                  (template_app (template_hole 5, template_var 3),
                   template_var 0),
                 template_var 1)))
           ))),
    ("Paths_Cycles.cyc_free_diag_dest'",
     "[| ALL i xs. i <= ?n & set xs <= {0..?n} --> \<one> <= len ?m i i xs;
         ?i <= ?n |]
      ==> \<one> <= ?m ?i ?i",
     template_implication
      ([template_predicate (template_app (template_hole 11, t_empty)),
        template_inequation (less_equals, template_var 0, template_var 2)],
       template_inequation
        (less_equals, template_hole 1,
         template_app
          (template_app (template_var 1, template_var 0),
           template_var 0)))),
    ("Paths_Cycles.successive_end_3",
     "[| successive ?P (?xs @ [?x]); ~ ?P ?x; ?P ?y; ~ ?P ?z |]
      ==> successive ?P (?xs @ [?x, ?y, ?z])",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 4, template_var 4),
              template_app
               (template_app (template_hole 3, template_var 3),
                template_app
                 (template_app (template_hole 2, template_var 2),
                  template_hole 1)))
            ),
        template_negation
         (
            template_predicate
             (template_app (template_var 4, template_var 2))
            ),
        template_predicate (template_app (template_var 4, template_var 1)),
        template_negation
         (
            template_predicate
             (template_app (template_var 4, template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 4, template_var 4),
             template_app
              (template_app (template_hole 3, template_var 3),
               template_app
                (template_app (template_hole 2, template_var 2),
                 template_app
                  (template_app (template_hole 2, template_var 1),
                   template_app
                    (template_app (template_hole 2, template_var 0),
                     template_hole 1)))))
           ))),
    ("Paths_Cycles.successive_dest_tail",
     "[| ?xs = ?zs @ [?y, ?z]; successive ?P ?xs |]
      ==> successive ?P (?zs @ [?y]) & ~ ?P ?z |
          successive ?P ?zs & ~ ?P ?y",
     template_implication
      ([template_equation
         (template_var 4,
          template_app
           (template_app (template_hole 6, template_var 3),
            template_app
             (template_app (template_hole 5, template_var 2),
              template_app
               (template_app (template_hole 5, template_var 1),
                template_hole 4)))),
        template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 0),
              template_var 4)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_app
                  (template_hole 1,
                   template_app
                    (template_app (template_hole 3, template_var 0),
                     template_app
                      (template_app (template_hole 6, template_var 3),
                       template_app
                        (template_app (template_hole 5, template_var 2),
                         template_hole 4)))),
                 template_app
                  (template_hole 0,
                   template_app (template_var 0, template_var 1)))),
             template_app
              (template_app
                (template_hole 1,
                 template_app
                  (template_app (template_hole 3, template_var 0),
                   template_var 3)),
               template_app
                (template_hole 0,
                 template_app (template_var 0, template_var 2))))
           ))),
    ("Paths_Cycles.distinct_arcs_ex",
     "[| distinct ?xs; ?i ~: set ?xs; ?xs ~= [] |]
      ==> EX a b. a ~= ?x & (a, b) : set (arcs ?i ?j ?xs)",
     template_implication
      ([template_predicate
         (template_app (template_hole 12, template_var 3)),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 10, template_var 2),
                  template_app (template_hole 9, template_var 3))
                )
            ),
        template_negation
         (template_equation (template_var 3, template_hole 7))],
       template_predicate (template_app (template_hole 6, t_empty)))),
    ("Paths_Cycles.successive_ends_1'",
     "[| successive ?P ?xs; ~ ?P ?x; ?P ?y; ~ ?P ?z; successive ?P ?ys |]
      ==> successive ?P (?xs @ ?x # ?y # ?z # ?ys)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 5),
              template_var 4)
            ),
        template_negation
         (
            template_predicate
             (template_app (template_var 5, template_var 3))
            ),
        template_predicate (template_app (template_var 5, template_var 2)),
        template_negation
         (
            template_predicate
             (template_app (template_var 5, template_var 1))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 3, template_var 5),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 3, template_var 5),
             template_app
              (template_app (template_hole 1, template_var 4),
               template_app
                (template_app (template_hole 0, template_var 3),
                 template_app
                  (template_app (template_hole 0, template_var 2),
                   template_app
                    (template_app (template_hole 0, template_var 1),
                     template_var 0)))))
           ))),
    ("Paths_Cycles.arcs_predecessor'",
     "[| (?a, ?b) : set (arcs ?i ?j (?x # ?xs)); (?a, ?b) ~= (?i, ?x) |]
      ==> EX c. (c, ?a) : set (arcs ?i ?j (?x # ?xs))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 7,
                template_app
                 (template_app (template_hole 6, template_var 5),
                  template_var 4)),
              template_app
               (template_hole 5,
                template_app
                 (template_app
                   (template_app (template_hole 4, template_var 3),
                    template_var 2),
                  template_app
                   (template_app (template_hole 3, template_var 1),
                    template_var 0))))
            ),
        template_negation
         (
            template_equation
             (template_app
               (template_app (template_hole 6, template_var 5),
                template_var 4),
              template_app
               (template_app (template_hole 6, template_var 3),
                template_var 1))
            )],
       template_predicate (template_app (template_hole 0, t_empty)))),
    ("Paths_Cycles.successive_glue",
     "[| successive ?P (?zs @ [?z]); successive ?P (?x # ?xs);
         ~ ?P ?z | ~ ?P ?x |]
      ==> successive ?P (?zs @ [?z] @ ?x # ?xs)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 4),
              template_app
               (template_app (template_hole 4, template_var 3),
                template_app
                 (template_app (template_hole 3, template_var 2),
                  template_hole 2)))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 4),
              template_app
               (template_app (template_hole 3, template_var 1),
                template_var 0))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 1,
                template_app
                 (template_hole 0,
                  template_app (template_var 4, template_var 2))),
              template_app
               (template_hole 0,
                template_app (template_var 4, template_var 1)))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 5, template_var 4),
             template_app
              (template_app (template_hole 4, template_var 3),
               template_app
                (template_app
                  (template_hole 4,
                   template_app
                    (template_app (template_hole 3, template_var 2),
                     template_hole 2)),
                 template_app
                  (template_app (template_hole 3, template_var 1),
                   template_var 0))))
           ))),
    ("Paths_Cycles.aux1",
     "[| ?i <= ?n; ?j <= ?n; set ?xs <= {0..?n};
         (?a, ?b) : set (arcs ?i ?j ?xs) |]
      ==> ?a <= ?n & ?b <= ?n",
     template_implication
      ([template_inequation (less_equals, template_var 5, template_var 4),
        template_inequation (less_equals, template_var 3, template_var 4),
        template_inequation
         (less_equals, template_app (template_hole 7, template_var 2),
          template_app
           (template_app (template_hole 6, template_hole 5),
            template_var 4)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 4,
                template_app
                 (template_app (template_hole 3, template_var 1),
                  template_var 0)),
              template_app
               (template_hole 2,
                template_app
                 (template_app
                   (template_app (template_hole 1, template_var 5),
                    template_var 3),
                  template_var 2)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 0,
               template_app
                (template_app (template_hole 9, template_var 1),
                 template_var 4)),
             template_app
              (template_app (template_hole 9, template_var 0),
               template_var 4))
           ))),
    ("Paths_Cycles.list_two_induct",
     "[| ?P []; !!x. ?P [x];
         !!x1 x2 xs. [| ?P xs; ?P (x2 # xs) |] ==> ?P (x1 # x2 # xs) |]
      ==> ?P ?xs",
     template_implication
      ([template_predicate (template_app (template_var 1, template_hole 3)),
        template_predicate (template_app (template_hole 2, t_empty)),
        template_predicate (template_app (template_hole 2, t_empty))],
       template_predicate (template_app (template_var 1, template_var 0)))),
    ("Paths_Cycles.successive_decomp",
     "[| ?xs = ?x # ?ys @ ?zs @ [?z]; successive ?P ?xs;
         ~ ?P ?x | ~ ?P ?z |]
      ==> successive ?P (?zs @ [?z] @ ?x # ?ys)",
     template_implication
      ([template_equation
         (template_var 5,
          template_app
           (template_app (template_hole 5, template_var 4),
            template_app
             (template_app (template_hole 4, template_var 3),
              template_app
               (template_app (template_hole 4, template_var 2),
                template_app
                 (template_app (template_hole 5, template_var 1),
                  template_hole 3))))),
        template_predicate
         (
            template_app
             (template_app (template_hole 2, template_var 0),
              template_var 5)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 1,
                template_app
                 (template_hole 0,
                  template_app (template_var 0, template_var 4))),
              template_app
               (template_hole 0,
                template_app (template_var 0, template_var 1)))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 2, template_var 0),
             template_app
              (template_app (template_hole 4, template_var 2),
               template_app
                (template_app
                  (template_hole 4,
                   template_app
                    (template_app (template_hole 5, template_var 1),
                     template_hole 3)),
                 template_app
                  (template_app (template_hole 5, template_var 4),
                   template_var 3))))
           ))),
    ("Paths_Cycles.FW_canonical_id", "canonical ?M ?i ==> FW ?M ?i = ?M",
     template_implication
      ([template_predicate (template_app (template_hole 7, t_empty))],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app
                (template_app (template_hole 0, template_var 0),
                 template_var 1),
               template_var 1),
             template_var 1),
           template_var 1),
         template_var 0))),
    ("Paths_Cycles.arcs_distinct2",
     "[| ?i ~: set ?xs; ?j ~: set ?xs; distinct ?xs; ?i ~= ?j;
         (?a, ?b) : set (arcs ?i ?j ?xs) |]
      ==> ?a ~= ?b",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 7, template_var 4),
                  template_app (template_hole 6, template_var 3))
                )
            ),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 7, template_var 2),
                  template_app (template_hole 6, template_var 3))
                )
            ),
        template_predicate (template_app (template_hole 5, template_var 3)),
        template_negation
         (template_equation (template_var 4, template_var 2)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 3,
                template_app
                 (template_app (template_hole 2, template_var 1),
                  template_var 0)),
              template_app
               (template_hole 1,
                template_app
                 (template_app
                   (template_app (template_hole 0, template_var 4),
                    template_var 2),
                  template_var 3)))
            )],
       template_negation
        (template_equation (template_var 1, template_var 0)))),
    ("Paths_Cycles.arcs_distinct1",
     "[| ?i ~: set ?xs; ?j ~: set ?xs; distinct ?xs; ?xs ~= [];
         (?a, ?b) : set (arcs ?i ?j ?xs) |]
      ==> ?a ~= ?b",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 9, template_var 4),
                  template_app (template_hole 8, template_var 3))
                )
            ),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 9, template_var 2),
                  template_app (template_hole 8, template_var 3))
                )
            ),
        template_predicate (template_app (template_hole 7, template_var 3)),
        template_negation
         (template_equation (template_var 3, template_hole 5)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 4,
                template_app
                 (template_app (template_hole 3, template_var 1),
                  template_var 0)),
              template_app
               (template_hole 2,
                template_app
                 (template_app
                   (template_app (template_hole 1, template_var 4),
                    template_var 2),
                  template_var 3)))
            )],
       template_negation
        (template_equation (template_var 1, template_var 0)))),
    ("Paths_Cycles.successive_arcs_extend_last",
     "[| successive ?P (arcs ?i ?j ?xs);
         ~ ?P (?i, hd ?xs) | ~ ?P (last ?xs, ?j); ?xs ~= [] |]
      ==> successive ?P (arcs ?i ?j ?xs @ [(?i, hd ?xs)])",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 11, template_var 3),
              template_app
               (template_app
                 (template_app (template_hole 10, template_var 2),
                  template_var 1),
                template_var 0))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 9,
                template_app
                 (template_hole 8,
                  template_app
                   (template_var 3,
                    template_app
                     (template_app (template_hole 7, template_var 2),
                      template_app (template_hole 6, template_var 0))))),
              template_app
               (template_hole 8,
                template_app
                 (template_var 3,
                  template_app
                   (template_app
                     (template_hole 7,
                      template_app (template_hole 5, template_var 0)),
                    template_var 1))))
            ),
        template_negation
         (template_equation (template_var 0, template_hole 3))],
       template_predicate
        (
           template_app
            (template_app (template_hole 11, template_var 3),
             template_app
              (template_app
                (template_hole 2,
                 template_app
                  (template_app
                    (template_app (template_hole 10, template_var 2),
                     template_var 1),
                   template_var 0)),
               template_app
                (template_app
                  (template_hole 1,
                   template_app
                    (template_app (template_hole 7, template_var 2),
                     template_app (template_hole 6, template_var 0))),
                 template_hole 0)))
           ))),
    ("Paths_Cycles.cyc_free_diag_dest",
     "[| ALL i xs. i <= ?n & set xs <= {0..?n} --> \<one> <= len ?M i i xs;
         ?i <= ?n; set ?xs <= {0..?n} |]
      ==> \<one> <= len ?M ?i ?i ?xs",
     template_implication
      ([template_predicate (template_app (template_hole 11, t_empty)),
        template_inequation (less_equals, template_var 1, template_var 3),
        template_inequation
         (less_equals, template_app (template_hole 5, template_var 0),
          template_app
           (template_app (template_hole 4, template_hole 3),
            template_var 3))],
       template_inequation
        (less_equals, template_hole 1,
         template_app
          (template_app
            (template_app
              (template_app (template_hole 0, template_var 2),
               template_var 1),
             template_var 1),
           template_var 0)))),
    ("Paths_Cycles.cycle_rotate",
     "[| 1 < length ?xs; (?i, ?j) : arcs' ?xs |]
      ==> EX ys zs.
             len ?M ?a ?a ?xs = len ?M ?i ?i (?j # ys @ ?a # zs) &
             ?xs = zs @ ?i # ?j # ys",
     template_implication
      ([template_inequation
         (less_than, template_hole 11,
          template_app (template_hole 10, template_var 4)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 9,
                template_app
                 (template_app (template_hole 8, template_var 3),
                  template_var 2)),
              template_app (template_hole 7, template_var 4))
            )],
       template_predicate (template_app (template_hole 6, t_empty)))),
    ("Paths_Cycles.cycle_rotate_arcs",
     "[| 1 < length ?xs; (?i, ?j) : arcs' ?xs |]
      ==> EX ys zs.
             set (arcs ?a ?a ?xs) = set (arcs ?i ?i (?j # ys @ ?a # zs)) &
             ?xs = zs @ ?i # ?j # ys",
     template_implication
      ([template_inequation
         (less_than, template_hole 12,
          template_app (template_hole 11, template_var 3)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 10,
                template_app
                 (template_app (template_hole 9, template_var 2),
                  template_var 1)),
              template_app (template_hole 8, template_var 3))
            )],
       template_predicate (template_app (template_hole 7, t_empty)))),
    ("Paths_Cycles.cycle_rotate_2",
     "[| ?xs ~= []; (?i, ?j) : set (arcs ?a ?a ?xs) |]
      ==> EX ys.
             len ?M ?a ?a ?xs = len ?M ?i ?i (?j # ys) &
             set ys <= set (?a # ?xs) & length ys < length ?xs",
     template_implication
      ([template_negation
         (template_equation (template_var 4, template_hole 13)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 12,
                template_app
                 (template_app (template_hole 11, template_var 3),
                  template_var 2)),
              template_app
               (template_hole 10,
                template_app
                 (template_app
                   (template_app (template_hole 9, template_var 1),
                    template_var 1),
                  template_var 4)))
            )],
       template_predicate (template_app (template_hole 8, t_empty)))),
    ("Paths_Cycles.diag_cyc_free_neutral",
     "[| ALL i xs. i <= ?n & set xs <= {0..?n} --> \<one> <= len ?M i i xs;
         ALL k<=?n. ?M k k <= \<one> |]
      ==> ALL i<=?n. ?M i i = \<one>",
     template_implication
      ([template_predicate (template_app (template_hole 12, t_empty)),
        template_predicate (template_app (template_hole 12, t_empty))],
       template_predicate (template_app (template_hole 12, t_empty)))),
    ("Paths_Cycles.fw_canonical",
     "cycle_free ?m ?n ==> canonical (FW ?m ?n) ?n",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 1),
              template_var 0)
            )],
       template_predicate (template_app (template_hole 6, t_empty)))),
    ("Paths_Cycles.FW_cyc_free_preservation",
     "ALL i xs. i <= ?n & set xs <= {0..?n} --> \<one> <= len ?m i i xs ==>
      ALL i xs.
         i <= ?n & set xs <= {0..?n} --> \<one> <= len (FW ?m ?n) i i xs",
     template_implication
      ([template_predicate (template_app (template_hole 12, t_empty))],
       template_predicate (template_app (template_hole 12, t_empty)))),
    ("Paths_Cycles.FW_diag_neutral_preservation",
     "[| ALL i<=?n. ?M i i = \<one>;
         ALL i xs.
            i <= ?n & set xs <= {0..?n} --> \<one> <= len ?M i i xs |]
      ==> ALL i<=?n. FW ?M ?n i i = \<one>",
     template_implication
      ([template_predicate (template_app (template_hole 13, t_empty)),
        template_predicate (template_app (template_hole 13, t_empty))],
       template_predicate (template_app (template_hole 13, t_empty)))),
    ("Paths_Cycles.fw_upd_canonical_id",
     "[| canonical ?M ?n; ?i <= ?n; ?j <= ?n; ?k <= ?n |]
      ==> fw_upd ?M ?k ?i ?j = ?M",
     template_implication
      ([template_predicate (template_app (template_hole 7, t_empty)),
        template_inequation (less_equals, template_var 2, template_var 4),
        template_inequation (less_equals, template_var 1, template_var 4),
        template_inequation (less_equals, template_var 0, template_var 4)],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app (template_hole 0, template_var 3),
               template_var 0),
             template_var 2),
           template_var 1),
         template_var 3))),
    ("Paths_Cycles.fw_canonical_id",
     "[| canonical ?M ?n; ?i <= ?n; ?j <= ?n; ?k <= ?n |]
      ==> fw ?M ?n ?k ?i ?j = ?M",
     template_implication
      ([template_predicate (template_app (template_hole 7, t_empty)),
        template_inequation (less_equals, template_var 2, template_var 4),
        template_inequation (less_equals, template_var 1, template_var 4),
        template_inequation (less_equals, template_var 0, template_var 4)],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app
                (template_app (template_hole 0, template_var 3),
                 template_var 4),
               template_var 0),
             template_var 2),
           template_var 1),
         template_var 3))),
    ("Paths_Cycles.arcs_cases'",
     "[| (?a, ?b) : set (arcs ?i ?j ?xs); ?xs ~= [] |]
      ==> (EX ys. ?xs = ?b # ys & ?a = ?i) |
          (EX ys. ?xs = ys @ [?a] & ?b = ?j) |
          (EX ys zs. ?xs = ys @ ?a # ?b # zs)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 12,
                template_app
                 (template_app (template_hole 11, template_var 4),
                  template_var 3)),
              template_app
               (template_hole 10,
                template_app
                 (template_app
                   (template_app (template_hole 9, template_var 2),
                    template_var 1),
                  template_var 0)))
            ),
        template_negation
         (template_equation (template_var 0, template_hole 6))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 5, template_app (template_hole 4, t_empty)),
             template_app
              (template_app
                (template_hole 5, template_app (template_hole 4, t_empty)),
               template_app (template_hole 4, t_empty)))
           ))),
    ("Paths_Cycles.canonical_len",
     "[| canonical ?M ?n; ?i <= ?n; ?j <= ?n; set ?xs <= {0..?n} |]
      ==> ?M ?i ?j <= len ?M ?i ?j ?xs",
     template_implication
      ([template_predicate (template_app (template_hole 10, t_empty)),
        template_inequation (less_equals, template_var 2, template_var 4),
        template_inequation (less_equals, template_var 1, template_var 4),
        template_inequation
         (less_equals, template_app (template_hole 3, template_var 0),
          template_app
           (template_app (template_hole 2, template_hole 1),
            template_var 4))],
       template_inequation
        (less_equals,
         template_app
          (template_app (template_var 3, template_var 2), template_var 1),
         template_app
          (template_app
            (template_app
              (template_app (template_hole 0, template_var 3),
               template_var 2),
             template_var 1),
           template_var 0)))),
    ("Paths_Cycles.successive_glue'",
     "[| successive ?P (?zs @ [?y]) & ~ ?P ?z | successive ?P ?zs & ~ ?P ?y;
         successive ?P (?x # ?xs) & ~ ?P ?w | successive ?P ?xs & ~ ?P ?x;
         ~ ?P ?z | ~ ?P ?w |]
      ==> successive ?P (?zs @ ?y # ?z # ?w # ?x # ?xs)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 6,
                template_app
                 (template_app
                   (template_hole 5,
                    template_app
                     (template_app (template_hole 4, template_var 6),
                      template_app
                       (template_app (template_hole 3, template_var 5),
                        template_app
                         (template_app (template_hole 2, template_var 4),
                          template_hole 1)))),
                  template_app
                   (template_hole 0,
                    template_app (template_var 6, template_var 3)))),
              template_app
               (template_app
                 (template_hole 5,
                  template_app
                   (template_app (template_hole 4, template_var 6),
                    template_var 5)),
                template_app
                 (template_hole 0,
                  template_app (template_var 6, template_var 4))))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 6,
                template_app
                 (template_app
                   (template_hole 5,
                    template_app
                     (template_app (template_hole 4, template_var 6),
                      template_app
                       (template_app (template_hole 2, template_var 2),
                        template_var 1))),
                  template_app
                   (template_hole 0,
                    template_app (template_var 6, template_var 0)))),
              template_app
               (template_app
                 (template_hole 5,
                  template_app
                   (template_app (template_hole 4, template_var 6),
                    template_var 1)),
                template_app
                 (template_hole 0,
                  template_app (template_var 6, template_var 2))))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 6,
                template_app
                 (template_hole 0,
                  template_app (template_var 6, template_var 3))),
              template_app
               (template_hole 0,
                template_app (template_var 6, template_var 0)))
            )],
       template_predicate
        (
           template_app
            (template_app (template_hole 4, template_var 6),
             template_app
              (template_app (template_hole 3, template_var 5),
               template_app
                (template_app (template_hole 2, template_var 4),
                 template_app
                  (template_app (template_hole 2, template_var 3),
                   template_app
                    (template_app (template_hole 2, template_var 0),
                     template_app
                      (template_app (template_hole 2, template_var 2),
                       template_var 1))))))
           ))),
    ("Paths_Cycles.cycle_rotate_len_arcs",
     "[| 1 < length ?xs; (?i, ?j) : arcs' ?xs |]
      ==> EX ys zs.
             len ?M ?a ?a ?xs = len ?M ?i ?i (?j # ys @ ?a # zs) &
             set (arcs ?a ?a ?xs) = set (arcs ?i ?i (?j # ys @ ?a # zs)) &
             ?xs = zs @ ?i # ?j # ys",
     template_implication
      ([template_inequation
         (less_than, template_hole 14,
          template_app (template_hole 13, template_var 4)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 12,
                template_app
                 (template_app (template_hole 11, template_var 3),
                  template_var 2)),
              template_app (template_hole 10, template_var 4))
            )],
       template_predicate (template_app (template_hole 9, t_empty)))),
    ("Paths_Cycles.cycle_rotate_2'",
     "[| ?xs ~= []; (?i, ?j) : set (arcs ?a ?a ?xs) |]
      ==> EX ys.
             len ?M ?a ?a ?xs = len ?M ?i ?i (?j # ys) &
             set (?i # ?j # ys) = set (?a # ?xs) &
             1 + length ys = length ?xs &
             set (arcs ?a ?a ?xs) = set (arcs ?i ?i (?j # ys))",
     template_implication
      ([template_negation
         (template_equation (template_var 4, template_hole 16)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 15,
                template_app
                 (template_app (template_hole 14, template_var 3),
                  template_var 2)),
              template_app
               (template_hole 13,
                template_app
                 (template_app
                   (template_app (template_hole 12, template_var 1),
                    template_var 1),
                  template_var 4)))
            )],
       template_predicate (template_app (template_hole 11, t_empty)))),
    ("Paths_Cycles.arcs_predecessor''",
     "[| (?a, ?b) : set (arcs ?i ?j ?xs); ?a ~= ?i |]
      ==> EX c. ?xs = [?a] |
                (EX ys. ?xs = ?a # ?b # ys) |
                (EX ys. ?xs = ys @ [c, ?a] & ?b = ?j) |
                (EX ys zs. ?xs = ys @ c # ?a # ?b # zs)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 13,
                template_app
                 (template_app (template_hole 12, template_var 4),
                  template_var 3)),
              template_app
               (template_hole 11,
                template_app
                 (template_app
                   (template_app (template_hole 10, template_var 2),
                    template_var 1),
                  template_var 0)))
            ),
        template_negation
         (template_equation (template_var 4, template_var 2))],
       template_predicate (template_app (template_hole 7, t_empty)))),
    ("Paths_Cycles.D_cycle_free_len_dest",
     "[| cycle_free ?m ?n; ALL i<=?n. ALL j<=?n. D ?m i j ?n = ?m' i j;
         ?i <= ?n; ?j <= ?n; set ?xs <= {0..?n} |]
      ==> EX ys. set ys <= {0..?n} & len ?m' ?i ?j ?xs = len ?m ?i ?j ys",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 12, template_var 5),
              template_var 4)
            ),
        template_predicate (template_app (template_hole 11, t_empty)),
        template_inequation (less_equals, template_var 2, template_var 4),
        template_inequation (less_equals, template_var 1, template_var 4),
        template_inequation
         (less_equals, template_app (template_hole 5, template_var 0),
          template_app
           (template_app (template_hole 4, template_hole 3),
            template_var 4))],
       template_predicate (template_app (template_hole 2, t_empty)))),
    ("Paths_Cycles.arcs_cases",
     "[| (?a, ?b) : set (arcs ?i ?j ?xs); ?xs ~= [] |]
      ==> (EX ys. ?xs = ?b # ys & ?a = ?i) |
          (EX ys. ?xs = ys @ [?a] & ?b = ?j) |
          (EX c d ys. (?a, ?b) : set (arcs c d ys) & ?xs = c # ys @ [d])",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 13,
                template_app
                 (template_app (template_hole 12, template_var 4),
                  template_var 3)),
              template_app
               (template_hole 11,
                template_app
                 (template_app
                   (template_app (template_hole 10, template_var 2),
                    template_var 1),
                  template_var 0)))
            ),
        template_negation
         (template_equation (template_var 0, template_hole 7))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 6, template_app (template_hole 5, t_empty)),
             template_app
              (template_app
                (template_hole 6, template_app (template_hole 5, t_empty)),
               template_app (template_hole 0, t_empty)))
           ))),
    ("Paths_Cycles.D_cyc_free_preservation",
     "[| ALL i xs. i <= ?n & set xs <= {0..?n} --> \<one> <= len ?m i i xs;
         ALL i<=?n. ALL j<=?n. D ?m i j ?n = ?m' i j |]
      ==> ALL i xs.
             i <= ?n & set xs <= {0..?n} --> \<one> <= len ?m' i i xs",
     template_implication
      ([template_predicate (template_app (template_hole 13, t_empty)),
        template_predicate (template_app (template_hole 13, t_empty))],
       template_predicate (template_app (template_hole 13, t_empty)))),
    ("Paths_Cycles.arcs_successor'",
     "[| (?a, ?b) : set (arcs ?i ?j ?xs); ?b ~= ?j |]
      ==> EX c. ?xs = [?b] & ?a = ?i |
                (EX ys. ?xs = ?b # c # ys & ?a = ?i) |
                (EX ys. ?xs = ys @ [?a, ?b] & c = ?j) |
                (EX ys zs. ?xs = ys @ ?a # ?b # c # zs)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 13,
                template_app
                 (template_app (template_hole 12, template_var 4),
                  template_var 3)),
              template_app
               (template_hole 11,
                template_app
                 (template_app
                   (template_app (template_hole 10, template_var 2),
                    template_var 1),
                  template_var 0)))
            ),
        template_negation
         (template_equation (template_var 3, template_var 1))],
       template_predicate (template_app (template_hole 7, t_empty)))),
    ("Paths_Cycles.successive_successor",
     "[| (?a, ?b) : set (arcs ?i ?j ?xs); ?b ~= ?j;
         successive ?P (arcs ?i ?j ?xs); ?P (?a, ?b); ?xs ~= [] |]
      ==> EX c. (?xs = [?b] & c = ?j |
                 (EX ys. ?xs = ?b # c # ys) |
                 (EX ys. ?xs = ys @ [?a, ?b] & c = ?j) |
                 (EX ys zs. ?xs = ys @ ?a # ?b # c # zs)) &
                ~ ?P (?b, c)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 14,
                template_app
                 (template_app (template_hole 13, template_var 5),
                  template_var 4)),
              template_app
               (template_hole 12,
                template_app
                 (template_app
                   (template_app (template_hole 11, template_var 3),
                    template_var 2),
                  template_var 1)))
            ),
        template_negation
         (template_equation (template_var 4, template_var 2)),
        template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 0),
              template_app
               (template_app
                 (template_app (template_hole 11, template_var 3),
                  template_var 2),
                template_var 1))
            ),
        template_predicate
         (
            template_app
             (template_var 0,
              template_app
               (template_app (template_hole 13, template_var 5),
                template_var 4))
            ),
        template_negation
         (template_equation (template_var 1, template_hole 6))],
       template_predicate (template_app (template_hole 5, t_empty)))),
    ("Paths_Cycles.cycle_rotate_3",
     "[| ?xs ~= []; (?i, ?j) : set (arcs ?a ?a ?xs);
         successive ?P (arcs ?a ?a ?xs);
         ~ ?P (?a, hd ?xs) | ~ ?P (last ?xs, ?a) |]
      ==> EX ys.
             len ?M ?a ?a ?xs = len ?M ?i ?i (?j # ys) &
             set (?i # ?j # ys) = set (?a # ?xs) &
             1 + length ys = length ?xs &
             set (arcs ?a ?a ?xs) = set (arcs ?i ?i (?j # ys)) &
             successive ?P (arcs ?i ?i (?j # ys))",
     template_implication
      ([template_negation
         (template_equation (template_var 5, template_hole 20)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 19,
                template_app
                 (template_app (template_hole 18, template_var 4),
                  template_var 3)),
              template_app
               (template_hole 17,
                template_app
                 (template_app
                   (template_app (template_hole 16, template_var 2),
                    template_var 2),
                  template_var 5)))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 15, template_var 1),
              template_app
               (template_app
                 (template_app (template_hole 16, template_var 2),
                  template_var 2),
                template_var 5))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 14,
                template_app
                 (template_hole 22,
                  template_app
                   (template_var 1,
                    template_app
                     (template_app (template_hole 18, template_var 2),
                      template_app (template_hole 13, template_var 5))))),
              template_app
               (template_hole 22,
                template_app
                 (template_var 1,
                  template_app
                   (template_app
                     (template_hole 18,
                      template_app (template_hole 12, template_var 5)),
                    template_var 2))))
            )],
       template_predicate (template_app (template_hole 11, t_empty)))),
    ("Paths_Cycles.cycle_rotate_len_arcs_successive",
     "[| 1 < length ?xs; (?i, ?j) : arcs' ?xs;
         successive ?P (arcs ?a ?a ?xs);
         ~ ?P (?a, hd ?xs) | ~ ?P (last ?xs, ?a) |]
      ==> EX ys zs.
             len ?M ?a ?a ?xs = len ?M ?i ?i (?j # ys @ ?a # zs) &
             set (arcs ?a ?a ?xs) = set (arcs ?i ?i (?j # ys @ ?a # zs)) &
             ?xs = zs @ ?i # ?j # ys &
             successive ?P (arcs ?i ?i (?j # ys @ ?a # zs))",
     template_implication
      ([template_inequation
         (less_than, template_hole 19,
          template_app (template_hole 18, template_var 5)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 17,
                template_app
                 (template_app (template_hole 16, template_var 4),
                  template_var 3)),
              template_app (template_hole 15, template_var 5))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 14, template_var 2),
              template_app
               (template_app
                 (template_app (template_hole 13, template_var 1),
                  template_var 1),
                template_var 5))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 12,
                template_app
                 (template_hole 11,
                  template_app
                   (template_var 2,
                    template_app
                     (template_app (template_hole 16, template_var 1),
                      template_app (template_hole 10, template_var 5))))),
              template_app
               (template_hole 11,
                template_app
                 (template_var 2,
                  template_app
                   (template_app
                     (template_hole 16,
                      template_app (template_hole 9, template_var 5)),
                    template_var 1))))
            )],
       template_predicate (template_app (template_hole 8, t_empty)))),
    ("Paths_Cycles.successive_predecessor",
     "[| (?a, ?b) : set (arcs ?i ?j ?xs); ?a ~= ?i;
         successive ?P (arcs ?i ?j ?xs); ?P (?a, ?b); ?xs ~= [] |]
      ==> EX c. (?xs = [?a] & c = ?i |
                 (EX ys. ?xs = ?a # ?b # ys & c = ?i) |
                 (EX ys. ?xs = ys @ [c, ?a] & ?b = ?j) |
                 (EX ys zs. ?xs = ys @ c # ?a # ?b # zs)) &
                ~ ?P (c, ?a)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 14,
                template_app
                 (template_app (template_hole 13, template_var 5),
                  template_var 4)),
              template_app
               (template_hole 12,
                template_app
                 (template_app
                   (template_app (template_hole 11, template_var 3),
                    template_var 2),
                  template_var 1)))
            ),
        template_negation
         (template_equation (template_var 5, template_var 3)),
        template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 0),
              template_app
               (template_app
                 (template_app (template_hole 11, template_var 3),
                  template_var 2),
                template_var 1))
            ),
        template_predicate
         (
            template_app
             (template_var 0,
              template_app
               (template_app (template_hole 13, template_var 5),
                template_var 4))
            ),
        template_negation
         (template_equation (template_var 1, template_hole 6))],
       template_predicate (template_app (template_hole 5, t_empty)))),
    ("Paths_Cycles.cycle_rotate_3'",
     "[| ?xs ~= []; (?i, ?j) : set (arcs ?a ?a ?xs);
         successive ?P (arcs ?a ?a ?xs);
         ~ ?P (?a, hd ?xs) | ~ ?P (last ?xs, ?a) |]
      ==> EX ys.
             len ?M ?a ?a ?xs = len ?M ?i ?i (?j # ys) &
             set (?i # ?j # ys) = set (?a # ?xs) &
             1 + length ys = length ?xs &
             set (arcs ?a ?a ?xs) = set (arcs ?i ?i (?j # ys)) &
             successive ?P (arcs ?i ?i (?j # ys) @ [(?i, ?j)])",
     template_implication
      ([template_negation
         (template_equation (template_var 5, template_hole 23)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 22,
                template_app
                 (template_app (template_hole 21, template_var 4),
                  template_var 3)),
              template_app
               (template_hole 20,
                template_app
                 (template_app
                   (template_app (template_hole 19, template_var 2),
                    template_var 2),
                  template_var 5)))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 18, template_var 1),
              template_app
               (template_app
                 (template_app (template_hole 19, template_var 2),
                  template_var 2),
                template_var 5))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 17,
                template_app
                 (template_hole 25,
                  template_app
                   (template_var 1,
                    template_app
                     (template_app (template_hole 21, template_var 2),
                      template_app (template_hole 16, template_var 5))))),
              template_app
               (template_hole 25,
                template_app
                 (template_var 1,
                  template_app
                   (template_app
                     (template_hole 21,
                      template_app (template_hole 15, template_var 5)),
                    template_var 2))))
            )],
       template_predicate (template_app (template_hole 14, t_empty)))),
    ("Paths_Cycles.cycle_rotate_len_arcs_successive'",
     "[| 1 < length ?xs; (?i, ?j) : arcs' ?xs;
         successive ?P (arcs ?a ?a ?xs);
         ~ ?P (?a, hd ?xs) | ~ ?P (last ?xs, ?a) |]
      ==> EX ys zs.
             len ?M ?a ?a ?xs = len ?M ?i ?i (?j # ys @ ?a # zs) &
             set (arcs ?a ?a ?xs) = set (arcs ?i ?i (?j # ys @ ?a # zs)) &
             ?xs = zs @ ?i # ?j # ys &
             successive ?P (arcs ?i ?i (?j # ys @ ?a # zs) @ [(?i, ?j)])",
     template_implication
      ([template_inequation
         (less_than, template_hole 22,
          template_app (template_hole 21, template_var 5)),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 20,
                template_app
                 (template_app (template_hole 19, template_var 4),
                  template_var 3)),
              template_app (template_hole 18, template_var 5))
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 17, template_var 2),
              template_app
               (template_app
                 (template_app (template_hole 16, template_var 1),
                  template_var 1),
                template_var 5))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 15,
                template_app
                 (template_hole 14,
                  template_app
                   (template_var 2,
                    template_app
                     (template_app (template_hole 19, template_var 1),
                      template_app (template_hole 13, template_var 5))))),
              template_app
               (template_hole 14,
                template_app
                 (template_var 2,
                  template_app
                   (template_app
                     (template_hole 19,
                      template_app (template_hole 12, template_var 5)),
                    template_var 1))))
            )],
       template_predicate (template_app (template_hole 11, t_empty)))),
    ("Paths_Cycles.canonical_successive",
     "[| canonical ?A ?n; set ?xs <= {0..?n}; ?i <= ?n; ?j <= ?n |]
      ==> EX ys.
             len (%i j. min (?A i j) (?B i j)) ?i ?j ys
             <= len (%i j. min (?A i j) (?B i j)) ?i ?j ?xs &
             set ys <= {0..?n} &
             successive (%(a, b). min (?A a b) (?B a b) = ?A a b)
              (arcs ?i ?j ys)",
     template_implication
      ([template_predicate (template_app (template_hole 16, t_empty)),
        template_inequation
         (less_equals, template_app (template_hole 9, template_var 3),
          template_app
           (template_app (template_hole 8, template_hole 7),
            template_var 5)),
        template_inequation (less_equals, template_var 2, template_var 5),
        template_inequation (less_equals, template_var 1, template_var 5)],
       template_predicate (template_app (template_hole 6, t_empty)))),
    ("Paths_Cycles.FW_fixed_preservation",
     "[| ?i <= ?n; ?M 0 ?i + ?M ?i 0 = \<one>; canonical (FW ?M ?n) ?n;
         ALL i xs.
            i <= ?n & set xs <= {0..?n} -->
            \<one> <= len (FW ?M ?n) i i xs |]
      ==> FW ?M ?n 0 ?i + FW ?M ?n ?i 0 = \<one>",
     template_implication
      ([template_inequation (less_equals, template_var 2, template_var 1),
        template_equation
         (template_app
           (template_app
             (template_hole 12,
              template_app
               (template_app (template_var 0, template_hole 11),
                template_var 2)),
            template_app
             (template_app (template_var 0, template_var 2),
              template_hole 11)),
          template_hole 10),
        template_predicate (template_app (template_hole 9, t_empty)),
        template_predicate (template_app (template_hole 9, t_empty))],
       template_equation
        (template_app
          (template_app
            (template_hole 12,
             template_app
              (template_app
                (template_app
                  (template_app
                    (template_app
                      (template_app
                        (template_app (template_hole 5, template_var 0),
                         template_var 1),
                       template_var 1),
                     template_var 1),
                   template_var 1),
                 template_hole 11),
               template_var 2)),
           template_app
            (template_app
              (template_app
                (template_app
                  (template_app
                    (template_app
                      (template_app (template_hole 5, template_var 0),
                       template_var 1),
                     template_var 1),
                   template_var 1),
                 template_var 1),
               template_var 2),
             template_hole 11)),
         template_hole 10))),
    ("Paths_Cycles.canonical_successive_distinct",
     "[| canonical ?A ?n; set ?xs <= {0..?n}; ?i <= ?n; ?j <= ?n;
         distinct ?xs; ?i ~: set ?xs; ?j ~: set ?xs |]
      ==> EX ys.
             len (%i j. min (?A i j) (?B i j)) ?i ?j ys
             <= len (%i j. min (?A i j) (?B i j)) ?i ?j ?xs &
             set ys <= set ?xs &
             successive (%(a, b). min (?A a b) (?B a b) = ?A a b)
              (arcs ?i ?j ys) &
             distinct ys & ?i ~: set ys & ?j ~: set ys",
     template_implication
      ([template_predicate (template_app (template_hole 19, t_empty)),
        template_inequation
         (less_equals, template_app (template_hole 12, template_var 3),
          template_app
           (template_app (template_hole 11, template_hole 10),
            template_var 5)),
        template_inequation (less_equals, template_var 2, template_var 5),
        template_inequation (less_equals, template_var 1, template_var 5),
        template_predicate (template_app (template_hole 9, template_var 3)),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 7, template_var 2),
                  template_app (template_hole 12, template_var 3))
                )
            ),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_app (template_hole 7, template_var 1),
                  template_app (template_hole 12, template_var 3))
                )
            )],
       template_predicate (template_app (template_hole 6, t_empty)))),
    ("Paths_Cycles.canonical_shorten_rotate_neg_cycle",
     "[| canonical ?A ?n; set ?xs <= {0..?n}; ?i <= ?n;
         len (%i j. min (?A i j) (?B i j)) ?i ?i ?xs < \<one> |]
      ==> EX j ys.
             len (%i j. min (?A i j) (?B i j)) j j ys < \<one> &
             set (j # ys) <= set (?i # ?xs) &
             successive (%(a, b). min (?A a b) (?B a b) = ?A a b)
              (arcs j j ys) &
             distinct ys &
             j ~: set ys &
             (ys ~= [] -->
              min (?A j (hd ys)) (?B j (hd ys)) ~= ?A j (hd ys) |
              min (?A (last ys) j) (?B (last ys) j) ~= ?A (last ys) j)",
     template_implication
      ([template_predicate (template_app (template_hole 28, t_empty)),
        template_inequation
         (less_equals, template_app (template_hole 21, template_var 2),
          template_app
           (template_app (template_hole 20, template_hole 19),
            template_var 4)),
        template_inequation (less_equals, template_var 1, template_var 4),
        template_inequation
         (less_than,
          template_app
           (template_app
             (template_app
               (template_app (template_hole 17, t_empty), template_var 1),
              template_var 1),
            template_var 2),
          template_hole 15)],
       template_predicate (template_app (template_hole 14, t_empty))))]:
   (string * thm * template) list
### theory "Draft.Paths_CyclesMoreTemplates"
### 0.658s elapsed time, 1.468s cpu time, 0.901s GC time
val it = (): unit
