   [("Hash_Table.ht_distinct_ls_rehash", "ht_distinct (ls_rehash ?l)",
     template_predicate
      (
         template_app
          (template_hole 1, template_app (template_hole 0, template_var 0))
         )),
    ("Hash_Table.ht_hash_ls_rehash", "ht_hash (ls_rehash ?l)",
     template_predicate
      (
         template_app
          (template_hole 1, template_app (template_hole 0, template_var 0))
         )),
    ("Hash_Table.ht_distinct_replicate", "ht_distinct (replicate ?n [])",
     template_predicate
      (
         template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 1, template_var 0),
             template_hole 0))
         )),
    ("Hash_Table.ht_hash_replicate", "ht_hash (replicate ?n [])",
     template_predicate
      (
         template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 1, template_var 0),
             template_hole 0))
         )),
    ("Hash_Table.ht_size_replicate", "ht_size (replicate ?n []) 0",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app (template_hole 2, template_var 0),
               template_hole 1)),
           template_hole 0)
         )),
    ("Hash_Table.ls_delete_fst_set",
     "set (fst (ls_delete ?k ?l)) <= set ?l",
     template_inequation
      (less_equals,
       template_app
        (template_hole 2,
         template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 0))),
       template_app (template_hole 2, template_var 0))),
    ("Hash_Table.ht_distinct_ls_insls",
     "ht_distinct ?l ==> ht_distinct (ls_insls ?ls ?l)",
     template_implication
      ([template_predicate
         (template_app (template_hole 1, template_var 1))],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 0),
               template_var 1))
           ))),
    ("Hash_Table.ht_hash_ls_insls",
     "ht_hash ?l ==> ht_hash (ls_insls ?ls ?l)",
     template_implication
      ([template_predicate
         (template_app (template_hole 1, template_var 1))],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 0),
               template_var 1))
           ))),
    ("Hash_Table.ht_distinct_update",
     "ht_distinct ?l ==> ht_distinct (abs_update ?k ?v ?l)",
     template_implication
      ([template_predicate
         (template_app (template_hole 1, template_var 2))],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app
              (template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 0),
               template_var 2))
           ))),
    ("Hash_Table.ht_distinct_ls_copy",
     "ht_distinct ?l ==> ht_distinct (ls_copy ?n ?ss ?l)",
     template_implication
      ([template_predicate
         (template_app (template_hole 1, template_var 2))],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app
              (template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 0),
               template_var 2))
           ))),
    ("Hash_Table.ht_hash_ls_copy",
     "ht_hash ?l ==> ht_hash (ls_copy ?n ?ss ?l)",
     template_implication
      ([template_predicate
         (template_app (template_hole 1, template_var 2))],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app
              (template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 0),
               template_var 2))
           ))),
    ("Hash_Table.ht_hash_update",
     "ht_hash ?ls ==> ht_hash (abs_update ?k ?v ?ls)",
     template_implication
      ([template_predicate
         (template_app (template_hole 1, template_var 2))],
       template_predicate
        (
           template_app
            (template_hole 1,
             template_app
              (template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 0),
               template_var 2))
           ))),
    ("Hash_Table.ls_delete_snd_set",
     "snd (ls_delete ?k ?l) = (?k : set (map fst ?l))",
     template_equation
      (template_app
        (template_hole 5,
         template_app
          (template_app (template_hole 4, template_var 1), template_var 0)),
       template_app
        (template_app (template_hole 3, template_var 1),
         template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 1, template_hole 0),
             template_var 0))))),
    ("Hash_Table.complete_ht_insls",
     "<is_hashtable ?ls ?ht> ht_insls ?xs ?ht
      <is_hashtable (ls_insls ?xs ?ls)>",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_hole 3,
               template_app
                (template_app (template_hole 2, template_var 2),
                 template_var 1)),
             template_app
              (template_app (template_hole 1, template_var 0),
               template_var 1)),
           template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 0, template_var 0),
               template_var 2)))
         )),
    ("Hash_Table.length_ls_rehash",
     "1 < length ?l ==> 1 < length (ls_rehash ?l)",
     template_implication
      ([template_inequation
         (less_than, template_hole 2,
          template_app (template_hole 1, template_var 0))],
       template_inequation
        (less_than, template_hole 2,
         template_app
          (template_hole 1,
           template_app (template_hole 0, template_var 0))))),
    ("Hash_Table.ls_update_snd_set",
     "snd (ls_update ?k ?v ?l) = (?k : set (map fst ?l))",
     template_equation
      (template_app
        (template_hole 5,
         template_app
          (template_app
            (template_app (template_hole 4, template_var 2),
             template_var 1),
           template_var 0)),
       template_app
        (template_app (template_hole 3, template_var 2),
         template_app
          (template_hole 2,
           template_app
            (template_app (template_hole 1, template_hole 0),
             template_var 0))))),
    ("Hash_Table.length_ls_insls",
     "1 < length ?l ==> 1 < length (ls_insls ?ls ?l)",
     template_implication
      ([template_inequation
         (less_than, template_hole 2,
          template_app (template_hole 1, template_var 1))],
       template_inequation
        (less_than, template_hole 2,
         template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 0),
             template_var 1))))),
    ("Hash_Table.ht_imp_len",
     "is_hashtable ?l ?ht \<Longrightarrow>\<^sub>A
      is_hashtable ?l ?ht * \<up> (0 < length ?l)",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 6,
             template_app
              (template_app (template_hole 5, template_var 1),
               template_var 0)),
           template_app
            (template_app
              (template_hole 4,
               template_app
                (template_app (template_hole 5, template_var 1),
                 template_var 0)),
             template_app
              (template_hole 3,
               template_app
                (template_app (template_hole 2, template_hole 1),
                 template_app (template_hole 0, template_var 1)))))
         )),
    ("Hash_Table.complete_ht_upd",
     "<is_hashtable ?l ?ht> ht_upd ?k ?v ?ht
      <is_hashtable (abs_update ?k ?v ?l)>",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_hole 3,
               template_app
                (template_app (template_hole 2, template_var 3),
                 template_var 2)),
             template_app
              (template_app
                (template_app (template_hole 1, template_var 1),
                 template_var 0),
               template_var 2)),
           template_app
            (template_hole 2,
             template_app
              (template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 0),
               template_var 3)))
         )),
    ("Hash_Table.ls_update_fst_set",
     "set (fst (ls_update ?k ?v ?l)) <= insert (?k, ?v) (set ?l)",
     template_inequation
      (less_equals,
       template_app
        (template_hole 4,
         template_app
          (template_hole 3,
           template_app
            (template_app
              (template_app (template_hole 2, template_var 2),
               template_var 1),
             template_var 0))),
       template_app
        (template_app
          (template_hole 1,
           template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1)),
         template_app (template_hole 4, template_var 0)))),
    ("Hash_Table.complete_ht_new_sz",
     "1 < ?n ==> <emp> ht_new_sz ?n <is_hashtable (replicate ?n [])>",
     template_implication
      ([template_inequation (less_than, template_hole 6, template_var 0)],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 5, template_hole 4),
               template_app (template_hole 3, template_var 0)),
             template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 0),
                 template_hole 0)))
           ))),
    ("Hash_Table.ls_delete_distinct",
     "distinct (map fst ?l) ==> distinct (map fst (fst (ls_delete ?k ?l)))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 4,
              template_app
               (template_app (template_hole 3, template_hole 2),
                template_var 1))
            )],
       template_predicate
        (
           template_app
            (template_hole 4,
             template_app
              (template_app (template_hole 3, template_hole 2),
               template_app
                (template_hole 1,
                 template_app
                  (template_app (template_hole 0, template_var 0),
                   template_var 1))))
           ))),
    ("Hash_Table.length_update",
     "1 < length ?l ==> 1 < length (abs_update ?k ?v ?l)",
     template_implication
      ([template_inequation
         (less_than, template_hole 2,
          template_app (template_hole 1, template_var 2))],
       template_inequation
        (less_than, template_hole 2,
         template_app
          (template_hole 1,
           template_app
            (template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0),
             template_var 2))))),
    ("Hash_Table.length_ls_copy",
     "1 < length ?l ==> 1 < length (ls_copy ?n ?ss ?l)",
     template_implication
      ([template_inequation
         (less_than, template_hole 2,
          template_app (template_hole 1, template_var 2))],
       template_inequation
        (less_than, template_hole 2,
         template_app
          (template_hole 1,
           template_app
            (template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0),
             template_var 2))))),
    ("Hash_Table.ls_update_distinct",
     "distinct (map fst ?l) ==>
      distinct (map fst (fst (ls_update ?k ?v ?l)))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 4,
              template_app
               (template_app (template_hole 3, template_hole 2),
                template_var 2))
            )],
       template_predicate
        (
           template_app
            (template_hole 4,
             template_app
              (template_app (template_hole 3, template_hole 2),
               template_app
                (template_hole 1,
                 template_app
                  (template_app
                    (template_app (template_hole 0, template_var 1),
                     template_var 0),
                   template_var 2))))
           ))),
    ("Hash_Table.ls_update_fst_map_set",
     "set (map fst (fst (ls_update ?k ?v ?l))) =
      insert ?k (set (map fst ?l))",
     template_equation
      (template_app
        (template_hole 5,
         template_app
          (template_app (template_hole 4, template_hole 3),
           template_app
            (template_hole 2,
             template_app
              (template_app
                (template_app (template_hole 1, template_var 2),
                 template_var 1),
               template_var 0)))),
       template_app
        (template_app (template_hole 0, template_var 2),
         template_app
          (template_hole 5,
           template_app
            (template_app (template_hole 4, template_hole 3),
             template_var 0))))),
    ("Hash_Table.complete_ht_rehash",
     "<is_hashtable ?l ?ht> ht_rehash ?ht
      <%r. is_hashtable ?l ?ht * is_hashtable (ls_rehash ?l) r>",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_hole 4,
               template_app
                (template_app (template_hole 3, template_var 1),
                 template_var 0)),
             template_app (template_hole 2, template_var 0)),
           t_empty)
         )),
    ("Hash_Table.ls_delete_length_snd_False",
     "~ snd (ls_delete ?k ?l) ==>
      length (fst (ls_delete ?k ?l)) = length ?l",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_hole 4,
                  template_app
                   (template_app (template_hole 3, template_var 1),
                    template_var 0))
                )
            )],
       template_equation
        (template_app
          (template_hole 1,
           template_app
            (template_hole 0,
             template_app
              (template_app (template_hole 3, template_var 1),
               template_var 0))),
         template_app (template_hole 1, template_var 0)))),
    ("Hash_Table.complete_ht_to_list",
     "<is_hashtable ?l ?ht> ht_to_list ?ht
      <%r. is_hashtable ?l ?ht * \<up> (r = concat ?l)>",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_hole 6,
               template_app
                (template_app (template_hole 5, template_var 1),
                 template_var 0)),
             template_app (template_hole 4, template_var 0)),
           t_empty)
         )),
    ("Hash_Table.ls_delete_length_snd_True",
     "snd (ls_delete ?k ?l) ==>
      length (fst (ls_delete ?k ?l)) = length ?l - 1",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 6,
              template_app
               (template_app (template_hole 5, template_var 1),
                template_var 0))
            )],
       template_equation
        (template_app
          (template_hole 3,
           template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 5, template_var 1),
               template_var 0))),
         template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 3, template_var 0)),
           template_hole 0)))),
    ("Hash_Table.ls_update_length_snd_True",
     "snd (ls_update ?k ?v ?l) ==>
      length (fst (ls_update ?k ?v ?l)) = length ?l",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 4,
              template_app
               (template_app
                 (template_app (template_hole 3, template_var 2),
                  template_var 1),
                template_var 0))
            )],
       template_equation
        (template_app
          (template_hole 1,
           template_app
            (template_hole 0,
             template_app
              (template_app
                (template_app (template_hole 3, template_var 2),
                 template_var 1),
               template_var 0))),
         template_app (template_hole 1, template_var 0)))),
    ("Hash_Table.ht_array_length_rule",
     "<is_hashtable ?l ?ht> Array.len (the_array ?ht)
      <%r. is_hashtable ?l ?ht * \<up> (r = length ?l)>",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_hole 7,
               template_app
                (template_app (template_hole 6, template_var 1),
                 template_var 0)),
             template_app
              (template_hole 5,
               template_app (template_hole 4, template_var 0))),
           t_empty)
         )),
    ("Hash_Table.ls_update_length_snd_False",
     "~ snd (ls_update ?k ?v ?l) ==>
      length (fst (ls_update ?k ?v ?l)) = Suc (length ?l)",
     template_implication
      ([template_negation
         (
            template_predicate
             (
                template_app
                 (template_hole 5,
                  template_app
                   (template_app
                     (template_app (template_hole 4, template_var 2),
                      template_var 1),
                    template_var 0))
                )
            )],
       template_equation
        (template_app
          (template_hole 2,
           template_app
            (template_hole 1,
             template_app
              (template_app
                (template_app (template_hole 4, template_var 2),
                 template_var 1),
               template_var 0))),
         template_app
          (template_hole 0,
           template_app (template_hole 2, template_var 0))))),
    ("Hash_Table.ls_delete_length",
     "length (fst (ls_delete ?k ?l)) =
      (if ?k : set (map fst ?l) then length ?l - 1 else length ?l)",
     template_equation
      (template_app
        (template_hole 9,
         template_app
          (template_hole 8,
           template_app
            (template_app (template_hole 7, template_var 1),
             template_var 0))),
       template_app
        (template_app
          (template_app
            (template_hole 6,
             template_app
              (template_app (template_hole 5, template_var 1),
               template_app
                (template_hole 4,
                 template_app
                  (template_app (template_hole 3, template_hole 2),
                   template_var 0)))),
           template_app
            (template_app
              (template_hole 1,
               template_app (template_hole 9, template_var 0)),
             template_hole 0)),
         template_app (template_hole 9, template_var 0)))),
    ("Hash_Table.ls_update_length",
     "length (fst (ls_update ?k ?v ?l)) =
      (if ?k : set (map fst ?l) then length ?l else Suc (length ?l))",
     template_equation
      (template_app
        (template_hole 8,
         template_app
          (template_hole 7,
           template_app
            (template_app
              (template_app (template_hole 6, template_var 2),
               template_var 1),
             template_var 0))),
       template_app
        (template_app
          (template_app
            (template_hole 5,
             template_app
              (template_app (template_hole 4, template_var 2),
               template_app
                (template_hole 3,
                 template_app
                  (template_app (template_hole 2, template_hole 1),
                   template_var 0)))),
           template_app (template_hole 8, template_var 0)),
         template_app
          (template_hole 0,
           template_app (template_hole 8, template_var 0))))),
    ("Hash_Table.ht_distinct_delete",
     "ht_distinct ?l ==>
      ht_distinct
       (?l[bounded_hashcode_nat (length ?l) ?k :=
             fst (ls_delete ?k
                   (?l ! bounded_hashcode_nat (length ?l) ?k))])",
     template_implication
      ([template_predicate
         (template_app (template_hole 6, template_var 1))],
       template_predicate
        (
           template_app
            (template_hole 6,
             template_app
              (template_app
                (template_app (template_hole 5, template_var 1),
                 template_app
                  (template_app
                    (template_hole 4,
                     template_app (template_hole 3, template_var 1)),
                   template_var 0)),
               template_app
                (template_hole 2,
                 template_app
                  (template_app (template_hole 1, template_var 0),
                   template_app
                    (template_app (template_hole 0, template_var 1),
                     template_app
                      (template_app
                        (template_hole 4,
                         template_app (template_hole 3, template_var 1)),
                       template_var 0))))))
           ))),
    ("Hash_Table.ht_hash_delete",
     "ht_hash ?ls ==>
      ht_hash
       (?ls[bounded_hashcode_nat (length ?ls) ?k :=
              fst (ls_delete ?k
                    (?ls ! bounded_hashcode_nat (length ?ls) ?k))])",
     template_implication
      ([template_predicate
         (template_app (template_hole 6, template_var 1))],
       template_predicate
        (
           template_app
            (template_hole 6,
             template_app
              (template_app
                (template_app (template_hole 5, template_var 1),
                 template_app
                  (template_app
                    (template_hole 4,
                     template_app (template_hole 3, template_var 1)),
                   template_var 0)),
               template_app
                (template_hole 2,
                 template_app
                  (template_app (template_hole 1, template_var 0),
                   template_app
                    (template_app (template_hole 0, template_var 1),
                     template_app
                      (template_app
                        (template_hole 4,
                         template_app (template_hole 3, template_var 1)),
                       template_var 0))))))
           ))),
    ("Hash_Table.ls_delete_fst_map_set",
     "distinct (map fst ?l) ==>
      set (map fst (fst (ls_delete ?k ?l))) = set (map fst ?l) - {?k}",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 9,
              template_app
               (template_app (template_hole 8, template_hole 7),
                template_var 1))
            )],
       template_equation
        (template_app
          (template_hole 5,
           template_app
            (template_app (template_hole 8, template_hole 7),
             template_app
              (template_hole 4,
               template_app
                (template_app (template_hole 3, template_var 0),
                 template_var 1)))),
         template_app
          (template_app
            (template_hole 2,
             template_app
              (template_hole 5,
               template_app
                (template_app (template_hole 8, template_hole 7),
                 template_var 1))),
           template_app
            (template_app (template_hole 1, template_var 0),
             template_hole 0))))),
    ("Hash_Table.complete_ht_lookup",
     "<is_hashtable ?l ?ht> ht_lookup ?x ?ht
      <%r. is_hashtable ?l ?ht *
           \<up>
            (r = ls_lookup ?x (?l ! bounded_hashcode_nat (length ?l) ?x))>",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_hole 9,
               template_app
                (template_app (template_hole 8, template_var 2),
                 template_var 1)),
             template_app
              (template_app (template_hole 7, template_var 0),
               template_var 1)),
           t_empty)
         )),
    ("Hash_Table.complete_ht_delete",
     "<is_hashtable ?l ?ht> ht_delete ?k ?ht
      <is_hashtable
        (?l[bounded_hashcode_nat (length ?l) ?k :=
              fst (ls_delete ?k
                    (?l ! bounded_hashcode_nat (length ?l) ?k))])>",
     template_predicate
      (
         template_app
          (template_app
            (template_app
              (template_hole 8,
               template_app
                (template_app (template_hole 7, template_var 2),
                 template_var 1)),
             template_app
              (template_app (template_hole 6, template_var 0),
               template_var 1)),
           template_app
            (template_hole 7,
             template_app
              (template_app
                (template_app (template_hole 5, template_var 2),
                 template_app
                  (template_app
                    (template_hole 4,
                     template_app (template_hole 3, template_var 2)),
                   template_var 0)),
               template_app
                (template_hole 2,
                 template_app
                  (template_app (template_hole 1, template_var 0),
                   template_app
                    (template_app (template_hole 0, template_var 2),
                     template_app
                      (template_app
                        (template_hole 4,
                         template_app (template_hole 3, template_var 2)),
                       template_var 0)))))))
         )),
    ("Hash_Table.ht_array_nth_rule",
     "?i < length ?l ==>
      <is_hashtable ?l ?ht> Array.nth (the_array ?ht) ?i
      <%r. is_hashtable ?l ?ht * \<up> (r = ?l ! ?i)>",
     template_implication
      ([template_inequation
         (less_than, template_var 2,
          template_app (template_hole 8, template_var 1))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 7,
                 template_app
                  (template_app (template_hole 6, template_var 1),
                   template_var 0)),
               template_app
                (template_app
                  (template_hole 5,
                   template_app (template_hole 4, template_var 0)),
                 template_var 2)),
             t_empty)
           ))),
    ("Hash_Table.complete_ht_copy",
     "?n <= length ?ss ==>
      <is_hashtable ?ss ?src * is_hashtable ?ds ?dst> ht_copy ?n ?src ?dst
      <%r. is_hashtable ?ss ?src * is_hashtable (ls_copy ?n ?ss ?ds) r>",
     template_implication
      ([template_inequation
         (less_equals, template_var 4,
          template_app (template_hole 5, template_var 3))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 4,
                 template_app
                  (template_app
                    (template_hole 3,
                     template_app
                      (template_app (template_hole 2, template_var 3),
                       template_var 2)),
                   template_app
                    (template_app (template_hole 2, template_var 1),
                     template_var 0))),
               template_app
                (template_app
                  (template_app (template_hole 1, template_var 4),
                   template_var 2),
                 template_var 0)),
             t_empty)
           ))),
    ("Hash_Table.ht_size_delete2",
     "[| ht_size ?l ?n; ?i < length ?l; ~ snd (ls_delete ?k (?l ! ?i)) |]
      ==> ht_size (?l[?i := fst (ls_delete ?k (?l ! ?i))]) ?n",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 3),
              template_var 2)
            ),
        template_inequation
         (less_than, template_var 1,
          template_app (template_hole 6, template_var 3)),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_hole 4,
                  template_app
                   (template_app (template_hole 3, template_var 0),
                    template_app
                     (template_app (template_hole 2, template_var 3),
                      template_var 1)))
                )
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 8,
               template_app
                (template_app
                  (template_app (template_hole 1, template_var 3),
                   template_var 1),
                 template_app
                  (template_hole 0,
                   template_app
                    (template_app (template_hole 3, template_var 0),
                     template_app
                      (template_app (template_hole 2, template_var 3),
                       template_var 1))))),
             template_var 2)
           ))),
    ("Hash_Table.complete_ht_update_normal",
     "~ length ?l * load_factor <= the_size ?ht * 100 ==>
      <is_hashtable ?l ?ht> ht_update ?k ?v ?ht
      <is_hashtable (abs_update ?k ?v ?l)>",
     template_implication
      ([template_negation
         (
            template_inequation
             (less_equals,
              template_app
               (template_app
                 (template_hole 11,
                  template_app (template_hole 10, template_var 3)),
                template_hole 9),
              template_app
               (template_app
                 (template_hole 11,
                  template_app (template_hole 8, template_var 2)),
                template_app
                 (template_hole 7,
                  template_app
                   (template_hole 6,
                    template_app
                     (template_hole 6,
                      template_app
                       (template_hole 5,
                        template_app
                         (template_hole 6,
                          template_app
                           (template_hole 6,
                            template_app
                             (template_hole 5, template_hole 4)))))))))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 3,
                 template_app
                  (template_app (template_hole 2, template_var 3),
                   template_var 2)),
               template_app
                (template_app
                  (template_app (template_hole 1, template_var 1),
                   template_var 0),
                 template_var 2)),
             template_app
              (template_hole 2,
               template_app
                (template_app
                  (template_app (template_hole 0, template_var 1),
                   template_var 0),
                 template_var 3)))
           ))),
    ("Hash_Table.ht_size_delete1",
     "[| ht_size ?l ?n; ?i < length ?l; snd (ls_delete ?k (?l ! ?i)) |]
      ==> ht_size (?l[?i := fst (ls_delete ?k (?l ! ?i))]) (?n - 1)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 9, template_var 3),
              template_var 2)
            ),
        template_inequation
         (less_than, template_var 1,
          template_app (template_hole 7, template_var 3)),
        template_predicate
         (
            template_app
             (template_hole 6,
              template_app
               (template_app (template_hole 5, template_var 0),
                template_app
                 (template_app (template_hole 4, template_var 3),
                  template_var 1)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 9,
               template_app
                (template_app
                  (template_app (template_hole 3, template_var 3),
                   template_var 1),
                 template_app
                  (template_hole 2,
                   template_app
                    (template_app (template_hole 5, template_var 0),
                     template_app
                      (template_app (template_hole 4, template_var 3),
                       template_var 1))))),
             template_app
              (template_app (template_hole 1, template_var 2),
               template_hole 0))
           ))),
    ("Hash_Table.ht_size_update1",
     "[| ht_size ?l ?n; ?i < length ?l; snd (ls_update ?k ?v (?l ! ?i)) |]
      ==> ht_size (?l[?i := fst (ls_update ?k ?v (?l ! ?i))]) ?n",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 7, template_var 4),
              template_var 3)
            ),
        template_inequation
         (less_than, template_var 2,
          template_app (template_hole 5, template_var 4)),
        template_predicate
         (
            template_app
             (template_hole 4,
              template_app
               (template_app
                 (template_app (template_hole 3, template_var 1),
                  template_var 0),
                template_app
                 (template_app (template_hole 2, template_var 4),
                  template_var 2)))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 7,
               template_app
                (template_app
                  (template_app (template_hole 1, template_var 4),
                   template_var 2),
                 template_app
                  (template_hole 0,
                   template_app
                    (template_app
                      (template_app (template_hole 3, template_var 1),
                       template_var 0),
                     template_app
                      (template_app (template_hole 2, template_var 4),
                       template_var 2))))),
             template_var 3)
           ))),
    ("Hash_Table.ht_size_update2",
     "[| ht_size ?l ?n; ?i < length ?l; ~ snd (ls_update ?k ?v (?l ! ?i)) |]
      ==> ht_size (?l[?i := fst (ls_update ?k ?v (?l ! ?i))]) (Suc ?n)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 9, template_var 4),
              template_var 3)
            ),
        template_inequation
         (less_than, template_var 2,
          template_app (template_hole 7, template_var 4)),
        template_negation
         (
            template_predicate
             (
                template_app
                 (template_hole 5,
                  template_app
                   (template_app
                     (template_app (template_hole 4, template_var 1),
                      template_var 0),
                    template_app
                     (template_app (template_hole 3, template_var 4),
                      template_var 2)))
                )
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 9,
               template_app
                (template_app
                  (template_app (template_hole 2, template_var 4),
                   template_var 2),
                 template_app
                  (template_hole 1,
                   template_app
                    (template_app
                      (template_app (template_hole 4, template_var 1),
                       template_var 0),
                     template_app
                      (template_app (template_hole 3, template_var 4),
                       template_var 2))))),
             template_app (template_hole 0, template_var 3))
           ))),
    ("Hash_Table.complete_ht_update_rehash",
     "length ?l * load_factor <= the_size ?ht * 100 ==>
      <is_hashtable ?l ?ht> ht_update ?k ?v ?ht
      <%r. is_hashtable ?l ?ht *
           is_hashtable (abs_update ?k ?v (ls_rehash ?l)) r>",
     template_implication
      ([template_inequation
         (less_equals,
          template_app
           (template_app
             (template_hole 13,
              template_app (template_hole 12, template_var 3)),
            template_hole 11),
          template_app
           (template_app
             (template_hole 13,
              template_app (template_hole 10, template_var 2)),
            template_app
             (template_hole 9,
              template_app
               (template_hole 8,
                template_app
                 (template_hole 8,
                  template_app
                   (template_hole 7,
                    template_app
                     (template_hole 8,
                      template_app
                       (template_hole 8,
                        template_app
                         (template_hole 7, template_hole 6)))))))))],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 5,
                 template_app
                  (template_app (template_hole 4, template_var 3),
                   template_var 2)),
               template_app
                (template_app
                  (template_app (template_hole 3, template_var 1),
                   template_var 0),
                 template_var 2)),
             t_empty)
           )))]
