   [("Extended_Sturm.jumpF_poly_bot_0", "jumpF_poly_bot 0 ?p = 0",
     template_equation
      (template_app
        (template_app (template_hole 2, template_hole 1), template_var 0),
       template_hole 0)),
    ("Extended_Sturm.jumpF_poly_bot_0", "jumpF_poly_bot ?q 0 = 0",
     template_equation
      (template_app
        (template_app (template_hole 2, template_var 0), template_hole 1),
       template_hole 0)),
    ("Extended_Sturm.jumpF_poly_top_0", "jumpF_poly_top 0 ?p = 0",
     template_equation
      (template_app
        (template_app (template_hole 2, template_hole 1), template_var 0),
       template_hole 0)),
    ("Extended_Sturm.jumpF_poly_top_0", "jumpF_poly_top ?q 0 = 0",
     template_equation
      (template_app
        (template_app (template_hole 2, template_var 0), template_hole 1),
       template_hole 0)),
    ("Extended_Sturm.psign_diff_0", "psign_diff 0 ?q ?x = 1",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 2, template_hole 1), template_var 1),
         template_var 0),
       template_hole 0)),
    ("Extended_Sturm.psign_diff_0", "psign_diff ?p 0 ?x = 1",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 2, template_var 1), template_hole 1),
         template_var 0),
       template_hole 0)),
    ("Extended_Sturm.jumpF_polyL_0", "jumpF_polyL 0 ?p ?a = 0",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 2, template_hole 1), template_var 1),
         template_var 0),
       template_hole 0)),
    ("Extended_Sturm.jumpF_polyL_0", "jumpF_polyL ?q 0 ?a = 0",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 2, template_var 1), template_hole 1),
         template_var 0),
       template_hole 0)),
    ("Extended_Sturm.jumpF_polyR_0", "jumpF_polyR 0 ?p ?a = 0",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 2, template_hole 1), template_var 1),
         template_var 0),
       template_hole 0)),
    ("Extended_Sturm.jumpF_polyR_0", "jumpF_polyR ?q 0 ?a = 0",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 2, template_var 1), template_hole 1),
         template_var 0),
       template_hole 0)),
    ("Extended_Sturm.cindex_poly_ubd_code",
     "cindex_poly_ubd ?q ?p = changes_R_smods ?p ?q",
     template_equation
      (template_app
        (template_app (template_hole 1, template_var 1), template_var 0),
       template_app
        (template_app (template_hole 0, template_var 0), template_var 1))),
    ("Extended_Sturm.cross_alt_0", "cross_alt 0 ?q ?a ?b = 0",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_app (template_hole 2, template_hole 1),
             template_var 2),
           template_var 1),
         template_var 0),
       template_hole 0)),
    ("Extended_Sturm.cross_alt_0", "cross_alt ?p 0 ?a ?b = 0",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_app (template_hole 2, template_var 2),
             template_hole 1),
           template_var 1),
         template_var 0),
       template_hole 0)),
    ("Extended_Sturm.cindexP_pathE_const", "cindexP_pathE [:?c:] ?g = 0",
     template_equation
      (template_app
        (template_app
          (template_hole 3,
           template_app
            (template_app (template_hole 2, template_var 1),
             template_hole 1)),
         template_var 0),
       template_hole 0)),
    ("Extended_Sturm.cindex_polyE_0", "cindex_polyE ?a ?b 0 ?p = 0",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_app (template_hole 2, template_var 2),
             template_var 1),
           template_hole 1),
         template_var 0),
       template_hole 0)),
    ("Extended_Sturm.cindex_polyE_0", "cindex_polyE ?a ?b ?q 0 = 0",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_app (template_hole 2, template_var 2),
             template_var 1),
           template_var 0),
         template_hole 1),
       template_hole 0)),
    ("Extended_Sturm.valid_path_poly_linepath",
     "valid_path (poly ?p o linepath ?a ?b)",
     template_predicate
      (
         template_app
          (template_hole 3,
           template_app
            (template_app
              (template_hole 2,
               template_app (template_hole 1, template_var 2)),
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0)))
         )),
    ("Extended_Sturm.valid_path_poly_rectpath",
     "valid_path (poly ?p o rectpath ?a ?b)",
     template_predicate
      (
         template_app
          (template_hole 3,
           template_app
            (template_app
              (template_hole 2,
               template_app (template_hole 1, template_var 2)),
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0)))
         )),
    ("Extended_Sturm.finite_ReZ_segments_poly_rectpath",
     "finite_ReZ_segments (poly ?p o rectpath ?a ?b) ?z",
     template_predicate
      (
         template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app
                (template_hole 2,
                 template_app (template_hole 1, template_var 3)),
               template_app
                (template_app (template_hole 0, template_var 2),
                 template_var 1))),
           template_var 0)
         )),
    ("Extended_Sturm.psign_diff_poly_commute",
     "psign_diff ?p ?q ?x = psign_diff ?q ?p ?x",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 0, template_var 2), template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_app (template_hole 0, template_var 1), template_var 2),
         template_var 0))),
    ("Extended_Sturm.psign_diff_clear",
     "psign_diff ?p ?q ?x = psign_diff 1 (?p * ?q) ?x",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 2, template_var 2), template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_app (template_hole 2, template_hole 1),
           template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1)),
         template_var 0))),
    ("Extended_Sturm.cross_alt_poly_commute",
     "cross_alt ?p ?q ?a ?b = cross_alt ?q ?p ?a ?b",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_app (template_hole 0, template_var 3),
             template_var 2),
           template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_app
            (template_app (template_hole 0, template_var 2),
             template_var 3),
           template_var 1),
         template_var 0))),
    ("Extended_Sturm.jumpF_polyL_mod",
     "jumpF_polyL ?q ?p ?x = jumpF_polyL (?q mod ?p) ?p ?x",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 1, template_var 2), template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 2),
               template_var 1)),
           template_var 1),
         template_var 0))),
    ("Extended_Sturm.jumpF_polyR_mod",
     "jumpF_polyR ?q ?p ?x = jumpF_polyR (?q mod ?p) ?p ?x",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 1, template_var 2), template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 2),
               template_var 1)),
           template_var 1),
         template_var 0))),
    ("Extended_Sturm.normalize_real_poly",
     "normalize ?p = smult (1 / lead_coeff ?p) ?p",
     template_equation
      (template_app (template_hole 5, template_var 0),
       template_app
        (template_app
          (template_hole 4,
           template_app
            (template_app (template_hole 3, template_hole 2),
             template_app
              (template_app (template_hole 1, template_var 0),
               template_app (template_hole 0, template_var 0)))),
         template_var 0))),
    ("Extended_Sturm.cross_alt_clear",
     "cross_alt ?p ?q ?a ?b = cross_alt 1 (?p * ?q) ?a ?b",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_app (template_hole 2, template_var 3),
             template_var 2),
           template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_app
            (template_app (template_hole 2, template_hole 1),
             template_app
              (template_app (template_hole 0, template_var 3),
               template_var 2)),
           template_var 1),
         template_var 0))),
    ("Extended_Sturm.cindex_polyE_mod",
     "cindex_polyE ?a ?b ?q ?p = cindex_polyE ?a ?b (?q mod ?p) ?p",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_app (template_hole 1, template_var 3),
             template_var 2),
           template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_app
            (template_app (template_hole 1, template_var 3),
             template_var 2),
           template_app
            (template_app (template_hole 0, template_var 1),
             template_var 0)),
         template_var 0))),
    ("Extended_Sturm.jumpF_polyL_smult_1",
     "jumpF_polyL (smult ?c ?q) ?p ?x = sgn ?c * jumpF_polyL ?q ?p ?x",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app (template_hole 2, template_var 3),
               template_var 2)),
           template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_hole 1, template_app (template_hole 0, template_var 3)),
         template_app
          (template_app
            (template_app (template_hole 3, template_var 2),
             template_var 1),
           template_var 0)))),
    ("Extended_Sturm.jumpF_polyR_smult_1",
     "jumpF_polyR (smult ?c ?q) ?p ?x = sgn ?c * jumpF_polyR ?q ?p ?x",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app (template_hole 2, template_var 3),
               template_var 2)),
           template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_hole 1, template_app (template_hole 0, template_var 3)),
         template_app
          (template_app
            (template_app (template_hole 3, template_var 2),
             template_var 1),
           template_var 0)))),
    ("Extended_Sturm.cindexE_ubd_poly",
     "cindexE_ubd (%x. poly ?q x / poly ?p x) =
      real_of_int (cindex_poly_ubd ?q ?p)",
     template_equation
      (template_app (template_hole 4, t_empty),
       template_app
        (template_hole 1,
         template_app
          (template_app (template_hole 0, template_var 1),
           template_var 0)))),
    ("Extended_Sturm.cindex_pathE_linepath_on",
     "?z : closed_segment ?a ?b ==> cindex_pathE (linepath ?a ?b) ?z = 0",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 2),
              template_app
               (template_app (template_hole 4, template_var 1),
                template_var 0))
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app (template_hole 1, template_var 1),
               template_var 0)),
           template_var 2),
         template_hole 0))),
    ("Extended_Sturm.jumpF_poly_noroot",
     "poly ?p ?a ~= 0 ==> jumpF_polyL ?q ?p ?a = 0",
     template_implication
      ([template_negation
         (
            template_equation
             (template_app
               (template_app (template_hole 2, template_var 2),
                template_var 1),
              template_hole 1)
            )],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 0, template_var 0),
             template_var 2),
           template_var 1),
         template_hole 1))),
    ("Extended_Sturm.jumpF_poly_noroot",
     "poly ?p ?a ~= 0 ==> jumpF_polyR ?q ?p ?a = 0",
     template_implication
      ([template_negation
         (
            template_equation
             (template_app
               (template_app (template_hole 2, template_var 2),
                template_var 1),
              template_hole 1)
            )],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 0, template_var 0),
             template_var 2),
           template_var 1),
         template_hole 1))),
    ("Extended_Sturm.cindex_poly_ubd_0",
     "?p = 0 | ?q = 0 ==> cindex_poly_ubd ?q ?p = 0",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 5,
                template_app
                 (template_app (template_hole 4, template_var 1),
                  template_hole 3)),
              template_app
               (template_app (template_hole 4, template_var 0),
                template_hole 3))
            )],
       template_equation
        (template_app
          (template_app (template_hole 1, template_var 0), template_var 1),
         template_hole 0))),
    ("Extended_Sturm.jump_poly_jumpF_poly",
     "real_of_int (jump_poly ?q ?p ?x) =
      jumpF_polyR ?q ?p ?x - jumpF_polyL ?q ?p ?x",
     template_equation
      (template_app
        (template_hole 4,
         template_app
          (template_app
            (template_app (template_hole 3, template_var 2),
             template_var 1),
           template_var 0)),
       template_app
        (template_app
          (template_hole 2,
           template_app
            (template_app
              (template_app (template_hole 1, template_var 2),
               template_var 1),
             template_var 0)),
         template_app
          (template_app
            (template_app (template_hole 0, template_var 2),
             template_var 1),
           template_var 0)))),
    ("Extended_Sturm.sign_r_pos_plus_imp",
     "[| sign_r_pos ?p ?x; sign_r_pos ?q ?x |] ==> sign_r_pos (?p + ?q) ?x",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 2),
              template_var 1)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 1, template_var 0),
              template_var 1)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 2),
                 template_var 0)),
             template_var 1)
           ))),
    ("Extended_Sturm.is_unit_pCons_ex_iff",
     "is_unit ?p = (EX a. a ~= (0::?'a) & ?p = [:a:])",
     template_equation
      (template_app
        (template_app (template_hole 9, template_var 0), template_hole 8),
       template_app (template_hole 7, t_empty))),
    ("Extended_Sturm.cindex_polyE_smult_2",
     "cindex_polyE ?a ?b ?q (smult ?c ?p) =
      sgn ?c * cindex_polyE ?a ?b ?q ?p",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_app (template_hole 3, template_var 4),
             template_var 3),
           template_var 2),
         template_app
          (template_app (template_hole 2, template_var 1), template_var 0)),
       template_app
        (template_app
          (template_hole 1, template_app (template_hole 0, template_var 1)),
         template_app
          (template_app
            (template_app
              (template_app (template_hole 3, template_var 4),
               template_var 3),
             template_var 2),
           template_var 0)))),
    ("Extended_Sturm.cindex_polyE_smult_1",
     "cindex_polyE ?a ?b (smult ?c ?q) ?p =
      sgn ?c * cindex_polyE ?a ?b ?q ?p",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_app (template_hole 3, template_var 4),
             template_var 3),
           template_app
            (template_app (template_hole 2, template_var 2),
             template_var 1)),
         template_var 0),
       template_app
        (template_app
          (template_hole 1, template_app (template_hole 0, template_var 2)),
         template_app
          (template_app
            (template_app
              (template_app (template_hole 3, template_var 4),
               template_var 3),
             template_var 1),
           template_var 0)))),
    ("Extended_Sturm.eventually_poly_nz_at_within",
     "?p ~= 0 ==>
      \<forall>\<^sub>F x in at ?x within ?S. poly ?p x ~= (0::?'a)",
     template_implication
      ([template_negation
         (template_equation (template_var 2, template_hole 5))],
       template_predicate
        (
           template_app
            (template_app (template_hole 4, t_empty),
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 0))
           ))),
    ("Extended_Sturm.cross_alt_alt",
     "cross_alt ?p ?q ?a ?b =
      sign (poly (?p * ?q) ?b) - sign (poly (?p * ?q) ?a)",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_app (template_hole 4, template_var 3),
             template_var 2),
           template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_hole 3,
           template_app
            (template_hole 2,
             template_app
              (template_app
                (template_hole 1,
                 template_app
                  (template_app (template_hole 0, template_var 3),
                   template_var 2)),
               template_var 0))),
         template_app
          (template_hole 2,
           template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 3),
                 template_var 2)),
             template_var 1))))),
    ("Extended_Sturm.jumpF_polyL_mult_cancel",
     "?p' ~= 0 ==>
      jumpF_polyL (?p' * ?q) (?p' * ?p) ?a = jumpF_polyL ?q ?p ?a",
     template_implication
      ([template_negation
         (template_equation (template_var 3, template_hole 3))],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 3),
                 template_var 2)),
             template_app
              (template_app (template_hole 0, template_var 3),
               template_var 1)),
           template_var 0),
         template_app
          (template_app
            (template_app (template_hole 1, template_var 2),
             template_var 1),
           template_var 0)))),
    ("Extended_Sturm.jumpF_polyR_mult_cancel",
     "?p' ~= 0 ==>
      jumpF_polyR (?p' * ?q) (?p' * ?p) ?a = jumpF_polyR ?q ?p ?a",
     template_implication
      ([template_negation
         (template_equation (template_var 3, template_hole 3))],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 3),
                 template_var 2)),
             template_app
              (template_app (template_hole 0, template_var 3),
               template_var 1)),
           template_var 0),
         template_app
          (template_app
            (template_app (template_hole 1, template_var 2),
             template_var 1),
           template_var 0)))),
    ("Extended_Sturm.cindex_poly_ubd_eventually",
     "\<forall>\<^sub>F r in at_top.
         cindexE (- r) r (%x. poly ?q x / poly ?p x) =
         real_of_int (cindex_poly_ubd ?q ?p)",
     template_predicate
      (
         template_app
          (template_app (template_hole 8, t_empty), template_hole 0)
         )),
    ("Extended_Sturm.psign_diff_alt",
     "coprime ?p ?q ==>
      psign_diff ?p ?q ?x =
      \<bar>sign (poly ?p ?x) - sign (poly ?q ?x)\<bar>",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 2),
              template_var 1)
            )],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 4, template_var 2),
             template_var 1),
           template_var 0),
         template_app
          (template_hole 3,
           template_app
            (template_app
              (template_hole 2,
               template_app
                (template_hole 1,
                 template_app
                  (template_app (template_hole 0, template_var 2),
                   template_var 0))),
             template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 0))))))),
    ("Extended_Sturm.jumpF_polyL_order_leq",
     "order ?x ?p <= order ?x ?r ==>
      jumpF_polyL (?r + ?q) ?p ?x = jumpF_polyL ?q ?p ?x",
     template_implication
      ([template_inequation
         (less_equals,
          template_app
           (template_app (template_hole 3, template_var 3), template_var 2),
          template_app
           (template_app (template_hole 3, template_var 3),
            template_var 1))],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 0)),
             template_var 2),
           template_var 3),
         template_app
          (template_app
            (template_app (template_hole 1, template_var 0),
             template_var 2),
           template_var 3)))),
    ("Extended_Sturm.jumpF_polyR_order_leq",
     "order ?x ?p <= order ?x ?r ==>
      jumpF_polyR (?r + ?q) ?p ?x = jumpF_polyR ?q ?p ?x",
     template_implication
      ([template_inequation
         (less_equals,
          template_app
           (template_app (template_hole 3, template_var 3), template_var 2),
          template_app
           (template_app (template_hole 3, template_var 3),
            template_var 1))],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 0)),
             template_var 2),
           template_var 3),
         template_app
          (template_app
            (template_app (template_hole 1, template_var 0),
             template_var 2),
           template_var 3)))),
    ("Extended_Sturm.sgn_power",
     "sgn (?x ^ ?n) =
      (if ?n = 0 then 1::?'a
       else if even ?n then \<bar>sgn ?x\<bar> else sgn ?x)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_hole 10,
              template_app
               (template_app (template_hole 9, template_var 1),
                template_var 0))
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 8,
                 template_app
                  (template_app (template_hole 7, template_var 0),
                   template_hole 6)),
               template_hole 5),
             template_app
              (template_app
                (template_app
                  (template_hole 8,
                   template_app
                    (template_app
                      (template_hole 4,
                       template_app
                        (template_hole 3,
                         template_app (template_hole 2, template_hole 1))),
                     template_var 0)),
                 template_app
                  (template_hole 0,
                   template_app (template_hole 10, template_var 1))),
               template_app (template_hole 10, template_var 1)))
           ))),
    ("Extended_Sturm.cindex_polyE_cross",
     "?a < ?b ==>
      cindex_polyE ?a ?b 1 ?p = real_of_int (cross_alt 1 ?p ?a ?b) / 2",
     template_implication
      ([template_inequation (less_than, template_var 2, template_var 1)],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app (template_hole 7, template_var 2),
               template_var 1),
             template_hole 6),
           template_var 0),
         template_app
          (template_app
            (template_hole 5,
             template_app
              (template_hole 4,
               template_app
                (template_app
                  (template_app
                    (template_app (template_hole 3, template_hole 6),
                     template_var 0),
                   template_var 2),
                 template_var 1))),
           template_app
            (template_hole 2,
             template_app (template_hole 1, template_hole 0)))))),
    ("Extended_Sturm.jumpF_polyL_inverse_add",
     "coprime ?p ?q ==>
      jumpF_polyL ?q ?p ?x + jumpF_polyL ?p ?q ?x =
      jumpF_polyL 1 (?q * ?p) ?x",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 2),
              template_var 1)
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app
                (template_app (template_hole 2, template_var 1),
                 template_var 2),
               template_var 0)),
           template_app
            (template_app
              (template_app (template_hole 2, template_var 2),
               template_var 1),
             template_var 0)),
         template_app
          (template_app
            (template_app (template_hole 2, template_hole 1),
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 2)),
           template_var 0)))),
    ("Extended_Sturm.jumpF_polyR_inverse_add",
     "coprime ?p ?q ==>
      jumpF_polyR ?q ?p ?x + jumpF_polyR ?p ?q ?x =
      jumpF_polyR 1 (?q * ?p) ?x",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 2),
              template_var 1)
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app
                (template_app (template_hole 2, template_var 1),
                 template_var 2),
               template_var 0)),
           template_app
            (template_app
              (template_app (template_hole 2, template_var 2),
               template_var 1),
             template_var 0)),
         template_app
          (template_app
            (template_app (template_hole 2, template_hole 1),
             template_app
              (template_app (template_hole 0, template_var 1),
               template_var 2)),
           template_var 0)))),
    ("Extended_Sturm.cindex_polyE_mult_cancel",
     "?p' ~= 0 ==>
      cindex_polyE ?a ?b (?p' * ?q) (?p' * ?p) = cindex_polyE ?a ?b ?q ?p",
     template_implication
      ([template_negation
         (template_equation (template_var 4, template_hole 3))],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app (template_hole 1, template_var 3),
               template_var 2),
             template_app
              (template_app (template_hole 0, template_var 4),
               template_var 1)),
           template_app
            (template_app (template_hole 0, template_var 4),
             template_var 0)),
         template_app
          (template_app
            (template_app
              (template_app (template_hole 1, template_var 3),
               template_var 2),
             template_var 1),
           template_var 0)))),
    ("Extended_Sturm.psign_diff_cancel",
     "poly ?r ?x ~= 0 ==>
      psign_diff (?r * ?p) (?r * ?q) ?x = psign_diff ?p ?q ?x",
     template_implication
      ([template_negation
         (
            template_equation
             (template_app
               (template_app (template_hole 4, template_var 3),
                template_var 2),
              template_hole 3)
            )],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 3),
                 template_var 1)),
             template_app
              (template_app (template_hole 0, template_var 3),
               template_var 0)),
           template_var 2),
         template_app
          (template_app
            (template_app (template_hole 1, template_var 1),
             template_var 0),
           template_var 2)))),
    ("Extended_Sturm.cross_alt_coprime_0",
     "[| coprime ?p ?q; ?p = 0 | ?q = 0 |] ==> cross_alt ?p ?q ?a ?b = 0",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 3),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 5,
                template_app
                 (template_app (template_hole 4, template_var 3),
                  template_hole 3)),
              template_app
               (template_app (template_hole 4, template_var 2),
                template_hole 3))
            )],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app (template_hole 1, template_var 3),
               template_var 2),
             template_var 1),
           template_var 0),
         template_hole 0))),
    ("Extended_Sturm.cindexE_eq_cindex_polyE",
     "?a < ?b ==>
      cindexE ?a ?b (%x. poly ?q x / poly ?p x) = cindex_polyE ?a ?b ?q ?p",
     template_implication
      ([template_inequation (less_than, template_var 3, template_var 2)],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 3, template_var 3),
             template_var 2),
           t_empty),
         template_app
          (template_app
            (template_app
              (template_app (template_hole 0, template_var 3),
               template_var 2),
             template_var 1),
           template_var 0)))),
    ("Extended_Sturm.cindex_polyE_inverse_add",
     "coprime ?p ?q ==>
      cindex_polyE ?a ?b ?q ?p + cindex_polyE ?a ?b ?p ?q =
      cindex_polyE ?a ?b 1 (?q * ?p)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 5, template_var 3),
              template_var 2)
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app
                (template_app
                  (template_app (template_hole 2, template_var 1),
                   template_var 0),
                 template_var 2),
               template_var 3)),
           template_app
            (template_app
              (template_app
                (template_app (template_hole 2, template_var 1),
                 template_var 0),
               template_var 3),
             template_var 2)),
         template_app
          (template_app
            (template_app
              (template_app (template_hole 2, template_var 1),
               template_var 0),
             template_hole 1),
           template_app
            (template_app (template_hole 0, template_var 2),
             template_var 3))))),
    ("Extended_Sturm.psign_diff_linear_comp",
     "psign_diff (?p \<circ>\<^sub>p [:?b, ?c:])
       (?q \<circ>\<^sub>p [:?b, ?c:]) ?x =
      psign_diff ?p ?q (?c * ?x + ?b)",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_hole 5,
             template_app
              (template_app (template_hole 4, template_var 4),
               template_app
                (template_app (template_hole 3, template_var 3),
                 template_app
                  (template_app (template_hole 3, template_var 2),
                   template_hole 2)))),
           template_app
            (template_app (template_hole 4, template_var 1),
             template_app
              (template_app (template_hole 3, template_var 3),
               template_app
                (template_app (template_hole 3, template_var 2),
                 template_hole 2)))),
         template_var 0),
       template_app
        (template_app
          (template_app (template_hole 5, template_var 4), template_var 1),
         template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 2),
               template_var 0)),
           template_var 3)))),
    ("Extended_Sturm.cindex_polyE_changes_alt_itv_mods",
     "[| ?a < ?b; coprime ?p ?q |]
      ==> cindex_polyE ?a ?b ?q ?p =
          real_of_int (changes_alt_itv_smods ?a ?b ?p ?q) / 2",
     template_implication
      ([template_inequation (less_than, template_var 3, template_var 2),
        template_predicate
         (
            template_app
             (template_app (template_hole 8, template_var 1),
              template_var 0)
            )],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app (template_hole 6, template_var 3),
               template_var 2),
             template_var 0),
           template_var 1),
         template_app
          (template_app
            (template_hole 5,
             template_app
              (template_hole 4,
               template_app
                (template_app
                  (template_app
                    (template_app (template_hole 3, template_var 3),
                     template_var 2),
                   template_var 1),
                 template_var 0))),
           template_app
            (template_hole 2,
             template_app (template_hole 1, template_hole 0)))))),
    ("Extended_Sturm.coprime_linear_comp",
     "[| coprime ?p ?q; ?c ~= 0 |]
      ==> coprime (?p \<circ>\<^sub>p [:?b, ?c:])
           (?q \<circ>\<^sub>p [:?b, ?c:])",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 3),
              template_var 2)
            ),
        template_negation
         (template_equation (template_var 1, template_hole 3))],
       template_predicate
        (
           template_app
            (template_app
              (template_hole 6,
               template_app
                (template_app (template_hole 2, template_var 3),
                 template_app
                  (template_app (template_hole 1, template_var 0),
                   template_app
                    (template_app (template_hole 1, template_var 1),
                     template_hole 0)))),
             template_app
              (template_app (template_hole 2, template_var 2),
               template_app
                (template_app (template_hole 1, template_var 0),
                 template_app
                  (template_app (template_hole 1, template_var 1),
                   template_hole 0))))
           ))),
    ("Extended_Sturm.jumpF_polyL_order_le",
     "[| order ?x ?q < order ?x ?r; ?q ~= 0 |]
      ==> jumpF_polyL (?r + ?q) ?p ?x = jumpF_polyL ?q ?p ?x",
     template_implication
      ([template_inequation
         (less_than,
          template_app
           (template_app (template_hole 6, template_var 3), template_var 2),
          template_app
           (template_app (template_hole 6, template_var 3),
            template_var 1)),
        template_negation
         (template_equation (template_var 2, template_hole 3))],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 2)),
             template_var 0),
           template_var 3),
         template_app
          (template_app
            (template_app (template_hole 1, template_var 2),
             template_var 0),
           template_var 3)))),
    ("Extended_Sturm.jumpF_polyR_order_le",
     "[| order ?x ?q < order ?x ?r; ?q ~= 0 |]
      ==> jumpF_polyR (?r + ?q) ?p ?x = jumpF_polyR ?q ?p ?x",
     template_implication
      ([template_inequation
         (less_than,
          template_app
           (template_app (template_hole 6, template_var 3), template_var 2),
          template_app
           (template_app (template_hole 6, template_var 3),
            template_var 1)),
        template_negation
         (template_equation (template_var 2, template_hole 3))],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 2)),
             template_var 0),
           template_var 3),
         template_app
          (template_app
            (template_app (template_hole 1, template_var 2),
             template_var 0),
           template_var 3)))),
    ("Extended_Sturm.cindex_polyE_combine",
     "[| ?a < ?b; ?b < ?c |]
      ==> cindex_polyE ?a ?b ?q ?p + cindex_polyE ?b ?c ?q ?p =
          cindex_polyE ?a ?c ?q ?p",
     template_implication
      ([template_inequation (less_than, template_var 4, template_var 3),
        template_inequation (less_than, template_var 3, template_var 2)],
       template_equation
        (template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app
                (template_app
                  (template_app (template_hole 0, template_var 4),
                   template_var 3),
                 template_var 1),
               template_var 0)),
           template_app
            (template_app
              (template_app
                (template_app (template_hole 0, template_var 3),
                 template_var 2),
               template_var 1),
             template_var 0)),
         template_app
          (template_app
            (template_app
              (template_app (template_hole 0, template_var 4),
               template_var 2),
             template_var 1),
           template_var 0)))),
    ("Extended_Sturm.cindexP_lineE_polyE",
     "cindexP_lineE ?p ?a ?b =
      cindex_polyE 0 1 (map_poly Im (?p \<circ>\<^sub>p [:?a, ?b - ?a:]))
       (map_poly Re (?p \<circ>\<^sub>p [:?a, ?b - ?a:]))",
     template_equation
      (template_app
        (template_app
          (template_app (template_hole 10, template_var 2), template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_app
            (template_app (template_hole 9, template_hole 8),
             template_hole 7),
           template_app
            (template_app (template_hole 6, template_hole 5),
             template_app
              (template_app (template_hole 4, template_var 2),
               template_app
                (template_app (template_hole 3, template_var 1),
                 template_app
                  (template_app
                    (template_hole 3,
                     template_app
                      (template_app (template_hole 2, template_var 0),
                       template_var 1)),
                   template_hole 1))))),
         template_app
          (template_app (template_hole 6, template_hole 0),
           template_app
            (template_app (template_hole 4, template_var 2),
             template_app
              (template_app (template_hole 3, template_var 1),
               template_app
                (template_app
                  (template_hole 3,
                   template_app
                    (template_app (template_hole 2, template_var 0),
                     template_var 1)),
                 template_hole 1))))))),
    ("Extended_Sturm.changes_alt_itv_smods_rec",
     "[| ?a < ?b; coprime ?p ?q |]
      ==> changes_alt_itv_smods ?a ?b ?p ?q =
          cross_alt ?p ?q ?a ?b +
          changes_alt_itv_smods ?a ?b ?q (- (?p mod ?q))",
     template_implication
      ([template_inequation (less_than, template_var 3, template_var 2),
        template_predicate
         (
            template_app
             (template_app (template_hole 6, template_var 1),
              template_var 0)
            )],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app (template_hole 4, template_var 3),
               template_var 2),
             template_var 1),
           template_var 0),
         template_app
          (template_app
            (template_hole 3,
             template_app
              (template_app
                (template_app
                  (template_app (template_hole 2, template_var 1),
                   template_var 0),
                 template_var 3),
               template_var 2)),
           template_app
            (template_app
              (template_app
                (template_app (template_hole 4, template_var 3),
                 template_var 2),
               template_var 0),
             template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 1),
                 template_var 0))))))),
    ("Extended_Sturm.cindex_polyE_noroot",
     "[| ?a < ?b; ALL x. ?a <= x & x <= ?b --> poly ?p x ~= 0 |]
      ==> cindex_polyE ?a ?b ?q ?p = 0",
     template_implication
      ([template_inequation (less_than, template_var 3, template_var 2),
        template_predicate (template_app (template_hole 8, t_empty))],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app (template_hole 0, template_var 3),
               template_var 2),
             template_var 0),
           template_var 1),
         template_hole 1))),
    ("Extended_Sturm.cross_alt_linear_comp",
     "cross_alt (?p \<circ>\<^sub>p [:?b, ?c:])
       (?q \<circ>\<^sub>p [:?b, ?c:]) ?lb ?ub =
      cross_alt ?p ?q (?c * ?lb + ?b) (?c * ?ub + ?b)",
     template_equation
      (template_app
        (template_app
          (template_app
            (template_app
              (template_hole 5,
               template_app
                (template_app (template_hole 4, template_var 5),
                 template_app
                  (template_app (template_hole 3, template_var 4),
                   template_app
                    (template_app (template_hole 3, template_var 3),
                     template_hole 2)))),
             template_app
              (template_app (template_hole 4, template_var 2),
               template_app
                (template_app (template_hole 3, template_var 4),
                 template_app
                  (template_app (template_hole 3, template_var 3),
                   template_hole 2)))),
           template_var 1),
         template_var 0),
       template_app
        (template_app
          (template_app
            (template_app (template_hole 5, template_var 5),
             template_var 2),
           template_app
            (template_app
              (template_hole 1,
               template_app
                (template_app (template_hole 0, template_var 3),
                 template_var 1)),
             template_var 4)),
         template_app
          (template_app
            (template_hole 1,
             template_app
              (template_app (template_hole 0, template_var 3),
               template_var 0)),
           template_var 4)))),
    ("Extended_Sturm.cross_alt_cancel",
     "[| poly ?q ?a ~= 0; poly ?q ?b ~= 0 |]
      ==> cross_alt (?q * ?r) (?q * ?s) ?a ?b = cross_alt ?r ?s ?a ?b",
     template_implication
      ([template_negation
         (
            template_equation
             (template_app
               (template_app (template_hole 4, template_var 4),
                template_var 3),
              template_hole 3)
            ),
        template_negation
         (
            template_equation
             (template_app
               (template_app (template_hole 4, template_var 4),
                template_var 2),
              template_hole 3)
            )],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app
                (template_hole 1,
                 template_app
                  (template_app (template_hole 0, template_var 4),
                   template_var 1)),
               template_app
                (template_app (template_hole 0, template_var 4),
                 template_var 0)),
             template_var 3),
           template_var 2),
         template_app
          (template_app
            (template_app
              (template_app (template_hole 1, template_var 1),
               template_var 0),
             template_var 3),
           template_var 2)))),
    ("Extended_Sturm.cindex_poly_combine",
     "[| ?a < ?b; ?b < ?c |]
      ==> cindex_poly ?a ?b ?q ?p + jump_poly ?q ?p ?b +
          cindex_poly ?b ?c ?q ?p =
          cindex_poly ?a ?c ?q ?p",
     template_implication
      ([template_inequation (less_than, template_var 4, template_var 3),
        template_inequation (less_than, template_var 3, template_var 2)],
       template_equation
        (template_app
          (template_app
            (template_hole 2,
             template_app
              (template_app
                (template_hole 2,
                 template_app
                  (template_app
                    (template_app
                      (template_app (template_hole 1, template_var 4),
                       template_var 3),
                     template_var 1),
                   template_var 0)),
               template_app
                (template_app
                  (template_app (template_hole 0, template_var 1),
                   template_var 0),
                 template_var 3))),
           template_app
            (template_app
              (template_app
                (template_app (template_hole 1, template_var 3),
                 template_var 2),
               template_var 1),
             template_var 0)),
         template_app
          (template_app
            (template_app
              (template_app (template_hole 1, template_var 4),
               template_var 2),
             template_var 1),
           template_var 0)))),
    ("Extended_Sturm.cindex_polyE_inverse_add_cross",
     "[| ?a < ?b; coprime ?p ?q |]
      ==> cindex_polyE ?a ?b ?q ?p + cindex_polyE ?a ?b ?p ?q =
          real_of_int (cross_alt ?p ?q ?a ?b) / 2",
     template_implication
      ([template_inequation (less_than, template_var 3, template_var 2),
        template_predicate
         (
            template_app
             (template_app (template_hole 9, template_var 1),
              template_var 0)
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 7,
             template_app
              (template_app
                (template_app
                  (template_app (template_hole 6, template_var 3),
                   template_var 2),
                 template_var 0),
               template_var 1)),
           template_app
            (template_app
              (template_app
                (template_app (template_hole 6, template_var 3),
                 template_var 2),
               template_var 1),
             template_var 0)),
         template_app
          (template_app
            (template_hole 5,
             template_app
              (template_hole 4,
               template_app
                (template_app
                  (template_app
                    (template_app (template_hole 3, template_var 1),
                     template_var 0),
                   template_var 3),
                 template_var 2))),
           template_app
            (template_hole 2,
             template_app (template_hole 1, template_hole 0)))))),
    ("Extended_Sturm.cross_alt_noroot",
     "[| ?a < ?b; ALL x. ?a <= x & x <= ?b --> poly (?p * ?q) x ~= 0 |]
      ==> cross_alt ?p ?q ?a ?b = 0",
     template_implication
      ([template_inequation (less_than, template_var 3, template_var 2),
        template_predicate (template_app (template_hole 11, t_empty))],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app (template_hole 1, template_var 1),
               template_var 0),
             template_var 3),
           template_var 2),
         template_hole 0))),
    ("Extended_Sturm.jumpF_times",
     "[| (?f \<longlongrightarrow> ?c) ?F; ?c ~= 0; ?F ~= bot |]
      ==> jumpF (%x. ?f x * ?g x) ?F = sgn ?c * jumpF ?g ?F",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 9, template_var 3),
                template_app (template_hole 8, template_var 2)),
              template_var 1)
            ),
        template_negation
         (template_equation (template_var 2, template_hole 5)),
        template_negation
         (template_equation (template_var 1, template_hole 3))],
       template_equation
        (template_app
          (template_app (template_hole 2, t_empty), template_var 1),
         template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 0, template_var 2)),
           template_app
            (template_app (template_hole 2, template_var 0),
             template_var 1))))),
    ("Extended_Sturm.cindex_polyE_rec",
     "[| ?a < ?b; coprime ?p ?q |]
      ==> cindex_polyE ?a ?b ?q ?p =
          real_of_int (cross_alt ?q ?p ?a ?b) / 2 +
          cindex_polyE ?a ?b (- (?p mod ?q)) ?q",
     template_implication
      ([template_inequation (less_than, template_var 3, template_var 2),
        template_predicate
         (
            template_app
             (template_app (template_hole 11, template_var 1),
              template_var 0)
            )],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app (template_hole 9, template_var 3),
               template_var 2),
             template_var 0),
           template_var 1),
         template_app
          (template_app
            (template_hole 8,
             template_app
              (template_app
                (template_hole 7,
                 template_app
                  (template_hole 6,
                   template_app
                    (template_app
                      (template_app
                        (template_app (template_hole 5, template_var 0),
                         template_var 1),
                       template_var 3),
                     template_var 2))),
               template_app
                (template_hole 4,
                 template_app (template_hole 3, template_hole 2)))),
           template_app
            (template_app
              (template_app
                (template_app (template_hole 9, template_var 3),
                 template_var 2),
               template_app
                (template_hole 1,
                 template_app
                  (template_app (template_hole 0, template_var 1),
                   template_var 0))),
             template_var 0))))),
    ("Extended_Sturm.sgnx_poly_times",
     "?F = at_bot | ?F = at_top | ?F = at_right ?x | ?F = at_left ?x ==>
      sgnx (poly (?p * ?q)) ?F = sgnx (poly ?p) ?F * sgnx (poly ?q) ?F",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 11,
                template_app
                 (template_app (template_hole 10, template_var 3),
                  template_hole 9)),
              template_app
               (template_app
                 (template_hole 11,
                  template_app
                   (template_app (template_hole 10, template_var 3),
                    template_hole 8)),
                template_app
                 (template_app
                   (template_hole 11,
                    template_app
                     (template_app (template_hole 10, template_var 3),
                      template_app
                       (template_app (template_hole 7, template_var 2),
                        template_app (template_hole 6, template_var 2)))),
                  template_app
                   (template_app (template_hole 10, template_var 3),
                    template_app
                     (template_app (template_hole 7, template_var 2),
                      template_app (template_hole 5, template_var 2))))))
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 3,
             template_app
              (template_hole 2,
               template_app
                (template_app (template_hole 1, template_var 1),
                 template_var 0))),
           template_var 3),
         template_app
          (template_app
            (template_hole 0,
             template_app
              (template_app
                (template_hole 3,
                 template_app (template_hole 2, template_var 1)),
               template_var 3)),
           template_app
            (template_app
              (template_hole 3,
               template_app (template_hole 2, template_var 0)),
             template_var 3))))),
    ("Extended_Sturm.jumpF_poly_bot_code",
     "jumpF_poly_bot ?q ?p =
      (if ?p ~= 0 & ?q ~= 0 & degree ?p < degree ?q
       then if 0 < sgn_neg_inf ?q * sgn_neg_inf ?p then 1 / 2 else - 1 / 2
       else 0)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 17, template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 16,
                 template_app
                  (template_app
                    (template_hole 15,
                     template_app
                      (template_hole 14,
                       template_app
                        (template_app (template_hole 13, template_var 0),
                         template_hole 12))),
                   template_app
                    (template_app
                      (template_hole 15,
                       template_app
                        (template_hole 14,
                         template_app
                          (template_app (template_hole 13, template_var 1),
                           template_hole 12))),
                     template_app
                      (template_app
                        (template_hole 11,
                         template_app (template_hole 10, template_var 0)),
                       template_app (template_hole 10, template_var 1))))),
               template_app
                (template_app
                  (template_app
                    (template_hole 16,
                     template_app
                      (template_app (template_hole 9, template_hole 8),
                       template_app
                        (template_app
                          (template_hole 7,
                           template_app (template_hole 6, template_var 1)),
                         template_app (template_hole 6, template_var 0)))),
                   template_app
                    (template_app (template_hole 5, template_hole 4),
                     template_app
                      (template_hole 3,
                       template_app (template_hole 2, template_hole 1)))),
                 template_app
                  (template_app
                    (template_hole 5,
                     template_app (template_hole 0, template_hole 4)),
                   template_app
                    (template_hole 3,
                     template_app (template_hole 2, template_hole 1))))),
             template_hole 8)
           ))),
    ("Extended_Sturm.jumpF_poly_top_code",
     "jumpF_poly_top ?q ?p =
      (if ?p ~= 0 & ?q ~= 0 & degree ?p < degree ?q
       then if 0 < sgn_pos_inf ?q * sgn_pos_inf ?p then 1 / 2 else - 1 / 2
       else 0)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 17, template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 16,
                 template_app
                  (template_app
                    (template_hole 15,
                     template_app
                      (template_hole 14,
                       template_app
                        (template_app (template_hole 13, template_var 0),
                         template_hole 12))),
                   template_app
                    (template_app
                      (template_hole 15,
                       template_app
                        (template_hole 14,
                         template_app
                          (template_app (template_hole 13, template_var 1),
                           template_hole 12))),
                     template_app
                      (template_app
                        (template_hole 11,
                         template_app (template_hole 10, template_var 0)),
                       template_app (template_hole 10, template_var 1))))),
               template_app
                (template_app
                  (template_app
                    (template_hole 16,
                     template_app
                      (template_app (template_hole 9, template_hole 8),
                       template_app
                        (template_app
                          (template_hole 7,
                           template_app (template_hole 6, template_var 1)),
                         template_app (template_hole 6, template_var 0)))),
                   template_app
                    (template_app (template_hole 5, template_hole 4),
                     template_app
                      (template_hole 3,
                       template_app (template_hole 2, template_hole 1)))),
                 template_app
                  (template_app
                    (template_hole 5,
                     template_app (template_hole 0, template_hole 4)),
                   template_app
                    (template_hole 3,
                     template_app (template_hole 2, template_hole 1))))),
             template_hole 8)
           ))),
    ("Extended_Sturm.sgnx_poly_plus",
     "[| poly ?p ?x = 0; poly ?q ?x ~= 0;
         ?F = at_right ?x | ?F = at_left ?x |]
      ==> sgnx (poly (?p + ?q)) ?F = sgnx (poly ?q) ?F",
     template_implication
      ([template_equation
         (template_app
           (template_app (template_hole 9, template_var 3), template_var 2),
          template_hole 8),
        template_negation
         (
            template_equation
             (template_app
               (template_app (template_hole 9, template_var 1),
                template_var 2),
              template_hole 8)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 6,
                template_app
                 (template_app (template_hole 5, template_var 0),
                  template_app
                   (template_app (template_hole 4, template_var 2),
                    template_app (template_hole 3, template_var 2)))),
              template_app
               (template_app (template_hole 5, template_var 0),
                template_app
                 (template_app (template_hole 4, template_var 2),
                  template_app (template_hole 2, template_var 2))))
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 1,
             template_app
              (template_hole 9,
               template_app
                (template_app (template_hole 0, template_var 3),
                 template_var 1))),
           template_var 0),
         template_app
          (template_app
            (template_hole 1,
             template_app (template_hole 9, template_var 1)),
           template_var 0)))),
    ("Extended_Sturm.cindex_poly_pathE_joinpaths",
     "[| finite_ReZ_segments (poly ?p o ?g1.0) 0;
         finite_ReZ_segments (poly ?p o ?g2.0) 0; path ?g1.0; path ?g2.0;
         pathfinish ?g1.0 = pathstart ?g2.0 |]
      ==> cindexP_pathE ?p (?g1.0 +++ ?g2.0) =
          cindexP_pathE ?p ?g1.0 + cindexP_pathE ?p ?g2.0",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 11,
                template_app
                 (template_app
                   (template_hole 10,
                    template_app (template_hole 9, template_var 2)),
                  template_var 1)),
              template_hole 8)
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 11,
                template_app
                 (template_app
                   (template_hole 10,
                    template_app (template_hole 9, template_var 2)),
                  template_var 0)),
              template_hole 8)
            ),
        template_predicate (template_app (template_hole 7, template_var 1)),
        template_predicate (template_app (template_hole 7, template_var 0)),
        template_equation
         (template_app (template_hole 5, template_var 1),
          template_app (template_hole 4, template_var 0))],
       template_equation
        (template_app
          (template_app (template_hole 2, template_var 2),
           template_app
            (template_app (template_hole 1, template_var 1),
             template_var 0)),
         template_app
          (template_app
            (template_hole 0,
             template_app
              (template_app (template_hole 2, template_var 2),
               template_var 1)),
           template_app
            (template_app (template_hole 2, template_var 2),
             template_var 0))))),
    ("Extended_Sturm.jumpF_polyR_coprime",
     "coprime ?p ?q ==>
      jumpF_polyR ?q ?p ?x =
      (if ?p ~= 0 & ?q ~= 0 & poly ?p ?x = 0
       then if sign_r_pos ?p ?x = (0 < poly ?q ?x) then 1 / 2 else - 1 / 2
       else 0)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 18, template_var 2),
              template_var 1)
            )],
       template_implication
        ([template_predicate
           (
              template_app
               (template_app
                 (template_app (template_hole 16, template_var 1),
                  template_var 2),
                template_var 0)
              )],
         template_predicate
          (
             template_app
              (template_app
                (template_app
                  (template_hole 15,
                   template_app
                    (template_app
                      (template_hole 14,
                       template_app
                        (template_hole 13,
                         template_app
                          (template_app (template_hole 12, template_var 2),
                           template_hole 11))),
                     template_app
                      (template_app
                        (template_hole 14,
                         template_app
                          (template_hole 13,
                           template_app
                            (template_app
                              (template_hole 12, template_var 1),
                             template_hole 11))),
                       template_app
                        (template_app
                          (template_hole 17,
                           template_app
                            (template_app
                              (template_hole 10, template_var 2),
                             template_var 0)),
                         template_hole 9)))),
                 template_app
                  (template_app
                    (template_app
                      (template_hole 15,
                       template_app
                        (template_app
                          (template_hole 8,
                           template_app
                            (template_app (template_hole 7, template_var 2),
                             template_var 0)),
                         template_app
                          (template_app (template_hole 6, template_hole 9),
                           template_app
                            (template_app
                              (template_hole 10, template_var 1),
                             template_var 0)))),
                     template_app
                      (template_app (template_hole 5, template_hole 4),
                       template_app
                        (template_hole 3,
                         template_app (template_hole 2, template_hole 1)))),
                   template_app
                    (template_app
                      (template_hole 5,
                       template_app (template_hole 0, template_hole 4)),
                     template_app
                      (template_hole 3,
                       template_app (template_hole 2, template_hole 1))))),
               template_hole 9)
             )))),
    ("Extended_Sturm.jumpF_polyL_coprime",
     "coprime ?p ?q ==>
      jumpF_polyL ?q ?p ?x =
      (if ?p ~= 0 & ?q ~= 0 & poly ?p ?x = 0
       then if even (order ?x ?p) = (sign_r_pos ?p ?x = (0 < poly ?q ?x))
            then 1 / 2 else - 1 / 2
       else 0)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app (template_hole 21, template_var 2),
              template_var 1)
            )],
       template_implication
        ([template_predicate
           (
              template_app
               (template_app
                 (template_app (template_hole 19, template_var 1),
                  template_var 2),
                template_var 0)
              )],
         template_predicate
          (
             template_app
              (template_app
                (template_app
                  (template_hole 18,
                   template_app
                    (template_app
                      (template_hole 17,
                       template_app
                        (template_hole 16,
                         template_app
                          (template_app (template_hole 15, template_var 2),
                           template_hole 14))),
                     template_app
                      (template_app
                        (template_hole 17,
                         template_app
                          (template_hole 16,
                           template_app
                            (template_app
                              (template_hole 15, template_var 1),
                             template_hole 14))),
                       template_app
                        (template_app
                          (template_hole 20,
                           template_app
                            (template_app
                              (template_hole 13, template_var 2),
                             template_var 0)),
                         template_hole 12)))),
                 template_app
                  (template_app
                    (template_app
                      (template_hole 18,
                       template_app
                        (template_app
                          (template_hole 11,
                           template_app
                            (template_app
                              (template_hole 10,
                               template_app
                                (template_hole 9,
                                 template_app
                                  (template_hole 8, template_hole 7))),
                             template_app
                              (template_app
                                (template_hole 6, template_var 0),
                               template_var 2))),
                         template_app
                          (template_app
                            (template_hole 11,
                             template_app
                              (template_app
                                (template_hole 5, template_var 2),
                               template_var 0)),
                           template_app
                            (template_app
                              (template_hole 4, template_hole 12),
                             template_app
                              (template_app
                                (template_hole 13, template_var 1),
                               template_var 0))))),
                     template_app
                      (template_app (template_hole 3, template_hole 2),
                       template_app
                        (template_hole 1,
                         template_app (template_hole 8, template_hole 7)))),
                   template_app
                    (template_app
                      (template_hole 3,
                       template_app (template_hole 0, template_hole 2)),
                     template_app
                      (template_hole 1,
                       template_app (template_hole 8, template_hole 7))))),
               template_hole 12)
             )))),
    ("Extended_Sturm.poly_divide_filterlim_at_bot",
     "[| ?p ~= 0; ?q ~= 0 |]
      ==> LIM x at_bot.
             poly ?q x /
             poly ?p
              x :> if degree ?q < degree ?p then at 0
                   else if degree ?q = degree ?p
                        then nhds (lead_coeff ?q / lead_coeff ?p)
                        else if 0 < sgn_neg_inf ?q * sgn_neg_inf ?p
                             then at_top else at_bot",
     template_implication
      ([template_negation
         (template_equation (template_var 1, template_hole 17)),
        template_negation
         (template_equation (template_var 0, template_hole 17))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 16, t_empty),
               template_app
                (template_app
                  (template_app
                    (template_hole 13,
                     template_app
                      (template_app
                        (template_hole 12,
                         template_app (template_hole 11, template_var 0)),
                       template_app (template_hole 11, template_var 1))),
                   template_app
                    (template_app (template_hole 10, template_hole 9),
                     template_hole 8)),
                 template_app
                  (template_app
                    (template_app
                      (template_hole 13,
                       template_app
                        (template_app
                          (template_hole 7,
                           template_app (template_hole 11, template_var 0)),
                         template_app (template_hole 11, template_var 1))),
                     template_app
                      (template_hole 6,
                       template_app
                        (template_app
                          (template_hole 15,
                           template_app
                            (template_app (template_hole 5, template_var 0),
                             template_app
                              (template_hole 11, template_var 0))),
                         template_app
                          (template_app (template_hole 5, template_var 1),
                           template_app
                            (template_hole 11, template_var 1))))),
                   template_app
                    (template_app
                      (template_app
                        (template_hole 13,
                         template_app
                          (template_app (template_hole 4, template_hole 9),
                           template_app
                            (template_app
                              (template_hole 3,
                               template_app
                                (template_hole 2, template_var 0)),
                             template_app
                              (template_hole 2, template_var 1)))),
                       template_hole 1),
                     template_hole 0)))),
             template_hole 0)
           ))),
    ("Extended_Sturm.poly_divide_filterlim_at_top",
     "[| ?p ~= 0; ?q ~= 0 |]
      ==> LIM x at_top.
             poly ?q x /
             poly ?p
              x :> if degree ?q < degree ?p then at 0
                   else if degree ?q = degree ?p
                        then nhds (lead_coeff ?q / lead_coeff ?p)
                        else if 0 < sgn_pos_inf ?q * sgn_pos_inf ?p
                             then at_top else at_bot",
     template_implication
      ([template_negation
         (template_equation (template_var 1, template_hole 17)),
        template_negation
         (template_equation (template_var 0, template_hole 17))],
       template_predicate
        (
           template_app
            (template_app
              (template_app (template_hole 16, t_empty),
               template_app
                (template_app
                  (template_app
                    (template_hole 13,
                     template_app
                      (template_app
                        (template_hole 12,
                         template_app (template_hole 11, template_var 0)),
                       template_app (template_hole 11, template_var 1))),
                   template_app
                    (template_app (template_hole 10, template_hole 9),
                     template_hole 8)),
                 template_app
                  (template_app
                    (template_app
                      (template_hole 13,
                       template_app
                        (template_app
                          (template_hole 7,
                           template_app (template_hole 11, template_var 0)),
                         template_app (template_hole 11, template_var 1))),
                     template_app
                      (template_hole 6,
                       template_app
                        (template_app
                          (template_hole 15,
                           template_app
                            (template_app (template_hole 5, template_var 0),
                             template_app
                              (template_hole 11, template_var 0))),
                         template_app
                          (template_app (template_hole 5, template_var 1),
                           template_app
                            (template_hole 11, template_var 1))))),
                   template_app
                    (template_app
                      (template_app
                        (template_hole 13,
                         template_app
                          (template_app (template_hole 4, template_hole 9),
                           template_app
                            (template_app
                              (template_hole 3,
                               template_app
                                (template_hole 2, template_var 0)),
                             template_app
                              (template_hole 2, template_var 1)))),
                       template_hole 1),
                     template_hole 0)))),
             template_hole 1)
           ))),
    ("Extended_Sturm.cindexP_lineE_changes",
     "[| ?p ~= 0; ?a ~= ?b |]
      ==> cindexP_lineE ?p ?a ?b =
          (let p1 = ?p \<circ>\<^sub>p [:?a, ?b - ?a:];
               pR1 = map_poly Re p1; pI1 = map_poly Im p1; gc1 = gcd pR1 pI1
           in real_of_int
               (changes_alt_itv_smods 0 1 (pR1 div gc1) (pI1 div gc1)) /
              2)",
     template_implication
      ([template_negation
         (template_equation (template_var 2, template_hole 21)),
        template_negation
         (template_equation (template_var 1, template_var 0))],
       template_equation
        (template_app
          (template_app
            (template_app (template_hole 18, template_var 2),
             template_var 1),
           template_var 0),
         template_app
          (template_app
            (template_hole 17,
             template_app
              (template_app (template_hole 16, template_var 2),
               template_app
                (template_app (template_hole 15, template_var 1),
                 template_app
                  (template_app
                    (template_hole 15,
                     template_app
                      (template_app (template_hole 14, template_var 0),
                       template_var 1)),
                   template_hole 21)))),
           t_empty)))),
    ("Extended_Sturm.cindex_polyE_inverse_add_cross'",
     "[| ?a < ?b; poly ?p ?a ~= 0 | poly ?q ?a ~= 0;
         poly ?p ?b ~= 0 | poly ?q ?b ~= 0 |]
      ==> cindex_polyE ?a ?b ?q ?p + cindex_polyE ?a ?b ?p ?q =
          real_of_int (cross_alt ?p ?q ?a ?b) / 2",
     template_implication
      ([template_inequation (less_than, template_var 3, template_var 2),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 12,
                template_app
                 (template_hole 11,
                  template_app
                   (template_app
                     (template_hole 10,
                      template_app
                       (template_app (template_hole 9, template_var 1),
                        template_var 3)),
                    template_hole 8))),
              template_app
               (template_hole 11,
                template_app
                 (template_app
                   (template_hole 10,
                    template_app
                     (template_app (template_hole 9, template_var 0),
                      template_var 3)),
                  template_hole 8)))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 12,
                template_app
                 (template_hole 11,
                  template_app
                   (template_app
                     (template_hole 10,
                      template_app
                       (template_app (template_hole 9, template_var 1),
                        template_var 2)),
                    template_hole 8))),
              template_app
               (template_hole 11,
                template_app
                 (template_app
                   (template_hole 10,
                    template_app
                     (template_app (template_hole 9, template_var 0),
                      template_var 2)),
                  template_hole 8)))
            )],
       template_equation
        (template_app
          (template_app
            (template_hole 7,
             template_app
              (template_app
                (template_app
                  (template_app (template_hole 6, template_var 3),
                   template_var 2),
                 template_var 0),
               template_var 1)),
           template_app
            (template_app
              (template_app
                (template_app (template_hole 6, template_var 3),
                 template_var 2),
               template_var 1),
             template_var 0)),
         template_app
          (template_app
            (template_hole 5,
             template_app
              (template_hole 4,
               template_app
                (template_app
                  (template_app
                    (template_app (template_hole 3, template_var 1),
                     template_var 0),
                   template_var 3),
                 template_var 2))),
           template_app
            (template_hole 2,
             template_app (template_hole 1, template_hole 0)))))),
    ("Extended_Sturm.jumpF_polyR_coprime'",
     "poly ?p ?x ~= 0 | poly ?q ?x ~= 0 ==>
      jumpF_polyR ?q ?p ?x =
      (if ?p ~= 0 & ?q ~= 0 & poly ?p ?x = 0
       then if sign_r_pos ?p ?x = (0 < poly ?q ?x) then 1 / 2 else - 1 / 2
       else 0)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 18,
                template_app
                 (template_hole 17,
                  template_app
                   (template_app
                     (template_hole 16,
                      template_app
                       (template_app (template_hole 15, template_var 2),
                        template_var 1)),
                    template_hole 14))),
              template_app
               (template_hole 17,
                template_app
                 (template_app
                   (template_hole 16,
                    template_app
                     (template_app (template_hole 15, template_var 0),
                      template_var 1)),
                  template_hole 14)))
            )],
       template_implication
        ([template_predicate
           (
              template_app
               (template_app
                 (template_app (template_hole 13, template_var 0),
                  template_var 2),
                template_var 1)
              )],
         template_predicate
          (
             template_app
              (template_app
                (template_app
                  (template_hole 12,
                   template_app
                    (template_app
                      (template_hole 11,
                       template_app
                        (template_hole 17,
                         template_app
                          (template_app (template_hole 10, template_var 2),
                           template_hole 9))),
                     template_app
                      (template_app
                        (template_hole 11,
                         template_app
                          (template_hole 17,
                           template_app
                            (template_app
                              (template_hole 10, template_var 0),
                             template_hole 9))),
                       template_app
                        (template_app
                          (template_hole 16,
                           template_app
                            (template_app
                              (template_hole 15, template_var 2),
                             template_var 1)),
                         template_hole 14)))),
                 template_app
                  (template_app
                    (template_app
                      (template_hole 12,
                       template_app
                        (template_app
                          (template_hole 8,
                           template_app
                            (template_app (template_hole 7, template_var 2),
                             template_var 1)),
                         template_app
                          (template_app (template_hole 6, template_hole 14),
                           template_app
                            (template_app
                              (template_hole 15, template_var 0),
                             template_var 1)))),
                     template_app
                      (template_app (template_hole 5, template_hole 4),
                       template_app
                        (template_hole 3,
                         template_app (template_hole 2, template_hole 1)))),
                   template_app
                    (template_app
                      (template_hole 5,
                       template_app (template_hole 0, template_hole 4)),
                     template_app
                      (template_hole 3,
                       template_app (template_hole 2, template_hole 1))))),
               template_hole 14)
             )))),
    ("Extended_Sturm.cindexP_lineE_times",
     "[| poly ?p ?a ~= 0; poly ?p ?b ~= 0; poly ?q ?a ~= 0;
         poly ?q ?b ~= 0 |]
      ==> cindexP_lineE (?p * ?q) ?a ?b =
          cindexP_lineE ?p ?a ?b + cindexP_lineE ?q ?a ?b +
          real_of_int (cdiff_aux ?p ?q ?a ?b) / 2",
     template_implication
      ([template_negation
         (
            template_equation
             (template_app
               (template_app (template_hole 11, template_var 3),
                template_var 2),
              template_hole 10)
            ),
        template_negation
         (
            template_equation
             (template_app
               (template_app (template_hole 11, template_var 3),
                template_var 1),
              template_hole 10)
            ),
        template_negation
         (
            template_equation
             (template_app
               (template_app (template_hole 11, template_var 0),
                template_var 2),
              template_hole 10)
            ),
        template_negation
         (
            template_equation
             (template_app
               (template_app (template_hole 11, template_var 0),
                template_var 1),
              template_hole 10)
            )],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_hole 8,
               template_app
                (template_app (template_hole 7, template_var 3),
                 template_var 0)),
             template_var 2),
           template_var 1),
         template_app
          (template_app
            (template_hole 6,
             template_app
              (template_app
                (template_hole 6,
                 template_app
                  (template_app
                    (template_app (template_hole 8, template_var 3),
                     template_var 2),
                   template_var 1)),
               template_app
                (template_app
                  (template_app (template_hole 8, template_var 0),
                   template_var 2),
                 template_var 1))),
           template_app
            (template_app
              (template_hole 5,
               template_app
                (template_hole 4,
                 template_app
                  (template_app
                    (template_app
                      (template_app (template_hole 3, template_var 3),
                       template_var 0),
                     template_var 2),
                   template_var 1))),
             template_app
              (template_hole 2,
               template_app (template_hole 1, template_hole 0))))))),
    ("Extended_Sturm.cindex_polyE_linear_comp",
     "[| ?lb < ?ub; ?c ~= 0 |]
      ==> cindex_polyE ?lb ?ub (?q \<circ>\<^sub>p [:?b, ?c:])
           (?p \<circ>\<^sub>p [:?b, ?c:]) =
          (if 0 < ?c then cindex_polyE (?c * ?lb + ?b) (?c * ?ub + ?b) ?q ?p
           else - cindex_polyE (?c * ?ub + ?b) (?c * ?lb + ?b) ?q ?p)",
     template_implication
      ([template_inequation (less_than, template_var 5, template_var 4),
        template_negation
         (template_equation (template_var 3, template_hole 8))],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app (template_hole 7, template_var 5),
               template_var 4),
             template_app
              (template_app (template_hole 6, template_var 2),
               template_app
                (template_app (template_hole 5, template_var 1),
                 template_app
                  (template_app (template_hole 5, template_var 3),
                   template_hole 4)))),
           template_app
            (template_app (template_hole 6, template_var 0),
             template_app
              (template_app (template_hole 5, template_var 1),
               template_app
                (template_app (template_hole 5, template_var 3),
                 template_hole 4)))),
         template_app
          (template_app
            (template_app
              (template_hole 3,
               template_app
                (template_app (template_hole 11, template_hole 8),
                 template_var 3)),
             template_app
              (template_app
                (template_app
                  (template_app
                    (template_hole 7,
                     template_app
                      (template_app
                        (template_hole 2,
                         template_app
                          (template_app (template_hole 1, template_var 3),
                           template_var 5)),
                       template_var 1)),
                   template_app
                    (template_app
                      (template_hole 2,
                       template_app
                        (template_app (template_hole 1, template_var 3),
                         template_var 4)),
                     template_var 1)),
                 template_var 2),
               template_var 0)),
           template_app
            (template_hole 0,
             template_app
              (template_app
                (template_app
                  (template_app
                    (template_hole 7,
                     template_app
                      (template_app
                        (template_hole 2,
                         template_app
                          (template_app (template_hole 1, template_var 3),
                           template_var 4)),
                       template_var 1)),
                   template_app
                    (template_app
                      (template_hole 2,
                       template_app
                        (template_app (template_hole 1, template_var 3),
                         template_var 5)),
                     template_var 1)),
                 template_var 2),
               template_var 0)))))),
    ("Extended_Sturm.cindex_polyE_product'",
     "[| ?a < ?b; coprime ?q ?p; coprime ?s ?r |]
      ==> cindex_polyE ?a ?b (?p * ?r - ?q * ?s) (?p * ?s + ?q * ?r) =
          cindex_polyE ?a ?b ?p ?q + cindex_polyE ?a ?b ?r ?s -
          real_of_int (cross_alt (?p * ?s + ?q * ?r) (?q * ?s) ?a ?b) / 2",
     template_implication
      ([template_inequation (less_than, template_var 5, template_var 4),
        template_predicate
         (
            template_app
             (template_app (template_hole 13, template_var 3),
              template_var 2)
            ),
        template_predicate
         (
            template_app
             (template_app (template_hole 13, template_var 1),
              template_var 0)
            )],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app (template_hole 11, template_var 5),
               template_var 4),
             template_app
              (template_app
                (template_hole 10,
                 template_app
                  (template_app (template_hole 9, template_var 2),
                   template_var 0)),
               template_app
                (template_app (template_hole 9, template_var 3),
                 template_var 1))),
           template_app
            (template_app
              (template_hole 8,
               template_app
                (template_app (template_hole 9, template_var 2),
                 template_var 1)),
             template_app
              (template_app (template_hole 9, template_var 3),
               template_var 0))),
         template_app
          (template_app
            (template_hole 7,
             template_app
              (template_app
                (template_hole 6,
                 template_app
                  (template_app
                    (template_app
                      (template_app (template_hole 11, template_var 5),
                       template_var 4),
                     template_var 2),
                   template_var 3)),
               template_app
                (template_app
                  (template_app
                    (template_app (template_hole 11, template_var 5),
                     template_var 4),
                   template_var 0),
                 template_var 1))),
           template_app
            (template_app
              (template_hole 5,
               template_app
                (template_hole 4,
                 template_app
                  (template_app
                    (template_app
                      (template_app
                        (template_hole 3,
                         template_app
                          (template_app
                            (template_hole 8,
                             template_app
                              (template_app
                                (template_hole 9, template_var 2),
                               template_var 1)),
                           template_app
                            (template_app (template_hole 9, template_var 3),
                             template_var 0))),
                       template_app
                        (template_app (template_hole 9, template_var 3),
                         template_var 1)),
                     template_var 5),
                   template_var 4))),
             template_app
              (template_hole 2,
               template_app (template_hole 1, template_hole 0))))))),
    ("Extended_Sturm.jumpF_polyL_coprime'",
     "poly ?p ?x ~= 0 | poly ?q ?x ~= 0 ==>
      jumpF_polyL ?q ?p ?x =
      (if ?p ~= 0 & ?q ~= 0 & poly ?p ?x = 0
       then if even (order ?x ?p) = (sign_r_pos ?p ?x = (0 < poly ?q ?x))
            then 1 / 2 else - 1 / 2
       else 0)",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_hole 21,
                template_app
                 (template_hole 20,
                  template_app
                   (template_app
                     (template_hole 19,
                      template_app
                       (template_app (template_hole 18, template_var 2),
                        template_var 1)),
                    template_hole 17))),
              template_app
               (template_hole 20,
                template_app
                 (template_app
                   (template_hole 19,
                    template_app
                     (template_app (template_hole 18, template_var 0),
                      template_var 1)),
                  template_hole 17)))
            )],
       template_implication
        ([template_predicate
           (
              template_app
               (template_app
                 (template_app (template_hole 16, template_var 0),
                  template_var 2),
                template_var 1)
              )],
         template_predicate
          (
             template_app
              (template_app
                (template_app
                  (template_hole 15,
                   template_app
                    (template_app
                      (template_hole 14,
                       template_app
                        (template_hole 20,
                         template_app
                          (template_app (template_hole 13, template_var 2),
                           template_hole 12))),
                     template_app
                      (template_app
                        (template_hole 14,
                         template_app
                          (template_hole 20,
                           template_app
                            (template_app
                              (template_hole 13, template_var 0),
                             template_hole 12))),
                       template_app
                        (template_app
                          (template_hole 19,
                           template_app
                            (template_app
                              (template_hole 18, template_var 2),
                             template_var 1)),
                         template_hole 17)))),
                 template_app
                  (template_app
                    (template_app
                      (template_hole 15,
                       template_app
                        (template_app
                          (template_hole 11,
                           template_app
                            (template_app
                              (template_hole 10,
                               template_app
                                (template_hole 9,
                                 template_app
                                  (template_hole 8, template_hole 7))),
                             template_app
                              (template_app
                                (template_hole 6, template_var 1),
                               template_var 2))),
                         template_app
                          (template_app
                            (template_hole 11,
                             template_app
                              (template_app
                                (template_hole 5, template_var 2),
                               template_var 1)),
                           template_app
                            (template_app
                              (template_hole 4, template_hole 17),
                             template_app
                              (template_app
                                (template_hole 18, template_var 0),
                               template_var 1))))),
                     template_app
                      (template_app (template_hole 3, template_hole 2),
                       template_app
                        (template_hole 1,
                         template_app (template_hole 8, template_hole 7)))),
                   template_app
                    (template_app
                      (template_hole 3,
                       template_app (template_hole 0, template_hole 2)),
                     template_app
                      (template_hole 1,
                       template_app (template_hole 8, template_hole 7))))),
               template_hole 17)
             )))),
    ("Extended_Sturm.cindex_polyE_product",
     "[| ?a < ?b; poly ?p ?a ~= 0 | poly ?q ?a ~= 0;
         poly ?p ?b ~= 0 | poly ?q ?b ~= 0;
         poly ?r ?a ~= 0 | poly ?s ?a ~= 0;
         poly ?r ?b ~= 0 | poly ?s ?b ~= 0 |]
      ==> cindex_polyE ?a ?b (?p * ?r - ?q * ?s) (?p * ?s + ?q * ?r) =
          cindex_polyE ?a ?b ?p ?q + cindex_polyE ?a ?b ?r ?s -
          real_of_int (cross_alt (?p * ?s + ?q * ?r) (?q * ?s) ?a ?b) / 2",
     template_implication
      ([template_inequation (less_than, template_var 5, template_var 4),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 16,
                template_app
                 (template_hole 15,
                  template_app
                   (template_app
                     (template_hole 14,
                      template_app
                       (template_app (template_hole 13, template_var 3),
                        template_var 5)),
                    template_hole 12))),
              template_app
               (template_hole 15,
                template_app
                 (template_app
                   (template_hole 14,
                    template_app
                     (template_app (template_hole 13, template_var 2),
                      template_var 5)),
                  template_hole 12)))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 16,
                template_app
                 (template_hole 15,
                  template_app
                   (template_app
                     (template_hole 14,
                      template_app
                       (template_app (template_hole 13, template_var 3),
                        template_var 4)),
                    template_hole 12))),
              template_app
               (template_hole 15,
                template_app
                 (template_app
                   (template_hole 14,
                    template_app
                     (template_app (template_hole 13, template_var 2),
                      template_var 4)),
                  template_hole 12)))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 16,
                template_app
                 (template_hole 15,
                  template_app
                   (template_app
                     (template_hole 14,
                      template_app
                       (template_app (template_hole 13, template_var 1),
                        template_var 5)),
                    template_hole 12))),
              template_app
               (template_hole 15,
                template_app
                 (template_app
                   (template_hole 14,
                    template_app
                     (template_app (template_hole 13, template_var 0),
                      template_var 5)),
                  template_hole 12)))
            ),
        template_predicate
         (
            template_app
             (template_app
               (template_hole 16,
                template_app
                 (template_hole 15,
                  template_app
                   (template_app
                     (template_hole 14,
                      template_app
                       (template_app (template_hole 13, template_var 1),
                        template_var 4)),
                    template_hole 12))),
              template_app
               (template_hole 15,
                template_app
                 (template_app
                   (template_hole 14,
                    template_app
                     (template_app (template_hole 13, template_var 0),
                      template_var 4)),
                  template_hole 12)))
            )],
       template_equation
        (template_app
          (template_app
            (template_app
              (template_app (template_hole 11, template_var 5),
               template_var 4),
             template_app
              (template_app
                (template_hole 10,
                 template_app
                  (template_app (template_hole 9, template_var 3),
                   template_var 1)),
               template_app
                (template_app (template_hole 9, template_var 2),
                 template_var 0))),
           template_app
            (template_app
              (template_hole 8,
               template_app
                (template_app (template_hole 9, template_var 3),
                 template_var 0)),
             template_app
              (template_app (template_hole 9, template_var 2),
               template_var 1))),
         template_app
          (template_app
            (template_hole 7,
             template_app
              (template_app
                (template_hole 6,
                 template_app
                  (template_app
                    (template_app
                      (template_app (template_hole 11, template_var 5),
                       template_var 4),
                     template_var 3),
                   template_var 2)),
               template_app
                (template_app
                  (template_app
                    (template_app (template_hole 11, template_var 5),
                     template_var 4),
                   template_var 1),
                 template_var 0))),
           template_app
            (template_app
              (template_hole 5,
               template_app
                (template_hole 4,
                 template_app
                  (template_app
                    (template_app
                      (template_app
                        (template_hole 3,
                         template_app
                          (template_app
                            (template_hole 8,
                             template_app
                              (template_app
                                (template_hole 9, template_var 3),
                               template_var 0)),
                           template_app
                            (template_app (template_hole 9, template_var 2),
                             template_var 1))),
                       template_app
                        (template_app (template_hole 9, template_var 2),
                         template_var 0)),
                     template_var 5),
                   template_var 4))),
             template_app
              (template_hole 2,
               template_app (template_hole 1, template_hole 0))))))),
    ("Extended_Sturm.cindexP_lineE_code",
     "cindexP_lineE ?p ?a ?b =
      (if ?p ~= 0 & ?a ~= ?b
       then let p1 = ?p \<circ>\<^sub>p [:?a, ?b - ?a:];
                pR1 = map_poly Re p1; pI1 = map_poly Im p1;
                gc1 = gcd pR1 pI1
            in real_of_int
                (changes_alt_itv_smods 0 1 (pR1 div gc1) (pI1 div gc1)) /
               2
       else Code.abort STR ''cindexP_lineE fails for now''
             (%_. cindexP_lineE ?p ?a ?b))",
     template_implication
      ([template_predicate
         (
            template_app
             (template_app
               (template_app (template_hole 29, template_var 2),
                template_var 1),
              template_var 0)
            )],
       template_predicate
        (
           template_app
            (template_app
              (template_app
                (template_hole 28,
                 template_app
                  (template_app
                    (template_hole 27,
                     template_app
                      (template_hole 26,
                       template_app
                        (template_app (template_hole 25, template_var 2),
                         template_hole 24))),
                   template_app
                    (template_hole 26,
                     template_app
                      (template_app (template_hole 23, template_var 1),
                       template_var 0)))),
               template_app
                (template_app
                  (template_hole 22,
                   template_app
                    (template_app (template_hole 21, template_var 2),
                     template_app
                      (template_app (template_hole 20, template_var 1),
                       template_app
                        (template_app
                          (template_hole 20,
                           template_app
                            (template_app
                              (template_hole 19, template_var 0),
                             template_var 1)),
                         template_hole 24)))),
                 t_empty)),
             template_app
              (template_app
                (template_hole 4,
                 template_app
                  (template_app
                    (template_app
                      (template_app
                        (template_app
                          (template_app
                            (template_app
                              (template_app
                                (template_hole 3, template_hole 2),
                               template_hole 2),
                             template_hole 1),
                           template_hole 1),
                         template_hole 1),
                       template_hole 2),
                     template_hole 2),
                   template_app
                    (template_app
                      (template_app
                        (template_app
                          (template_app
                            (template_app
                              (template_app
                                (template_app
                                  (template_hole 3, template_hole 2),
                                 template_hole 1),
                               template_hole 1),
                             template_hole 2),
                           template_hole 1),
                         template_hole 2),
                       template_hole 2),
                     template_app
                      (template_app
                        (template_app
                          (template_app
                            (template_app
                              (template_app
                                (template_app
                                  (template_app
                                    (template_hole 3, template_hole 1),
                                   template_hole 2),
                                 template_hole 2),
                               template_hole 2),
                             template_hole 1),
                           template_hole 2),
                         template_hole 2),
                       template_app
                        (template_app
                          (template_app
                            (template_app
                              (template_app
                                (template_app
                                  (template_app
                                    (template_app
(template_hole 3, template_hole 1),
                                     template_hole 1),
                                   template_hole 2),
                                 template_hole 1),
                               template_hole 1),
                             template_hole 2),
                           template_hole 2),
                         template_app
                          (template_app
                            (template_app
                              (template_app
                                (template_app
                                  (template_app
                                    (template_app
(template_app (template_hole 3, template_hole 2), template_hole 1),
                                     template_hole 2),
                                   template_hole 1),
                                 template_hole 1),
                               template_hole 2),
                             template_hole 2),
                           template_app
                            (template_app
                              (template_app
                                (template_app
                                  (template_app
                                    (template_app
(template_app
  (template_app (template_hole 3, template_hole 1), template_hole 1),
 template_hole 1),
                                     template_hole 2),
                                   template_hole 2),
                                 template_hole 2),
                               template_hole 2),
                             template_app
                              (template_app
                                (template_app
                                  (template_app
                                    (template_app
(template_app
  (template_app
    (template_app (template_hole 3, template_hole 1), template_hole 1),
   template_hole 1),
 template_hole 1),
                                     template_hole 2),
                                   template_hole 1),
                                 template_hole 2),
                               template_app
                                (template_app
                                  (template_app
                                    (template_app
(template_app
  (template_app
    (template_app
      (template_app (template_hole 3, template_hole 2), template_hole 2),
     template_hole 2),
   template_hole 2),
 template_hole 2),
                                     template_hole 1),
                                   template_hole 2),
                                 template_app
                                  (template_app
                                    (template_app
(template_app
  (template_app
    (template_app
      (template_app
        (template_app (template_hole 3, template_hole 1), template_hole 1),
       template_hole 2),
     template_hole 2),
   template_hole 1),
 template_hole 2),
                                     template_hole 2),
                                   template_app
                                    (template_app
(template_app
  (template_app
    (template_app
      (template_app
        (template_app
          (template_app (template_hole 3, template_hole 2),
           template_hole 1),
         template_hole 1),
       template_hole 2),
     template_hole 1),
   template_hole 2),
 template_hole 2),
                                     template_app
(template_app
  (template_app
    (template_app
      (template_app
        (template_app
          (template_app
            (template_app (template_hole 3, template_hole 1),
             template_hole 2),
           template_hole 2),
         template_hole 2),
       template_hole 1),
     template_hole 2),
   template_hole 2),
 template_app
  (template_app
    (template_app
      (template_app
        (template_app
          (template_app
            (template_app
              (template_app (template_hole 3, template_hole 2),
               template_hole 1),
             template_hole 2),
           template_hole 1),
         template_hole 1),
       template_hole 2),
     template_hole 2),
   template_app
    (template_app
      (template_app
        (template_app
          (template_app
            (template_app
              (template_app
                (template_app (template_hole 3, template_hole 2),
                 template_hole 1),
               template_hole 2),
             template_hole 1),
           template_hole 1),
         template_hole 1),
       template_hole 2),
     template_app
      (template_app
        (template_app
          (template_app
            (template_app
              (template_app
                (template_app
                  (template_app (template_hole 3, template_hole 1),
                   template_hole 1),
                 template_hole 1),
               template_hole 1),
             template_hole 1),
           template_hole 2),
         template_hole 1),
       template_app
        (template_app
          (template_app
            (template_app
              (template_app
                (template_app
                  (template_app
                    (template_app (template_hole 3, template_hole 1),
                     template_hole 2),
                   template_hole 2),
                 template_hole 1),
               template_hole 1),
             template_hole 2),
           template_hole 2),
         template_app
          (template_app
            (template_app
              (template_app
                (template_app
                  (template_app
                    (template_app
                      (template_app (template_hole 3, template_hole 2),
                       template_hole 1),
                     template_hole 1),
                   template_hole 1),
                 template_hole 1),
               template_hole 2),
             template_hole 2),
           template_app
            (template_app
              (template_app
                (template_app
                  (template_app
                    (template_app
                      (template_app
                        (template_app (template_hole 3, template_hole 2),
                         template_hole 1),
                       template_hole 1),
                     template_hole 2),
                   template_hole 1),
                 template_hole 2),
               template_hole 2),
             template_app
              (template_app
                (template_app
                  (template_app
                    (template_app
                      (template_app
                        (template_app
                          (template_app (template_hole 3, template_hole 1),
                           template_hole 1),
                         template_hole 2),
                       template_hole 2),
                     template_hole 1),
                   template_hole 2),
                 template_hole 2),
               template_app
                (template_app
                  (template_app
                    (template_app
                      (template_app
                        (template_app
                          (template_app
                            (template_app
                              (template_hole 3, template_hole 2),
                             template_hole 2),
                           template_hole 1),
                         template_hole 1),
                       template_hole 2),
                     template_hole 2),
                   template_hole 2),
                 template_app
                  (template_app
                    (template_app
                      (template_app
                        (template_app
                          (template_app
                            (template_app
                              (template_app
                                (template_hole 3, template_hole 1),
                               template_hole 1),
                             template_hole 1),
                           template_hole 1),
                         template_hole 1),
                       template_hole 2),
                     template_hole 1),
                   template_app
                    (template_app
                      (template_app
                        (template_app
                          (template_app
                            (template_app
                              (template_app
                                (template_app
                                  (template_hole 3, template_hole 1),
                                 template_hole 2),
                               template_hole 2),
                             template_hole 1),
                           template_hole 1),
                         template_hole 2),
                       template_hole 2),
                     template_app
                      (template_app
                        (template_app
                          (template_app
                            (template_app
                              (template_app
                                (template_app
                                  (template_app
                                    (template_hole 3, template_hole 2),
                                   template_hole 2),
                                 template_hole 2),
                               template_hole 2),
                             template_hole 1),
                           template_hole 2),
                         template_hole 2),
                       template_app
                        (template_app
                          (template_app
                            (template_app
                              (template_app
                                (template_app
                                  (template_app
                                    (template_app
(template_hole 3, template_hole 1),
                                     template_hole 2),
                                   template_hole 1),
                                 template_hole 1),
                               template_hole 2),
                             template_hole 2),
                           template_hole 2),
                         template_app
                          (template_app
                            (template_app
                              (template_app
                                (template_app
                                  (template_app
                                    (template_app
(template_app (template_hole 3, template_hole 1), template_hole 1),
                                     template_hole 1),
                                   template_hole 1),
                                 template_hole 1),
                               template_hole 2),
                             template_hole 1),
                           template_app
                            (template_app
                              (template_app
                                (template_app
                                  (template_app
                                    (template_app
(template_app
  (template_app (template_hole 3, template_hole 1), template_hole 2),
 template_hole 2),
                                     template_hole 2),
                                   template_hole 1),
                                 template_hole 2),
                               template_hole 2),
                             template_app
                              (template_app
                                (template_app
                                  (template_app
                                    (template_app
(template_app
  (template_app
    (template_app (template_hole 3, template_hole 2), template_hole 2),
   template_hole 2),
 template_hole 2),
                                     template_hole 1),
                                   template_hole 2),
                                 template_hole 2),
                               template_app
                                (template_app
                                  (template_app
                                    (template_app
(template_app
  (template_app
    (template_app
      (template_app (template_hole 3, template_hole 2), template_hole 2),
     template_hole 2),
   template_hole 1),
 template_hole 2),
                                     template_hole 2),
                                   template_hole 2),
                                 template_hole
                                  0)))))))))))))))))))))))))))),
               t_empty))
           )))]
